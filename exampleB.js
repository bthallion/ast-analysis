/*
 blackduck.hub v3.5.1
 (c) 2016 Blackduck Software, Inc
 08-02-2017
 */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=fa.type(a);return"function"!==c&&!fa.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(pa.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return fa.each(a.match(va)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),fa.ready()}function h(){this.expando=fa.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ca,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ba.test(c)?fa.parseJSON(c):c)}catch(a){}Aa.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return fa.css(a,b,"")},i=h(),j=c&&c[3]||(fa.cssNumber[b]?"":"px"),k=(fa.cssNumber[b]||"px"!==j&&+i)&&Ea.exec(fa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,fa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;c<d;c++)za.set(a[c],"globalEval",!b||za.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;p<q;p++)if(f=a[p],f||0===f)if("object"===fa.type(f))fa.merge(o,f.nodeType?[f]:f);else if(La.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ia.exec(f)||["",""])[1].toLowerCase(),i=Ka[h]||Ka._default,g.innerHTML=i[1]+fa.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;fa.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&fa.inArray(f,d)>-1)e&&e.push(f);else if(j=fa.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ja.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=o;else if(!e)return a;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),a.each(function(){fa.event.add(this,b,e,d,c)})}function r(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(za.hasData(a)&&(f=za.access(a),g=za.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)fa.event.add(b,e,j[e][c])}Aa.hasData(a)&&(h=Aa.access(a),i=fa.extend({},h),Aa.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ha.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=fa.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Ra.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=fa.map(k(e,"script"),s),h=g.length;l<n;l++)i=e,l!==o&&(i=fa.clone(i,!0,!0),h&&fa.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,fa.map(g,t),l=0;l<h;l++)i=g[l],Ja.test(i.type||"")&&!za.access(i,"globalEval")&&fa.contains(j,i)&&(i.src?fa._evalUrl&&fa._evalUrl(i.src):fa.globalEval(i.textContent.replace(Ta,"")))}return a}function x(a,b,c){for(var d,e=b?fa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||fa.cleanData(k(d)),d.parentNode&&(c&&fa.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Va[a];return c||(c=y(a,b),"none"!==c&&c||(Ua=(Ua||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ua[0].contentDocument,b.write(),b.close(),c=y(a,b),Ua.detach()),Va[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Ya(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),c&&!da.pixelMarginRight()&&Xa.test(g)&&Wa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in db)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=cb.length;c--;)if(a=cb[c]+b,a in db)return a}function D(a,b,c){var d=Ea.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=fa.css(a,c+Fa[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Fa[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Fa[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Fa[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Fa[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ya(a),g="border-box"===fa.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=A(a,b,f),(e<0||null==e)&&(e=a.style[b]),Xa.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=za.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ga(d)&&(f[g]=za.access(d,"olddisplay",z(d.nodeName)))):(e=Ga(d),"none"===c&&e||za.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){eb=void 0}),eb=fa.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Fa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ga(a),p=za.get(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k="none"===j?za.get(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===fa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}else j=void 0;if(fa.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=za.access(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;za.remove(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=eb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{},easing:fa.easing._default},c),originalProperties:b,originalOptions:c,startTime:eb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);f<g;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return fa.isFunction(d.stop)&&(fa._queueHooks(j.elem,j.opts.queue).stop=fa.proxy(d.stop,d)),d;return fa.map(k,K,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(va)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ab;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&fa.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Eb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea="2.2.4",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return fa.each(this,a)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(fa.isPlainObject(d)||(e=fa.isArray(d)))?(e?(e=!1,f=c&&fa.isArray(c)?c:[]):f=c&&fa.isPlainObject(c)?c:{},g[b]=fa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!fa.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ca.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),fa.isFunction(a))return d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||fa.guid++,e},now:Date.now,support:da}),"function"==typeof Symbol&&(fa.fn[Symbol.iterator]=W[Symbol.iterator]),fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);
    return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.uniqueSort=fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&fa(a).is(c))break;d.push(a)}return d},ma=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},na=fa.expr.match.needsContext,oa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;b<c;b++)if(fa.contains(e[b],this))return!0}));for(b=0;b<c;b++)fa.find(a,e[b],d);return d=this.pushStack(c>1?fa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&na.test(a)?fa(a):a||[],!1).length}});var qa,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sa=fa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||qa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ra.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),oa.test(d[1])&&fa.isPlainObject(b))for(d in b)fa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?void 0!==c.ready?c.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};sa.prototype=fa.fn,qa=fa(X);var ta=/^(?:parents|prev(?:Until|All))/,ua={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(fa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=na.test(a)||"string"!=typeof a?fa(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(fa(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.uniqueSort(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return ma((a.parentNode||{}).firstChild,a)},children:function(a){return ma(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ua[a]||fa.uniqueSort(e),ta.test(a)&&e.reverse()),this.pushStack(e)}});var va=/\S+/g;fa.Callbacks=function(a){a="string"==typeof a?f(a):fa.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){fa.each(c,function(c,d){fa.isFunction(d)?a.unique&&k.has(d)||g.push(d):d&&d.length&&"string"!==fa.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?fa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(X,[fa]),fa.fn.triggerHandler&&(fa(X).triggerHandler("ready"),fa(X).off("ready"))))}}),fa.ready.promise=function(b){return wa||(wa=fa.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(fa.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),wa.promise(b)},fa.ready.promise();var xa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)xa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},ya=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!ya(a))return{};var b=a[this.expando];return b||(b={},ya(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,fa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{fa.isArray(b)?d=b.concat(b.map(fa.camelCase)):(e=fa.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(va)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||fa.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!fa.isEmptyObject(b)}};var za=new h,Aa=new h,Ba=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ca=/[A-Z]/g;fa.extend({hasData:function(a){return Aa.hasData(a)||za.hasData(a)},data:function(a,b,c){return Aa.access(a,b,c)},removeData:function(a,b){Aa.remove(a,b)},_data:function(a,b,c){return za.access(a,b,c)},_removeData:function(a,b){za.remove(a,b)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Aa.get(f),1===f.nodeType&&!za.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d])));za.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Aa.set(this,a)}):xa(this,function(b){var c,d;if(f&&void 0===b){if(c=Aa.get(f,a)||Aa.get(f,a.replace(Ca,"-$&").toLowerCase()),void 0!==c)return c;if(d=fa.camelCase(a),c=Aa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else d=fa.camelCase(a),this.each(function(){var c=Aa.get(this,d);Aa.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Aa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Aa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=za.get(a,b),c&&(!d||fa.isArray(c)?d=za.access(a,b,fa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return za.get(a,c)||za.access(a,c,{empty:fa.Callbacks("once memory").add(function(){za.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=za.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Fa=["Top","Right","Bottom","Left"],Ga=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i,Ia=/<([\w:-]+)/,Ja=/^$|\/(?:java|ecma)script/i,Ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ka.optgroup=Ka.option,Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead,Ka.th=Ka.td;var La=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ma=/^key/,Na=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=/^([^.]*)(?:\.(.+)|)/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=fa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof fa&&fa.event.triggered!==b.type?fa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],j=b.length;j--;)h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=fa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=fa.event.special[n]||{},k=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),fa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.hasData(a)&&za.get(a);if(q&&(i=q.events)){for(b=(b||"").match(va)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&za.remove(a,"handle events")}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(za.get(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((fa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?fa(e,this).index(i)>-1:fa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&fa.nodeName(this,"input"))return this.click(),!1},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?n:o):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={constructor:fa.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||fa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.fn.extend({on:function(a,b,c,d){return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=o),this.each(function(){fa.event.remove(this,a,c,b)})}});var Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qa=/<script|<style|<link/i,Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^true\/(.*)/,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fa.extend({htmlPrefilter:function(a){return a.replace(Pa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;d<e;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;d<e;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=fa.event.special,f=0;void 0!==(c=a[f]);f++)if(ya(c)){if(b=c[za.expando]){if(b.events)for(d in b.events)e[d]?fa.event.remove(c,d):fa.removeEvent(c,d,b.handle);c[za.expando]=void 0}c[Aa.expando]&&(c[Aa.expando]=void 0)}}}),fa.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return xa(this,function(a){return void 0===a?fa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return xa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Qa.test(a)&&!Ka[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=fa.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;fa.inArray(this,a)<0&&(fa.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Ua,Va={HTML:"block",BODY:"block"},Wa=/^margin/,Xa=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Ya=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Za=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},$a=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",$a.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,$a.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),fa.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",$a.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),$a.removeChild(g),h.removeChild(c),b}}))}();var _a=/^(none|table(?!-c[ea]).+)/,ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},cb=["Webkit","O","Moz","ms"],db=X.createElement("div").style;fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ea.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(fa.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in bb&&(e=bb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){if(c)return _a.test(fa.css(a,"display"))&&0===a.offsetWidth?Za(a,ab,function(){return F(a,b,d)}):F(a,b,d)},set:function(a,c,d){var e,f=d&&Ya(a),g=d&&E(a,b,d,"border-box"===fa.css(a,"boxSizing",!1,f),f);return g&&(e=Ea.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=fa.css(a,b)),D(a,c,g)}}}),fa.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){if(b)return(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Za(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),fa.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){if(b)return Za(a,{display:"inline-block"},A,[a,"marginRight"])}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Fa[d]+b]=f[d]||f[d-2]||f[0];return e}},Wa.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return xa(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=Ya(a),e=b.length;g<e;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ga(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||fa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[fa.cssProps[a.prop]]&&!fa.cssHooks[a.prop]?a.elem[a.prop]=a.now:fa.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},fa.fx=H.prototype.init,fa.fx.step={};var eb,fb,gb=/^(?:toggle|show|hide)$/,hb=/queueHooks$/;fa.Animation=fa.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var c,d=0,e=a.length;d<e;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ga).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=N(this,fa.extend({},a),f);(e||za.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=za.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=za.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),fa.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=0,c=fa.timers;for(eb=fa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||fa.fx.stop(),eb=void 0},fa.fx.timer=function(a){
    fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){fb||(fb=a.setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){a.clearInterval(fb),fb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(b,c){return b=fa.fx?fa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var ib,jb=fa.expr.attrHandle;fa.fn.extend({attr:function(a,b){return xa(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),e=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void fa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=fa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(va);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||fa.find.attr;jb[b]=function(a,b,d){var e,f;return d||(f=jb[b],jb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,jb[b]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return xa(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})}}),fa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&fa.isXMLDoc(a)||(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});var mb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=fa(this),f=a.match(va)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=O(this),b&&za.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":za.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(mb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.trim(fa.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){if(fa.isArray(b))return a.checked=fa.inArray(fa(a).val(),b)>-1}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;fa.extend(fa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!pb.test(n+fa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),l=fa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!fa.isWindow(d)){for(i=l.delegateType||n,pb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(za.get(g,"events")||{})[b.type]&&za.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ya(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ya(d)||j&&fa.isFunction(d[n])&&!fa.isWindow(d)&&(h=d[j],h&&(d[j]=null),fa.event.triggered=n,d[n](),fa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=fa.extend(new fa.Event,c,{type:a,isSimulated:!0});fa.event.trigger(d,null,b)}}),fa.fn.extend({trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return fa.event.trigger(a,b,c,!0)}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a))};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=za.access(d,b);e||d.addEventListener(a,c,!0),za.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=za.access(d,b)-1;e?za.access(d,b,e):(d.removeEventListener(a,c,!0),za.remove(d,b))}}});var qb=a.location,rb=fa.now(),sb=/\?/;fa.parseJSON=function(a){return JSON.parse(a+"")},fa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+b),c};var tb=/#.*$/,ub=/([?&])_=[^&]*/,vb=/^(.*?):[ \t]*([^\r\n]*)$/gm,wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xb=/^(?:GET|HEAD)$/,yb=/^\/\//,zb={},Ab={},Bb="*/".concat("*"),Cb=X.createElement("a");Cb.href=qb.href,fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:wb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,fa.ajaxSettings),b):R(fa.ajaxSettings,a)},ajaxPrefilter:P(zb),ajaxTransport:P(Ab),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=vb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||qb.href)+"").replace(tb,"").replace(yb,qb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(va)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Cb.protocol+"//"+Cb.host!=j.protocol+"//"+j.host}catch(a){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),Q(zb,m,c,w),2===u)return w;k=fa.event&&m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!xb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(sb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=ub.test(f)?f.replace(ub,"$1_="+rb++):f+(sb.test(f)?"&":"?")+"_="+rb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(Ab,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax(fa.extend({url:a,type:b,dataType:e,data:c,success:d},fa.isPlainObject(a)&&a))}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return!fa.expr.filters.visible(a)},fa.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Db=/%20/g,Eb=/\[\]$/,Fb=/\r?\n/g,Gb=/^(?:submit|button|image|reset|file)$/i,Hb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Db,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Hb.test(this.nodeName)&&!Gb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Ib={0:200,1223:204},Jb=fa.ajaxSettings.xhr();da.cors=!!Jb&&"withCredentials"in Jb,da.ajax=Jb=!!Jb,fa.ajaxTransport(function(b){var c,d;if(da.cors||Jb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ib[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Kb=[],Lb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kb.pop()||fa.expando+"_"+rb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Lb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Lb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?fa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Kb.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||X;var d=oa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var Mb=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&Mb)return Mb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=fa.trim(a.slice(h)),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&fa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,fa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||$a})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;fa.fn[a]=function(d){return xa(this,function(a,d,e){var f=V(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=B(da.pixelPosition,function(a,c){if(c)return c=A(a,b),Xa.test(c)?fa(a).position()[b]+"px":c})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return xa(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var Nb=a.jQuery,Ob=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=Ob),b&&a.jQuery===fa&&(a.jQuery=Nb),fa},b||(a.jQuery=a.$=fa),fa});var requirejs,require,define;!function(global,setTimeout){function commentReplace(a,b){return b||""}function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){!c&&hasProp(a,e)||(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName)return b.parentNode.removeChild(b),!0})}function e(a){var b=getOwn(x.paths,a);if(b&&isArray(b)&&b.length>1)return b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):a.indexOf("!")===-1?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(each(globalDefQueue,function(a){var b=a[0];"string"==typeof b&&(u.defQueueMap[b]=!0),B.push(a)}),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}u.defQueueMap={}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){if(a.usingExports=!0,a.map.isDefine)return a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(b){a=b}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;if(this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad)){var g=[];each(this.depMaps,function(a){g.push(a.normalizedMap||a)}),req.onResourceLoad(u,this.map,g)}l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(u.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.map.normalizedMap=f,this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(a){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+a,a,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",bind(this,this.errback)):this.events.error&&i(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,defQueueMap:{},Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){if(a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/"),"string"==typeof a.urlArgs){var b=a.urlArgs;a.urlArgs=function(a,c){return(c.indexOf("?")===-1?"?":"&")+b}}var c=x.shim,d={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){d[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){
    each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,b){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),c[b]=a}),x.shim=c),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b,null,!0))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return e!==-1&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);e.undefed=!0,d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),delete u.defQueueMap[a],e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(u.defQueueMap={},d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|^blob\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs&&!/^blob\:/.test(h)?h+x.urlArgs(a,h):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);if(!e(b.id)){var c=[];return eachProp(y,function(a,d){0!==d.indexOf("_@r")&&each(a.depMaps,function(a){if(a.id===b.id)return c.push(d),!0})}),j(makeError("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){if("interactive"===a.readyState)return interactiveScript=a}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.3.2",commentRegExp=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a,b,c){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,e.onNodeCreated&&e.onNodeCreated(d,e,b,c),currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{setTimeout(function(){},0),importScripts(c),a.completeLoad(b)}catch(d){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,d,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){if(head||(head=a.parentNode),dataMain=a.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||mainScript.indexOf("!")!==-1||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,commentReplace).replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),e?(e.defQueue.push([a,b,c]),e.defQueueMap[a]=!0):globalDefQueue.push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this,"undefined"==typeof setTimeout?void 0:setTimeout),this.JST=this.JST||{},this.JST["#admin-exts-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-plug fa-flip-horizontal" title="'+__e(i18n("app.modules.admin.extensions.label.pl"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.admin.extensions.label.pl",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.admin.extensions.description",null))+"</div></div></div>";return __p},this.JST["#admin-exts-authorized-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.authenticated?__e(i18n("app.modules.common.Yes",null)):'<div class="text-danger">'+__e(i18n("app.modules.common.No",null))+"</div>";return __p},this.JST["#admin-exts-create-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-12"><p>'+__e(i18n("app.modules.admin.extensions.create.header.1",null))+__e(i18n("app.modules.admin.extensions.create.header.2",null))+"</p></div></div>";return __p},this.JST["#admin-exts-delete-confirm"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.admin.extensions.delete.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.admin.extensions.delete.confirm",null))+'</p><p class="text-align"><strong>'+(null==(__t=obj.name)?"":__t)+"</strong></p><p>"+__e(i18n("app.modules.admin.extensions.delete.warning",null))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#admin-exts-details"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-5"><div class="region-form-header"><h3>'+__e(i18n("app.modules.admin.extensions.details.title",null))+"</h3></div><p><strong>"+__e(i18n("app.modules.common.description",null))+"</strong><br/>"+(null==(__t=obj.description)?"":__t)+"</p><p><strong>"+__e(i18n("app.modules.labels.infoUrl",null))+"</strong><br/>"+(null==(__t=obj.infoUrl)?"":__t)+"</p>",__p+=obj.authenticated?"<!--pstrong\n    | Extension Authorization\nbr\n.alert.alert-info\n    p\n        | The extension is able to access information on the Hub.  If you'd like to suspend the authorization\n        | without deleting the extension configuration, you can revoke it's authorization.\n    p.text-center\n        button.btn.btn-danger\n            | Revoke Authorization\n-->":"<p><strong>"+__e(i18n("app.modules.admin.extensions.authorize.title",null))+'</strong><div class="alert alert-info"><p>'+__e(i18n("app.modules.admin.extensions.authorize.desc1",null))+"</p><p>"+__e(i18n("app.modules.admin.extensions.authorize.desc2",null))+'</p><p class="text-center"><button class="btn btn-primary js-authenticate" type="button"><span class="fa fa-plug"></span>'+__e(i18n("app.modules.admin.extensions.authorize.title",null))+"</button></p></div></p>",__p+="<p><strong>"+__e(i18n("app.modules.admin.extensions.delete.title",null))+'</strong><br/><div class="alert alert-danger alert-outline"><p>'+__e(i18n("app.modules.admin.extensions.delete.info",null))+'</p><p class="text-center"><button class="btn btn-danger js-delete-extension"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.admin.extensions.delete.title",null))+'</button></p></div></p></div><div class="col-sm-7 region-global-config"></div></div></div>';return __p},this.JST["#admin-exts-extension-name-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e(obj._meta.href)+'">'+(null==(__t=obj.name)?"":__t)+"</a>";return __p},this.JST["#admin-exts-extensions-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown pull-right"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li class="view-details-ext"><a href="'+__e(obj._meta.href)+'">'+__e(i18n("app.modules.common.viewDetails",null))+'</a></li><li class="authenticate-ext hidden"><a>'+__e(i18n("app.modules.common.authorize",null))+'</a></li><li class="divider"></li><li class="delete-ext"><a>'+__e(i18n("app.modules.common.button.delete",null))+"</a></li></ul></div>";return __p},this.JST["#admin-exts-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-plug"></span></div></div></div><h1>',__p+=obj.name?'<small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+'</a>&nbsp; / &nbsp;<a href="#admin/extensions">'+__e(i18n("app.modules.admin.extensions.label.pl",null))+"</a></small>"+(null==(__t=obj.name)?"":__t)+"\n":'<small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+"</a></small>"+__e(i18n("app.modules.admin.extensions.label.pl",null)),__p+='</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#admin-exts-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-12"><div class="js-server-response alert alert-dismissible" role="alert"></div></div></div><div class="row row-equal-height"><div class="col-sm-7 col-sm-offset-1"><div class="alert alert-info" role="alert"><div class="create-extension-form"></div></div></div><div class="col-sm-3"><div class="alert alert-info github-extension-info" role="alert"><p>'+(null==(__t=i18n("app.modules.admin.extensions.github.info.1"))?"":__t)+"</p><p>"+(null==(__t=i18n("app.modules.admin.extensions.github.info.2"))?"":__t)+'</p><p class="text-right">'+(null==(__t=i18n("app.modules.admin.extensions.github.info.3"))?"":__t)+'</p><span class="fa fa-github fa-3x"></span></div></div></div><div class="row"><div class="col-sm-10 col-sm-offset-1"><div class="admin-extensions-table sticky-table"></div></div></div></div>';return __p},this.JST["#admin-groups-admin-item-meta"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="text-muted">'+(null==(__t=i18n("app.modules.userGroups.groupCount",{groupCount:getNumberOfGroups()},getNumberOfGroups()))?"":__t)+"</span>";return __p},this.JST["#admin-groups-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-users" title="'+__e(i18n("app.modules.common.header.admin.groups.label"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.common.header.admin.groups.label",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.common.header.admin.groups.description",null))+'<br/><small class="meta-info-region"></small></div></div></div>';return __p},this.JST["#admin-groups-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.userGroups.deleteGroup",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.userGroups.confirmRemove",{groupName:name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#admin-groups-gravatar-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<img class="profile-image" src="'+__e(gravatar.getGravatarUrl(obj.user.email,24))+'" width="24" height="24" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/>';return __p},this.JST["#admin-groups-group-details-footer"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-9 col-md-offset-3"><button class="btn btn-danger js-delete-group-button pull-left"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.userGroups.deleteGroup",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></div>";return __p},this.JST["#admin-groups-group-name-cell-inactive"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="text-muted" href="'+__e("#admin/groups/"+obj.id)+'" title="'+(null==(__t=obj.targetAttribute)?"":__t)+'">'+(null==(__t=obj.targetAttribute)?"":__t)+"</a>";return __p},this.JST["#admin-groups-group-name-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#admin/groups/"+obj.id)+'" title="'+__e(obj.targetAttribute)+'">'+(null==(__t=obj.targetAttribute)?"":__t)+"</a>";return __p},this.JST["#admin-groups-group-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div id="admin-group-actions"></div><section id="admin-group-details"></section><section id="admin-group-roles"></section><section id="admin-group-members"></section></div></div></div>';return __p},this.JST["#admin-groups-header-profile"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-users"></span></div></div></div><h1><small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+'</a>&nbsp; / &nbsp;<a href="#admin/groups/">'+__e(i18n("app.modules.common.header.admin.groups.label",null))+"</a></small>"+__e(obj.name)+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#admin-groups-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-users"></span></div></div></div><h1><small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+"</a></small>"+__e(i18n("app.modules.common.header.admin.groups.label",null))+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#admin-groups-ignored-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input class="js-display-inactive filter-select" name="displayInactiveFilter" id="displayInactiveFilter" type="checkbox"/><label class="filter-title" for="displayInactiveFilter">&nbsp;'+__e(i18n("app.modules.admin.groups.list.displayInactive",null))+"</label>";return __p},this.JST["#admin-groups-members-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.admin.userList.delete.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.admin.userList.confirmMessage",{user:name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.removing"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.remove",null))+"</button></div></div></div>";return __p},this.JST["#admin-groups-members"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-section"><div class="region-form-header"><h3>'+__e(i18n("app.modules.userGroups.groupMembers",null))+'</h3></div></div><div class="table-actions"><button class="btn btn-sm btn-primary js-add-member"><span class="fa fa-plus"></span>'+__e(i18n("app.modules.team.members.add.member",null))+'</button></div><div class="js-members-table"></div>';return __p},this.JST["#admin-groups-results-list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-12"><div class="table-actions clearfix sticky-action-bar"><div class="pull-left"><div class="create-group btn-toolbar"><button class="btn btn-primary btn-sm js-create-group" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.userGroups.createGroup",null))+'</span></button></div></div><div class="pull-right"><div class="js-groups-filter ignored-filter pull-right"></div><div class="js-ignored-filter pull-right"></div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="js-admin-groups-table sticky-table"></div></div></div></div>';return __p},this.JST["#admin-groups-state-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<!--used by both group list table and member list table.-->",__p+=obj.user&&obj.user.active||obj.active?'<span class="active-state text-success">'+__e(i18n("common.active",null))+"</span>":'<span class="inactive-state text-danger">'+__e(i18n("common.inactive",null))+"</span>";return __p},this.JST["#admin-groups-user-details-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#admin/users/"+obj.user.id)+'" title="'+__e(obj.targetAttribute)+'">'+__e(obj.targetAttribute)+"</a>";return __p},this.JST["#admin-jobs-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-tasks" title="'+__e(i18n("app.modules.common.header.admin.jobs"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.common.header.admin.jobs",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.common.header.admin.jobs.description",null))+"</div></div></div>";return __p},this.JST["#admin-jobs-chart"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="js-admin-jobs-chart-content"></div>';return __p},this.JST["#admin-jobs-content"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="region-admin-jobs-content-chart"></div><div class="sticky-action-bar" id="region-admin-jobs-content-table-actions"></div><div class="sticky-table" id="region-admin-jobs-content-table"></div>';return __p},this.JST["#admin-jobs-expanded-row-content"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<td colspan="2">'+(null==(__t=getAlert())?"":__t)+'</td><td colspan="3"></td>';return __p},this.JST["#admin-jobs-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header" id="region-admin-jobs-header"></div><div class="container-fluid"><div class="row"><!--#region-admin-jobs-sidebar.col-md-3--><div class="col-md-10 col-md-offset-1" id="region-admin-jobs-content"></div></div></div>';return __p},this.JST["#admin-jobs-sidebar"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">Types</h2><div class="panel-body"><ul class="facets"><li class="search-tab projects"><a href="#">VulnerabilityStatusReportJob<span class="js-count badge pull-right">10</span></a></li><li class="search-tab components"><a href="#">ScanAutoBomJob<span class="js-count badge pull-right">22</span></a></li><li class="search-tab components"><a href="#">ScanPurgeJob<span class="js-count badge pull-right">22</span></a></li></ul></div></div><div class="panel panel-default"><h2 class="panel-heading">Date range</h2><div class="panel-body"><ul class="facets"><li class="search-tab projects"><a href="#">Today<span class="js-count badge pull-right">3</span></a></li><li class="search-tab components"><a href="#">This week<span class="js-count badge pull-right">18</span></a></li><li class="search-tab components"><a href="#">This month<span class="js-count badge pull-right">51</span></a></li><li class="search-tab components"><a href="#">Older<span class="js-count badge pull-right">86</span></a></li></ul></div></div><div class="panel panel-default"><h2 class="panel-heading">Statuses</h2><div class="panel-body"><ul class="facets"><li class="search-tab projects"><a href="#">Scheduled<span class="js-count badge pull-right">23</span></a></li><li class="search-tab components"><a href="#">In progress<span class="js-count badge pull-right">5</span></a></li><li class="search-tab components"><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;Dispatched<span class="js-count badge pull-right">3</span></a></li><li class="search-tab components"><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;Running<span class="js-count badge pull-right">2</span></a></li><li class="search-tab components"><a href="#">Finished<span class="js-count badge pull-right">21</span></a></li><li class="search-tab components"><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;Terminated<span class="js-count badge pull-right">11</span></a></li><li class="search-tab components"><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;Failed<span class="js-count badge pull-right">4</span></a></li><li class="search-tab components"><a href="#">&nbsp;&nbsp;&nbsp;&nbsp;Completed<span class="js-count badge pull-right">6</span></a></li></ul></div></div>';return __p},this.JST["#admin-jobs-table-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="actions-btn-main-container js-actions-btn-main-container btn-group"><button class="btn btn-default js-btn-edit btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.edit"))+'"><span class="fa fa-pause"></span>Pause</button><button class="btn btn-default js-btn-unignore btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.versions.bom.unignore"))+'"><span class="fa fa-play"></span>Resume</button><button class="btn btn-default js-btn-ignore btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.versions.bom.ignore"))+'"><span class="fa fa-clock-o"></span>Reschedule</button><button class="btn btn-default js-btn-unignore btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.versions.bom.unignore"))+'"><span class="fa fa-undo"></span>Re-run</button></div>';return __p},this.JST["#admin-jobs-table-duration-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=getDuration())?"":__t;return __p},this.JST["#admin-jobs-table-status-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.errorText?'<div class="label '+__e(obj.getLabelClass())+' status-indicator-cell" title="'+__e(obj.errorText)+'">'+(null==(__t=obj.getLabel())?"":__t)+"</div>":'<div class="label '+__e(obj.getLabelClass())+' status-indicator-cell"><span class="js-status-indicator status-indicator '+(null==(__t=obj.status)?"":__t)+'"></span>'+(null==(__t=obj.getLabel())?"":__t)+"</div>";return __p},this.JST["#admin-jobs-table-type-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=__e(jobSpec.jobType)+"<br/>",jobSpec.entityKey.entityId&&(__p+='<span style="font-size: .9em; color: grey;"><i>'+(null==(__t=getEntityLabel())?"":__t)+"</i></span>");return __p},this.JST["#admin-ldap-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-group test-connection"><label class="col-md-3 control-label">'+__e(i18n("app.modules.admin.ldap.test.testConfigLabel",null))+'</label><div class="col-md-4"><button class="btn btn-primary js-btn-test btn-block" type="submit"><span class="fa fa-flask"></span>'+__e(i18n("app.modules.common.testConnection.action",null))+'</button></div><div class="col-md-5"><div class="js-test-message connection-message"></div></div></div><div class="row"><div class="col-md-9 col-md-offset-3"><div class="test-connection-status"></div><div class="js-ldap-result ldap-result-response hidden"></div></div></div>';return __p},this.JST["#admin-ldap-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-lock" title="'+__e(i18n("app.modules.common.header.admin.ldap"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.common.header.admin.ldap",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.common.header.admin.ldap.description",null))+"</div></div></div>";return __p},this.JST["#admin-ldap-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class="js-server-response js-ldap-messages ldap-messages"></div><section class="js-ldap-form-server"></section><section class="js-ldap-form-user"></section><section class="js-ldap-form-attributes"></section><section class="js-ldap-form-groups"></section><section class="js-ldap-form-test"></section></div></div></div>';return __p},this.JST["#admin-ldap-success-message"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="alert alert-success alert-dismissable" role="alert"><button class="close" type="button" data-dismiss="alert"><span aria-hidden="true">&times;</span></button><strong><span class="fa fa-check"></span>'+__e(title)+"</strong>"+__e(message)+"</div>";return __p},this.JST["#admin-ldap-test-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h3>"+__e(i18n("app.modules.admin.ldap.title.testAuthMap",null))+"<small>"+__e(i18n("app.modules.admin.ldap.test.mappedUserData.instruction",null))+"</small></h3>";return __p},this.JST["#admin-ldap-test-user"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="row">',__p+=firstName.valid?'<div class="col-xs-5 text-success text-right"><span class="fa fa-check text-success"></span>'+__e(i18n("app.modules.admin.ldap.mapping.firstNameLabel",null))+"</div>":'<div class="col-xs-5 text-danger text-right"><span class="fa fa-close text-danger"></span>'+__e(i18n("app.modules.admin.ldap.mapping.firstNameLabel",null))+"</div>",__p+='<div class="col-xs-7">'+(null==(__t=firstName.value)?"":__t)+'</div></div><div class="row">',__p+=lastName.valid?'<div class="col-xs-5 text-success text-right"><span class="fa fa-check text-success"></span>'+__e(i18n("app.modules.admin.ldap.mapping.lastNameLabel",null))+"</div>":'<div class="col-xs-5 text-danger text-right"><span class="fa fa-close text-danger"></span>'+__e(i18n("app.modules.admin.ldap.mapping.lastNameLabel",null))+"</div>",
    __p+='<div class="col-xs-7">'+(null==(__t=lastName.value)?"":__t)+'</div></div><div class="row">',__p+=email.valid?'<div class="col-xs-5 text-success text-right"><span class="fa fa-check text-success"></span>'+__e(i18n("app.modules.labels.email",null))+"</div>":'<div class="col-xs-5 text-danger text-right"><span class="fa fa-close text-danger"></span>'+__e(i18n("app.modules.labels.email",null))+"</div>",__p+='<div class="col-xs-7">'+(null==(__t=email.value)?"":__t)+"</div></div>",ldapGroupSynchronizationEnabled&&(__p+='<div class="row">',__p+=groups.length>0?'<div class="col-xs-5 text-success text-right"><span class="fa fa-check text-success"></span>'+__e(i18n("app.modules.userGroups.groups.label",null))+'</div><div class="col-xs-7">'+(null==(__t=_.pluck(groups,"value").join(", "))?"":__t)+"</div>":'<div class="col-xs-5 text-danger text-right"><span class="fa fa-close text-danger"></span>'+__e(i18n("app.modules.userGroups.groups.label",null))+'</div><div class="col-xs-7">'+__e(i18n("app.modules.admin.ldap.test.noGroups",null))+"</div>",__p+="</div>");return __p},this.JST["#admin-registration-admin-item-meta"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="text-muted">',__p+=isUnlimitedCodebase()?"\n"+(null==(__t=i18n("app.modules.admin.registration.codebase.usageUnlimited",{used:numeral(getUsedCodebaseSize()).format("0.0 b")}))?"":__t)+"\n":"\n"+(null==(__t=i18n("app.modules.admin.registration.codebase.usage",{used:numeral(getUsedCodebaseSize()).format("0.0 b"),total:numeral(getMaxCodebaseSize()).format("0.0 b")}))?"":__t)+'<div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="'+(null==(__t=getUsedCodebaseSize())?"":__t)+'" aria-valuemin="0" aria-valuemax="'+(null==(__t=getMaxCodebaseSize())?"":__t)+'" style="width:'+(null==(__t=getPercentage())?"":__t)+'%;"></div></div>',__p+="</div>",__p+=hasExpirationWarning()?'<em class="text-danger">'+(null==(__t=i18n("app.modules.common.expires",{expirationDate:getExpirationDate()}))?"":__t)+"</em>":'<div class="text-muted">'+(null==(__t=i18n("app.modules.common.expires",{expirationDate:getExpirationDate()}))?"":__t)+"</div>";return __p},this.JST["#admin-registration-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-certificate" title="'+__e(i18n("app.modules.common.header.admin.registration"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.common.header.admin.registration",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.common.header.admin.registration.description",null))+'<br/><small class="meta-info-region"></small></div></div></div>';return __p},this.JST["#admin-registration-features"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="row"><div class="col-md-10 col-md-offset-1"><h2>'+__e(i18n("app.modules.admin.registration.licensing.modulesLicensed",null))+'</h2></div></div><div class="row features">',_.each(_.pairs(registrationFeatures),function(a,b){if(__p+="\n",!_.contains(["REST_API","CONNECT_AND_SHARE","PROJECT_MANAGEMENT","CODE_SEARCH"],a[0])){__p+='<div class="col-md-10 col-md-offset-1">';var c=a[0];__p+="\n";var d=a[1];__p+='<div class="media registration-feature '+__e(d.valid?"licensed":"invalid")+'"><div class="media-left"><i class="'+(null==(__t=getIcon(c))?"":__t)+'"></i></div><div class="media-body"><h4 class="media-heading">'+(null==(__t=getTitle(c))?"":__t)+"\n",__p+="VALID"===d.state?'<div class="label label-success pull-right">'+__e(i18n("app.modules.admin.registration.licensing.status.VALID",null))+"</div>":"EXPIRED"===d.state?'<div class="label label-warning pull-right">'+__e(i18n("app.modules.admin.registration.licensing.status.EXPIRED",null))+"</div>":'<div class="label label-danger pull-right">'+__e(i18n("app.modules.admin.registration.licensing.status.NOT_LICENSED",null))+"</div>",__p+="</h4><p>"+(null==(__t=getDescription(c))?"":__t)+"</p></div></div></div>"}__p+="\n"}),__p+="</div>";return __p},this.JST["#admin-registration-form"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="row"><div class="col-md-5 col-md-offset-1"><label class="control-label" for="registrationId">'+__e(i18n("app.modules.admin.registration.registrationId",null))+'</label></div></div><div class="row"><div class="col-md-5 col-md-offset-1"><form class="form-horizontal" role="form"><div class="'+__e(valid?"has-success":"has-error")+'"><div class="input-group"><div class="feedback-group"><input class="form-control" name="registrationId" tabindex="0" value="'+__e("undefined"!=typeof registrationId?registrationId:"")+'"/><span class="form-control-feedback"><span class="fa '+__e(valid?"fa-check":"fa-times")+'"></span></span></div><div class="input-group-btn"><button class="clearfix btn btn-primary pull-left" type="submit" title="'+__e(i18n("app.modules.common.button.save"))+'">'+__e(i18n("app.modules.common.button.save",null))+'</button></div></div></div></form></div><div class="col-md-1"><button class="btn btn-default js-refresh" type="button"><span class="fa fa-refresh"></span>'+__e(i18n("app.modules.common.button.refresh",null))+'</button></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><p class="help-block">'+(null==(__t=statusHtml)?"":__t)+'</p></div></div><div class="row"><div class="col-md-10 col-md-offset-1"><div class="registration-options"><h2>'+__e(i18n("app.modules.admin.registration.features",null))+"</h2>",hasTypeInfo("USER_LIMIT")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("USER_LIMIT"))+"</p>"),__p+="\n",hasTypeInfo("CUSTOM_PROJECT_LIMIT")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("CUSTOM_PROJECT_LIMIT"))+"</p>"),__p+="\n",hasTypeInfo("PROJECT_RELEASE_LIMIT")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("PROJECT_RELEASE_LIMIT"))+"</p>"),__p+="\n",hasTypeInfo("MANAGED_CODEBASE_BYTES_NEW")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("MANAGED_CODEBASE_BYTES_NEW"))+"</p>"),__p+="\n",hasTypeInfo("DEEP_VULNERABILITY_INTELLIGENCE")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("DEEP_VULNERABILITY_INTELLIGENCE"))+"</p>"),__p+="\n",hasTypeInfo("CODE_LOCATION_LIMIT")&&(__p+='<p class="help-block"><span class="fa fa-check"></span>'+__e(getTypeInfo("CODE_LOCATION_LIMIT"))+"</p>"),__p+="</div></div></div>";return __p},this.JST["#admin-registration-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="js-form registration-form"></div><div class="js-features registration-features container-fluid"></div>';return __p},this.JST["#admin-roles-role"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId=_.uniqueId();__p+='<label class="control-label" for="user-role-'+__e(fieldId)+'"><div class="role-status inline-spinner"></div><input type="checkbox" id="user-role-'+__e(fieldId)+'"/><strong>'+__e(obj.name)+"</strong>",isReadOnly()&&(__p+='<small class="text-muted">&nbsp;('+__e(i18n("app.modules.common.readOnly",null))+")</small>"),__p+='<div class="text-muted">'+__e(obj.description)+"</div></label>"}return __p},this.JST["#admin-roles-roles"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-section"><div class="region-form-header"><h3>'+__e(i18n("app.modules.admin.roles.title",null))+'</h3></div><div class="messages alert alert-dismissible" role="alert"></div><div class="region-form-content" id="roles-list"></div></div>';return __p},this.JST["#admin-settings-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-cog" title="'+__e(i18n("app.modules.admin.settings.title"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.admin.settings.title",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.admin.settings.description",null))+"</div></div></div>";return __p},this.JST["#admin-settings-change-logo"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<td class="setting-label"><label>'+__e(i18n("common.logo"))+"<br/><small>"+__e(i18n("app.modules.admin.settings.logoConstrains"))+'</small></label><div class="admin-change-logo-container"><img src="'+__e(this.bdsHubProxyPrefix)+"/api/internal/logo.png?"+__e(Date.now())+'" height="34"/></div></td><td class="setting-input">',__p+=isCustomLogo()?'<button class="btn btn-link reset-logo-button">'+__e(i18n("common.resetToDefault",null))+"</button>":'<button class="btn btn-link" id="upload-company-logo" name="upload-company-logo"></button><label for="upload-company-logo" id="upload-button">'+__e(i18n("app.modules.admin.settings.uploadLogo"))+'</label><canvas id="company-logo-canvas"></canvas>',__p+="</td>";return __p},this.JST["#admin-settings-generic-upload"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-upload"></span>&nbsp;'+__e(uploadTitle)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="js-file-upload dropzone" id="upload-box" data-tabid="ajaxSubmit" action="/upload" enctype="multipart/form-data"><div id="output-response"></div></form><span class="hidden" id="upload-error">'+__e(i18n("app.modules.common.upload-dialog.uploadFailed",null))+'</span></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" disabled="disabled" type="submit" tabindex="0">'+__e(i18n("app.modules.common.confirm",null))+"</button></div></div></div>";return __p},this.JST["#admin-settings-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-admin-header page-header"></div><div class="container-fluid"><div class="row"><div class="settings col-sm-12 col-md-10 col-md-offset-1"><div class="region-admin-settings"></div></div></div></div>';return __p},this.JST["#admin-settings-logo-upload-preview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="file-row dz-preview dz-file-preview"><div class="admin-change-logo-container"><img data-dz-thumbnail="data-dz-thumbnail" height="34px"/></div><button class="btn btn-link js-cancel-upload" data-dz-remove="data-dz-remove" title="'+__e(i18n("app.modules.common.upload-dialog.cancelUpload"))+'"><span class="fa fa-times-circle"></span></button><div class="text-left"><p class="size no-margin" data-dz-size="data-dz-size"><div class="name" data-dz-name="data-dz-name"></div></p><div class="dz-error-message"><span data-dz-errormessage="data-dz-errormessage"></span></div></div></div>';return __p},this.JST["#admin-settings-logo-upload"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var uploadTitle=i18n("app.modules.labels.uploadLogo");__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-upload"></span>&nbsp;'+__e(uploadTitle)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="js-file-upload dropzone" id="upload-box" data-tabid="ajaxSubmit" action="/upload" enctype="multipart/form-data"><div id="output-response"></div></form><span class="hidden" id="upload-error">'+__e(i18n("app.modules.common.upload-dialog.uploadFailed",null))+'</span></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" disabled="disabled" type="submit" tabindex="0">'+__e(i18n("app.modules.common.confirm",null))+"</button></div></div></div>"}return __p},this.JST["#admin-settings-logs-download"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<td class="setting-label"><label>'+__e(i18n("app.modules.admin.logs.title"))+"<br/><small>"+__e(i18n("app.modules.admin.logs.description"))+'</small></label></td><td class="setting-input"><div class="download-message hide">'+__e(i18n("app.modules.admin.logs.downloadInProgress",null))+'</div><a class="btn btn-primary download-button" href="/download/logszip"><span class="fa fa-download"></span>'+__e(i18n("app.modules.admin.logs.downloadButton",null))+"</a></td>";return __p},this.JST["#admin-settings-settings"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<table class="table admin-settings-table js-settings"><tbody></tbody></table>';return __p},this.JST["#admin-users-admin-item-meta"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<span class="text-muted">'+(null==(__t=i18n("app.modules.admin.users",{userCount:getActiveUsers()},getActiveUsers()))?"":__t)+" /&nbsp;",__p+=isUnlimited()?__e(i18n("app.modules.common.unlimited",null)):"\n"+(null==(__t=i18n("app.modules.admin.users.remaining",{userRemainingCount:getMaxUsers()-getActiveUsers()}))?"":__t)+"\n",__p+="\n",isUnlimited()||(__p+='<div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="'+(null==(__t=getActiveUsers())?"":__t)+'" aria-valuemin="0" aria-valuemax="'+(null==(__t=getMaxUsers())?"":__t)+'" style="width:'+(null==(__t=getPercentage())?"":__t)+'%;"></div></div>'),__p+="</span>";return __p},this.JST["#admin-users-admin-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-fw fa-user" title="'+__e(i18n("app.modules.common.header.admin.users.label"))+'"></span></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.common.header.admin.users.label",null))+'</h2><div class="panel-body admin-card-details">'+__e(i18n("app.modules.common.header.admin.users.description",null))+'<br/><small class="meta-info-region"></small></div></div></div>';return __p},this.JST["#admin-users-delete-user-group-assignments"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.userGroups.deleteGroup",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.userGroups.confirmRemove",{groupName:name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#admin-users-disable-reset"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a disabled="disabled"><span class="fa fa-lock" title="'+__e(i18n("app.modules.errors.disable.password"))+'"></span></a>';return __p},this.JST["#admin-users-gravatar-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<img class="profile-image" src="'+__e(gravatar.getGravatarUrl(obj.email,24))+'" width="24" height="24" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/>';return __p},this.JST["#admin-users-header-profile"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="project-logo"><img class="profile-image" src="'+__e(getProfileImg())+'" width="50" height="50" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/></div></div><h1><small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+'</a>&nbsp; / &nbsp;<a href="#admin/users/">'+__e(i18n("app.modules.common.header.users.list",null))+"</a></small>"+__e(getFullName())+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#admin-users-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-user"></span></div></div></div><h1><small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+"</a></small>"+__e(i18n("app.modules.common.header.users.list",null))+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#admin-users-ignored-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input class="js-display-inactive filter-select" name="displayInactiveFilter" id="displayInactiveFilter" type="checkbox"/><label class="filter-title" for="displayInactiveFilter">&nbsp;'+__e(i18n("app.views.user.list.display.inactive",null))+"</label>";return __p},this.JST["#admin-users-reset-password"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-unlock-alt" title="'+__e(i18n("app.views.resetPassword.title"))+'"></span>';return __p},this.JST["#admin-users-results-list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-12"><div class="js-server-success-container alert alert-success" role="alert"></div><div class="js-server-response alert alert-dismissible" role="alert"></div></div></div><div class="row"><div class="col-sm-12"><div class="table-actions clearfix sticky-action-bar"><div class="pull-left"><div class="btn-toolbar"><button class="btn btn-primary btn-sm js-create-user-btn" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.views.user.list.createUser",null))+'</span></button></div></div><div class="pull-right"><div class="js-users-filter"></div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="admin-users-table sticky-table"></div></div></div></div>';return __p},this.JST["#admin-users-state-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.active?'<span class="active-state text-success">'+__e(i18n("common.active",null))+"</span>":'<span class="inactive-state text-danger">'+__e(i18n("common.inactive",null))+"</span>";return __p},this.JST["#admin-users-user-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="btn-toolbar"><button class="btn btn-default btn-sm js-change-password" type="button"><span class="fa fa-unlock-alt"></span>'+__e(i18n("app.views.resetPassword.title",null))+"</button></div>";return __p},this.JST["#admin-users-user-group-name-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#admin/groups/"+obj._meta.href.substring(obj._meta.href.lastIndexOf("/")+1,obj._meta.href.length))+'" title="'+__e(obj.targetAttribute)+'">'+(null==(__t=obj.targetAttribute)?"":__t)+"</a>";return __p},this.JST["#admin-users-user-groups"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-section"><div class="region-form-header"><h3>'+__e(i18n("app.modules.userGroups.title",null))+'</h3></div><div class="region-form-content"><div class="btn-group table-actions"><button class="btn btn-primary btn-sm btn-add-group" type="button"><span class="fa fa-plus"></span>'+__e(i18n("app.modules.userGroups.addGroup",null))+'</button></div><div class="region-groups"></div></div></div>';return __p},this.JST["#admin-users-user-name-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.model.canRead()?'<a href="'+__e("#admin/users/"+obj.model.getId())+'" title="'+__e(obj.userName)+'">'+__e(obj.userName)+"</a>":"\n"+__e(obj.userName)+"\n";return __p},this.JST["#admin-users-user-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="container-fluid"><div class="row"><div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><div class="js-server-response"></div><div id="admin-user-actions"></div><section id="admin-user-details"></section><section id="admin-user-roles"></section><section id="admin-user-groups"></section></div></div></div>';return __p},this.JST["#admin-card"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="admin-card"><div class="bg-icon"><span class="fa fa-user"></span></div><div class="panel panel-default"><h2 class="panel-heading">Default title</h2><div class="panel-body admin-card-details">Default panel body</div></div></div>';return __p},this.JST["#admin-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa '+__e(getIcon())+'"></span></div></div></div><h1>';var title=getTitle();__p+="\n",__p+=title?'<small class="asset-location"><a href="#admin">'+__e(i18n("app.modules.common.header.administration",null))+"</a></small>"+(null==(__t=title)?"":__t)+"\n":'<div class="no-location">'+__e(i18n("app.modules.common.header.administration",null))+"</div>",__p+='</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>'}return __p},this.JST["#admin-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="js-content container-fluid"></div>';return __p},this.JST["#admin-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="#admin"><span class="fa fa-cogs fa-fw"></span>'+__e(i18n("app.modules.common.header.admin.menuTitle",null))+"</a>";return __p},this.JST["#advanced-filters-available-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(obj.label);return __p},this.JST["#advanced-filters-base-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="filter"><div class="filter-init-error"><div class="label label-danger retry">'+__e(i18n("app.modules.common.retry",null))+'</div></div><button class="btn btn-default dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="'+__e(i18n("app.modules.filters.showFilterDetails"))+'"><div class="label"><span class="label-value">'+__e(obj.label)+'</span><span class="selected-values">'+__e(obj.selectedValuesLabel)+'</span><span class="caret"></span></div><div class="loading-filter-wrapper"></div></button><div class="dropdown-menu"><div class="dropdown-menu-container"></div><div class="apply-filter"><button class="btn btn-primary apply-filter-btn" type="button" aria-label="'+__e(i18n("app.modules.common.button.ok"))+'">'+__e(i18n("app.modules.common.button.ok",null))+'</button></div></div><button class="btn btn-default btn-remove-filter" aria-label="'+__e(i18n("app.modules.common.button.remove"))+'"><span class="fa fa-times"></span></button></div>';return __p},this.JST["#advanced-filters-dynamic-filter-option-group"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="optgroup">'+(null==(__t=obj.html)?"":__t)+"</div>";return __p},this.JST["#advanced-filters-dynamic-filter-selectize-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="option">'+(null==(__t=obj.label)?"":__t)+"</div>";return __p},this.JST["#advanced-filters-dynamic-filter"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="filter"><div class="filter-init-error"><div class="label label-danger retry">'+__e(i18n("app.modules.common.retry",null))+'</div></div><button class="btn btn-default dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="'+__e(i18n("app.modules.filters.showFilterDetails"))+'"><div class="label"><span class="label-value">'+__e(obj.label)+'</span><span class="selected-values">'+__e(obj.selectedValuesLabel)+'</span><span class="caret"></span></div><div class="loading-filter-wrapper"></div></button><div class="dropdown-menu"><div class="dropdown-menu-container"><input class="js-selectize filter-input" name="'+__e(name)+'" type="text"/><label class="sr-only" for="'+__e(name)+'">',"undefined"!=typeof title&&(__p+="\n"+__e(title)+"\n"),__p+='</label></div><div class="apply-filter"><button class="btn btn-primary apply-filter-btn" type="button" aria-label="'+__e(i18n("app.modules.common.button.ok"))+'">'+__e(i18n("app.modules.common.button.ok",null))+'</button></div></div><button class="btn btn-default btn-remove-filter" aria-label="'+__e(i18n("app.modules.common.button.remove"))+'"><span class="fa fa-times"></span></button></div>';return __p},this.JST["#advanced-filters-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="main-container clearfix"><div class="filters-options pull-right"><button class="filter-options-btn btn btn-primary btn-sm dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">'+__e(i18n("app.modules.filters.addFilter",null))+'<b class="caret"></b></button><div class="dropdown-menu-container dropdown-menu"></div></div><div class="filter-default pull-right"><div class="default-filter-container pull-right"><span class="search-icon fa fa-filter"></span><input class="default-filter pull-left" type="search"/><span class="remove-query fa fa-remove"></span></div></div><div class="filters-collection-container pull-right"></div></div>';return __p},this.JST["#advanced-filters-static-filter-value"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input type="checkbox" id="chk-'+__e(getUniqueFieldId())+'" value="'+__e(key)+'"/><label for="chk-'+__e(getUniqueFieldId())+'">'+__e(label)+'</label><ul class="child-items"></ul>';return __p},this.JST["#advanced-filters-static-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="filter"><div class="filter-init-error"><div class="label label-danger retry">'+__e(i18n("app.modules.common.retry",null))+'</div></div><button class="btn btn-default dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false" aria-label="'+__e(i18n("app.modules.filters.showFilterDetails"))+'"><div class="label"><span class="label-value">'+__e(obj.label)+'</span><span class="selected-values">'+__e(obj.selectedValuesLabel)+'</span><span class="caret"></span></div><div class="loading-filter-wrapper"></div></button><div class="dropdown-menu"><div class="dropdown-menu-container"></div><div class="apply-filter"><button class="btn btn-primary apply-filter-btn" type="button" aria-label="'+__e(i18n("app.modules.common.button.ok"))+'">'+__e(i18n("app.modules.common.button.ok",null))+'</button></div></div><button class="btn btn-default btn-remove-filter" aria-label="'+__e(i18n("app.modules.common.button.remove"))+'"><span class="fa fa-times"></span></button></div>';return __p},this.JST["#advanced-filters-toggle-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="filter toggle"><div class="label"><span class="label-value">'+__e(obj.label)+'</span></div><div class="loading-filter-wrapper"></div><button class="btn btn-default btn-remove-filter" aria-label="'+__e(i18n("app.modules.common.button.remove"))+'"><span class="fa fa-times"></span></button></div>';return __p},this.JST["#asset-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="page-header"><header id="assetHeader"></header><nav class="navbar navbar-default" id="assetLocalNav"></nav></div><section id="assetContent"></section>';return __p},this.JST["#c3charts-donut-chart"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="c3-donut-chart"></div>';return __p},this.JST["#code-locations-bdio-event-type-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"COMPONENT_MAPPING_SUCCEEDED"===obj.event?__p+='<span class="fa fa-cube fa-fw text-muted" title="'+__e(i18n("app.modules.versions.bom.projectRelease"))+'"></span>':"COMPONENT_MAPPING_FAILED"===obj.event?__p+='<span class="fa fa-cube fa-fw text-danger" title="'+__e(i18n("app.modules.versions.bom.projectRelease"))+'"></span>':"LICENSE_MAPPING_SUCCEEDED"===obj.event?__p+='<span class="fa fa-gavel fa-fw text-muted" title="'+__e(i18n("app.modules.versions.bom.license"))+'"></span>':"LICENSE_MAPPING_FAILED"===obj.event&&(__p+='<span class="fa fa-gavel fa-fw text-danger" title="'+__e(i18n("app.modules.versions.bom.license"))+'"></span>');return __p},this.JST["#code-locations-bdio-hub-name-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"COMPONENT_MAPPING_SUCCEEDED"===obj.event||"COMPONENT_MAPPING_FAILED"===obj.event?(__p+='<div class="project-version">',(obj.hubComponentName||obj.hubVersionName)&&(__p+='<span class="project-name">'+(null==(__t=obj.hubComponentName)?"":__t)+'</span><span class="version-name label label-default">'+(null==(__t=obj.hubVersionName)?"":__t)+"</span>"),__p+="</div>"):"LICENSE_MAPPING_SUCCEEDED"!==obj.event&&"LICENSE_MAPPING_FAILED"!==obj.event||(__p+="\n"+(null==(__t=obj.protexLicenseName)?"":__t)+"\n");return __p},this.JST["#code-locations-bdio-import-failure-message"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<td class="renderable alert alert-danger" colspan="5">'+(null==(__t=obj.failureReason)?"":__t)+"</td>";return __p},this.JST["#code-locations-bdio-import-log-details-summary"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-3"><span class="badge">'+__e(getEventCounts("COMPONENT_MAPPING_SUCCEEDED"))+'</span><span class="text-muted">&nbsp;'+__e(i18n("app.modules.code.locations.bdio.import.status.COMPONENT_MAPPING_SUCCEEDED",getEventCounts("COMPONENT_MAPPING_SUCCEEDED")))+'</span></div><div class="col-md-3"><span class="badge">'+__e(getEventCounts("COMPONENT_MAPPING_FAILED"))+'</span><span class="text-muted">&nbsp;'+__e(i18n("app.modules.code.locations.bdio.import.status.COMPONENT_MAPPING_FAILED",getEventCounts("COMPONENT_MAPPING_FAILED")))+'</span></div><div class="col-md-3"><span class="badge">'+__e(getEventCounts("LICENSE_MAPPING_SUCCEEDED"))+'</span><span class="text-muted">&nbsp;'+__e(i18n("app.modules.code.locations.bdio.import.status.LICENSE_MAPPING_SUCCEEDED",getEventCounts("LICENSE_MAPPING_SUCCEEDED")))+'</span></div><div class="col-md-3"><span class="badge">'+__e(getEventCounts("LICENSE_MAPPING_FAILED"))+'</span><span class="text-muted">&nbsp;'+__e(i18n("app.modules.code.locations.bdio.import.status.LICENSE_MAPPING_FAILED",getEventCounts("LICENSE_MAPPING_FAILED")))+"</span></div>";
    return __p},this.JST["#code-locations-bdio-import-log-details"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="row"><div class="col-md-12"><table class="table table-condensed table-no-border" role="presentation"><tbody><tr><td class="text-muted">'+__e(i18n("app.modules.scans.hostLabel",null))+"</td><td>"+(null==(__t=obj.hostName)?"":__t)+'</td></tr><tr><td class="text-muted">'+__e(i18n("app.modules.scans.pathLabel",null))+"</td><td>"+(null==(__t=obj.baseDir)?"":__t)+'</td></tr><tr><td class="text-muted">'+__e(i18n("app.modules.scans.scanDetails",null))+'</td><td><span class="label '+__e(obj.getLabelClass())+'">'+(null==(__t=obj.getLabel())?"":__t)+"</span>&nbsp;\n"+(null==(__t=obj.formatDate(obj.createdOn))?"":__t)+'\n/&nbsp;<span class="user-details-region">'+(null==(__t=obj.createdByUserName)?"":__t)+'</span></td></tr></tbody></table></div></div><div class="row"><div class="col-md-12">'+__e(i18n("app.modules.code.locations.bdio.import.description",null))+'</div></div><br/><div class="row"><div id="region-import-log-details-summary"></div></div></div><br/>';return __p},this.JST["#code-locations-bdio-import-log"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.code.locations.bdio.import",null))+'<div class="close-modal js-btn-cancel pull-right"><span class="fa fa-close"></span></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="code-location-info"></div><div class="import-log-filter pull-right"></div><div class="import-log-table"></div><div class="clearfix"></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-bdio-protex-name-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"COMPONENT_MAPPING_SUCCEEDED"===obj.event||"COMPONENT_MAPPING_FAILED"===obj.event?(__p+='<div class="project-version">',obj.componentName&&(__p+='<span class="project-name">'+(null==(__t=obj.componentName)?"":__t)+'</span><span class="version-name label label-default">'+(null==(__t=obj.componentVersion)?"":__t)+"</span>"),__p+="\n",obj.externalId&&(__p+='<div class="external-id text-muted">'+(null==(__t=obj.externalId)?"":__t)+"</div>"),__p+="</div>"):"LICENSE_MAPPING_SUCCEEDED"!==obj.event&&"LICENSE_MAPPING_FAILED"!==obj.event||(__p+="\n"+(null==(__t=obj.protexLicenseName)?"":__t)+"\n");return __p},this.JST["#code-locations-bdio-status-type-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.event.indexOf("_SUCCEEDED")>0?'<div class="text-success">'+__e(i18n("app.modules.code.locations.bdio.import.status."+obj.event))+"</div>":obj.event.indexOf("_FAILED")>0?'<div class="label label-danger">'+__e(i18n("app.modules.code.locations.bdio.import.status."+obj.event))+"</div>":"\n"+__e(obj.event)+"\n";return __p},this.JST["#code-locations-bdio-upload-dialog"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var uploadTitle=i18n("app.modules.scans.uploadImport");__p+="\n";var uploadActionUrl=this.bdsHubProxyPrefix+"/api/v1/bom-import";__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-upload"></span>&nbsp;'+__e(uploadTitle)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="js-file-upload dropzone" id="scans-upload" data-tabid="ajaxSubmit" action="'+__e(uploadActionUrl)+'" method="post" enctype="multipart/form-data"><div id="output-response"></div></form></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>"}return __p},this.JST["#code-locations-bdio-view-import-log"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.bomImportComponentAuditEventUrl&&(__p+='<div class="view-import-log pull-right"><button class="btn btn-default btn-sm" type="button"><span class="fa fa-file-text-o"></span><span class="sr-only">'+__e(i18n("app.modules.code.locations.bdio.import.viewLog",null))+"</span></button></div>");return __p},this.JST["#code-locations-bom-expandable-row"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<td colspan="2">',obj.scannedFileName&&(__p+='<div class="files-link"><span class="fa fa-file"></span>'+__e(obj.scannedFileName)+"</div>"),__p+='<div class="details-link"><span class="fa fa-cube"></span>';var projectId=obj.producerProjectId;__p+="\n";var projectName=obj.producerProjectName;__p+="\n";var versionId=obj.producerReleaseId;__p+="\n";var versionName=obj.producerReleaseVersion;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></div></td><td>";var license=obj.license||{};if(__p+="\n",license.licenses&&license.licenses.length>0)__p+="\n",_.each(license.licenses,function(a){if(__p+="\n","UNKNOWN"!==a.ownership){__p+="\n";var b="#licenses/id:"+a.licenseId+"/action:modal";__p+='<div class="license-link"><span class="fa fa-legal"></span><a href="'+__e(b)+'">'+(null==(__t=a.licenseDisplay)?"":__t)+"</a></div>"}__p+="\n"}),__p+="\n";else if(license.licenseDisplay&&"UNKNOWN"!==license.ownership){__p+="\n";var licenseUrl="#licenses/id:"+license.licenseId+"/action:modal";__p+='<div class="license-link"><span class="fa fa-legal"></span><a href="'+__e(licenseUrl)+'">'+(null==(__t=license.licenseDisplay)?"":__t)+"</a></div>"}__p+="</td><td>",obj.externalId&&(__p+='<small class="external-id-name text-muted"><b>'+__e(i18n("app.modules.scans.externalId",null))+'</b></small><div class="external-id">'+__e(obj.externalId)+"</div>"),__p+="</td><td>",obj.scannedFilePath&&(__p+='<small class="file-path-name text-muted"><b>'+__e(i18n("app.modules.scans.bom.scannedFile",null))+'</b></small><div class="file-path">'+__e(obj.scannedFilePath.path)+"</div>"),__p+='<small class="kb-files-name text-muted"><b>'+__e(i18n("app.modules.scans.bom.matchedFile",obj.kbFilePaths.length))+'</b></small><div class="kb-files">'+(null==(__t=obj.kbFilePaths.join("<br>"))?"":__t)+"</div></td>"}return __p},this.JST["#code-locations-bom-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-database"></span></div></div></div><h1><div class="no-location"><a href="#code-locations">'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+'</a><span class="fa fa-caret-right"></span>'+__e(i18n("app.modules.versions.bom",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#code-locations-bom-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-12"><div class="region-code-location-bom-table"></div></div>';return __p},this.JST["#code-locations-bom-license-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="license-name" data-toggle="popover" data-placement="top" data-content="'+(null==(__t=licenseName)?"":__t)+'">'+(null==(__t=licenseName)?"":__t)+"</span>";return __p},this.JST["#code-locations-bom-project-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.producerProjectName){__p+="\n";var projectId=obj.producerProjectId;__p+="\n";var projectName=obj.producerProjectName;__p+="\n";var versionId=obj.producerReleaseId;__p+="\n";var versionName=obj.producerReleaseVersion;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>"}return __p},this.JST["#code-locations-fs-cell-status"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var error="app.views.jobs.status."+status;__p+="\n","COMPLETE"===obj.status?(__p+="\n",__p+=obj.matchCount>0?'<a href="#code-locations/view:bom/scanid:'+__e(obj.id)+'" target="_blank">'+__e(i18n("app.modules.scans.viewComponents",{componentCount:obj.formatNumber(obj.matchCount)},obj.matchCount))+"</a>":__e(i18n("app.modules.scans.viewComponents.none",null)),__p+="\n"):__p+='<div class="passed-status">'+__e(i18n(error))+"</div>"}return __p},this.JST["#code-locations-fs-delete-mapping"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.scans.actionsMenu.removeMap",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p class="modalBodyContent">'+__e(i18n("app.modules.scans.mapping.view.confirmDelete",null))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.removing"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.remove",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-fs-delete-modal"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.views.jobs.location.delete",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.jobs.delete.message",null))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-fs-generic-upload-dialog"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-upload"></span>&nbsp;'+__e(uploadTitle)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="js-file-upload dropzone" id="scans-upload" data-tabid="ajaxSubmit" action="'+__e(uploadActionUrl)+'" method="post" enctype="multipart/form-data"><div id="output-response"></div></form></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-fs-generic-upload-preview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="file-row dz-preview dz-file-preview"><div class="media"><div class="media-left"><span class="fa-stack fa-lg"><span class="fa fa-file-o fa-stack-2x scan-upload-file-success-icon"></span><span class="fa fa-check fa-stack-1x text-success dz-success-mark"></span><span class="fa fa-exclamation-circle fa-stack-1x text-danger dz-error-mark"></span></span><p class="text-center size" data-dz-size="data-dz-size"></p></div><div class="media-body text-left"><div class="row"><div class="col-sm-10"><div class="name" data-dz-name="data-dz-name"></div><strong class="error text-danger"></strong></div><div class="col-sm-2"><div class="upload-actions pull-right"><button class="btn btn-link js-cancel-upload" data-dz-remove="data-dz-remove" title="'+__e(i18n("app.modules.common.upload-dialog.cancelUpload"))+'"><span class="fa fa-times-circle"></span></button></div></div></div><div class="row progress-row"><div class="col-sm-12"><div class="progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"><div class="progress-bar progress-bar-default" style="width:0;" data-dz-uploadprogress="data-dz-uploadprogress"></div></div></div></div></div></div></div>';return __p},this.JST["#code-locations-fs-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-database"></span></div></div></div><h1><small class="asset-location"><a href="#code-locations/">'+__e(i18n("app.views.jobs.locations.title",null))+"</a></small>"+__e(obj.name)+'</h1></div><div class="asset-meta-block clearfix"><div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.code.locations.type.SCAN",null))+'</div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.scans.hostLabel",null))+'</span><span class="asset-meta-val">'+__e(obj.host)+'</span></div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.scans.mapping.scanInitiatorLabel",null))+'</span><span class="asset-meta-val">'+__e(obj.scanInitiatorName)+'</span></div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.views.jobs.updatedAtHeader",null))+'</span><span class="asset-meta-val">'+(null==(__t=formatDate(lastScanUploadDate))?"":__t)+'</span></div></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#code-locations-fs-overview-details"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h3>"+__e(i18n("app.modules.jobs.scm.code.location.details",null))+'<span class="text-muted">&nbsp;'+__e(i18n("app.modules.code.locations.detailsForLastScan",null))+'</span></h3><div class="container-fluid"><div class="row"><div class="col-sm-8"><div class="row"><div class="col-sm-2 text-muted">'+__e(i18n("app.modules.scans.hostLabel",null))+'</div><div class="col-sm-10 host-name">'+(null==(__t=obj.host||obj.hostName)?"":__t)+'</div></div><div class="row"><div class="col-sm-2 text-muted">'+__e(i18n("app.modules.scans.pathLabel",null))+'</div><div class="col-sm-10">'+(null==(__t=obj.path||obj.baseDir)?"":__t)+'</div></div><div class="row"><div class="col-sm-2 text-muted">'+__e(i18n("app.modules.scans.createdOn",null))+'</div><div class="col-sm-10">'+(null==(__t=formatDate(obj.scanTime))?"":__t)+'</div></div><div class="row"><div class="col-sm-12"><button class="btn btn-danger btn-sm delete-code-location js-delete-code-location"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.scans.deleteScan",null))+'</button></div></div></div><div class="col-sm-4"><div class="row"><div class="col-sm-6 text-muted">'+__e(i18n("app.modules.scans.bom.matchedCount",null))+'</div><div class="col-sm-6">'+(null==(__t=getMatchCount())?"":__t)+'</div></div><div class="row"><div class="col-sm-6 text-muted">'+__e(i18n("app.modules.common.files.type.file.pl",null))+'</div><div class="col-sm-6">'+(null==(__t=getFileCount())?"":__t)+'</div></div><div class="row"><div class="col-sm-6 text-muted">'+__e(i18n("app.modules.common.files.type.folder.pl",null))+'</div><div class="col-sm-6">'+(null==(__t=getDirCount())?"":__t)+'</div></div><div class="row"><div class="col-sm-6 text-muted">'+__e(i18n("app.modules.scans.scanSizeLabel",null))+'</div><div class="col-sm-6">'+(null==(__t=getScanSize())?"":__t)+"</div></div></div></div></div>";return __p},this.JST["#code-locations-fs-overview-mapping-modal"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.scans.mapping.view.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="form-group"><label class="col-sm-3 control-label">'+__e(i18n("app.modules.scans.mapping.projectsLabel",null))+'</label><div class="col-sm-9 project-name"><select class="project-selector" name="project" placeholder="'+__e(i18n("app.modules.common.header.browse.enter.project"))+'" tabindex="0" autofocus="true"></select></div></div><div class="form-group"><label class="col-sm-3 fs-project-version control-label">'+__e(i18n("app.modules.scans.mapping.releasesLabel",null))+'</label><div class="col-sm-9 project-version"><div class="default-state-msg versions"><span class="fa fa-info-circle"></span>'+__e(i18n("app.modules.scans.mapping.view.select.project",null))+'</div><select class="version-selector hide" name="releases" tabindex="0"></select></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-create btn-primary pull-left" id="modalCreateProject" type="button" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'"><span class="fa fa-plus"></span>'+__e(i18n("app.projects.create",null))+'</button><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></form></div>";return __p},this.JST["#code-locations-fs-overview-mapping"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){if(__p+="<h3>"+__e(i18n("app.modules.scans.mapping.view.title",null))+'</h3><div class="container-fluid"><div class="row"><div class="col-md-12">',obj.scanLocationOwner){__p+=__e(i18n("app.modules.scans.mapping.scanMappedTo",null))+'&nbsp;<span class="fa fa-cubes"></span>';var projectId=obj.scanLocationOwner.projectId;__p+="\n";var projectName=obj.scanLocationOwner.projectName;__p+="\n";var versionId=obj.scanLocationOwner.releaseId;__p+="\n";var versionName=obj.scanLocationOwner.releaseName;__p+="<span>","undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+='</a></span></span><br/><br/><div class="btn-toolbar"><button class="btn btn-sm btn-default js-unmap-from-project-btn" type="button"><span class="fa fa-unlink"></span>'+__e(i18n("app.modules.scans.actionsMenu.removeMap",null))+"</button></div>"}else __p+='<div class="btn-toolbar"><button class="btn btn-sm btn-default js-map-to-project-btn" type="button"><span class="fa fa-link"></span>'+__e(i18n("app.modules.scans.actionsMenu.mapOtherLabel",null))+'</button><button class="btn btn-sm btn-default js-create-scan-project" href="#projects/view:create/action:modal/type:fs"><span class="fa fa-plus"></span>'+__e(i18n("app.projects.create",null))+"</button></div><br/>"+__e(i18n("app.modules.scans.mapping.noneLabel",null))+"<br/>";__p+='<br/><div class="has-error"><p class="alert" id="js-error-container"></p></div><form class="form-horizontal js-project-mapping-form hide"><div class="form-group"><label class="col-sm-2 control-label">'+__e(i18n("app.modules.scans.mapping.projectsLabel",null))+'</label><div class="col-sm-6 project-name"><select class="project-selector" name="project" placeholder="'+__e(i18n("app.modules.common.header.browse.enter.project"))+'" tabindex="0" autofocus="true"></select></div><div class="col-sm-2"><button class="btn btn-sm btn-primary js-create-scan-project" type="button" tabindex="0"><span class="fa fa-plus"></span>'+__e(i18n("app.projects.create",null))+'</button></div></div><div class="form-group"><label class="col-sm-2 fs-project-version control-label">'+__e(i18n("app.modules.scans.mapping.releasesLabel",null))+'</label><div class="col-sm-6 project-version"><div class="default-state-msg versions"><span class="fa fa-info-circle"></span>'+__e(i18n("app.modules.scans.mapping.view.select.project",null))+'</div><select class="version-selector hide" name="releases" tabindex="0"></select></div></div><div class="form-group"><div class="col-sm-6 col-sm-offset-2"><div class="fs-type-action-buttons"><button class="js-cancel-btn btn btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="js-save-btn btn btn-sm btn-primary" type="submit" tabindex="0">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></div></div></form></div></div></div>"}return __p},this.JST["#code-locations-fs-overview-scans"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h3>"+__e(i18n("app.modules.scans.scan.history",null))+'</h3><div id="region-code-locations-fs-overview-scans-table"></div>';return __p},this.JST["#code-locations-fs-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="row"><div class="col-sm-12 col-md-10 col-md-offset-1 col-lg-8 col-lg-offset-2"><section id="region-code-location-fs-details"></section><section id="region-code-location-fs-overview-mapping"></section><section id="region-code-location-fs-overview-scans"></section></div></div></div>';return __p},this.JST["#code-locations-fs-upload-dialog"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var uploadTitle=i18n("app.modules.scans.uploadScans");__p+="\n";var uploadActionUrl=this.bdsHubProxyPrefix+"/api/v1/scans/upload";__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-upload"></span>&nbsp;'+__e(uploadTitle)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="js-file-upload dropzone" id="scans-upload" data-tabid="ajaxSubmit" action="'+__e(uploadActionUrl)+'" method="post" enctype="multipart/form-data"><div id="output-response"></div></form></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>"}return __p},this.JST["#code-locations-scm-create-buttons"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-link pull-left js-btn-test-connection test-connection-button" type="button" tabindex="0"><span class="fa fa-check test-indicator-success"></span><span class="fa i fa fa-exclamation-triangle test-indicator-error"></span><span class="fa fa-flask test-indicator-none"></span>'+__e(i18n("app.modules.common.testConnection.action",null))+'</button><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'">'+__e(i18n("app.modules.common.button.create",null))+"</button>";return __p},this.JST["#code-locations-scm-edit-form-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-group"><div class="col-md-9 col-md-offset-3 js-server-messages hidden text-left"></div></div><button class="btn btn-primary" type="submit">'+__e(i18n("app.modules.common.button.save",null))+"</button>";return __p},this.JST["#code-locations-scm-edit-test-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-group test-connection"><label class="col-md-3 control-label">'+__e(i18n("app.modules.admin.ldap.test.testConfigLabel",null))+'</label><div class="col-md-9 text-left"><button class="test-button btn btn-primary js-btn-test" type="submit" data-waiting-label="'+__e(i18n("app.modules.common.testConnection.testing"))+'"><span class="fa fa-flask"></span>'+__e(i18n("app.modules.common.testConnection.action",null))+'</button><span class="test-connection-message"></span></div></div><div class="form-group"><div class="col-md-9 col-md-offset-3 test-connection-error hidden text-left"></div></div>';return __p},this.JST["#code-locations-scm-edit"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h3>"+__e(i18n("app.modules.jobs.scm.code.location.details",null))+'</h3><div id="region-code-location-scm-edit-form"></div>';return __p},this.JST["#code-locations-scm-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-database"></span></div></div></div><h1><small class="asset-location"><a href="#code-locations/">'+__e(i18n("app.views.jobs.locations.title",null))+"</a></small>"+__e(url)+'</h1></div><div class="asset-meta-block clearfix"><div class="primary-lang lang-bg unknown">'+__e(scmType)+'</div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.views.jobs.location.details.indexingStatus.caption",null))+'</span><span class="regions-code-location-scm-index-state" id="code-location-scm-index-state"></span></div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.views.jobs.updatedAtHeader",null))+'</span><span class="asset-meta-val">'+(null==(__t=formatDate(updatedAt))?"":__t)+'</span></div></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#code-locations-scm-index-state"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="statusIcon"></div><div class="indexStatus">'+(null==(__t=indexStatus())?"":__t)+"</div>";return __p},this.JST["#code-locations-scm-jobs-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="actions-btn-main-container js-actions-btn-main-container btn-group"><button class="btn btn-link js-btn-reindex" type="button"><span class="fa fa-folder-open-o"></span>'+__e(i18n("app.views.jobs.location.details.indexingStateReindexButton.caption",null))+'</button><button class="btn btn-link js-btn-update" type="button"><span class="fa fa-refresh"></span>'+__e(i18n("app.views.jobs.location.details.indexingStateUpdateButton.caption",null))+'</button><button class="btn btn-link js-btn-retry" type="button"><span class="fa fa-clock-o"></span>'+__e(i18n("app.views.jobs.location.details.indexingStateRetryButton.caption",null))+"</button></div>";return __p},this.JST["#code-locations-scm-jobs"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h3>"+__e(i18n("app.views.code.location.jobs",null))+'</h3><div class="table-actions"><div id="regions-code-location-scm-jobs-actions"></div></div><div class="jobs-table"><div id="regions-code-location-scm-jobs"></div></div>';return __p},this.JST["#code-locations-scm-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="row"><div class="col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2"><section id="region-code-location-scm-jobs"></section><section id="region-code-location-scm-edit"></section></div></div></div>';return __p},this.JST["#code-locations-component-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(!obj.scmType&&obj.projectName&&obj.versionName){__p+="\n";var projectId=null;__p+="\n";var projectName=obj.projectName;__p+="\n";var versionId=null;__p+="\n";var versionName=obj.versionName;__p+="\n";var versionUrl=obj.mappedProjectVersion;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>"}return __p},this.JST["#code-locations-create-button"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-sm btn-primary" type="button"><span class="fa fa-plus"></span>'+(null==(__t=obj.name)?"":__t)+"</button>";return __p},this.JST["#code-locations-create-menu-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a role="menuitem" tabindex="0">'+(null==(__t=obj.data.name)?"":__t)+"</a>";return __p},this.JST["#code-locations-create-menu"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown"><button class="btn btn-sm btn-primary dropdown-toggle create-location-menu" type="button" id="createLocationMenu" data-toggle="dropdown" aria-expanded="false"><span class="fa fa-plus"></span>'+__e(i18n("app.modules.code.locations.add",null))+'<span class="caret"></span></button><ul class="dropdown-menu" role="menu" aria-labelledby="createLocationMenu"></ul></div>';
    return __p},this.JST["#code-locations-delete-location"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.views.jobs.location.delete",obj.scans.length))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.jobs.delete.message",{codeLocationCount:obj.scans.length},obj.scans.length))+'</p><hr/><div class="region-code-locations-to-delete"></div></div><div class="modal-footer" id="modalFooter"><div class="finished-buttons hide"><button class="btn js-btn-close btn-primary" type="button">'+__e(i18n("app.modules.common.button.close",null))+'</button></div><div class="default-buttons">',__p+=obj.scans.length>1?'<button class="btn js-btn-cancel btn-link" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.deleteAll",null))+"</button>":'<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button>",__p+="</div></div></div></div>";return __p},this.JST["#code-locations-delete-locations-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){if(__p+='<div class="col-sm-10"><div class="row"><div class="col-xs-1 text-right"><span class="bullet-point fa"></span></div><div class="col-xs-11">'+__e(obj.path||obj.url)+'</div></div><div class="row"><div class="col-xs-11 col-xs-offset-1"><div class="text-muted">',obj.mappedProjectVersion){__p+=__e(i18n("app.modules.scans.mapping.scanMappedTo",null))+'&nbsp;<span class="fa fa-cubes"></span>';var projectName=obj.projectName;__p+="\n";var versionName=obj.versionName;__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><span class="project-version-link">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</span></span>"}else __p+=__e(i18n("app.modules.scans.mapping.noneLabel",null));__p+='</div><div class="delete-status-msg"></div></div></div></div><div class="col-sm-2"><div class="delete-status text-right"><span class="label label-default status-label">'+__e(i18n("app.views.jobs.status.SCHEDULED",null))+"</span></div></div>"}return __p},this.JST["#code-locations-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-12 text-center no-data-view"><span class="fa fa-database indicator-icon"></span><h1 class="text-center">'+__e(i18n("app.modules.code.locations.noData",null))+'</h1></div><div class="col-md-12 empty-description text-center">'+__e(i18n("app.modules.code.locations.noDataDescription",null))+'<div class="region-create-code-location-button"></div></div>';return __p},this.JST["#code-locations-filter-select"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<select class="form-control" tabindex="0"><option value="">'+__e(i18n("app.modules.scans.please.select.type",null)),_.each(obj.options,function(a){__p+='<option value="'+__e(a.data.value)+'">'+(null==(__t=a.data.name)?"":__t)+"</option>"}),__p+="</option></select>";return __p},this.JST["#code-locations-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-database"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right">',__p+=isUnlimited()?'<div class="text-muted unlimited-codebase">'+(null==(__t=i18n("app.modules.code.locations.codebaseDetailsUnlimited",{used:obj.numeral(getActual()).format("0.0 b")}))?"":__t)+"</div>":'<div class="codebase-details-container"><div class="text-muted">'+(null==(__t=i18n("app.modules.code.locations.codebaseDetails",{used:obj.numeral(getActual()).format("0.0 b"),total:obj.numeral(getTotal()).format("0.0 b")}))?"":__t)+'</div><div class="progress"><div class="progress-bar" role="progressbar" aria-valuenow="'+__e(getActual())+'" aria-valuemin="0" aria-valuemax="'+__e(getTotal())+'" style="width:'+(null==(__t=getActual()/getTotal()*100)?"":__t)+'%;"></div></div></div>',__p+="</div>";return __p},this.JST["#code-locations-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-12"><div class="table-actions sticky-action-bar"><div class="pull-left"><div class="region-create-code-location create-code-location pull-left"></div><div class="region-code-location-table-actions pull-left"></div></div><div class="pull-right"><div class="region-code-location-advanced-filters"></div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="region-code-location-table sticky-table"></div></div></div>';return __p},this.JST["#code-locations-location-reindex"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.views.jobs.location.details.indexingStateReindexButton.caption",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody">'+__e(i18n("app.views.jobs.location.details.indexingStateReindexButton.description",null))+'</div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" id="modalCancel" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" id="modalConfirm" type="button" data-waiting-label="'+__e(i18n("app.modules.common.reindexing"))+'">'+__e(i18n("app.views.jobs.location.details.indexingStateReindexButton.caption",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-location-reschedule"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.views.jobs.location.details.indexingStateRetryButton.caption",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody">'+__e(i18n("app.views.jobs.location.details.indexingStateRetryButton.description",null))+'</div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" id="modalCancel" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" id="modalConfirm" type="button" data-waiting-label="'+__e(i18n("app.modules.common.retrying"))+'">'+__e(i18n("app.views.jobs.location.details.indexingStateRetryButton.caption",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-location-update"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.views.jobs.location.details.indexingStateUpdateButton.caption",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody">'+__e(i18n("app.views.jobs.location.details.indexingStateUpdateButton.description",null))+'</div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" id="modalCancel" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" id="modalConfirm" type="button" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.views.jobs.location.details.indexingStateUpdateButton.caption",null))+"</button></div></div></div>";return __p},this.JST["#code-locations-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="#code-locations/"><span class="fa fa-database fa-fw"></span>'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+"</a>";return __p},this.JST["#code-locations-path-cell-fs"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div title="'+__e(obj.targetAttribute)+'"><a href="#code-locations-fs/href:'+__e(codeLocationBase64Href())+'/view:overview">'+__e(obj.targetAttribute)+"</a></div>";return __p},this.JST["#code-locations-path-cell-scm"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div id="'+__e(obj.id)+'" title="'+__e(obj.targetAttribute)+'"><a href="#code-locations-scm/id:'+__e(obj.id)+'/view:overview">'+__e(obj.targetAttribute)+"</a>",(obj.scmBranch||obj.scmRevnum)&&(__p+="<small><br/>",obj.scmBranch&&(__p+='<span class="fa fa-code-fork"></span>'+__e(obj.scmBranch)+"\n&nbsp;"),__p+="\n",obj.scmRevnum&&(__p+='<span class="fa fa-tag"></span>'+__e(obj.scmRevnum)),__p+="</small>"),__p+="</div>";return __p},this.JST["#code-locations-row-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown pull-right"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li class="map-code-location hidden"><a>'+__e(i18n("app.modules.scans.actionsMenu.mapOtherLabel",null))+'</a></li><li class="unmap-code-location"><a>'+__e(i18n("app.modules.scans.actionsMenu.removeMap",null))+'</a></li><li class="delete-code-location"><a>'+__e(i18n("app.modules.common.button.delete",null))+"</a></li></ul></div>";return __p},this.JST["#code-locations-scan-size-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=obj.getScanSize())?"":__t;return __p},this.JST["#code-locations-status-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.errorText?'<div class="label '+__e(obj.getLabelClass())+' status-indicator-cell" title="'+__e(obj.errorText)+'">'+(null==(__t=obj.getLabel())?"":__t)+"</div>":'<div class="label '+__e(obj.getLabelClass())+' status-indicator-cell"><span class="js-status-indicator status-indicator"></span>'+(null==(__t=obj.getLabel())?"":__t)+"</div>";return __p},this.JST["#code-locations-table-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="actions-btn-main-container js-actions-btn-main-container btn-group"><button class="btn btn-default js-btn-delete btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.delete"))+'" type="button"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div>";return __p},this.JST["#code-locations-type-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.scmType?"\n"+__e(i18n("app.modules.code.locations.scm.type."+obj.scmType))+"\n":"\n"+__e(i18n("app.modules.code.locations.type."+obj.type))+"\n";return __p},this.JST["#comments-comments-list-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="media user-comment"><div class="media-left"><img src="'+(null==(__t=gravatar.getGravatarUrl(obj.user.email,32))?"":__t)+'" height="32" width="32"/></div><div class="media-body"><div class="media-heading"><strong>'+__e(obj.getDisplayName())+'</strong><span class="text-muted">&nbsp;&nbsp;'+(null==(__t=formatDateText(obj.createdAt))?"":__t)+'</span><div class="dropdown pull-right comment-dropdown-options"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li class="edit-comment"><a>'+__e(i18n("app.modules.common.button.edit",null))+'</a></li><li class="delete-comment"><a>'+__e(i18n("app.modules.common.button.delete",null))+"</a></li></ul></div>",obj.createdAt!==obj.updatedAt&&(__p+='<small class="comment-edited-date pull-right text-muted" title="'+__e(i18n("app.modules.versions.bom.comments.edited",{datetime:formatDateText(obj.updatedAt)}))+'">'+__e(i18n("app.modules.common.edited",null))+"</small>"),__p+='</div><div class="js-server-error-container"></div><div class="preview-comment-container"><p class="comment-text">'+(null==(__t=parseComment())?"":__t)+'</p></div><div class="edit-comment-container"><textarea class="form-control edit-comment-textarea">'+__e(obj.comment)+'</textarea><br/><div class="pull-right"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></div></div></div>";return __p},this.JST["#comments-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><span class="fa fa-comment"></span>'+__e(obj.title)+'<span class="close-modal js-btn-cancel pull-right">&times;</span></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="region-comments-layout-comments-list"></div><div class="media add-new-comment"><div class="media-left"><img src="'+(null==(__t=gravatar.getGravatarUrl(getCurrentUserEmail(),32))?"":__t)+'" height="32" width="32"/></div><div class="media-body"><div class="form-group"><textarea class="new-comment-content form-control" name="comment" placeholder="'+__e(i18n("app.modules.versions.bom.comments.placeholder"))+'" rows="1"></textarea></div><div class="text-right"><button class="submit-comment btn btn-primary btn-sm" type="button">'+__e(i18n("app.modules.versions.bom.comments.add",null))+'</button></div></div></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#common-alert"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="alert alert-'+(null==(__t=type)?"":__t)+'">'+(null==(__t=message)?"":__t)+"</div>";return __p},this.JST["#common-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#common-expander-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-angle-right expander" title="'+__e(i18n("app.modules.common.clickToExpandRow"))+'"></span>';return __p},this.JST["#common-file-size-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(obj.formatFileSize(obj.targetAttribute));return __p},this.JST["#common-format-date-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=obj.formatDate(obj.targetAttribute,i18n("app.relativeDate.never")))?"":__t;return __p},this.JST["#common-format-datetime-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=obj.formatDateTime(obj.targetAttribute,i18n("app.relativeDate.never")))?"":__t;return __p},this.JST["#common-format-full-date-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=obj.targetAttribute?obj.formatDateFull(obj.targetAttribute):obj.i18n("app.modules.versions.bom.unspecified"))?"":__t;return __p},this.JST["#common-legend-mixin"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#common-no-data"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(i18n("app.modules.common.noDataAvailable",null));return __p},this.JST["#common-pagination-counts"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=i18n("app.modules.common.paging.displaying",obj))?"":__t;return __p},this.JST["#common-project-version-channel-small"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-cloud text-muted version-channel-icon" data-toggle="tooltip" data-placement="top" title="'+__e(channelName)+'"></span>';return __p},this.JST["#common-project-version-channel"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<small class="project-version-distribution text-muted"><span class="fa fa-cloud" title="'+__e(i18n("app.modules.scans.distribution"))+'"></span><span class="ext-namespace"> '+(null==(__t=channelName)?"":__t)+"</span> "+(null==(__t=channelVersion)?"":__t)+"</small>";return __p},this.JST["#common-project-version-nolink"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><span class="project-version-link">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</span></span>";return __p},this.JST["#common-project-version"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>";return __p},this.JST["#common-selectable-cell-checkbox-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="btn-group"><div class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false"><input type="checkbox"/><div class="caret-align"><span class="caret"></span></div></div><ul class="dropdown-menu selectable-options"><li><a class="js-select-all">'+__e(i18n("app.modules.tables.selectable.selectAll",null))+'</a></li><li><a class="js-select-none">'+__e(i18n("app.modules.tables.selectable.selectNone",null))+'</a></li><li><a class="js-invert-selection">'+__e(i18n("app.modules.tables.selectable.InvertSelection",null))+"</a></li></ul></div>";return __p},this.JST["#common-selectable-cell-checkbox"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<input class="select-input" type="checkbox"/>';return __p},this.JST["#create-menu-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="#projects/view:create/action:modal"><span class="fa fa-fw fa-plus"></span><span class="hidden-sm">'+__e(i18n("app.projects.create",null))+"</span></a>";return __p},this.JST["#d3charts-bar-chart"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="chart-legend"></div>';return __p},this.JST["#errors-error404"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-6"><div class="no-data-view error404"><span class="fa-stack indicator-icon"><span class="fa fa-compass fa-stack-1x fa-spin"></span><span class="fa fa-map-o fa-stack-2x"></span></span></div></div><div class="col-sm-6"><div class="no-data-view error404"><h1>'+__e(i18n("app.modules.errors.404",null))+"</h1><h2>"+__e(i18n("app.modules.errors.404.description",null))+"</h2></div></div>";return __p},this.JST["#errors-error412"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-3"><div class="no-data-view error412"><span class="fa fa-thumbs-o-down fa-2x"></span></div></div><div class="col-sm-9"><div class="no-data-view error412"><h1>'+__e(i18n("app.modules.errors.412.title",null))+"</h1><h2>"+(null==(__t=obj.getErrorMessage())?"":__t)+"</h2></div></div>";return __p},this.JST["#errors-error500"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-5"><div class="no-data-view error500"><span class="fa-stack indicator-icon"><span class="fa fa-frown-o fa-stack-2x"></span></span></div></div><div class="col-sm-4"><div class="no-data-view error500"><h1>'+__e(i18n("app.modules.errors.500",null))+"</h1><h2>"+__e(i18n("app.modules.errors.500.description",null))+"</h2></div></div>";return __p},this.JST["#errors-error504"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-5"><div class="no-data-view error504"><span class="fa-stack indicator-icon"><span class="fa fa-clock-o fa-stack-2x"></span></span></div></div><div class="col-sm-4"><div class="no-data-view error504"><h2>'+__e(i18n("app.modules.errors.504",null))+"</h2><h2>"+__e(i18n("app.modules.errors.500.description",null))+"</h2></div></div>";return __p},this.JST["#form-actions-element"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="js-expand-toggle expand-toggle">'+(null==(__t=obj.actionTitle)?"":__t)+'</a><a class="js-collapse-toggle expand-toggle hide">'+(null==(__t=obj.collapseTitle)?"":__t)+"</a>";return __p},this.JST["#form-buttons-add"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.adding"))+'">'+__e(i18n("app.modules.common.button.add",null))+"</button>";return __p},this.JST["#form-buttons-close"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button>";return __p},this.JST["#form-buttons-confirm-disabled"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" disabled="disabled" type="submit" tabindex="0">'+__e(i18n("app.modules.common.confirm",null))+"</button>";return __p},this.JST["#form-buttons-confirm"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0">'+__e(i18n("app.modules.common.confirm",null))+"</button>";return __p},this.JST["#form-buttons-create"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'">'+__e(i18n("app.modules.common.button.create",null))+"</button>";return __p},this.JST["#form-buttons-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button>";return __p},this.JST["#form-buttons-remove"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.removing"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.remove",null))+"</button>";return __p},this.JST["#form-buttons-save-only"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button>";return __p},this.JST["#form-buttons-save"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button>";return __p},this.JST["#form-buttons-update"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button>";return __p},this.JST["#form-collapse-fields"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-group"><div class="col-md-7 col-md-offset-3"><a class="collapsed collapse-fields-toggle" href="#'+(null==(__t=collapseId)?"":__t)+'" data-toggle="collapse"><span class="expand-title"><span class="fa fa-angle-right"></span>'+__e(expandTitle)+'</span><span class="collapse-title"><span class="fa fa-angle-up"></span>'+__e(collapseTitle)+"</span></a></div></div>";return __p},this.JST["#form-dynamic-selectpicker"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><select class="dynamic-selectpicker js-selectpicker form-control" name="'+__e(name)+'" tabindex="0" data-live-search="true" id="'+__e(fieldId)+'"></select>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-field-error"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-exclamation form-control-feedback" aria-hidden="true"></span><span class="help-block">'+__e(message)+"</span>";return __p},this.JST["#form-input-checkbox"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9">',_.forEach(obj.getOptions(),function(a){__p+='<div class="checkbox-item-field">',__p+=a.value?'<label for="'+__e(fieldId+"_"+a.value)+'"><input name="'+__e(obj.name)+'" type="checkbox" id="'+__e(fieldId+"_"+a.value)+'" tabindex="0" value="'+__e(a.value)+'"/>'+__e(a.label)+"</label>":'<label for="'+__e(fieldId)+'"><input name="'+__e(obj.name)+'" type="checkbox" id="'+__e(fieldId)+'" tabindex="0"/>'+__e(a.label)+"</label>",__p+="</div>"}),fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-date"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><div class="input-group date datetimepicker js-datetimepicker"><input class="form-control" name="'+__e(name)+'" id="'+__e(fieldId)+'" tabindex="0"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></div>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-password"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><input class="form-control" name="'+__e(name)+'" type="password" id="'+__e(fieldId)+'" tabindex="0"/>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-radio"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9">',_.forEach(obj.getOptions(),function(a){__p+='<div class="radio-item-field"><input name="'+__e(obj.name)+'" type="radio" id="'+__e(fieldId+"_"+a.value)+'" tabindex="0" value="'+__e(a.value)+'"/><label for="'+__e(fieldId+"_"+a.value)+'">'+__e(a.label)+"</label></div>"}),fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-select-distribution-version-option"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="origin-selectize-item">',__p+="undefined"!=typeof data.externalId?"\n"+(null==(__t=data.externalId)?"":__t)+"\n":"\n"+(null==(__t=data.channelVersionName)?"":__t)+"\n",__p+="</div>";
    return __p},this.JST["#form-input-select-group-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div><span class="fa fa-users"></span><span class="text">'+__e(group.name)+"</span></div>";return __p},this.JST["#form-input-select-group-option"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div><span class="fa fa-users"></span><span class="text">'+__e(group.name)+'</span><div class="pull-right">',__p+=group.active?'<div class="label label-success">'+__e(i18n("common.active",null))+"</div>":'<div class="label label-danger">'+__e(i18n("common.inactive",null))+"</div>",__p+="</div></div>";return __p},this.JST["#form-input-select-project-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="project-suggest clearfix">',data.fields&&data.fields.small_logo_url&&data.fields.small_logo_url.length>0?__p+='<img src="'+__e(data.fields.small_logo_url[0])+'" height="20"/>':data.fields&&data.fields.ownership&&(__p+="\n",__p+="1"===data.fields.ownership[0]?'<span class="fa fa-cube"></span>':'<span class="fa fa-cubes"></span>',__p+="\n"),__p+=__e(data.value)+"</div>";return __p},this.JST["#form-input-select-project-option"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="project-suggest clearfix">',data.fields&&data.fields.small_logo_url&&data.fields.small_logo_url.length>0?__p+='<img class="asset-logo" src="'+__e(data.fields.small_logo_url[0])+'" height="20"/>':data.fields&&data.fields.ownership&&(__p+="\n",__p+="1"===data.fields.ownership[0]?'<div class="asset-logo-component default"><div><span class="fa fa-cube"></span></div></div>':'<div class="asset-logo-project default"><div><span class="fa fa-cubes"></span></div></div>',__p+="\n"),__p+="<h5>"+__e(data.value)+"\n",data.fields&&data.fields.description&&data.fields.description.length&&"undefined"!=typeof data.fields.description[0]&&(__p+="<br/><small>"+__e(data.fields.description[0].substring(0,130))+"</small>"),__p+="</h5></div>";return __p},this.JST["#form-input-select-user-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="item"><img class="profile-image pull-left" src="'+__e(gravatar.getGravatarUrl(user.email,18))+'" width="18" height="18" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/><span class="text">',__p+=user.firstName&&user.lastName?"\n"+__e(user.firstName+" "+user.lastName)+"\n":"\n"+__e(user.userName)+"\n",__p+="</span><small>"+__e(user.email)+"</small></div>";return __p},this.JST["#form-input-select-user-option"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div><img class="profile-image pull-left" src="'+__e(gravatar.getGravatarUrl(user.email,36))+'" width="36" height="36" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/><div class="pull-right">',__p+=user.active?'<div class="label label-success">'+__e(i18n("common.active",null))+"</div>":'<div class="label label-danger">'+__e(i18n("common.inactive",null))+"</div>",__p+='</div><div class="pull-left"><span class="text">',__p+=user.firstName&&user.lastName?"\n"+__e(user.firstName+" "+user.lastName)+"\n":"\n"+__e(user.userName)+"\n",__p+='</span><br/><small class="text-muted">'+__e(user.email)+"</small></div></div>";return __p},this.JST["#form-input-select"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><select class="selectpicker js-selectpicker form-control" name="'+__e(name)+'" tabindex="0" id="'+__e(fieldId)+'"></select>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-selectize"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><select class="js-selectize-dropdown" name="'+__e(name)+'" tabindex="0" id="'+__e(fieldId)+'"></select>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-text"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><input class="form-control" name="'+__e(name)+'" type="text" id="'+__e(fieldId)+'" tabindex="0"/>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-input-textarea"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var fieldId="field_"+_.uniqueId();__p+='<label class="col-md-3 control-label '+(null==(__t=requiredClass())?"":__t)+'" for="'+__e(fieldId)+'">'+(null==(__t=fieldData.label)?"":__t)+'</label><div class="col-md-9"><textarea class="form-control" name="'+__e(name)+'" rows="4" id="'+__e(fieldId)+'" tabindex="0"></textarea>',fieldData.description&&(__p+='<small class="form-field-desc">'+(null==(__t=fieldData.description)?"":__t)+"</small>"),__p+="</div>"}return __p},this.JST["#form-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-form-header"></div><div class="js-server-error-container"></div><div class="js-server-success-container"></div><form class="form form-horizontal form-section"><div class="region-form-content"></div><div class="region-form-footer"></div></form>';return __p};this.JST["#help-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e(this.bdsHubProxyPrefix)+'/docs/help/Welcome.htm" id="cloudHelp" target="_blank"><span class="fa fa-support"></span>'+__e(i18n("app.modules.common.header.helpLabel",null))+"</a></li>";return __p};this.JST["#home-components-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#home/view:components"><span class="fa fa-cube"></span>'+__e(i18n("app.modules.home.components.menuLabel",null))+"</a></li>";return __p},this.JST["#home-projects-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#home/view:projects"><span class="fa fa-cubes"></span>'+__e(i18n("app.modules.common.header.projects.menuTitle",null))+"</a></li>";return __p},this.JST["#home-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-dashboard"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.common.header.home.menuTitle",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#licenses-edit-license-attribution-statement"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)canUpdate()&&(__p+='<div class="panel panel-default" id="attribution-statement-container"><h5 class="expander" data-toggle="collapse" data-target="#attribution-statement" aria-expanded="true" aria-controls="attribution-statement">'+__e(i18n("app.modules.versions.component.attributionStatement",null))+'&nbsp;&nbsp;<span class="fa fa-angle-down"></span></h5><div class="collapse in" id="attribution-statement"><textarea>'+(null==(__t=obj.attributionStatement)?"":__t)+"</textarea></div></div><hr/>");return __p},this.JST["#licenses-edit-license-edit-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="region-report-indicator"></div><div id="region-attribution-statement"></div>';return __p},this.JST["#licenses-edit-license-report-indicator"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="text-right" id="notice-file-indicator"><input id="inAttributionReport" type="checkbox"/><label for="inAttributionReport">'+__e(i18n("app.modules.versions.component.attributionStatement.confirmReport",null))+"</label></div>";return __p},this.JST["#licenses-edit-license-text"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(!_.isUndefined(obj.licenseText)&&"UNKNOWN"!==obj.ownership){if(__p+='<div class="panel panel-default license-text"><h2 class="panel-heading">'+__e(obj.name),(obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}__p+='<div class="pull-right">',_.isUndefined(obj.updatedAt)||(__p+='<span class="update-status">'+(null==(__t=i18n("app.modules.versions.licenseText.updatedAt",{username:obj.updatedByUserName,updatedAt:obj.formatDate(obj.updatedAt)}))?"":__t)+"</span>"),__p+="\n",canUpdate()&&(__p+='<span class="dropdown license-actions"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-gear"></span>&nbsp;<span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li id="restore-original"><a>'+(null==(__t=i18n("app.modules.versions.licenseText.restore"))?"":__t)+"</a></li></ul></span>"),__p+='</div><div class="clearfix"></div></h2><div class="panel-body"><textarea class="license-text-body" placeholder="'+__e(i18n("app.modules.versions.licenseText.empty"))+'">'+__e(obj.licenseText)+"</textarea></div></div>"}return __p},this.JST["#licenses-preview-license-layout"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><span class="fa fa-legal fa-lg"></span>'+(null==(__t=getTitle())?"":__t)+'<div class="close-modal js-btn-cancel pull-right"><span>&times;</span></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="container-fluid"><div class="row"><div class="col-sm-12"><div class="region-license-edit"></div><div class="region-license-selection"></div></div></div><br/><br/><div class="row"><div class="region-licenses-list-modal-list col-sm-3"></div><div class="region-licenses-list-modal-preview col-sm-9"></div>',canUpdate()&&(__p+='<div class="col-sm-12"><div class="pull-right"><button class="btn btn-primary js-btn-ok" type="button">'+__e(i18n("app.modules.common.button.saveChanges",null))+"</button></div></div>"),__p+='</div></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#licenses-preview-license-list-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=__e(obj.name)+"\n",obj.spdxId&&(__p+='<div class="spdx-id text-muted">('+__e(obj.spdxId)+")</div>");return __p},this.JST["#licenses-preview-license-list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<ul class="license-list-container list-group"></ul>';return __p},this.JST["#licenses-preview-license-preview"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){if(__p+='<div class="panel panel-default license-details"><h2 class="panel-heading">'+__e(obj.name)+'<div class="pull-right">',(obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}__p+='</div><div class="clearfix"></div></h2><div class="panel-body"></div></div>',_.isUndefined(obj.licenseText)||"UNKNOWN"===obj.ownership||""===obj.licenseText||(__p+='<div class="panel panel-default license-text"><div class="panel-body"><pre class="license-text-body">'+__e(obj.licenseText)+"</pre></div></div>")}return __p},this.JST["#licenses-preview-license-selection"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="select-license"><label class="control-label">'+__e(i18n("app.modules.versions.license",null))+'</label><div class="update-actions row"><div class="col-xs-12"><select class="license-selector"></select></div><div class="col-xs-12"><div class="js-license-change-warning alert alert-danger"></div></div></div></div>';return __p},this.JST["#licenses-preview-license-text"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><div class="clearfix"><div class="pull-left"><span class="fa fa-legal fa-lg"></span>&nbsp;'+(null==(__t=obj.license.get("name"))?"":__t)+'</div><div class="pull-right">';var codesharing=obj.license.get("codeSharing");if(__p+="<small>",(obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}__p+="</small>";var licenseUrl="#licenses/view:overview/id:"+obj.id;__p+='<a href="'+(null==(__t=licenseUrl)?"":__t)+'" target="_blank"><span class="fa fa-expand js-btn-expand fa-btn" title="'+__e(i18n("app.modules.common.openInANewWindow"))+'"></span></a><span class="fa fa-close js-btn-cancel fa-btn" title="'+__e(i18n("app.modules.common.button.close"))+'"></span></div></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><pre class="license-text-body">'+(null==(__t=obj.license.get("licenseText"))?"":__t)+'</pre></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>"}return __p},this.JST["#licenses-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-legal"></span></div></div></div><h1>',__p+=license.get("codeSharing")?'<small class="asset-location">'+(null==(__t=getLicenseFamily(license))?"":__t)+"</small>"+(null==(__t=license.get("name"))?"":__t):'<div class="no-location">'+(null==(__t=license.get("name"))?"":__t)+"</div>",__p+='</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#licenses-label-codesharing"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if((obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}return __p},this.JST["#licenses-license-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.isReadonly?"\n"+(null==(__t=licenseFlag+licenseName)?"":__t)+"\n":'<a class="btn-license-link" href="#">'+(null==(__t=licenseFlag+licenseName)?"":__t)+"</a>";return __p},this.JST["#licenses-license-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+(null==(__t=getTitle())?"":__t)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="container-fluid"><div class="row"><div class="region-licenses-list col-sm-3"></div><div class="region-licenses-preview col-sm-9"></div></div></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#licenses-overview-spdx"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="row"><div class="col-sm-12 col-md-8"><pre>'+__e(license.get("licenseText"))+'</pre></div><div class="col-sm-12 col-md-4"><div class="panel panel-default license-details"><h2 class="panel-heading">'+__e(i18n("app.modules.licenses.licenseDetails",null))+'</h2><div class="panel-body">';var spdx=license.get("spdx");__p+='<table class="table table-no-border" role="presentation"><tbody><tr><td class="text-muted">'+__e(i18n("app.modules.licenses.spdxId",null))+"</td><td>"+__e(spdx.spdxId)+'</td></tr><tr><td class="text-muted">'+__e(i18n("app.modules.licenses.osiApproved",null))+"</td><td>",__p+=spdx.osiApproved?'<span class="fa fa-check success"></span>&nbsp;&nbsp;'+__e(i18n("app.modules.common.Yes",null)):'<span class="fa fa-close danger"></span>&nbsp;&nbsp;'+__e(i18n("app.modules.common.No",null)),__p+='</td></tr><tr><td class="text-muted">'+__e(i18n("app.modules.versions.bom.licenseFamily",null))+"</td><td>";var codeSharing=license.get("codeSharing");if((obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}__p+='</td></tr><tr><td class="text-muted">'+__e(i18n("app.modules.common.links",null))+'</td><td class="spdx-links">',_.each(spdx.urls,function(a){__p+='<div><a class="external-link" href="'+__e(a)+'" target="_blank">'+__e(a)+'<span class="fa fa-external-link"></span></a></div>'}),__p+="</td></tr></tbody></table></div></div></div></div>"}return __p},this.JST["#licenses-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-sm-12 col-md-8 col-md-offset-2"><pre>'+__e(license.get("licenseText"))+"</pre></div></div>";return __p},this.JST["#link-helper-anchor-tag"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="'+__e(className)+'" href="'+__e(href)+'" title="'+__e(title)+'">'+__e(label)+"</a>";return __p},this.JST["#link-nav-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#link-user-user-details"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(model){__p+='<div class="media"><div class="media-left text-center"><img class="profile-image" src="'+__e(getGravatarUrl(48))+'" width="48" height="48" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/>',__p+=model.get("active")?'<div class="label label-success">'+__e(i18n("common.active",null))+"</div>":'<div class="label label-danger">'+__e(i18n("common.inactive",null))+"</div>",__p+='</div><div class="media-body"><h4 class="media-heading">'+__e(getName())+"</h4>";var email=model.get("email");__p+='<a href="mailto:'+__e(email)+'">'+__e(email)+"</a></div></div>"}return __p},this.JST["#modals-layout-form"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2></h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></form></div>";return __p},this.JST["#modals-layout-view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#notifications-menu-activity-badge"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="label label-danger">'+(null==(__t=numeral(count).format("0a"))?"":__t)+"</div>";return __p},this.JST["#notifications-menu-item-default"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa fa-bell"></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">'+__e(i18n("app.modules.notifications.labels.default",null))+'</div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>";return __p},this.JST["#notifications-menu-item-license-limit"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa fa-database fa-2x"></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">'+(null==(__t=obj.notification.data.message)?"":__t)+"<br/>"+(null==(__t=i18n("app.modules.notifications.customerSupport.upgrade.short"))?"":__t)+'</div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>";return __p},this.JST["#notifications-menu-item-policy-override"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa-stack policy-overridden"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-exclamation-circle fa-stack-1x"></span></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">'+(null==(__t=i18n("app.modules.notifications.labels.POLICY_OVERRIDDEN",{componentName:obj.notification.data.componentName}))?"":__t)+'<br/><small class="text-muted">'+(null==(__t=obj.notification.data.projectName)?"":__t)+"\n",obj.notification.data.projectVersionName&&(__p+="\n"+(null==(__t=obj.notification.data.projectVersionName)?"":__t)+"\n"),__p+='</small></div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>";return __p},this.JST["#notifications-menu-item-policy-violation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa-stack policy-violation"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-ban fa-stack-1x text-danger"></span></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">'+(null==(__t=i18n("app.modules.notifications.labels.RULE_VIOLATION",{componentViolationCount:obj.notification.data.componentVersionsInViolation,projectName:obj.notification.data.projectName,releaseName:obj.notification.data.projectVersionName},obj.notification.data.componentVersionsInViolation))?"":__t)+'</div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>";return __p},this.JST["#notifications-menu-item-rule-violation-cleared"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa-stack rule-violation-cleared"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-eraser fa-stack-1x text-success"></span></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">'+(null==(__t=i18n("app.modules.notifications.labels.RULE_VIOLATION_CLEARED",{componentViolationCount:obj.notification.data.componentVersionsInViolation,projectName:obj.notification.data.projectName,releaseName:obj.notification.data.projectVersionName},obj.notification.data.componentVersionsInViolation))?"":__t)+'</div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>";return __p},this.JST["#notifications-menu-item-vulnerability"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<a class="notification-entry media" href="'+(null==(__t=getNotificationUrl())?"":__t)+'"><div class="media-left notification-icon"><span class="fa fa-shield fa-2x"></span></div><div class="media-body"><div class="notification-actions"><div class="notification-action action-close js-action-close" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div><div class="notification-title pull-left">';var totalCount=notification.data.newVulnerabilityCount+notification.data.updatedVulnerabilityCount+notification.data.deletedVulnerabilityCount;__p+="\n";var oneCategory=totalCount===notification.data.newVulnerabilityCount||totalCount===notification.data.updatedVulnerabilityCount||totalCount===notification.data.deletedVulnerabilityCount;__p+="\n";var projectName=notification.data.projectName;__p+="\n";var releaseName=notification.data.releaseName;__p+="\n",oneCategory?notification.data.newVulnerabilityCount>0?__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.new",{vulnerabilityCount:notification.data.newVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.newVulnerabilityCount))?"":__t:notification.data.updatedVulnerabilityCount>0?__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.updated",{vulnerabilityCount:notification.data.updatedVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.updatedVulnerabilityCount))?"":__t:notification.data.deletedVulnerabilityCount>0&&(__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.deleted",{vulnerabilityCount:notification.data.deletedVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.deletedVulnerabilityCount))?"":__t):__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY",{projectName:projectName,releaseName:releaseName}))?"":__t,__p+='</div><div class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+"</div></div></a>"}return __p},this.JST["#notifications-menu-items"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<ul class="notifications-list"></ul><button class="btn btn-primary btn-sm btn-block see-all-activity js-see-all-activity" type="button">'+__e(i18n("app.modules.notifications.button.seeAll",null))+'<span class="fa fa-angle-right"></span></button>';return __p},this.JST["#notifications-menu-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="dropdown-toggle" href="#" data-toggle="dropdown"><span class="fa fa-fw fa-bell" title="'+__e(i18n("app.modules.notifications.title"))+'"></span><div class="visible-xs-inline">'+__e(i18n("app.modules.notifications.title",null))+'</div><span class="caret"></span><div id="activity-count-badge"></div></a><ul class="dropdown-menu js-notifications-menu"></ul><div class="js-notification-alert"></div>';return __p},this.JST["#notifications-menu-license-notification"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="notification-popup"><div class="notification-icon"><span class="fa fa-database fa-lg"></span></div><div class="notification-msg"><span>'+(null==(__t=obj.notification.data.message)?"":__t)+"</span><br/><span>"+(null==(__t=i18n("app.modules.notifications.customerSupport.upgrade.short"))?"":__t)+'</span></div><div class="notification-close"><span class="fa fa-times"></span></div></div>';
    return __p},this.JST["#notifications-view-newsfeed-item-license_limit"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="media"><div class="media-left"><div class="media-object notification-icon"><span class="fa fa-database fa-2x"></span></div></div><div class="media-body"><div class="media-heading">'+(null==(__t=obj.notification.data.message)?"":__t)+'<br/><small class="text-muted">'+(null==(__t=i18n("app.modules.notifications.customerSupport.upgrade.short"))?"":__t)+'</small></div><div class="notification-description"></div><small class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+'</small><div class="notification-actions pull-right"><div class="notification-action action-close js-action-close" type="button" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div></div></div>';return __p},this.JST["#notifications-view-newsfeed-item-policy_override"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="media"><div class="media-left"><div class="media-object notification-icon"><span class="fa-stack policy-overridden"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-exclamation-circle fa-stack-1x"></span></span></div></div><div class="media-body"><div class="media-heading"><a href="'+(null==(__t=getNotificationUrl())?"":__t)+'">'+(null==(__t=i18n("app.modules.notifications.labels.POLICY_OVERRIDDEN",{componentName:obj.notification.data.componentName}))?"":__t)+'</a><br/><small class="text-muted">'+(null==(__t=obj.notification.data.projectName)?"":__t)+"\n",obj.notification.data.projectVersionName&&(__p+="\n"+(null==(__t=obj.notification.data.projectVersionName)?"":__t)+"\n"),__p+='</small></div><div class="notification-description"></div><small class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+'</small><div class="notification-actions pull-right"><div class="notification-action action-close js-action-close" type="button" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div></div></div>';return __p},this.JST["#notifications-view-newsfeed-item-rule_violation_cleared"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="media"><div class="media-left"><div class="media-object notification-icon"><span class="fa-stack rule-violation-cleared"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-eraser fa-stack-1x text-success"></span></span></div></div><div class="media-body"><div class="media-heading"><a href="'+(null==(__t=actionUrl)?"":__t)+'">'+(null==(__t=i18n("app.modules.notifications.labels.RULE_VIOLATION_CLEARED",{componentViolationCount:obj.notification.data.componentVersionsInViolation,projectName:obj.notification.data.projectName,releaseName:obj.notification.data.projectVersionName},obj.notification.data.componentVersionsInViolation))?"":__t)+'</a><br/><small class="text-muted">'+__e(getComponentsInViolation())+'</small></div><div class="notification-description"></div><small class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+'</small><div class="notification-actions pull-right"><div class="notification-action action-close js-action-close" type="button" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div></div></div>';return __p},this.JST["#notifications-view-newsfeed-item-rule_violation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="media"><div class="media-left"><div class="media-object notification-icon"><span class="fa-stack policy-violation"><span class="fa fa-archive fa-stack-2x"></span><span class="fa fa-ban fa-stack-1x text-danger"></span></span></div></div><div class="media-body"><div class="media-heading"><a href="'+(null==(__t=getNotificationUrl())?"":__t)+'">'+(null==(__t=i18n("app.modules.notifications.labels.RULE_VIOLATION",{componentViolationCount:obj.notification.data.componentVersionsInViolation,projectName:obj.notification.data.projectName,releaseName:obj.notification.data.projectVersionName},obj.notification.data.componentVersionsInViolation))?"":__t)+'</a><br/><small class="text-muted">'+__e(getComponentsInViolation())+'</small></div><div class="notification-description"></div><small class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+'</small><div class="notification-actions pull-right"><div class="notification-action action-close js-action-close" type="button" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div></div></div>';return __p},this.JST["#notifications-view-newsfeed-item-vulnerability"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="media"><div class="media-left"><div class="media-object notification-icon"><span class="fa fa-shield fa-2x fa-fw"></span></div></div><div class="media-body"><div class="media-heading"><a href="'+(null==(__t=getNotificationUrl())?"":__t)+'">';var totalCount=notification.data.newVulnerabilityCount+notification.data.updatedVulnerabilityCount+notification.data.deletedVulnerabilityCount;__p+="\n";var oneCategory=totalCount===notification.data.newVulnerabilityCount||totalCount===notification.data.updatedVulnerabilityCount||totalCount===notification.data.deletedVulnerabilityCount;__p+="\n";var projectName=notification.data.projectName;__p+="\n";var releaseName=notification.data.releaseName;__p+="\n",oneCategory?notification.data.newVulnerabilityCount>0?__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.new",{vulnerabilityCount:notification.data.newVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.newVulnerabilityCount))?"":__t:notification.data.updatedVulnerabilityCount>0?__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.updated",{vulnerabilityCount:notification.data.updatedVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.updatedVulnerabilityCount))?"":__t:notification.data.deletedVulnerabilityCount>0&&(__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY.deleted",{vulnerabilityCount:notification.data.deletedVulnerabilityCount,projectName:projectName,releaseName:releaseName},notification.data.deletedVulnerabilityCount))?"":__t):__p+=null==(__t=i18n("app.modules.notifications.labels.VULNERABILITY",{projectName:projectName,releaseName:releaseName}))?"":__t,__p+="\n",notification.data.newVulnerabilityCount>0&&(__p+='<div class="meta-data-list"><div class="meta-data"><div class="meta-data-key">'+__e(i18n("app.modules.common.new",null))+'</div><div class="meta-data-val">'+(null==(__t=_.map(notification.data.newVulnerabilityIds,function(a){return'<a href="#vulnerabilities/id:'+a.vulnerabilityId+'/view:overview" target="_blank">'+a.vulnerabilityId+"</a>"}).join(", "))?"":__t)+"</div></div></div>"),notification.data.updatedVulnerabilityCount>0&&(__p+='<div class="meta-data-list"><div class="meta-data"><div class="meta-data-key">'+__e(i18n("app.modules.common.updated",null))+'</div><div class="meta-data-val">'+(null==(__t=_.map(notification.data.updatedVulnerabilityIds,function(a){return'<a href="#vulnerabilities/id:'+a.vulnerabilityId+'/view:overview" target="_blank">'+a.vulnerabilityId+"</a>"}).join(", "))?"":__t)+"</div></div></div>"),notification.data.deletedVulnerabilityCount>0&&(__p+='<div class="meta-data-list"><div class="meta-data"><div class="meta-data-key">'+__e(i18n("app.modules.common.deleted",null))+'</div><div class="meta-data-val">'+(null==(__t=_.map(notification.data.deletedVulnerabilityIds,function(a){return'<a href="#vulnerabilities/id:'+a.vulnerabilityId+'/view:overview" target="_blank">'+a.vulnerabilityId+"</a>"}).join(", "))?"":__t)+"</div></div></div>"),__p+='</a></div><div class="notification-description"></div><small class="notification-date text-muted pull-right">'+(null==(__t=formatDate(notification.createdOn))?"":__t)+'</small><div class="notification-actions pull-right"><div class="notification-action action-close js-action-close" type="button" title="'+__e(i18n("app.modules.common.button.delete"))+'"><span class="fa fa-trash-o"></span></div><div class="notification-action action-revert js-action-revert" title="'+__e(i18n("app.modules.notifications.reEnable"))+'"><span class="fa fa-undo"></span></div></div></div></div>'}return __p},this.JST["#notifications-view-newsfeed"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row main-container"><div class="col-md-6 col-md-offset-3"><div class="filter-container clearfix"></div><h2 class="no-data-label"><span class="fa fa-bell"></span>'+__e(i18n("app.modules.notifications.labels.noData",null))+'</h2><div class="clearfix"></div></div></div><div class="row"><ul class="col-md-6 col-md-offset-3" id="notifications-view-newsfeed-items"></ul><div class="col-md-3"><div id="support-card"></div></div></div><div class="row"><div class="col-md-6 col-md-offset-3" id="notifications-view-newsfeed-pagination"></div></div>';return __p},this.JST["#notifications-view-support-card"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="bg-icon"><span class="fa fa-fw fa-comment-o"></span></div><div class="panel panel-default"><div class="panel-body">'+(null==(__t=i18n("app.modules.notifications.limit.warning"))?"":__t)+'<br/><br/><div class="text-muted">'+(null==(__t=i18n("app.modules.notifications.limit.codeScanning"))?"":__t)+'</div><div class="progress"><div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="'+(null==(__t=obj.actualValue)?"":__t)+'" aria-valuemin="0" aria-valuemax="'+(null==(__t=obj.softValue)?"":__t)+'" style="width:'+(null==(__t=obj.actualValue/obj.softValue*100)?"":__t)+'%;"></div></div><div class="text-muted">'+(null==(__t=i18n("app.modules.notifications.limit.codeScanning.usage",{inUsePercentage:Math.round(obj.actualValue/obj.softValue*100)+"%",totalCodeBase:numeral(obj.softValue).format("0.0 b")}))?"":__t)+'</div><br/><a class="notification-entry media" href="'+(null==(__t=obj.url)?"":__t)+'" target="_new">'+(null==(__t=i18n("app.modules.notifications.customerSupport.upgrade"))?"":__t)+"</a></div></div>";return __p},this.JST["#notifications-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="page-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-bell"></span></div></div></div></div><h1><small class="asset-location">'+__e(i18n("app.modules.notifications.title",null))+"</small>"+__e(i18n("app.modules.notifications.allNotifications",null))+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#policy-management-condition-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-1 remove-container"><div class="remove-condition"><span class="fa fa-times"></span></div></div><div class="col-md-4 name-container"><select class="select-add-conditions"></select></div><div class="col-md-2 operation-container"><select class="operation-selector hide"></select></div><div class="col-md-5 value-container"><input class="list-component form-control hide" type="text" placeholder="'+__e(i18n("app.modules.policy.rules.noComponentSetPlaceholder"))+'"/><input class="value-selector form-control hide" type="text"/><input class="version-selector hide" type="text" placeholder="'+__e(i18n("app.modules.policy.rules.selectComponentVersionPlaceholder"))+'"/><div class="set-component btn btn-default hide">'+__e(i18n("app.modules.policy.rules.setComponent",null))+"</div></div>";return __p},this.JST["#policy-management-conditions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="conditions-list"></div><div class="row add-condition-container"><span class="add-condition"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.policy.rules.condition",null))+"</span></span></div>";return __p},this.JST["#policy-management-create"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.rules.create",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="form-horizontal"><div class="form-group"><label class="col-md-3 control-label required">'+__e(i18n("app.modules.policy.rules.name",null))+'</label><div class="col-md-6"><input class="form-control" id="rule-name" type="text" name="name"/><div class="rule-name-form-error"></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.policy.rules.description",null))+'</label><div class="col-md-6"><textarea class="form-control" id="rule-description"></textarea></div></div><div class="form-group"><label class="col-md-3 control-label" for="enabled-rule">'+__e(i18n("app.modules.policy.rules.enabled",null))+'</label><div class="col-md-6"><input type="checkbox" name="enabled-rule" id="enabled-rule" checked="checked"/></div></div><div class="form-group"><label class="col-md-3 control-label" for="manual-override">'+__e(i18n("app.modules.policy.rules.overridable",null))+'</label><div class="col-md-6"><input type="checkbox" name="manual-override" id="manual-override" checked="checked"/></div></div><h5 class="new-rule-description">'+__e(i18n("app.modules.policy.rules.create.message",null))+'</h5><div class="rule-condition-form-error"></div><div class="condition-container"></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'">'+__e(i18n("app.modules.common.button.create",null))+"</button></div></form></div>";return __p},this.JST["#policy-management-delete"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){if(__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.rules.delete",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody">',1===rules.length){__p+="\n";var ruleName=rules[0].get("name");__p+="\n"+__e(i18n("app.modules.policy.rules.delete.message",{policyName:ruleName}))+"\n"}else{__p+="<span>"+__e(i18n("app.modules.policy.rules.delete.message.pl",null))+"<ul>";for(var r in rules)__p+="<li>"+(null==(__t=_.escape(rules[r].get("name")))?"":__t)+"</li>";__p+="</ul></span>"}__p+='</div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></form></div>"}return __p},this.JST["#policy-management-edit"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.rules.edit",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="form-horizontal edit-rule"><div class="form-group"><label class="col-md-3 control-label required">'+__e(i18n("app.modules.policy.rules.name",null))+'</label><div class="col-md-6"><input class="form-control" id="rule-name" type="text" value="'+(null==(__t=name)?"":__t)+'"/><div class="rule-name-form-error"></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.policy.rules.description",null))+'</label><div class="col-md-6"><textarea class="form-control" id="rule-description">',description&&(__p+="\n"+(null==(__t=description)?"":__t)+"\n"),__p+='</textarea></div></div><div class="form-group"><label class="col-md-3 control-label" for="enabled-rule">'+__e(i18n("app.modules.policy.rules.enabled",null))+'</label><div class="col-md-6"><input type="checkbox" name="enabled-rule" id="enabled-rule" checked="checked"/></div></div><div class="form-group"><label class="col-md-3 control-label" for="manual-override">'+__e(i18n("app.modules.policy.rules.overridable",null))+'</label><div class="col-md-6"><input type="checkbox" name="manual-override" id="manual-override" checked="checked"/></div></div><h5 class="new-rule-description">'+__e(i18n("app.modules.policy.rules.create.message",null))+'</h5><div class="rule-condition-form-error"></div><div class="condition-container"></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></form></div>";return __p},this.JST["#policy-management-expanded-row-rule"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<td colspan="4"><div class="col-md-12 policy-rule-content">',description&&(__p+='<div class="col-md-6 rule-content-row"><div class="content-row"><div class="rule-description-container"><strong>'+__e(i18n("app.modules.policy.rules.description",null))+'</strong><div class="rule-description">'+__e(description)+"</div></div></div></div>"),__p+='<div class="col-md-6 rule-conditions"><div class="content-row"><strong>'+__e(i18n("app.modules.policy.rules.condition.pl",null))+'</strong><div class="edit-single btn btn-primary"><span class="fa fa-pencil pull-right"></span></div><div class="conditions"><ul>';for(var exp in expression.expressions){__p+='<li><span class="exp-name">'+__e(i18n("app.modules.policy.rules.condition."+expression.expressions[exp].name))+'</span><span class="exp-operation">'+__e(i18n("app.modules.policy.rules.operation."+expression.expressions[exp].operation))+"</span>";for(var val in expression.expressions[exp].values)__p+='<span class="exp-val">',"SINGLE_VERSION"===expression.expressions[exp].name?__p+="\n"+(null==(__t=expression.expressions[exp].values[val].label.replace(/~/," "))?"":__t)+"\n":(__p+="\n",__p+=expression.expressions[exp].values[val].label||"PROJECT_TAGS"===expression.expressions[exp].name?"\n"+(null==(__t=expression.expressions[exp].values[val].label)?"":__t)+"\n":__e(i18n("app.modules.policy.rules.value."+expression.expressions[exp].values[val].value)),__p+="\n"),__p+="</span>";__p+="</li>"}__p+="</ul></div></div></div></div></td>"}return __p},this.JST["#policy-management-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-archive"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.policy.management.title",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#policy-management-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-sm-12"><div class="messages alert hide"></div></div></div><div class="row"><div class="col-xs-12"><div class="table-actions sticky-action-bar"><div class="pull-left"><div class="region-policy-management-table-actions"></div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="region-rule-table sticky-table"></div></div></div>';return __p},this.JST["#policy-management-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="#policy-management/"><span class="fa fa-archive fa-fw"></span>'+__e(i18n("app.modules.policy.management.title",null))+"</a>";return __p},this.JST["#policy-management-overridable-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.overridable!==!0&&(__p+='<span class="label label-danger">'+__e(i18n("app.modules.policy.rules.notOverridable",null))+"</span>");return __p},this.JST["#policy-management-table-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="btn-group"><button class="btn btn-sm btn-primary js-btn-create-policy-rule" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.policy.rules.create",null))+'</span></button></div><div class="actions-btn-main-container js-actions-btn-main-container btn-group"><button class="btn btn-default js-btn-edit btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.edit"))+'" type="button"><span class="fa fa-pencil"></span>'+__e(i18n("app.modules.common.button.edit",null))+'</button><button class="btn btn-default js-btn-delete btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.delete"))+'" type="button"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div>";return __p},this.JST["#policy-rules-policy-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"IN_VIOLATION"===obj.targetAttribute?__p+='<span class="fa fa-ban high-risk"></span>':"IN_VIOLATION_OVERRIDDEN"===obj.targetAttribute&&(__p+='<span class="fa fa-exclamation-circle"></span>');return __p},this.JST["#policy-rules-violation-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+="<h4>"+__e(obj.name)+'<div class="pull-right">',obj.overridable!==!0&&(__p+='<span class="label label-danger">'+__e(i18n("app.modules.policy.rules.notOverridable",null))+"</span>"),__p+='</div></h4><div class="text-muted description">'+__e(obj.description)+'</div><div class="policy-rule-violations"><div class="policy-rule-content"><div class="rule-conditions row"><div class="col-md-2"><strong>'+(null==(__t=i18n("app.modules.policy.rules.condition",obj.expression.expressions.length))?"":__t)+'</strong></div><div class="col-md-10">';var expressions=obj.expressions;__p+="<ul>";for(var exp in expression.expressions){__p+='<li><span class="exp-name">'+__e(i18n("app.modules.policy.rules.condition."+expression.expressions[exp].name))+'</span><span class="exp-operation">'+__e(i18n("app.modules.policy.rules.operation."+expression.expressions[exp].operation))+"</span>";for(var val in expression.expressions[exp].values)__p+='<span class="exp-val">',"SINGLE_VERSION"===expression.expressions[exp].name?__p+="\n"+(null==(__t=expression.expressions[exp].values[val].label.replace(/~/," "))?"":__t)+"\n":(__p+="\n",__p+=expression.expressions[exp].values[val].label||"PROJECT_TAGS"===expression.expressions[exp].name?"\n"+(null==(__t=expression.expressions[exp].values[val].label)?"":__t)+"\n":__e(i18n("app.modules.policy.rules.value."+expression.expressions[exp].values[val].value)),__p+="\n"),__p+="</span>";__p+="</li>"}__p+="</ul></div></div></div></div>"}return __p},this.JST["#policy-rules-violations-modal-overridden-readonly"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.violations.overridden.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.policy.violations.overridden.description",null))+'</p><div class="js-violations-region policy-rule-violations"></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+"</button></div></div></div>";return __p},this.JST["#policy-rules-violations-modal-overridden"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.violations.overridden.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.policy.violations.overridden.description",null))+'</p><div class="js-violations-region policy-rule-violations"></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.policy.violations.overridden.button",null))+"</button></div></div></div>";return __p},this.JST["#policy-rules-violations-modal-readonly"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.violations.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.policy.violations.description",null))+'</p><div class="js-violations-region policy-rule-violations"></div></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#policy-rules-violations-modal"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.policy.violations.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p class="policy-rule-violations-msg">'+__e(i18n("app.modules.policy.violations.description",null)),__p+=obj.isOverridable()?"&nbsp;"+__e(i18n("app.modules.policy.violations.override.confirm",null)):'<span class="text-danger">'+__e(i18n("app.modules.policy.violations.override.warning",null))+"</span>",__p+='</p><div class="js-violations-region policy-rule-violations"></div></div><div class="modal-footer" id="modalFooter">',__p+=obj.isOverridable()?'<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.policy.violations.override.button",null))+"</button>":'<button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button>",__p+="</div></div></div>";return __p},this.JST["#project-members-add-btn"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-sm btn-primary js-add-members" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.team.members.add.member",null))+"</span></button>";return __p},this.JST["#project-members-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.team.members.remove.teamMembers",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.team.members.remove.members.modal",{user:user.name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.removing"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.remove",null))+"</button></div></div></div>";return __p},this.JST["#project-members-gravatar-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<img class="profile-image" src="'+__e(gravatar.getGravatarUrl(obj.user.email,24))+'" width="24" height="24" alt="'+__e(i18n("app.modules.common.header.profile.image.alt"))+'"/>';return __p},this.JST["#project-members-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="table-actions sticky-action-bar"><div class="add-project-members"></div></div><div class="project-members-table sticky-table"></div>';return __p},this.JST["#project-members-state-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.user.active?'<span class="active-state text-success">'+__e(i18n("common.active",null))+"</span>":'<span class="inactive-state text-danger">'+__e(i18n("common.inactive",null))+"</span>";return __p},this.JST["#projects-basics-edit-project-footer"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-9 col-md-offset-3"><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+'</button></div></div><div class="row delete-section"><div class="col-md-12"><h3 class="text-left">'+__e(i18n("app.modules.projects.myprojects.removeConfirm",null))+'</h3><div class="delete-description">'+__e(i18n("app.modules.projects.myprojects.removeConfirm.description",null))+'</div><button class="btn btn-danger btn-small pull-right js-delete-project-button"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.projects.myprojects.removeConfirm",null))+"</button></div></div>";
    return __p},this.JST["#projects-components-component-version-row"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<td></td><td></td><td>",__p+=isVersionUnspecified()?__e(i18n("app.modules.versions.bom.unspecified",null)):'<a href="'+__e(getComponentLink())+'">'+__e(version)+"</a>",__p+="</td><td>"+(null==(__t=getWhereUsedLink())?"":__t)+'</td><td class="security-risk-cell"></td><td class="license-risk-cell"></td><td class="operational-risk-cell"></td>';return __p},this.JST["#projects-components-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="projects-components-risk js-d3charts-filterable col-sm-4 col-md-3 col-lg-2"><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.securityRisk",null))+'</h2><div class="panel-body"><div class="vulnerability-risk-chart std-bar-chart"></div></div></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.licenseRisk",null))+'</h2><div class="panel-body"><div class="license-risk-chart std-bar-chart"></div></div></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.operationalRisk",null))+'</h2><div class="panel-body"><div class="operational-risk-chart std-bar-chart"></div></div></div></div><div class="col-sm-8 col-md-9 col-lg-10"><div class="projects-components-filter clearfix sticky-action-bar"></div><div class="projects-components-table sticky-table"></div></div></div>';return __p},this.JST["#projects-components-name-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#projects/id:"+obj.id)+'" title="'+__e(obj.targetAttribute)+'">'+__e(obj.targetAttribute)+"</a>";return __p},this.JST["#projects-components-usage-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.releasesUsedCount>1)__p+="\n"+(null==(__t=obj.usedCount)?"":__t)+"\n";else{__p+="\n";var entityKey=obj.releasesUsed[0].entityKey;__p+="\n";var objType="RL"===entityKey.entityType?"versions":"projects";__p+="\n";var viewType="RL"===entityKey.entityType?"overview":"versions";__p+="\n"+(null==(__t=obj.assetLink(obj.releasesUsed[0],objType,viewType,obj.targetAttribute,i18n("app.project.version.usages.hover",{num:obj.targetAttribute})))?"":__t)+"\n"}return __p},this.JST["#projects-components-version-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var releasesUsed=model.get("releasesUsed");__p+="\n";var releasesCount=releasesUsed.length;if(__p+="\n",releasesUsed.length>1)__p+="\n"+__e(i18n("app.projects.releaseCount.value",{versionCount:releasesCount},releasesCount))+"\n";else{__p+="\n";var release=releasesUsed[0];__p+="\n",__p+="PJ"===release.entityKey.entityType?__e(i18n("app.modules.versions.bom.unspecified",null)):'<a href="'+(null==(__t="#versions/id:"+release.entityKey.entityId)?"":__t)+'" title="'+__e(release.version)+'">'+__e(release.version)+"</a>",__p+="\n"}}return __p},this.JST["#projects-group-add-btn"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-primary btn-sm" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.work.project.version.add.group",null))+"</span></button>";return __p},this.JST["#projects-group-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.work.project.version.delete.group",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.work.project.version.delete.group.message",{group:obj.userGroup.name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.removing"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.remove",null))+"</button></div></div></div>";return __p},this.JST["#projects-group-group-name"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(obj.userGroup.name);return __p},this.JST["#projects-group-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="table-actions sticky-action-bar"><div class="add-project-groups"></div></div><div class="project-groups-table sticky-table"></div>';return __p},this.JST["#projects-group-state-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.userGroup.active?'<span class="active-state text-success">'+__e(i18n("common.active",null))+"</span>":'<span class="inactive-state text-danger">'+__e(i18n("common.inactive",null))+"</span>";return __p},this.JST["#projects-myprojects-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.projects.myprojects.removeConfirm",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.projects.myprojects.removeProject",{project:name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#projects-myprojects-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="projects-myprojects-charts js-d3charts-filterable col-sm-4 col-md-3 col-lg-2"><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.securityRisk",null))+'</h2><div class="panel-body"><div class="vulnerability-risk-chart std-bar-chart"></div></div></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.licenseRisk",null))+'</h2><div class="panel-body"><div class="license-risk-chart std-bar-chart"></div></div></div><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.operationalRisk",null))+'</h2><div class="panel-body"><div class="operational-risk-chart std-bar-chart"></div></div></div></div><div class="col-sm-8 col-md-9 col-lg-10"><div class="projects-filter-table clearfix sticky-action-bar"></div><div class="projects-myprojects-table table-responsive sticky-table"></div></div></div>';return __p},this.JST["#projects-myprojects-project-name-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+(null==(__t="#projects/id:"+obj.id)?"":__t)+'">'+__e(obj.name)+"</a>";return __p},this.JST["#projects-settings-layout"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)currentProject.attributes.kb||(__p+='<div class="container-fluid"><div class="row"><div class="col-sm-3 col-lg-2"><!-- TODO should be loaded from weighted store--><div class="left-nav list-group"><a class="list-group-item active" href="#projects/id:'+__e(currentProject.id)+'/view:settings/tab:projects" data-target-id="projects">'+__e(i18n("app.modules.work.projectBasicsTitle",null))+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div></a><a class="list-group-item" href="#projects/id:'+__e(currentProject.id)+'/view:settings/tab:members" data-target-id="members">'+__e(i18n("app.modules.userGroups.members.label",null))+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div></a><a class="list-group-item" href="#projects/id:'+__e(currentProject.id)+'/view:settings/tab:groups" data-target-id="groups">'+__e(i18n("app.modules.userGroups.groups.label",null))+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div></a></div></div><div class="col-sm-9 col-lg-10 projects-settings-content"></div></div></div>');return __p},this.JST["#projects-settings-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#projects/id:"+currentProject.id+"/view:settings")+'"><span class="fa fa-cog"></span>'+__e(i18n("app.modules.versions.settings",null))+"</a></li>";return __p},this.JST["#projects-tags-current-tags"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<h5><span class="fa fa-tags"></span>'+__e(i18n("app.modules.common.tags",null))+"</h5>",__p+=currentProject.get("kb")?'<div class="tag-block"><ul class="tags list-inline"></ul></div>':'<div class="js-select-usage tag-block tag-editable"><span class="fa fa-pencil" id="editTags"></span><ul class="tags list-inline"></ul></div><div class="input-tag-form-errors"></div>';return __p},this.JST["#projects-tags-no-tag"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="no-data">'+__e(i18n("app.views.projectSettings.no.tags",null))+"</span>";return __p},this.JST["#projects-tags-tag"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-tag"></span><span>'+__e(value)+"</span>";return __p},this.JST["#projects-versions-add-version-btn"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-primary btn-sm" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.versions.newVersion",null))+"</span></button>";return __p},this.JST["#projects-versions-description"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<h5>"+__e(i18n("app.modules.common.description",null))+"</h5>",__p+=project.get("description")?'<p class="js-project-description-content project-description-content">'+__e(project.get("description"))+'</p><div class="view-more-control"><div class="view-more-shadow"></div><a class="js-view-more-btn view-more-btn btn btn-default btn-xs" href="#">'+__e(i18n("app.modules.common.more",null))+'</a></div><a class="js-view-less-btn view-less-btn btn btn-default btn-xs" href="#">'+__e(i18n("app.modules.common.less",null))+"</a>":'<div class="no-data">'+__e(i18n("app.modules.common.noDescription",null))+"</div>";return __p},this.JST["#projects-versions-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-9 project-versions-list"><div class="table-actions clearfix sticky-action-bar"><div class="row"><div class="col-sm-6"><div id="region-projects-versions-add-version-btn"></div><div id="region-projects-versions-watch"></div></div><div class="col-sm-6"><div class="js-versions-filter clearfix"></div></div></div></div><div class="js-project-version-list sticky-table"></div></div><div class="col-md-3 js-project-metadata project-metadata"></div></div>';return __p},this.JST["#projects-versions-license-unknown"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="pull-left">'+__e(i18n("app.modules.licenses.unknown",null))+'</div><div class="pull-right"><div class="label label-danger">'+__e(i18n("app.modules.licenses.unknown",null))+"</div></div>";return __p},this.JST["#projects-versions-license"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.licenseId){if(__p+='<div class="clearfix"><div class="pull-left"><a href="#licenses/id:'+__e(obj.licenseId)+'/action:modal">'+__e(licenseDisplay)+'</a></div><div class="pull-right">',(obj.codeSharing||codeSharing)!==undefined){__p+="\n";var codeSharing=obj.codeSharing||codeSharing;__p+='<div class="label '+__e(getLicenseClassName(codeSharing))+'">'+__e(i18n("app.modules.licenses.family."+codeSharing))+"</div>"}__p+="</div></div>"}return __p},this.JST["#projects-versions-licenses"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h5><span class="fa fa-gavel"></span>'+__e(i18n("app.modules.versions.bom.license.pl",null))+'</h5><div class="js-licenses-container project-links"></div><div class="clearfix"></div>';return __p},this.JST["#projects-versions-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#projects/id:"+currentProject.get("id")+"/view:versions")+'">'+__e(i18n("app.modules.common.overview",null))+"</a></li>";return __p},this.JST["#projects-versions-metadata"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-7 col-md-12"><div class="js-project-description metadata-section"></div><div class="js-project-release-info metadata-section"></div><div class="js-project-licenses metadata-section"></div><div class="js-project-urls metadata-section"></div><div class="js-project-tags metadata-section"></div></div>';return __p},this.JST["#projects-versions-release-info"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="fa fa-rocket"></span>'+__e(getReleasedDate(version.get("releasedOn")));return __p},this.JST["#projects-versions-url"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="external-link" href="'+__e(obj.url)+'" title="'+__e(obj.linkName)+'" target="_blank">'+__e(obj.url)+"</a>";return __p},this.JST["#projects-versions-urls"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h5><span class="fa fa-link"></span>'+__e(i18n("app.modules.common.links",null))+'</h5><div class="project-links js-project-urls"></div><div class="view-more-control"><div class="view-more-shadow"></div><a class="js-view-more-btn view-more-btn btn btn-default btn-xs" href="#">'+__e(i18n("app.modules.common.more",null))+'</a></div><a class="js-view-less-btn view-less-btn btn btn-default btn-xs" href="#">'+__e(i18n("app.modules.common.less",null))+"</a>";return __p},this.JST["#projects-versions-usage-count-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.targetAttribute>0?'<a class="label label-default kb-version-used-count" href="#versions/id:'+(null==(__t=obj.release.id)?"":__t)+'/view:overview" title="'+__e(i18n("app.project.version.usages.hover",{num:obj.targetAttribute}))+'">'+__e(obj.targetAttribute)+"</a>":'<span class="kb-version-used-count-zero">'+__e(obj.targetAttribute)+"</span>";return __p},this.JST["#projects-versions-version-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=obj.assetLink(obj.release,"versions",obj.release.kb?"overview":"bom",obj.targetAttribute,obj.targetAttribute))?"":__t;return __p},this.JST["#projects-versions-watch"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<button class="btn btn-primary btn-sm" type="button"><span class="js-watch-icon-container btn-icon-container"><i class="js-watch-indicator fa fa-'+__e(isWatching?"star":"star-o")+'"></i></span>',__p+=__e(isWatching?i18n("app.modules.projects.stopWatching",null):i18n("app.modules.projects.watch",null)),__p+="</button>";return __p},this.JST["#projects-create-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#projects/view:create/action:modal">'+__e(i18n("app.projects.create",null))+"</a></li>";return __p},this.JST["#projects-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var ownership=project.get("kb")?"1":"0";__p+="\n";var projectName=project.get("name");__p+="\n";var logoUrl=project.get("kb")&&project.get("logos").mediumLogoUrl;__p+="\n";var primaryLanguage=project.get("primaryLanguage")||undefined;__p+="\n";var projectReleasesCount=project.get("releases").items.length;__p+="\n";var projectId=project.id;__p+="\n";var projectLocation=i18n("app.modules.search.filtervalue.ownership"+ownership);__p+="\n";var hostname=parseHostname(project.get("url"));__p+="\n",projectLocation=hostname||projectLocation,__p+="\n";var tier=project.get("tier");__p+="\n";var hasProjectOwner=project.get("projectOwnerId");__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=logoUrl?'<div class="project-logo"><img src="'+__e(logoUrl)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"/></div>':"0"===ownership?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(projectLocation)+'</small><a title="'+__e(projectName)+'" href="#projects/id:'+__e(projectId)+'">'+__e(projectName)+'</a></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof primaryLanguage?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(primaryLanguage))+'">'+__e(getLanguageAbbrev(primaryLanguage))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof projectReleasesCount&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(projectId)+'/view:versions">'+__e(projectReleasesCount)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div>'}return __p},this.JST["#recent-item-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<a class="recent-item sidenav-entry media" href="'+__e(url)+'" title="'+__e(name)+'"><div class="media-left sidenav-icon">',"undefined"!=typeof glyph&&glyph.icon?__p+='<span class="'+__e(glyph.icon)+'" role="presentation"></span>':"undefined"!=typeof glyph&&glyph.href&&(__p+='<img class="recent-logo" src="'+(null==(__t=glyph.href)?"":__t)+'" alt="'+__e(i18n("app.modules.common.logo.alt",{logoName:name}))+'" width="24"/>'),__p+='</div><div class="media-body"><div class="sidenav-actions"><span class="fa fa-trash-o sidenav-action js-remove"></span></div><div class="sidenav-title">'+__e(name)+'</div><div class="sidenav-date text-muted"><span class="fa fa-clock-o"></span>'+(null==(__t=formatDate(accessedDate,i18n("app.relativeDate.never"),!1))?"":__t)+"</div></div></a>";return __p},this.JST["#recent-item-sidenav"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="collapsed expander" data-toggle="collapse" href="#recentItemsBucket" aria-expanded="false" aria-controls="recentItemsBucket"><span class="fa fa-clock-o fa-fw" title="'+__e(i18n("app.modules.sidenav.recents"))+'"></span>'+__e(i18n("app.modules.sidenav.recents",null))+'<span class="fa fa-angle-right fa-fw pull-right"></span></a><ul class="collapse sidenav-list" id="recentItemsBucket"></ul>';return __p},this.JST["#registration-error"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default panel-login registration-error"><div class="ducky-bg"></div><div class="panel-heading"><div class="brand"><img src="'+__e(this.bdsHubProxyPrefix)+'/api/internal/logo.png" height="34"/></div></div><div class="panel-body">'+__e(i18n("app.modules.admin.registration.statusText.communicationFailure",null))+"</div></div>";return __p},this.JST["#registration-modal"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.admin.registration.registration",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="form-group '+__e(valid?"has-success":"has-error")+'"><label class="control-label col-md-3" for="registrationId">'+__e(i18n("app.modules.admin.registration.registrationId",null))+'</label><div class="col-md-7"><input class="form-control" name="registrationId" tabindex="0" value="'+__e("undefined"!=typeof registrationId?registrationId:"")+'"/><span class="form-control-feedback"><span class="fa '+__e(valid?"fa-check":"fa-times")+'"></span></span></div></div><div class="row"><p class="help-block text-center">'+(null==(__t=statusHtml)?"":__t)+'</p></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></form></div>";return __p},this.JST["#reports-bar-chart-project-status"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="bar-chart-project-status"></div>';return __p},this.JST["#reports-bar-chart-version-status"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="bar-chart-version-status"></div>';return __p},this.JST["#reports-bold-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<strong>"+__e(obj.targetAttribute)+"</strong>";return __p},this.JST["#reports-comments-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.targetAttribute?"\n"+(null==(__t=obj.targetAttribute)?"":__t)+"\n":"<div>--</div>";return __p},this.JST["#reports-delete-confirm"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.reports.deleteReport",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.reports.deleteReport.confirmMessage",null))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#reports-format-full-date-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.targetAttribute?"\n"+(null==(__t=obj.formatDateFull(obj.targetAttribute))?"":__t)+"\n":"<div>--</div>";return __p},this.JST["#reports-header-report"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-line-chart"></span></div></div></div><h1><div><a href="#reports">'+__e(i18n("app.modules.reports.title",null))+'</a><span class="report-title js-report-title"><span class="fa fa-caret-right"></span><span class="js-report-title-value">'+__e(obj.getReportTitle())+'</span></span></div><div class="asset-meta-block reports"><div class="asset-meta js-creation-date"><span class="asset-meta-key">'+__e(i18n("common.created",null))+'</span><span class="asset-meta-val"></span></div><div class="asset-meta js-creation-author"><span class="asset-meta-key">'+__e(i18n("common.createdBy",null))+'</span><span class="asset-meta-val"></span></div><div class="asset-meta js-report-start-date"><span class="asset-meta-key">'+__e(i18n("app.modules.reports.start.date",null))+'</span><span class="asset-meta-val"></span></div><div class="asset-meta js-report-end-date"><span class="asset-meta-key">'+__e(i18n("app.modules.reports.end.date",null))+'</span><span class="asset-meta-val"></span></div></div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#reports-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-line-chart"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.reports.title",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#reports-list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-sm-12"><div class="table-actions clearfix sticky-action-bar"><div class="pull-left"><div class="create-report btn-toolbar"><button class="btn btn-primary btn-sm js-create-report" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.reports.create.new",null))+'</span></button></div></div></div></div></div><div class="row"><div class="col-sm-12"><div class="reports-table sticky-table"></div></div></div>';return __p},this.JST["#reports-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="#reports/"><span class="fa fa-line-chart fa-fw"></span>'+__e(i18n("app.modules.reports.title",null))+"</a>";return __p},this.JST["#reports-page-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="reports-empty-container text-center"><div class="icon"><span class="fa fa-area-chart"></span></div><div class="text"><h2>'+__e(i18n("app.modules.reports.no.data",null))+"</h2></div></div>";return __p},this.JST["#reports-pie-chart-update"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="pie-chart-update"></div>';return __p},this.JST["#reports-project-version-link"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="details-link"><span class="fa fa-cube"></span>';var projectId=obj.producerProjectId;__p+="\n";var projectName=obj.producerProjectName;__p+="\n";var versionId=obj.producerVersionId;__p+="\n";var versionName=obj.producerReleaseVersion;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>";var channelName=obj.producerChannelVersionExternalNamespace;__p+="\n";var channelVersion=obj.producerChannelVersionExternalId||obj.producerChannelVersionName;__p+='<small class="project-version-distribution text-muted"><span class="fa fa-cloud" title="'+__e(i18n("app.modules.scans.distribution"))+'"></span><span class="ext-namespace"> '+(null==(__t=channelName)?"":__t)+"</span> "+(null==(__t=channelVersion)?"":__t)+"</small></div>"}return __p},this.JST["#reports-project-vulnerabilities-details"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){if(__p+='<td colspan="8">',obj.producerProjectId){__p+='<span class="fa fa-cube"></span>';var projectId=obj.producerProjectId;__p+="\n";var projectName=obj.producerProjectName;__p+="\n";var versionId=obj.producerVersionId;__p+="\n";var versionName=obj.producerVersion;if("undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>",obj.producerChannelVersionExternalId||obj.producerChannelVersionName){__p+="\n";var channelName=obj.producerChannelVersionExternalNamespace;__p+="\n";var channelVersion=obj.producerChannelVersionExternalId||obj.producerChannelVersionName;__p+='<small class="project-version-distribution text-muted"><span class="fa fa-cloud" title="'+__e(i18n("app.modules.scans.distribution"))+'"></span><span class="ext-namespace"> '+(null==(__t=channelName)?"":__t)+"</span> "+(null==(__t=channelVersion)?"":__t)+"</small>"}}__p+='<section class="description"><strong>'+__e(i18n("app.modules.vulns.description",null))+"</strong><div>"+__e(obj.description)+"</div></section></td>"}return __p},this.JST["#reports-remediation-type-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<div>"+(null==(__t=getType())?"":__t)+"</div>";return __p},this.JST["#reports-report-item-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#reports-report-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.versionSummary){__p+='<div class="report-project clearfix"><div class="project-title pull-left"><span class="fa fa-cubes"></span>';
    var projectId=obj.versionSummary.projectId;__p+="\n";var projectName=obj.versionSummary.projectName;__p+="\n";var versionId=obj.versionSummary.versionId;__p+="\n";var versionName=obj.versionSummary.version;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+='</a></span></div><div class="vuln-count pull-right"><strong>'+__e(i18n("app.modules.vulns.vulnerabilityCount",{vulnCount:obj.getVulnerabilityCount()},obj.getVulnerabilityCount()))+"</strong></div></div>"}return __p},this.JST["#reports-report-name-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.complete&&!obj.failed?'<a href="'+__e(obj.constructReportUrl())+'">'+(null==(__t=obj.targetAttribute)?"":__t)+"</a>":obj.failed?"--":'<span class="js-processing-spinner inline-spinner"></span>'+__e(i18n("app.modules.versions.reports.creatingReport",null));return __p},this.JST["#reports-report-remediation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container"><div class="row"><div class="col-xs-12 text-center"><div class="donut-chart"></div></div><div class="col-xs-12"><div class="version-vulnerabilities"></div></div></div></div>';return __p},this.JST["#reports-report-status"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container"><div class="row"><div class="col-md-offset-1 col-md-4 col-xs-6 text-center"><h4>'+__e(i18n("app.modules.common.Project.pl",null))+'</h4><div class="project-status-chart"></div></div><div class="col-md-offset-1 col-md-4 col-xs-6 text-center"><h4>'+__e(i18n("app.modules.common.Version.pl",null))+'</h4><div class="version-status-chart"></div></div><div class="col-md-12 col-xs-12"><div class="exposed-vulnerabilities"></div></div></div></div>';return __p},this.JST["#reports-report-update"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container"><div class="row"><div class="col-xs-12 text-center"><div class="update-chart"></div></div><div class="col-xs-12"><h2 class="bold">'+__e(i18n("app.modules.reports.chart.pie.NV",null))+'</h2></div><div class="col-xs-12"><div class="update-vulnerabilities"></div></div><div class="col-xs-12"><h2 class="bold">'+__e(i18n("app.modules.reports.chart.pie.NRV",null))+'</h2></div><div class="col-xs-12"><div class="new-remediated-vulnerabilities"></div></div><div class="col-xs-12"><h2 class="bold">'+__e(i18n("app.modules.reports.chart.pie.URV",null))+'</h2></div><div class="col-xs-12"><div class="updated-remediated-vulnerabilities"></div></div></div></div>';return __p},this.JST["#reports-sumary-version-link"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="details-link"><span class="fa fa-cube"></span>';var projectId=obj.versionSummary.projectId;__p+="\n";var projectName=obj.versionSummary.projectName;__p+="\n";var versionId=obj.versionSummary.versionId;__p+="\n";var versionName=obj.versionSummary.version;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></div>"}return __p},this.JST["#reports-update-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.vulnerabilities){var vulnerability=obj.vulnerabilities;__p+='<div class="report-project"><div class="project-title"><div class="row"><div class="col-lg-10 col-md-9 col-xs-9"><header><div class="asset-header"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><div class="asset-title-content"><a class="asset-link" href="#vulnerabilities/id:'+__e(vulnerability.vulnerabilityId)+'"><h1>'+__e(vulnerability.vulnerabilityId)+'</h1><div class="asset-meta-block clearfix">',_.isUndefined(vulnerability.createdDate)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("common.createdDate",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(vulnerability.createdDate))+"</span></div>"),__p+="\n",_.isUndefined(vulnerability.baseScore)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.severity",null))+'</span><span class="asset-meta-val"><div class="label '+(null==(__t=getRiskLevel(vulnerability.baseScore))?"":__t)+'">'+(null==(__t=getSeverity(vulnerability.baseScore))?"":__t)+"</div></span></div>"),__p+='</div></a></div></div></div></header><section class="clearfix"><article class="description">',__p+=vulnerability.description?"<p>"+(null==(__t=vulnerability.description)?"":__t)+"</p>":'<p class="no-data">'+__e(i18n("app.modules.common.noDescription"))+"</p>",__p+='</article></section></div><div class="col-lg-2 col-md-3 col-xs-3 text-right"><table class="table table-condensed score-table pull-right"><tbody><tr><td>'+__e(i18n("app.modules.versions.vulnerabilities.base",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(vulnerability.baseScore))?"":__t)+'">'+(null==(__t=vulnerability.baseScore||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.exploitability",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(vulnerability.exploitabilitySubscore))?"":__t)+'">'+(null==(__t=vulnerability.exploitabilitySubscore||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.impact",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(vulnerability.impactSubscore))?"":__t)+'">'+(null==(__t=vulnerability.impactSubscore||"-")?"":__t)+"</div></td></tr></tbody></table></div></div></div></div><h5>"+__e(getDetailedTitle())+"</h5>"}return __p},this.JST["#rest-api-doc-api-path"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<h3 class="api-path-header"><span class="label label-default method-label method-'+(null==(__t=operation)?"":__t)+'">'+(null==(__t=operation)?"":__t)+"</span>"+(null==(__t=parsePath())?"":__t)+'<span class="run-api pull-right"><span class="fa fa-paper-plane-o"></span><span>Run</span></span></h3><div class="row resource-information"><div class="col-md-10 col-md-offset-1"><h2>Resource Information</h2><div class="row resource-row"><div class="col-md-6">Accepted Format</div><div class="col-md-6">',_.each(consumes,function(a){__p+="\n"+(null==(__t=a)?"":__t)+"\n"}),__p+='</div></div><div class="row resource-row"><div class="col-md-6">Response Format</div><div class="col-md-6">',_.each(produces,function(a){__p+="\n"+(null==(__t=a)?"":__t)+"\n"}),__p+='</div></div><div class="row resource-row"><div class="col-md-6">Response Status</div><div class="col-md-6">'+__e(_.keys(responses))+"</div></div></div></div>","undefined"!=typeof parameters&&(__p+='<div class="row accepted-parameters"><div class="col-md-10 col-md-offset-1"><h2>Accepted Parameters</h2><div class="row parameter-header"><div class="col-md-3">Name</div><div class="col-md-2">Type</div><div class="col-md-2">Format</div><div class="col-md-5">Description</div></div>',_.each(parameters,function(a){__p+='<div class="row parameter-row"><div class="col-md-3"><span>'+(null==(__t=a.name)?"":__t)+"</span>","undefined"!=typeof a.schema&&(__p+="\n","undefined"!=typeof a.schema.$ref&&(__p+='<span class="fa fa-book param-def" id="'+(null==(__t=a.name)?"":__t)+'-def" data-toggle="popover tooltip"></span>'),__p+="\n"),__p+="\n",__p+=1==a.required?'<span class="required-param">Required</span>':'<span class="required-param">Optional</span>',__p+='</div><div class="col-md-2">'+(null==(__t=a.type)?"":__t)+'</div><div class="col-md-2">'+(null==(__t=a.format)?"":__t)+'</div><div class="col-md-5">'+(null==(__t=a.description)?"":__t)+"</div></div>"}),__p+="</div></div>"),__p+='<div class="row response-model"><div class="col-md-10 col-md-offset-1"><h2>Response Model</h2><code class="language-json"><pre class="language-json js-response-model-contents"></pre></code></div></div>';return __p},this.JST["#rest-api-doc-api-paths"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#rest-api-doc-api"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="api"><span class="fa fa-angle-right fa-fw"></span>'+(null==(__t=description.replace(" Rest Server",""))?"":__t)+'</div><ul class="paths" id="'+__e(name)+'">',_.each(paths,function(a){__p+="\n";var b=a[0];__p+="\n";var c=a[1];__p+="\n";for(var d in c)__p+="\n",c.hasOwnProperty(d)&&(__p+='<li data-path="'+__e(b)+'" title="'+__e(_.keys(c[1]).join(" ").toUpperCase())+'"><span class="label label-default method-label method-'+__e(d)+'">'+__e(d)+"</span>"+__e(c[d].summary)+"</li>"),__p+="\n";__p+="\n"}),__p+="</ul>";return __p},this.JST["#rest-api-doc-apis"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-group"><input class="form-control apiSelector" type="text" placeholder="Search APIs"/><span class="fa fa-search form-control-feedback"></span></div>';return __p},this.JST["#rest-api-doc-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-book"></span></div></div></div><h1><div class="no-location">REST API Developers Guide</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#rest-api-doc-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-header page-header"></div><div class="row"><div class="col-md-4 col-sm-5 left-column"><div class="region-api-list"></div></div><div class="col-md-8 col-sm-7 right-column"><div class="region-api-path-detail"><div class="empty-api col-md-7 col-md-offset-1"><div class="col-md-4"><span class="fa fa-angle-left fa-5x"></span></div><div class="col-md-4"><h1>Get Started</h1><h2>Select an API</h2></div></div></div></div></div>';return __p},this.JST["#rest-api-doc-test-api"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2><span class="label label-default method-label method-'+(null==(__t=operation)?"":__t)+'">'+(null==(__t=operation)?"":__t)+"</span>"+(null==(__t=path)?"":__t)+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody">',"undefined"!=typeof parameters&&(__p+='<h4 class="expander" data-toggle="collapse" href="#parameters" aria-expanded="false" aria-controls="parameters"><span class="fa fa-angle-right fa-fw"></span>Accepted Parameters</h4><div class="collapse in" id="parameters">',_.each(parameters,function(a){__p+='<div class="form-group"><label class="control-label col-md-3"><span>'+(null==(__t=a.name)?"":__t)+"</span>","undefined"!=typeof a.schema&&(__p+="\n","undefined"!=typeof a.schema.$ref&&(__p+='<span class="fa fa-book param-def" id="'+(null==(__t=a.name)?"":__t)+'-def"></span>'),__p+="\n"),__p+="\n",__p+=1==a.required?'<span class="required-param">Required</span>':'<span class="required-param">Optional</span>',__p+='</label><div class="col-md-5 set-param"><input class="form-control" name="'+(null==(__t=a.name)?"":__t)+'" placeholder="'+(null==(__t=a.type)?"":__t)+" "+(null==(__t=a.format)?"":__t)+'"/></div></div>'}),__p+="\n"),__p+='</div><h4 class="collapsed expander hide" data-toggle="collapse" href="#responseBody" aria-expanded="false" aria-controls="responseBody"><span class="fa fa-angle-right fa-fw"></span>Response Body<span class="response-status"></span></h4><pre class="response-body collapse" id="responseBody"></pre><h4 class="collapsed expander hide" data-toggle="collapse" href="#headers" aria-expanded="false" aria-controls="headers"><span class="fa fa-angle-right fa-fw"></span>Headers</h4><pre class="response-header collapse" id="headers"></pre></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">Close</button><button class="btn js-btn-ok btn-primary" type="button" tabindex="0" data-waiting-label="Running" id="run"><span class="fa fa-paper-plane-o"></span>Run</button></div></form></div>';return __p},this.JST["#risk-profile-progress-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.displayValue&&(__p+='<div class="progress-value">'+__e(obj.actualValue)+"</div>"),__p+='<div class="progress extended" data-html="true" data-toggle="popover">'+(null==(__t=obj.progressBarContent)?"":__t)+"</div>";return __p},this.JST["#risk-profile-progress"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="risk-level-label" style="width: 30px; text-align: center; float: left;">'+__e(cellMessage)+'</div><a data-toggle="popover" data-original-title="'+__e(popoverMessage)+'" data-content="'+__e(popoverContent)+'" data-placement="left"><div class="progress"><div class="progress-bar progress-bar-'+__e(barType)+'" role="progress" aria-valuenow="'+__e(value1)+'" aria-valuemin="0" aria-valuemax="100" style="width: '+__e(value1)+'%;"></div><div class="progress-bar progress-bar-'+__e(barType)+'" role="progress" aria-valuenow="'+__e(value2)+'" aria-valuemin="0" aria-valuemax="100" style="width: '+__e(value2)+'%; opacity: 0.3;"></div></div></a>';return __p},this.JST["#risk-profile-risk-popover"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="risk-panel">',_.each(obj,function(a){__p+='<a class="risk-level '+__e(a.containerClassName)+'" href="'+__e(a.href)+'"><span class="risk-bubble '+__e(a.class)+'">'+__e(a.value)+'</span><span class="risk-label">'+__e(a.name)+"</span><br/></a>"}),__p+="</div>";return __p},this.JST["#risk-profile-risk-progress"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="progress-bar progress-bar-'+__e(type)+'" role="progressbar" aria-valuenow="'+__e(obj.value)+'" aria-valuemin="'+(null==(__t=obj.minValue)?"":__t)+'" aria-valuemax="'+(null==(__t=obj.maxValue)?"":__t)+'" style="width:'+__e(obj.percentage)+'%; min-width:0px;"></div>';return __p},this.JST["#search-all-result-list"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var searchTerm=getSearchTerm();if(__p+="<!-- -------------------------- PROJECTS-->",obj.projects&&obj.projects.searchResultStatistics.numResultsFound>0){var totalProjects=obj.projects.searchResultStatistics.numResultsFound;__p+='<li class="search-category-title"><h4><span class="fa fa-cubes"></span>'+(null==(__t=i18n("app.modules.search.projects.totalFound",{projectsCount:totalProjects},totalProjects))?"":__t)+"</h4></li>",_.each(obj.projects.hits,function(a,b){__p+="   ";var c=a.fields.ownership&&a.fields.ownership.length>=1?a.fields.ownership[0]:"0";__p+="\n   ";var d=i18n("app.modules.search.filtervalue.ownership"+c);__p+="\n   ";var e=a.fields.name;__p+="\n   ";var f=a.fields.medium_logo_url;__p+="\n   ";var g=a.fields.primary_language?a.fields.primary_language[0].toLowerCase():void 0;__p+="\n   ";var h=a.fields.release_count;__p+="\n   ";var i=a.fields.uuid;__p+="\n   ";var j=a.fields.num_projects_using;__p+="\n   ";var k=_.first(a.fields.has_cves);__p+="\n   ";var l=_.first(a.fields.has_vulns);if(__p+="\n   ",void 0!==a.fields.url){__p+="\n   ";var m=parseHostname(a.fields.url);__p+="\n   ",d=m||d,__p+="\n   "}__p+='<li class="result-item"><header class="clearfix">',__p+="undefined"!=typeof j&&j[0]>0?'<div class="i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.usages.hover",{num:j[0]},j[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.nousages.hover"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+="\n","0"!==c&&(__p+="\n",__p+="undefined"==typeof k||"true"!==k&&"true"!==l?'<div class="has-no-vulns pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.noVulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>':'<div class="has-vulns pull-right danger"><a class="text-danger" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.vulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>',__p+="\n"),__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=f?'<div class="project-logo"><img src="'+__e(f)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"/></div>':"0"===c?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(d)+'</small><a title="'+__e(e)+'" href="#projects/id:'+__e(i)+'">'+__e(e)+'</a></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof g?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(g))+'">'+__e(getLanguageAbbrev(g))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof h&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(i)+'/view:versions">'+__e(h)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div></header><section data-score="',-a.score,__p+='"><article class="description">',__p+=a.fields.description&&a.fields.description[0]?"<p>"+__e(a.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.projects.noDescription"))+"</p>",__p+="</article></section><footer>",a.fields.tags&&(__p+='<div class="tag-block"><ul class="tags list-inline">  ',_.each(a.fields.tags,function(a){__p+='<li class="tag"><span class="fa fa-tag"></span><span>'+__e(a)+"</span></li>  "}),__p+="</ul></div>"),__p+="</footer></li>"}),__p+='<li class="view-all">',totalProjects>2&&(__p+='<a class="search-category-view-all" href="#search/projects/q='+__e(searchTerm)+'&ownership=0"><span class="fa fa-search"></span>'+(null==(__t=i18n("app.modules.search.viewAllResults",{resultsCount:totalProjects}))?"":__t)+"</a>"),__p+="</li>"}if(__p+="<!-- -------------------------- COMPONENTS ---------------------------------------------->",obj.components&&obj.components.searchResultStatistics.numResultsFound>0){__p+="\n";var totalComponents=obj.components.searchResultStatistics.numResultsFound;__p+='<li class="search-category-title"><h4><span class="fa fa-cube"></span>'+(null==(__t=i18n("app.modules.search.components.totalFound",{componentsCount:totalComponents},totalComponents))?"":__t)+"</h4></li>",_.each(obj.components.hits,function(a,b){__p+="   ";var c=a.fields.ownership&&a.fields.ownership.length>=1?a.fields.ownership[0]:"0";__p+="\n   ";var d=i18n("app.modules.search.filtervalue.ownership"+c);__p+="\n   ";var e=a.fields.name;__p+="\n   ";var f=a.fields.medium_logo_url;__p+="\n   ";var g=a.fields.primary_language?a.fields.primary_language[0].toLowerCase():void 0;__p+="\n   ";var h=a.fields.release_count;__p+="\n   ";var i=a.fields.uuid;__p+="\n   ";var j=a.fields.num_projects_using;__p+="\n   ";var k=_.first(a.fields.has_cves);__p+="\n   ";var l=_.first(a.fields.has_vulns);if(__p+="\n   ",void 0!==a.fields.url){__p+="\n   ";var m=parseHostname(a.fields.url);__p+="\n   ",d=m||d,__p+="\n   "}obj.projects.searchResultStatistics.numResultsFound;__p+='<li class="result-item"><header class="clearfix">',__p+="undefined"!=typeof j&&j[0]>0?'<div class="i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.usages.hover",{num:j[0]},j[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.nousages.hover"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+="\n","0"!==c&&(__p+="\n",__p+="undefined"==typeof k||"true"!==k&&"true"!==l?'<div class="has-no-vulns pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.noVulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>':'<div class="has-vulns pull-right danger"><a class="text-danger" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.vulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>',__p+="\n"),__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=f?'<div class="project-logo"><img src="'+__e(f)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"/></div>':"0"===c?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(d)+'</small><a title="'+__e(e)+'" href="#projects/id:'+__e(i)+'">'+__e(e)+'</a></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof g?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(g))+'">'+__e(getLanguageAbbrev(g))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof h&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(i)+'/view:versions">'+__e(h)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div></header><section data-score="',-a.score,__p+='"><article class="description">',__p+=a.fields.description&&a.fields.description[0]?"<p>"+__e(a.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.projects.noDescription"))+"</p>",__p+="</article></section><footer>",a.fields.tags&&(__p+='<div class="tag-block"><ul class="tags list-inline">  ',_.each(a.fields.tags,function(a){__p+='<li class="tag"><span class="fa fa-tag"></span><span>'+__e(a)+"</span></li>  "}),__p+="</ul></div>"),__p+="</footer></li>"}),__p+='<li class="view-all">',totalComponents>2&&(__p+='<a class="search-category-view-all" href="#search/projects/q='+__e(searchTerm)+'&ownership=1"><span class="fa fa-search"></span>'+(null==(__t=i18n("app.modules.search.viewAllResults",{resultsCount:totalComponents}))?"":__t)+"</a>"),__p+="</li>"}if(__p+="<!-- -------------------------- VULNERABILITIES ---------------------------------------------->",obj.vulnerabilities&&obj.vulnerabilities.searchResultStatistics.numResultsFound>0){var totalVulnerabilities=obj.vulnerabilities.searchResultStatistics.numResultsFound;__p+='<li class="search-category-title"><h4><span class="fa fa-shield"></span>'+(null==(__t=i18n("app.modules.search.vulnerability.totalFound",{totalVulnerabilities:totalVulnerabilities},totalVulnerabilities))?"":__t)+"</h4></li>",_.each(obj.vulnerabilities.hits,function(a,b){__p+='<li class="result-item vulnerability-search-result">';var c=a.fields.source?a.fields.source[0]:"";__p+='<div class="row"><div class="col-lg-10 col-md-9"><header><div class="asset-header"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><div class="asset-title-content">';var d=a.fields.vuln_db_id||a.fields.cve_id;__p+="<h1>","VULNDB"===c?__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.VULNDB.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(d[0])+'">'+(null==(__t=a.fields.title)?"":__t)+"</a>":"NVD"===c&&(__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.NVD.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(d[0])+'">'+(null==(__t=a.fields.id)?"":__t)+"</a>"),__p+='</h1></div></div><div class="asset-meta-block clearfix">',"VULNDB"===c?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+'</div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.vulndbId",null))+'</span><span class="asset-meta-val">'+__e(a.fields.vuln_db_id[0])+"</span></div>":"NVD"===c&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n",_.isUndefined(a.fields.published_date)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.published",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(a.fields.published_date[0]))+"</span></div>"),__p+="\n",_.isUndefined(a.fields.base_score)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.severity",null))+'</span><span class="asset-meta-val"><div class="label '+(null==(__t=getRiskLevel(a.fields.base_score[0]))?"":__t)+'">'+(null==(__t=getSeverity(a.fields.base_score[0]))?"":__t)+"</div></span></div>"),__p+='</div></div></header><section class="clearfix"><article class="description">',__p+=a.fields.description&&a.fields.description[0]?"<p>"+__e(a.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.common.noDescription"))+"</p>",__p+="</article></section><footer>",a.fields.keywords&&a.fields.keywords[0].length>0&&(__p+='<div class="tag-block"><ul class="tags list-inline pull-left">',_.each(a.fields.keywords,function(a){__p+="\n",a&&a.trim().length>0&&(__p+='<li class="tag"><span class="fa fa-tag"></span>'+(null==(__t=a)?"":__t)+"</li>"),__p+="\n"}),__p+="</ul></div>"),__p+='</footer></div><div class="col-lg-2 col-md-3 text-right">',__p+=!_.isUndefined(a.fields.applicable)&&a.fields.applicable[0]>0?'<div class="usage-indicator i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.used",{count:a.fields.applicable[0]},a.fields.applicable[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="usage-indicator i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.notUsed"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+='<br clear="all"/><table class="table table-condensed score-table"><tbody><tr><td>'+__e(i18n("app.modules.versions.vulnerabilities.base",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.base_score))?"":__t)+'">'+(null==(__t=a.fields.base_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.exploitability",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.exploitability_score))?"":__t)+'">'+(null==(__t=a.fields.exploitability_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.impact",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.impact_score))?"":__t)+'">'+(null==(__t=a.fields.impact_score||"-")?"":__t)+"</div></td></tr></tbody></table></div></div></li>";
}),__p+='<li class="view-all">',totalVulnerabilities>1&&(__p+='<a class="search-category-view-all" href="#search/vulnerability/q='+__e(searchTerm)+'"><span class="fa fa-search"></span>'+(null==(__t=i18n("app.modules.search.viewAllResults",{resultsCount:totalVulnerabilities}))?"":__t)+"</a>"),__p+="</li>"}__p+='<!-- ------- EMPTY CHECK ------><li class="hidden results-empty" id="search-all-empty-block"><h2>'+__e(i18n("app.modules.search.nothingMatched",null))+'</h2><h4><a class="js-goto-top" href="javascript:void(0);">'+__e(i18n("app.modules.search.changeFiltersOrTerm",null))+"</a></h4></li>"}return __p},this.JST["#search-header-input-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<form class="navbar-form search-form" role="search"><label class="sr-only" for="term">'+__e(i18n("app.modules.common.header.searchLabel",null))+'</label><div class="input-group"><input class="form-control" id="term" type="text" tabindex="0" placeholder="'+__e(i18n("app.modules.common.header.searchPlaceholder"))+'" errorPlaceholder="'+__e(i18n("app.modules.common.header.searchNoTermPlaceholder"))+'"/><div class="input-group-btn"><button class="btn btn-default" id="executeSearch" type="submit"><span class="fa fa-search"></span><span class="sr-only">'+__e(i18n("app.modules.search.button",null))+"</span></button></div></div></form>";return __p},this.JST["#search-projects-result-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<header class="clearfix">',__p+="undefined"!=typeof numberUsedBy&&numberUsedBy[0]>0?'<div class="i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.usages.hover",{num:numberUsedBy[0]},numberUsedBy[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.nousages.hover"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+="\n","0"!==ownership&&(__p+="\n",__p+="undefined"==typeof hasCves||"true"!==hasCves&&"true"!==hasVulns?'<div class="has-no-vulns pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.noVulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>':'<div class="has-vulns pull-right danger"><a class="text-danger" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.vulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>',__p+="\n"),__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=logoUrl?'<div class="project-logo"><img src="'+__e(logoUrl)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"/></div>':"0"===ownership?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(projectLocation)+'</small><a title="'+__e(projectName)+'" href="#projects/id:'+__e(projectId)+'">'+__e(projectName)+'</a></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof primaryLanguage?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(primaryLanguage))+'">'+__e(getLanguageAbbrev(primaryLanguage))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof projectReleasesCount&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(projectId)+'/view:versions">'+__e(projectReleasesCount)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div></header><section data-score="',-hit.score,__p+='"><article class="description">',__p+=hit.fields.description&&hit.fields.description[0]?"<p>"+__e(hit.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.projects.noDescription"))+"</p>",__p+="</article></section><footer>",hit.fields.tags&&(__p+='<div class="tag-block"><ul class="tags list-inline">  ',_.each(hit.fields.tags,function(a){__p+='<li class="tag"><span class="fa fa-tag"></span><span>'+__e(a)+"</span></li>  "}),__p+="</ul></div>"),__p+="</footer>";return __p},this.JST["#search-projects-result-list"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(obj.results,function(a,b){__p+="\n   ";var c=a.fields.ownership&&a.fields.ownership.length>=1?a.fields.ownership[0]:"0";__p+="\n   ";var d=i18n("app.modules.search.filtervalue.ownership"+c);__p+="\n   ";var e=a.fields.name;__p+="\n   ";var f=a.fields.medium_logo_url;__p+="\n   ";var g=a.fields.primary_language?a.fields.primary_language[0].toLowerCase():void 0;__p+="\n   ";var h=a.fields.release_count;__p+="\n   ";var i=a.fields.uuid;__p+="\n   ";var j=a.fields.num_projects_using;__p+="\n   ";var k=_.first(a.fields.has_cves);__p+="\n   ";var l=_.first(a.fields.has_vulns);if(__p+="\n   ",void 0!==a.fields.url){__p+="\n   ";var m=parseHostname(a.fields.url);__p+="\n   ",d=m||d,__p+="\n   "}__p+='<li class="result-item"><header class="clearfix">',__p+="undefined"!=typeof j&&j[0]>0?'<div class="i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.usages.hover",{num:j[0]},j[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.nousages.hover"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+="\n","0"!==c&&(__p+="\n",__p+="undefined"==typeof k||"true"!==k&&"true"!==l?'<div class="has-no-vulns pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.noVulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>':'<div class="has-vulns pull-right danger"><a class="text-danger" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.project.vulnerabilities.hover"))+'"><span class="fa fa-bug fa-lg" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></a></div>',__p+="\n"),__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=f?'<div class="project-logo"><img src="'+__e(f)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"/></div>':"0"===c?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:e}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(d)+'</small><a title="'+__e(e)+'" href="#projects/id:'+__e(i)+'">'+__e(e)+'</a></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof g?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(g))+'">'+__e(getLanguageAbbrev(g))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof h&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(i)+'/view:versions">'+__e(h)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div></header><section data-score="',-a.score,__p+='"><article class="description">',__p+=a.fields.description&&a.fields.description[0]?"<p>"+__e(a.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.projects.noDescription"))+"</p>",__p+="</article></section><footer>",a.fields.tags&&(__p+='<div class="tag-block"><ul class="tags list-inline">  ',_.each(a.fields.tags,function(a){__p+='<li class="tag"><span class="fa fa-tag"></span><span>'+__e(a)+"</span></li>  "}),__p+="</ul></div>"),__p+="</footer></li>"}),__p+="\n",obj.results&&obj.results.length>0?__p+='<li class="results-end"><h2>'+__e(i18n("app.modules.search.didntFindSomething",null))+'</h2><h4><a class="js-goto-top" href="javascript:void(0);">'+__e(i18n("app.modules.search.changeFiltersOrTerm",null))+"</a></h4></li>":obj.results&&(__p+='<li class="results-empty"><h2>',__p+=__e(window.location.hash.indexOf("ownership=1")!==-1?i18n("app.modules.search.components.nothingMatched",null):i18n("app.modules.search.projects.nothingMatched",null)),__p+='</h2><h4><a class="js-goto-top" href="javascript:void(0);">'+__e(i18n("app.modules.search.changeFiltersOrTerm",null))+"</a></h4></li>");return __p},this.JST["#search-vulnerability-result-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var source=hit.fields.source?hit.fields.source[0]:"";__p+='<div class="row"><div class="col-lg-10 col-md-9"><header><div class="asset-header"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><div class="asset-title-content">';var refId=hit.fields.vuln_db_id||hit.fields.cve_id;__p+="<h1>","VULNDB"===source?__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.VULNDB.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(refId[0])+'">'+(null==(__t=hit.fields.title)?"":__t)+"</a>":"NVD"===source&&(__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.NVD.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(refId[0])+'">'+(null==(__t=hit.fields.id)?"":__t)+"</a>"),__p+='</h1></div></div><div class="asset-meta-block clearfix">',"VULNDB"===source?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+'</div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.vulndbId",null))+'</span><span class="asset-meta-val">'+__e(hit.fields.vuln_db_id[0])+"</span></div>":"NVD"===source&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n",_.isUndefined(hit.fields.published_date)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.published",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(hit.fields.published_date[0]))+"</span></div>"),__p+="\n",_.isUndefined(hit.fields.base_score)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.severity",null))+'</span><span class="asset-meta-val"><div class="label '+(null==(__t=getRiskLevel(hit.fields.base_score[0]))?"":__t)+'">'+(null==(__t=getSeverity(hit.fields.base_score[0]))?"":__t)+"</div></span></div>"),__p+='</div></div></header><section class="clearfix"><article class="description">',__p+=hit.fields.description&&hit.fields.description[0]?"<p>"+__e(hit.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.common.noDescription"))+"</p>",__p+="</article></section><footer>",hit.fields.keywords&&hit.fields.keywords[0].length>0&&(__p+='<div class="tag-block"><ul class="tags list-inline pull-left">',_.each(hit.fields.keywords,function(a){__p+="\n",a&&a.trim().length>0&&(__p+='<li class="tag"><span class="fa fa-tag"></span>'+(null==(__t=a)?"":__t)+"</li>"),__p+="\n"}),__p+="</ul></div>"),__p+='</footer></div><div class="col-lg-2 col-md-3 text-right">',__p+=!_.isUndefined(hit.fields.applicable)&&hit.fields.applicable[0]>0?'<div class="usage-indicator i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.used",{count:hit.fields.applicable[0]},hit.fields.applicable[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="usage-indicator i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.notUsed"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+='<br clear="all"/><table class="table table-condensed score-table"><tbody><tr><td>'+__e(i18n("app.modules.versions.vulnerabilities.base",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(hit.fields.base_score))?"":__t)+'">'+(null==(__t=hit.fields.base_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.exploitability",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(hit.fields.exploitability_score))?"":__t)+'">'+(null==(__t=hit.fields.exploitability_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.impact",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(hit.fields.impact_score))?"":__t)+'">'+(null==(__t=hit.fields.impact_score||"-")?"":__t)+"</div></td></tr></tbody></table></div></div>"}return __p},this.JST["#search-vulnerability-result-list"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)_.each(obj.results,function(a,b){__p+='<li class="result-item vulnerability-search-result">';var c=a.fields.source?a.fields.source[0]:"";__p+='<div class="row"><div class="col-lg-10 col-md-9"><header><div class="asset-header"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><div class="asset-title-content">';var d=a.fields.vuln_db_id||a.fields.cve_id;__p+="<h1>","VULNDB"===c?__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.VULNDB.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(d[0])+'">'+(null==(__t=a.fields.title)?"":__t)+"</a>":"NVD"===c&&(__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type.NVD.title",null))+'</small><a class="asset-link" href="#vulnerabilities/id:'+__e(d[0])+'">'+(null==(__t=a.fields.id)?"":__t)+"</a>"),__p+='</h1></div></div><div class="asset-meta-block clearfix">',"VULNDB"===c?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+'</div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.vulndbId",null))+'</span><span class="asset-meta-val">'+__e(a.fields.vuln_db_id[0])+"</span></div>":"NVD"===c&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n",_.isUndefined(a.fields.published_date)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.published",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(a.fields.published_date[0]))+"</span></div>"),__p+="\n",_.isUndefined(a.fields.base_score)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.severity",null))+'</span><span class="asset-meta-val"><div class="label '+(null==(__t=getRiskLevel(a.fields.base_score[0]))?"":__t)+'">'+(null==(__t=getSeverity(a.fields.base_score[0]))?"":__t)+"</div></span></div>"),__p+='</div></div></header><section class="clearfix"><article class="description">',__p+=a.fields.description&&a.fields.description[0]?"<p>"+__e(a.fields.description[0])+"</p>":'<p class="no-data">'+__e(i18n("app.modules.common.noDescription"))+"</p>",__p+="</article></section><footer>",a.fields.keywords&&a.fields.keywords[0].length>0&&(__p+='<div class="tag-block"><ul class="tags list-inline pull-left">',_.each(a.fields.keywords,function(a){__p+="\n",a&&a.trim().length>0&&(__p+='<li class="tag"><span class="fa fa-tag"></span>'+(null==(__t=a)?"":__t)+"</li>"),__p+="\n"}),__p+="</ul></div>"),__p+='</footer></div><div class="col-lg-2 col-md-3 text-right">',__p+=!_.isUndefined(a.fields.applicable)&&a.fields.applicable[0]>0?'<div class="usage-indicator i-use-this pull-right"><a data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.used",{count:a.fields.applicable[0]},a.fields.applicable[0]))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>':'<div class="usage-indicator i-dont-use-this pull-right"><a class="text-muted" data-toggle="tooltip" data-container="body" data-trigger="hover" data-placement="left auto" title="'+__e(i18n("app.modules.search.vulnerability.notUsed"))+'"><span class="fa fa-bookmark fa-lg"></span></a></div>',__p+='<br clear="all"/><table class="table table-condensed score-table"><tbody><tr><td>'+__e(i18n("app.modules.versions.vulnerabilities.base",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.base_score))?"":__t)+'">'+(null==(__t=a.fields.base_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.exploitability",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.exploitability_score))?"":__t)+'">'+(null==(__t=a.fields.exploitability_score||"-")?"":__t)+"</div></td></tr><tr><td>"+__e(i18n("app.modules.versions.vulnerabilities.impact",null))+'</td><td><div class="label score-label '+(null==(__t=getRiskLevel(a.fields.impact_score))?"":__t)+'">'+(null==(__t=a.fields.impact_score||"-")?"":__t)+"</div></td></tr></tbody></table></div></div></li>"}),__p+="\n",obj.results&&obj.results.length>0?__p+='<li class="results-end"><h2>'+__e(i18n("app.modules.search.didntFindSomething",null))+'</h2><h4><a class="js-goto-top" href="javascript:void(0);">'+__e(i18n("app.modules.search.changeFiltersOrTerm",null))+"</a></h4></li>":obj.results&&(__p+='<li class="results-empty"><h2>'+__e(i18n("app.modules.search.vulnerability.nothingMatched",null))+'</h2><h4><a class="js-goto-top" href="javascript:void(0);">'+__e(i18n("app.modules.search.changeFiltersOrTerm",null))+"</a></h4></li>");return __p},this.JST["#search-active-facet"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=(null==(__t=getFacetIcon(name))?"":__t)+"\n",__p+=obj.translateValues?"\n\t "+(null==(__t=translateFacet(name,value))?"":__t)+"\n":"\n\t "+__e(value)+"\n",__p+='<span class="remove-facet">&times;</span>';return __p},this.JST["#search-active-facets"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="current-facets"><span class="facet-label">'+__e(i18n("app.modules.common.currentFilters",null))+'</span><ul class="facets js-active-facets-container"></ul><a class="js-clear-facets no-style" href="javascript:void(0)">'+__e(i18n("app.modules.common.clearFilters",null))+"</a></div>";return __p},this.JST["#search-empty-active-facets"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="no-data no-style">'+__e(i18n("app.modules.search.noactivefacets",null))+"</span>";return __p},this.JST["#search-empty-facet"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+(null==(__t=getFacetIcon(facetType.fieldName))?"":__t)+(null==(__t=i18n("app.modules.search.facetType."+facetType.fieldName))?"":__t)+'</h2><div class="panel-body"><ul class="facets"><li class="no-data no-style">'+__e(i18n("app.modules.common.noDataAvailable"))+"</li></ul></div></div>";return __p},this.JST["#search-facet-autocomplete"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+(null==(__t=getFacetIcon(facetType.fieldName))?"":__t)+(null==(__t=i18n("app.modules.search.facetType."+facetType.fieldName))?"":__t)+'</h2><div class="panel-body"><div class="select-container"><div class="primary-section"><select class="facets" data-placeholder="'+(null==(__t=i18n("app.modules.search.facetType."+facetType.fieldName))?"":__t)+'" tabindex="0" multiple="true">',_.each(facetValues,function(a,b){__p+="\n";var c=facetType.translateValues?translateFacet(facetType.fieldName,a.value):a.value;__p+="\n";var d=a.count?" ( "+formatNumber(a.count,!0)+" ) ":"";__p+="\n";var e=a.selected?a.selected:"";__p+="\n",__p+=e?'<option selected="selected" value="'+__e(a.value)+'" data-option-index="'+__e(b)+'" data-value="'+__e(a.value)+'">'+__e(c)+__e(d)+"</option>":'<option value="'+__e(a.value)+'" data-option-index="'+__e(b)+'" data-value="'+__e(a.value)+'">'+__e(c)+__e(d)+"</option>"}),__p+="</select></div></div></div></div>";return __p},this.JST["#search-facet-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="item" data-filter-value="'+__e(obj.facetDataValue)+'" data-option-index="'+__e(obj.facetOrder)+'" data-name="'+__e(obj.facetName)+'" data-value="'+__e(obj.facetDataValue)+'">'+__e(obj.facetDisplayText)+" ("+__e(obj.facetCount)+")</div>";return __p},this.JST["#search-facet-option"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li class="'+__e(facetSelected?"active":"")+' js-facet-option" data-filter-value="'+__e(facetDataValue)+'" data-name="'+__e(facetName)+'" data-value="'+__e(facetDataValue)+'"><a><table><tbody><tr><td>'+(null==(__t=facetDisplayText)?"":__t)+'</td><td class="count"><span class="badge">'+__e(formatNumber(facetCount,!0))+'</span></td><td class="remove"><span>&#10006;</span></td></tr></tbody></table></a></li>';return __p},this.JST["#search-facet"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+(null==(__t=getFacetIcon(facetType.fieldName))?"":__t)+(null==(__t=i18n("app.modules.search.facetType."+facetType.fieldName))?"":__t)+'</h2><div class="panel-body"><ul class="facets">',_.each(facetValues,function(a,b){__p+="\n";var c=facetType.fieldName;__p+="\n";var d=facetType;__p+="\n";var e="codeloc_id"===c?a.filterValue:a.value;__p+="\n";var f=d.translateValues?translateFacet(c,a.value):a.value;__p+="\n";var g=a.count;__p+="\n";var h=a.selected;__p+='<li class="'+__e(h?"active":"")+' js-facet-option" data-filter-value="'+__e(e)+'" data-name="'+__e(c)+'" data-value="'+__e(e)+'"><a><table><tbody><tr><td>'+(null==(__t=f)?"":__t)+'</td><td class="count"><span class="badge">'+__e(formatNumber(g,!0))+'</span></td><td class="remove"><span>&#10006;</span></td></tr></tbody></table></a></li>'}),__p+="</ul></div></div>";return __p},this.JST["#search-filters"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="js-active-facets active-facets"></div><div class="js-all-facets all-facets"></div>';return __p},this.JST["#search-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<header class="page-header"><div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-search"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.search.searchResults",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div><div id="searchTypes"></div></header><div id="search-filters"><section class="js-search-types"></section><section class="js-search-filters"></section></div><div id="search-results"><div class="js-server-error-container"></div><section class="js-search-results clearfix"></section><section class="region-search-layout-pagination"></section></div>';return __p},this.JST["#search-type-facet"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e(linkPath)+'"><span class="fa '+__e(icon)+'"></span>'+__e(label)+'<span class="js-count badge pull-right">'+__e(getCount())+"</span></a>";return __p},this.JST["#search-types-facet"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.search.types",null))+'</h2><div class="panel-body"><ul class="js-search-types-facets facets"></ul></div></div>';return __p},this.JST["#security-dashboard-chart-remediation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.vulns.remediation.status",null))+'</h2><div class="panel-body"><div class="remediation-chart-message text-center hide">'+__e(i18n("app.modules.vulns.remediation.status.no.data",null))+'</div><div id="remediation-chart"></div></div></div>';return __p},this.JST["#security-dashboard-identifier-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="no-wrap">',"VULNDB"===obj.source?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+"</div>":"NVD"===obj.source&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n"+__e(obj.vulnerabilityId)+"</div>";return __p},this.JST["#security-dashboard-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="security-filters col-sm-5 col-md-4 col-lg-3"><div class="js-remediation-chart"></div><div class="js-remediation-chart-filter"></div></div><div class="vulnerability-table col-sm-7 col-md-8 col-lg-9"><div class="js-remediation-filter clearfix sticky-action-bar"></div><div class="js-remediation-table sticky-table"></div></div></div>';return __p},this.JST["#security-dashboard-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#home/view:security"><span class="fa fa-shield"></span>'+__e(i18n("app.modules.versions.vulnerabilities.title",null))+"</a></li>";return __p},this.JST["#security-dashboard-remediation-chart-filter-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="legend-color" style="background-color: '+__e(color)+';"></div><input type="checkbox" id="status_'+__e(name)+'"/><label for="status_'+__e(name)+'">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status."+name))+'</label><span class="badge">'+__e(value)+"</span>";return __p},this.JST["#security-dashboard-table-expanded-row"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<td colspan="7"><div class="col-md-12 vulnerability-content-row"><div class="content-row"><div class="col-md-7 row-left"><b>'+__e(i18n("app.modules.versions.vulnerabilities.description.label",null))+'</b><div class="description">'+__e(summary)+'</div><br/><a href="#vulnerabilities/id:'+__e(vulnerabilityId)+'/view:overview" target=" '+__e(vulnerabilityId)+'">'+__e(i18n("app.modules.versions.vulnerabilities.description.fullRecord.label",null))+'</a></div><div class="col-md-5 row-right"><b>'+__e(i18n("app.modules.versions.vulnerabilities.metrics.scores.title",null))+'</b><div class="metrics-legend js-metrics-legend" data-toggle="popover" title="'+__e(i18n("app.modules.versions.vulnerabilities.metrics.popup.title"))+'" data-html="true"><span class="fa fa-question-circle"></span></div><ul class="clearfix"><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessVector?"\n"+__e(accessVector)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof availabilityImpact?"\n"+__e(availabilityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessComplexity?"\n"+__e(accessComplexity)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof confidentialityImpact?"\n"+__e(confidentialityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof authentication?"\n"+__e(authentication)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof integrityImpact?"\n"+__e(integrityImpact)+"\n":"-",__p+="</span></li></ul>","undefined"!=typeof createdAt?(__p+='<div class="description-info-dates-container col-md-6"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",
        __p+='</div></div><div class="description-info-dates-container col-md-6">',"undefined"!=typeof updatedAt&&(__p+='<div class="description-info-block"><span>'+__e(getUpdated())+"</span></div>"),__p+="</div>"):(__p+='<div class="description-info-dates-container"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+="</div></div>"),__p+="</div></div></div></td>";return __p},this.JST["#session-login"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default panel-login invisible"><div class="ducky-bg"></div><div class="panel-heading"><div class="brand"><img src="'+__e(this.bdsHubProxyPrefix)+'/api/internal/logo.png" height="34"/></div></div><div class="panel-body"><div class="js-server-error-container" role="alert"></div><form class="form-horizontal" role="form"><div class="form-group"><div class="col-xs-9 col-xs-offset-3"><input class="form-control" id="username" type="text" tabindex="0" required="required" autofocus="autofocus" placeholder="'+__e(i18n("views.login.username"))+'"/></div></div><div class="form-group"><div class="col-xs-9 col-xs-offset-3"><input class="form-control" id="password" type="password" tabindex="0" required="required" placeholder="'+__e(i18n("views.login.password"))+'"/></div></div><div class="form-group"><div class="col-xs-12"><button class="btn btn-primary pull-right submit-login" type="submit">'+__e(i18n("views.login.submit",null))+"</button></div></div></form></div></div>";return __p},this.JST["#session-logout-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li class="divider"></li><li><a href="#logout"><span class="fa fa-sign-out"></span>'+__e(i18n("app.modules.common.header.logoutLabel",null))+"</a></li>";return __p},this.JST["#session-not-authorized"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="alert alert-warning"><h2><span class="fa fa-warning"></span>'+__e(i18n("app.modules.errors.notauthorized.title",null))+"</h2><p>"+__e(i18n("app.modules.errors.notauthorized.message",null))+'</p></div><div class="container"><div class="row"><div class="col-sm-4"><span class="fa fa-frown-o text-muted fa-150"></span></div><div class="col-sm-8"><h2>'+__e(i18n("app.modules.errors.notauthorized",null))+"</h2><p>"+__e(i18n("app.modules.errors.reasons",null))+'</p><ol class="error-reasons"><li>'+__e(i18n("app.modules.errors.reasons.invalid",null))+"</li><li>"+__e(i18n("app.modules.errors.reasons.noPermissions",null))+"</li><li>"+__e(i18n("app.modules.errors.reasons.deleted",null))+"</li></ol></div></div></div>";return __p},this.JST["#suite-nav-footer"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="container-fluid"><div class="row"><div class="col-xs-6 text-left">'+(null==(__t=i18n("app.modules.common.hubName",null))?"":__t)+"&nbsp;"+__e(i18n("app.modules.common.hubVersion",null)),obj.isPublic()||(__p+='&nbsp;|&nbsp;<a class="notices-link" href="'+__e(this.bdsHubProxyPrefix)+'/docs/help/Welcome.htm#pdfs/notices.pdf" target="_blank">'+__e(i18n("app.modules.common.notices",null))+"</a>"),__p+='</div><div class="col-xs-6 text-right">'+(null==(__t=i18n("app.modules.common.copyright",null))?"":__t)+"&nbsp;"+__e(i18n("app.modules.common.rightsReserved",null))+"</div></div></div>";return __p},this.JST["#suite-nav-side-nav"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<ul class="nav"><li><button class="hamburger js-toggle-nav-expand" id="sidenavExpander" type="button" aria-expanded="false" aria-controls="suiteSideNavMenu"><span class="fa fa-bars"></span><span class="sr-only">'+__e(i18n("screenreader.togglenav",null))+'</span></button><div class="js-side-nav side-nav-container" id="suiteSideNavMenu"><div class="tab-content"></div></div></li></ul>';return __p},this.JST["#suite-nav-top-nav-inner"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="";return __p},this.JST["#suite-nav-top-nav"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="navbar-header"><button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#suiteTopNavCollapse" aria-expanded="false"><span class="sr-only">'+__e(i18n("screenreader.togglenav",null))+'</span><span class="fa fa-chevron-down"></span></button><a href="#dashboard"><div class="brand"><img src="'+__e(this.bdsHubProxyPrefix)+'/api/internal/logo.png" height="34" alt="'+__e(i18n("common.logo"))+'"/><div class="sr-only">'+__e(i18n("app.modules.common.company",null))+'</div></div></a></div><div class="collapse navbar-collapse" id="suiteTopNavCollapse"><div class="js-suite-top-nav-left"></div><div class="js-suite-top-nav-right"></div></div></div>';return __p},this.JST["#tools-content"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-6 downloads-section"><h3>'+__e(i18n("app.modules.tools.downloads",null))+'</h3><div class="media"><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.client.label",null))+"</h4><p>"+__e(i18n("app.modules.tools.client.description",null))+'</p><div class="download-options"><a class="media download-item os-linux" href="'+__e(this.bdsHubProxyPrefix)+'/download/scan.cli.zip"><div class="media-left"><span class="media-object"><span class="fa fa-linux"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.linux",null))+"</h4><p><small>"+__e(i18n("app.modules.tools.linux.require",null))+'</small></p></div></a><a class="media download-item os-macos" href="'+__e(this.bdsHubProxyPrefix)+'/download/scan.cli-macosx.zip"><div class="media-left"><span class="media-object"><span class="fa fa-apple"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.macosx",null))+"</h4><p><small>"+__e(i18n("app.modules.tools.macosx.require",null))+'</small></p></div></a><a class="media download-item os-windows" href="'+__e(this.bdsHubProxyPrefix)+'/download/scan.cli-windows.zip"><div class="media-left"><span class="media-object"><span class="fa fa-windows"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.windows",null))+"</h4><p><small>"+__e(i18n("app.modules.tools.windows.require",null))+'</small></p></div></a></div></div></div><div class="media"><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.protex.label",null))+"</h4><p>"+__e(i18n("app.modules.tools.protex.description",null))+'</p><div class="download-options"><a class="media download-item os-all" href="'+__e(this.bdsHubProxyPrefix)+'/download/scan.protex.cli.zip"><div class="media-left"><span class="media-object"><span class="fa fa-download"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.allOs",null))+"</h4><p><small>"+__e(i18n("app.modules.tools.protex.require",null))+'</small></p></div></a></div></div></div></div><div class="col-md-6 documentation-section"><h3>'+__e(i18n("app.modules.tools.documentation",null))+'</h3><a class="media doc-item" href="'+__e(this.bdsHubProxyPrefix)+'/api.html" target="_blank"><div class="media-left"><span class="media-object"><span class="fa fa-book"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.restapi.label",null))+"</h4><p>"+__e(i18n("app.modules.tools.restapi.description",null))+'</p></div></a><a class="media doc-item" href="https://github.com/blackducksoftware/integration-all/" target="_blank"><div class="media-left"><span class="media-object"><span class="fa fa-github"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.tools.jenkins.label",null))+'</h4></div></a><a class="media doc-item" href="'+__e(this.bdsHubProxyPrefix)+'/docs/help/Welcome.htm" target="_blank"><div class="media-left"><span class="media-object"><span class="fa fa-support"></span></span></div><div class="media-body"><h4 class="media-heading">'+__e(i18n("app.modules.common.header.helpLabel",null))+"</h4></div></a></div>";return __p},this.JST["#tools-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-wrench"></span></div></div></div><h1><div class="no-location">'+__e(i18n("app.modules.common.header.toolsLabel",null))+'</div></h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#tools-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-tools-header page-header"></div><div class="region-tools-content container-fluid"></div>';return __p},this.JST["#tools-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#tools"><span class="fa fa-wrench"></span>'+__e(i18n("app.modules.common.header.toolsLabel",null))+"</a></li>";return __p},this.JST["#user-exts-empty-view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-4 empty-description text-center">'+__e(i18n("app.modules.admin.extensions.config.user.empty",null))+"</div>";return __p},this.JST["#user-exts-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-form-header"><h3>'+__e(i18n("app.modules.admin.extensions.label.pl",null))+'</h3></div><div class="row"><div class="col-sm-4"><div class="list-group js-user-exts-nav"></div></div><div class="col-sm-8 js-user-exts-details"></div></div>';return __p},this.JST["#user-exts-list-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<strong>"+(null==(__t=obj.name)?"":__t)+"</strong><br/><small>"+(null==(__t=obj.description)?"":__t)+"</small>";return __p},this.JST["#user-exts-unselected-view"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-12 text-center no-data-view"><span class="fa fa-plug indicator-icon"></span><h1 class="text-center">'+__e(i18n("app.modules.admin.extensions.config.user.select.title",null))+'</h1></div><div class="col-md-12 empty-description text-center">'+__e(i18n("app.modules.admin.extensions.config.user.select.description",null))+"</div>";return __p},this.JST["#user-profile-menu-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a class="dropdown-toggle" href="#" data-toggle="dropdown"><img class="profile-image" src="'+__e(gravatarUrl)+'" width="24" height="24" alt="'+__e(getFullName())+'"/><span class="hidden-sm">'+__e(getName())+'</span><span class="caret"></span></a><ul class="dropdown-menu js-user-profile-menu"></ul>';return __p},this.JST["#user-profile-disable-password"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<form class="passwordDisabled form form-horizontal form-section" role="form"><div class="region-form-header"><h3>'+__e(i18n("app.views.changePassword.title",null))+'</h3></div><div class="region-form-content"><div class="row"><div class="col-md-12"><div class="text-center"><span class="fa fa-lock fa-2x text-muted"></span><br/>'+__e(i18n("app.modules.errors.disable.password",null))+"</div></div></div></div></form>";return __p},this.JST["#user-profile-edit-profile"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<form class="editProfile form form-horizontal form-section" role="form"><div class="region-form-header"><h3>'+__e(i18n("app.modules.common.header.your.profile.formLabel",null))+'</h3></div><div class="region-form-content"><div class="form-group"><label class="col-md-4">'+__e(i18n("app.modules.admin.userList.name",null))+'</label><div class="col-md-8"><p class="form-control-static">'+__e(name)+'</p></div></div><div class="form-group"><label class="col-md-4">'+__e(i18n("app.modules.admin.userList.email",null))+'</label><div class="col-md-8"><p class="form-control-static">'+__e(email)+'</p></div></div><div class="form-group"><label class="col-md-4">'+__e(i18n("app.modules.admin.userList.firstName",null))+'</label><div class="col-md-8"><p class="form-control-static">'+__e(firstName)+'</p></div></div><div class="form-group"><label class="col-md-4">'+__e(i18n("app.modules.admin.userList.lastName",null))+'</label><div class="col-md-8"><p class="form-control-static">'+__e(lastName)+"</p></div></div></div></form>";return __p},this.JST["#user-profile-header"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="logo-container"><div class="asset-logo-glyph"><span class="fa fa-user"></span></div></div></div><h1><small class="asset-location">'+__e(i18n("app.modules.common.header.profileLabel",null))+"</small>"+__e(name)+'</h1></div><div class="asset-meta-block clearfix"></div></div><div class="asset-details pull-right"></div>';return __p},this.JST["#user-profile-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="js-header-profile page-header"></div><div class="container form-container"><div class="row"><div class="col-md-4 js-user-profile"></div><div class="col-md-4 js-change-password js-disable-password"></div><div class="col-md-4 js-user-roles"></div></div><div class="row js-user-groups"></div><div class="row user-extensions"></div></div></div>';return __p},this.JST["#user-profile-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="#user/profile"><span class="fa fa-user"></span>'+__e(i18n("app.modules.common.header.profileLabel",null))+"</a></li>";return __p},this.JST["#user-profile-roles-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<strong>"+__e(obj.name)+'</strong><div class="text-muted">'+__e(obj.description)+"</div>";return __p},this.JST["#user-profile-roles-list"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-form-header"><h3>'+__e(i18n("app.views.user.sidebar.overallRoles",null))+'</h3></div><ul class="user-roles-list"></ul>';return __p},this.JST["#user-profile-user-groups"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="form-section"><div class="region-form-header"><h3>'+__e(i18n("app.modules.userGroups.title",null))+'</h3></div><div class="region-form-content"><div class="region-groups"></div></div></div>';return __p},this.JST["#versions-basics-form-footer"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="row"><div class="col-md-9 col-md-offset-3"><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+'</button></div></div><div class="row delete-section"><div class="col-md-12"><h3 class="text-left">'+__e(i18n("app.modules.versions.removeVersion",null))+"</h3>",__p+=currentProject.get("releases").items.length>1?'<div class="delete-description">'+__e(i18n("app.modules.versions.removeVersion.description",null))+'</div><button class="btn btn-danger btn-small pull-right js-delete-version-button"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.versions.removeVersion",null))+"</button>":'<div class="delete-description">'+__e(i18n("app.modules.versions.lastVersion",null))+'</div><button class="btn btn-danger btn-small pull-right" type="button" disabled="disabled"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.versions.removeVersion",null))+"</button>",__p+="</div></div>";return __p},this.JST["#versions-bom-adjusted-flag"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.adjusted&&(__p+='<div class="adjusted-flag fa fa-caret-up"><span class="sr-only">'+__e(i18n("app.modules.bom.adjustedFlag"))+"</span></div>");return __p},this.JST["#versions-bom-bulk-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><div class="bulk-header"></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="hidden"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div></div><p class="confirmation-block"></p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#versions-bom-bulk-edit"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>',__p+=__e(obj.getCollectionDataItemsCount()>1?i18n("app.modules.work.bom.bulkEdit",null):i18n("app.modules.work.bom.edit.component",null)),__p+='</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="bom-add-form">',obj.currentProject.get("projectLevelAdjustments")&&(__p+='<div class="row"><div class="col-md-7 col-md-offset-3"><div class="alert alert-warning">'+(null==(__t=i18n("app.modules.work.bom.edit.persistAll",{projectName:_.escape(obj.currentProject.get("name"))}))?"":__t)+"</div></div></div>"),__p+='<div class="hidden"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.views.bom.component",null))+'</label><div class="col-md-7"><select class="project-selector" name="project" placeholder="'+__e(i18n("app.modules.common.header.browse.enter.project"))+'" tabindex="0" autofocus="true"></select></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.modules.scans.mapping.view.releaseLabel",null))+'</label><div class="col-md-7"><div class="default-state-msg versions"><span class="fa fa-info-circle"></span>'+__e(i18n("app.modules.work.bom.new.bom.selectProject"))+'</div><select class="version-selector hide" name="version-val" tabindex="0"></select></div></div><div class="form-group hide js-select-distribution-container"><label class="col-md-3">'+__e(i18n("app.modules.scans.distribution",null))+'</label><div class="col-md-7"><select class="distribution-selector" name="distribution" tabindex="0"></select></div></div><div class="form-group hide js-select-distribution-version-container"><label class="col-md-3">'+__e(i18n("app.modules.scans.distribution.version",null))+'</label><div class="col-md-7"><select class="distribution-version-selector" name="distributionVersion" tabindex="0"></select></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.modules.versions.bom.usage",null))+'</label><div class="col-md-7"><select class="usage-selector" name="usage" tabindex="0"></select></div></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></form></div>";return __p},this.JST["#versions-bom-bulk-ignore"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><div class="bulk-header"></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="hidden"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div></div><p class="confirmation-block"></p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" id="modalCancel" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" id="modalConfirm" type="button" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.versions.bom.ignore",null))+"</button></div></div></div>";return __p},this.JST["#versions-bom-bulk-target-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="col-xs-6"><div class="project-version"><span class="project-name">'+__e(projectName)+"</span>",__p+="undefined"!=typeof releaseVersion&&releaseVersion?'<span class="version-name">'+__e(releaseVersion)+"</span>":'<span class="version-name" title="'+__e(i18n("app.modules.versions.unknown"))+'"><span class="fa fa-question"></span></span>',__p+='</div></div><div class="col-xs-2">'+__e(getMatchType())+'</div><div class="col-xs-3">'+__e(getUsageType())+'</div><div class="col-xs-1"><a class="remove-item"><span class="fa fa-times"></span></a></div>';return __p},this.JST["#versions-bom-bulk-unignore"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2><div class="bulk-header"></div></h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="hidden"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div></div><p class="confirmation-block"></p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" id="modalCancel" type="button">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" id="modalConfirm" type="button" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.versions.bom.unignore",null))+"</button></div></div></div>";return __p},this.JST["#versions-bom-charts-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><ul class="list-inline row"><li class="col-sm-3 col-xs-4"><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.securityRisk",null))+'</h2><div class="panel-body"><div class="vulnerability-risk-chart std-bar-chart"></div></div></div></li><li class="col-sm-3 col-xs-4 col-sm-offset-1"><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.licenseRisk",null))+'</h2><div class="panel-body"><div class="license-risk-chart std-bar-chart"></div></div></div></li><li class="col-sm-3 col-xs-4 col-sm-offset-1"><div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.risk.profile.panel.reasons.operationalRisk",null))+'</h2><div class="panel-body"><div class="operational-risk-chart std-bar-chart"></div></div></div></li></ul></div>';return __p},this.JST["#versions-bom-comment-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.commentCount&&(__p+='<a class="show-comments fa-stack" title="'+__e(obj.commentCount)+'"><span class="comment-icon fa-stack-1x fa fa-comment"></span>',__p+=obj.commentCount>9?'<span class="comments-count fa-stack-1x">'+__e(i18n("app.modules.versions.bom.comments.greaterThanNine",null))+"</span>":'<span class="comments-count fa-stack-1x">'+__e(obj.commentCount)+"</span>",__p+="</a>");return __p},this.JST["#versions-bom-create"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.work.bom.new.header",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="bom-add-form"><div class="form-group"><label class="col-md-3 control-label required">'+__e(i18n("app.views.bom.component",null))+'</label><div class="col-md-7"><select class="project-selector" name="producerProject" placeholder="'+__e(i18n("app.modules.common.header.browse.enter.project"))+'" autofocus="true" required="required"></select></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.scans.mapping.view.releaseLabel",null))+'</label><div class="col-md-7"><div class="default-state-msg versions"><span class="fa fa-info-circle"></span>'+__e(i18n("app.modules.work.bom.new.bom.selectProject"))+'</div><select class="version-selector hide" name="version-val"></select></div></div><div class="form-group hide js-select-distribution-container"><label class="col-md-3 control-label">'+__e(i18n("app.modules.scans.distribution",null))+'</label><div class="col-md-7"><select class="distribution-selector" name="distribution"></select></div></div><div class="form-group hide js-select-distribution-version-container"><label class="col-md-3 control-label">'+__e(i18n("app.modules.scans.distribution.version",null))+'</label><div class="col-md-7"><select class="distribution-version-selector" name="distributionVersion"></select></div></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></form></div>";return __p},this.JST["#versions-bom-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="versions-bom-charts"></div><div class="row"><div class="col-md-12"><div class="clearfix table-actions sticky-action-bar"><div class="pull-left table-actions-region"></div><div class="pull-right versions-bom-filter"></div></div></div></div><div class="row"><div class="col-md-12"><div class="versions-bom backgrid sticky-table"></div></div></div></div>';return __p},this.JST["#versions-bom-match-count-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<span class="files-count">',obj.fileMatchCount>0&&(__p+='<div class="files-link"><a href="'+__e(obj.getFilesViewLinkHref())+'"><span class="fa fa-file-o"></span>'+(null==(__t=i18n("app.modules.bom.file.link",{
        fileCount:obj.fileMatchCount},obj.fileMatchCount))?"":__t)+"</a></div>"),__p+="</span>";return __p},this.JST["#versions-bom-match-type-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=null==(__t=getMatchtype())?"":__t;return __p},this.JST["#versions-bom-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:bom")+'"><span class="fa fa-list">&nbsp;</span>'+__e(i18n("app.modules.versions.bom",null))+"</a></li>";return __p},this.JST["#versions-bom-operational-risk-cell-popover"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="operational-risk-popover-details legend-container"><ul>',obj.versionBomRiskDataSummary===undefined?__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name"><span class="fa fa-question"></span></span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.commits.unavailable.desc",null))+"</div></div></li>":(__p+="\n",obj.versionBomRiskDataSummary.releasedOn!==undefined&&(__p+='<li class="clearfix released-date"><div class="legend-head"><span class="legend-name"><span class="fa fa-calendar"></span></span></div><div class="legend-body"><div class="legend-expl">'+(null==(__t=i18n("app.modules.risk.profile.releasedOn",{releasedDate:formatDate(obj.versionBomRiskDataSummary.releasedOn)}))?"":__t)+"\n",__p+=isMoreThanOneYearOld(obj.versionBomRiskDataSummary.releasedOn)?'<span class="text-danger"> ('+__e(i18n("app.modules.risk.profile.releasedOn.desc",{daysAgo:formatNumber(getDaysSince(obj.versionBomRiskDataSummary.releasedOn))}))+")</span>":'<span class="text-muted"> ('+__e(i18n("app.modules.risk.profile.releasedOn.desc",{daysAgo:formatNumber(getDaysSince(obj.versionBomRiskDataSummary.releasedOn))}))+")</span>",__p+="</div></div></li>"),__p+="\n",obj.versionBomRiskDataSummary.newerReleasesCount!==undefined&&obj.versionBomRiskDataSummary.newerReleasesCount>0&&(__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name">'+(null==(__t=formatNumber(obj.versionBomRiskDataSummary.newerReleasesCount,!0))?"":__t)+'</span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.version.newVersionsAvailable.desc",null))+"</div></div></li>"),__p+="\n","DECREASING"===obj.versionBomRiskDataSummary.activityTrend?__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name"><span class="fa fa-arrow-down fa-lg text-danger"></span></span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.activity.descreasing.desc",null))+"</div></div></li>":"INCREASING"===obj.versionBomRiskDataSummary.activityTrend?__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name"><span class="fa fa-arrow-up fa-lg text-success"></span></span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.activity.increasing.desc",null))+"</div></div></li>":"STABLE"===obj.versionBomRiskDataSummary.activityTrend&&(__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name"><span class="fa fa-minus fa-lg"></span></span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.activity.stable.desc",null))+"</div></div></li>"),__p+="\n",obj.versionBomRiskDataSummary.commitCount12Month!==undefined&&(__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name">'+(null==(__t=formatNumber(obj.versionBomRiskDataSummary.commitCount12Month||0,!0))?"":__t)+'</span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.commits.last12Months.desc",null))+"</div></div></li>"),__p+="\n",obj.versionBomRiskDataSummary.contributorCount12Month!==undefined&&(__p+='<li class="clearfix"><div class="legend-head"><span class="legend-name">'+(null==(__t=formatNumber(obj.versionBomRiskDataSummary.contributorCount12Month||0,!0))?"":__t)+'</span></div><div class="legend-body"><div class="legend-expl">'+__e(i18n("app.modules.risk.profile.contributors.last12Months.desc",null))+"</div></div></li>"),__p+="\n"),__p+="</ul></div>";return __p};this.JST["#versions-bom-operational-risk-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var operationalRisk=obj.riskProfile.categories.OPERATIONAL,emptyClassName;__p+="\n",operationalRisk.HIGH||operationalRisk.MEDIUM||operationalRisk.LOW||(emptyClassName="no-risk"),__p+='<div class="risk-panel operational-risk-panel '+(null==(__t=emptyClassName)?"":__t)+'">',__p+=operationalRisk.HIGH?'<div class="risk-bubble high label">'+__e(i18n("app.modules.versions.bom.high",null))+"</div>":operationalRisk.MEDIUM?'<div class="risk-bubble medium label">'+__e(i18n("app.modules.versions.bom.medium",null))+"</div>":operationalRisk.LOW?'<div class="risk-bubble low label">'+__e(i18n("app.modules.versions.bom.low",null))+"</div>":'<div class="risk-bubble empty label">&nbsp;</div>',__p+="</div>"}return __p};this.JST["#versions-bom-project-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var projectId=obj.projectId;__p+="\n";var projectName=obj.projectName;__p+="\n";var versionId=obj.releaseId;__p+="\n";var versionName=obj.releaseVersion;__p+="\n";var channelName=obj.releaseVersion;__p+="\n";var channelReleases=obj.channelReleases;if(__p+="\n",channelReleases&&channelReleases.length>0){__p+="\n";var channelNameText=_.map(channelReleases,function(a){__p+="\n";var b=a.externalNamespace;return __p+="\n",a.externalId&&(__p+="\n",b+=" - "+a.externalId,__p+="\n"),__p+="\n",b}).join("\n");__p+='<span data-toggle="tooltip" data-placement="right auto" title="'+__e(channelNameText)+'">',"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></span>"}else"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>"}return __p},this.JST["#versions-bom-reviewed-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="REVIEWED"===obj.reviewSummary.reviewStatus?'<span class="fa fa-check-circle is-reviewed"></span>':'<span class="fa fa-check-circle-o not-reviewed"></span>';return __p},this.JST["#versions-bom-row-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown pull-right"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li class="edit-component"><a>'+__e(i18n("app.modules.common.button.edit",null))+'</a></li><li class="delete-component hidden"><a>'+__e(i18n("app.modules.common.button.delete",null))+'</a></li><li class="ignore-component"><a>'+__e(i18n("app.modules.versions.bom.ignore",null))+'</a></li><li class="unignore-component hidden"><a>'+__e(i18n("app.modules.versions.bom.unignore",null))+'</a></li><li class="comment-component"><a>'+__e(i18n("app.modules.versions.bom.comment",null))+"</a></li></ul></div>";return __p},this.JST["#versions-bom-table-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="btn-group"><button class="btn btn-sm btn-primary js-btn-add-component" type="button"><span class="fa fa-plus"></span><span>'+__e(i18n("app.modules.work.bom.new.header",null))+"</span></button></div>";return __p},this.JST["#versions-bom-usage-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.ignored?'<span class="label label-default">'+__e(i18n("app.modules.versions.bom.ignored"))+"</span>":"<span>"+__e(i18n("app.modules.versions.bom."+obj.usages[0]))+"</span>";return __p},this.JST["#versions-bom-vulnerability-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var vulnerabilityRisk=obj.riskProfile.categories.VULNERABILITY,emptyClassName;__p+="\n",vulnerabilityRisk.HIGH||vulnerabilityRisk.MEDIUM||vulnerabilityRisk.LOW||(emptyClassName="no-risk"),__p+='<div class="risk-panel '+(null==(__t=emptyClassName)?"":__t)+'">',__p+=vulnerabilityRisk.HIGH?'<a class="risk-level risk-high" href="'+(null==(__t=obj.getSecurityLink())?"":__t)+'"><span class="risk-bubble high label">'+__e(vulnerabilityRisk.HIGH)+"</span></a>":'<span class="risk-level risk-high"><span class="risk-bubble empty label">&nbsp;</span></span>',__p+="\n",__p+=vulnerabilityRisk.MEDIUM?'<a class="risk-level risk-medium" href="'+(null==(__t=obj.getSecurityLink())?"":__t)+'"><span class="risk-bubble medium label">'+__e(vulnerabilityRisk.MEDIUM)+"</span></a>":'<span class="risk-level risk-medium"><span class="risk-bubble empty label">&nbsp;</span></span>',__p+="\n",__p+=vulnerabilityRisk.LOW?'<a class="risk-level risk-low" href="'+(null==(__t=obj.getSecurityLink())?"":__t)+'"><span class="risk-bubble low label">'+__e(vulnerabilityRisk.LOW)+"</span></a>":'<span class="risk-level risk-low"><span class="risk-bubble empty label">&nbsp;</span></span>',__p+="</div>"}return __p},this.JST["#versions-files-browse-adjusted-flag"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.matchBomComponent&&obj.matchBomComponent.adjusted&&(__p+='<div class="adjusted-flag fa fa-caret-up"><span class="sr-only">'+__e(i18n("app.modules.bom.adjustedFlag"))+"</span></div>");return __p},this.JST["#versions-files-browse-bulk-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>'+__e(i18n("app.modules.version.files.bulkResetAdjustment",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div><p class="confirmation-block"></p></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.saving"))+'">'+__e(i18n("app.modules.common.button.save",null))+"</button></div></form></div>";return __p},this.JST["#versions-files-browse-bulk-edit"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>',__p+=__e(obj.getCollectionDataItemsCount()>1?i18n("app.modules.work.bom.bulkEdit",null):i18n("app.modules.work.bom.edit.component",null)),__p+='</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><div class="bom-add-form">',obj.currentProject.get("projectLevelAdjustments")&&(__p+='<div class="row"><div class="col-md-12"><div class="alert alert-warning">'+(null==(__t=i18n("app.modules.work.bom.edit.persistAll",{projectName:_.escape(obj.currentProject.get("name"))}))?"":__t)+"</div></div></div>"),__p+='<div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.views.bom.component",null))+'</label><div class="col-md-7"><select class="project-selector" name="project" placeholder="'+__e(i18n("app.modules.common.header.browse.enter.project"))+'" tabindex="0" autofocus="true"></select></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.modules.scans.mapping.view.releaseLabel",null))+'</label><div class="col-md-7"><div class="default-state-msg versions"><span class="fa fa-info-circle"></span>'+__e(i18n("app.modules.work.bom.new.bom.selectProject"))+'</div><select class="version-selector hide" name="version-val" tabindex="0"></select></div></div><div class="form-group hide js-select-distribution-container"><label class="col-md-3">'+__e(i18n("app.modules.scans.distribution",null))+'</label><div class="col-md-7"><select class="distribution-selector" name="distribution" tabindex="0"></select></div></div><div class="form-group hide js-select-distribution-version-container"><label class="col-md-3">'+__e(i18n("app.modules.scans.distribution.version",null))+'</label><div class="col-md-7"><select class="distribution-version-selector" name="distributionVersion" tabindex="0"></select></div></div><div class="form-group"><label class="col-md-3">'+__e(i18n("app.modules.versions.bom.usage",null))+'</label><div class="col-md-7"><select class="usage-selector" name="usage" tabindex="0"></select></div></div></div></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></form></div>";return __p},this.JST["#versions-files-browse-bulk-target-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-sm-6"><span class="project-name">'+__e(obj.fullPath)+'</span></div><div class="col-sm-2 match-type">'+(null==(__t=getMatchType())?"":__t)+'</div><div class="col-sm-3">'+__e(obj.usage?i18n("app.modules.versions.bom."+obj.usage):"")+'</div><div class="col-sm-1"><a class="remove-item"><span class="fa fa-times"></span></a></div>';return __p},this.JST["#versions-files-browse-details"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-version-files-browse-file-scan-details"></div><h3 class="node-name clearfix"><span class="fa pull-left text-muted '+__e(getIcon())+'"></span><span class="region-version-files-browse-file-path"></span></h3><div class="file-meta-data"></div>';return __p},this.JST["#versions-files-browse-expanded-row"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<td colspan="'+(null==(__t=getPathCellColspan())?"":__t)+'"><div class="well well-sm"><h5>'+__e(i18n("app.modules.scans.pathLabel",null))+'<small class="js-copy-path copy-path">&nbsp;<span class="fa fa-copy"></span>'+__e(i18n("app.modules.version.files.browse.copyPath",null))+'</small></h5><div class="region-version-files-browse-expanded-row-path"></div>',obj.size&&(__p+='<span class="file-size">('+(null==(__t=formatFileSize(obj.size))?"":__t)+")</span>"),__p+="</div></td>";return __p},this.JST["#versions-files-browse-file-component"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(obj.matchBomComponent){__p+="\n";var projectId=obj.matchBomComponent.project.id;__p+="\n";var projectName=obj.matchBomComponent.project.name;__p+="\n";var versionId=obj.matchBomComponent.release?obj.matchBomComponent.release.id:null;__p+="\n";var versionName=obj.matchBomComponent.release?obj.matchBomComponent.release.version:null;__p+="\n";var channelName=obj.matchBomComponent.channelRelease?obj.matchBomComponent.channelRelease.externalNamespace:null;__p+="\n";var channelVersion=obj.matchBomComponent.channelRelease?obj.matchBomComponent.channelRelease.externalId||obj.matchBomComponent.channelRelease.name:null;__p+="\n";var channelReleases=obj.matchBomComponent.channelReleases,channelNameText;if(__p+="\n",channelReleases&&channelReleases.length>0){__p+="\n";var channelNameText=_.map(channelReleases,function(a){__p+="\n";var b=a.externalNamespace;return __p+="\n",a.externalId&&(__p+="\n",b+=" - "+a.externalId,__p+="\n"),__p+="\n",b}).join("\n");__p+='<span class="asset-meta-key">'+__e(i18n("app.modules.common.Component"))+':</span><span class="asset-meta-val" data-toggle="tooltip" data-placement="top" title="'+__e(channelNameText)+'">',"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></span>"}else __p+='<span class="asset-meta-key">'+__e(i18n("app.modules.common.Component"))+':</span><span class="asset-meta-val">',"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></span>";__p+="\n"}return __p},this.JST["#versions-files-browse-file-license"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="asset-meta-key">'+__e(i18n("app.modules.versions.bom.license"))+':</span><a class="asset-meta-val">'+(null==(__t=getLicenseDisplay())?"":__t)+"</a>";return __p},this.JST["#versions-files-browse-file-match-meta"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="asset-meta-key">'+__e(i18n("app.modules.versions.bom.matchType"))+':</span><span class="asset-meta-val">'+(null==(__t=getMatchtype())?"":__t)+"</span>";return __p},this.JST["#versions-files-browse-file-match"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.fileBomMatchType&&"UNMATCHED"!==obj.fileBomMatchType&&(__p+="<div>",obj.fileMatchBomComponent&&obj.fileMatchBomComponent.versionBomMatchType&&(__p+="\n"+__e(i18n("app.modules.version.files.browse.matchStatus."+obj.fileMatchBomComponent.versionBomMatchType))+"\n"),__p+="</div>"),__p+="\n",obj.partialFileMatchBomComponents&&obj.partialFileMatchBomComponents.length&&(__p+="<div>"+__e(i18n("app.modules.version.files.browse.matchStatus.PARTIAL_FILE"))+'<a class="partial-dependencies-link"><i class="fa fa-info-circle"></i></a></div>'),__p+="\n",obj.fileDependencyBomComponents&&obj.fileDependencyBomComponents.length&&(__p+="<div>"+__e(i18n("app.modules.version.files.browse.matchStatus.FILE_DEPENDENCY"))+"</div>");return __p},this.JST["#versions-files-browse-file-path-clickable-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="file-node-text">'+__e(obj.text)+'</span><span class="file-path-node-separator"><span class="fa fa-caret-right"></span></span>';return __p},this.JST["#versions-files-browse-file-size"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="asset-meta-key">'+__e(i18n("app.modules.version.files.browse.fileSize"))+':</span><span class="asset-meta-val">'+(null==(__t=obj.formatFileSize(obj.size))?"":__t)+"</span>";return __p},this.JST["#versions-files-browse-filter"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="filter-name"><span class="fa fa-filter"></span> '+__e(i18n("app.modules.version.files.filters."+name))+'</span><span class="filter-value">'+__e(label)+'</span><span class="fa fa-close js-remove-filter"></span>';return __p},this.JST["#versions-files-browse-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-12 region-node-details"></div></div><div class="row"><div class="col-md-12 region-files-applied-filters"></div></div><div class="row"><div class="col-md-12"><div class="table-actions sticky-action-bar"><div class="pull-left region-files-table-actions"></div><div class="pull-right versions-bom-file-filter"></div></div></div></div><div class="row"><div class="col-md-12"><div class="region-files-table sticky-table"></div><div class="region-files-no-filters"></div></div></div>';return __p},this.JST["#versions-files-browse-no-filters-selected"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h1 class="text-center">'+__e(i18n("app.modules.version.files.noFiltersSelected.title",null))+'</h1><div class="text-center">'+__e(i18n("app.modules.version.files.noFiltersSelected.description",null))+"</div>";return __p},this.JST["#versions-files-browse-overview-details"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h3><span class="fa fa-database"></span>'+__e(i18n("app.modules.jobs.scm.code.location.details",null))+'</h3><div class="container-fluid"><div class="row"><div class="col-md-8"><div class="row"><div class="col-md-2 text-muted">'+__e(i18n("app.modules.scans.hostLabel",null))+'</div><div class="col-md-10">'+__e(obj.host||obj.hostName)+'</div></div><div class="row"><div class="col-md-2 text-muted">'+__e(i18n("app.modules.scans.pathLabel",null))+'</div><div class="col-md-10">'+(null==(__t=obj.path||obj.baseDir)?"":__t)+'</div></div><div class="row"><div class="col-md-2 text-muted">'+__e(i18n("app.modules.scans.bom.matchedCount",null))+'</div><div class="col-md-10">'+(null==(__t=getMatchCount())?"":__t)+'</div></div></div><div class="col-md-4"><div class="row"><div class="col-md-6 text-muted">'+__e(i18n("app.modules.common.files.type.file.pl",null))+'</div><div class="col-md-6">'+(null==(__t=getFileCount())?"":__t)+'</div></div><div class="row"><div class="col-md-6 text-muted">'+__e(i18n("app.modules.common.files.type.folder.pl",null))+'</div><div class="col-md-6">'+(null==(__t=getDirCount())?"":__t)+'</div></div><div class="row"><div class="col-md-6 text-muted">'+__e(i18n("app.modules.scans.scanSizeLabel",null))+'</div><div class="col-md-6">'+(null==(__t=getScanSize())?"":__t)+"</div></div></div></div></div>";return __p},this.JST["#versions-files-browse-partial-dependency-modal"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(obj.getModalTitle())+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><table class="table table-hover"><thead><tr><th>'+__e(i18n("app.modules.version.files.filters.component",null))+"</th><th>"+__e(i18n("app.modules.versions.bom.license",null))+"</th></tr></thead><tbody>",_.each(obj.partialFileMatchBomComponents,function(a){__p+="<tr><td>";var b=a.project.id;__p+="\n";var c=a.project.name;__p+="\n";var d=a.release?a.release.id:null;__p+="\n";var e=a.release?a.release.version:null;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+b,__p+="\n","undefined"!=typeof d&&null!==d&&(__p+="\n",url="#versions/id:"+d,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(c)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof e&&null!==e?'<span class="version-name label label-default">'+__e(e)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span></td><td>",a.license&&(__p+=__e(a.license.licenseDisplay)),__p+="</td></tr>"}),__p+='</tbody></table></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.close",null))+"</button></div></div></div>";return __p},this.JST["#versions-files-browse-path"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=isTreeNodeSelected()&&"FILE"!==type?'<a class="file-path clickable-path" title="'+__e(fullPath)+'">'+(null==(__t=getLabel())?"":__t)+"</a>":isTreeNodeSelected()||"FILE"===type?"\n"+(null==(__t=getLabel())?"":__t)+"\n":'<a class="file-path find-in-tree" title="'+__e(fullPath)+'">'+(null==(__t=getLabel())?"":__t)+"</a>";return __p},this.JST["#versions-files-browse-project-version"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(!_.isUndefined(obj.matchBomComponent)){__p+="\n";var projectName=_.isUndefined(obj.matchBomComponent.project)?"":obj.matchBomComponent.project.name;__p+="\n";var versionName=_.isUndefined(obj.matchBomComponent.release)?"":obj.matchBomComponent.release.version;__p+="\n";var projectId=_.isUndefined(obj.matchBomComponent.project)?"":obj.matchBomComponent.project.id;__p+="\n";var versionId=_.isUndefined(obj.matchBomComponent.release)?"":obj.matchBomComponent.release.id;__p+="\n",""!==projectName&&("undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>"),__p+="\n"}return __p},this.JST["#versions-files-browse-signature"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<pre>",obj.matchBomComponent&&(__p+="MatchType: "+(null==(__t=obj.matchBomComponent.versionBomMatchType)?"":__t)),obj.fileSignaturePair&&(__p+=" Sig: "+(null==(__t=obj.fileSignaturePair.signatureType)?"":__t)+(null==(__t=obj.fileSignaturePair.signatureValue)?"":__t)),__p+="</pre>";return __p},this.JST["#versions-files-browse-table-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="actions-btn-main-container js-actions-btn-main-container show-default"><button class="btn btn-default js-btn-edit btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.edit"))+'" type="button"><span class="fa fa-pencil"></span>'+__e(i18n("app.modules.common.button.edit",null))+'</button><button class="btn btn-default js-btn-delete btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.common.button.delete"))+'" type="button"><span class="fa fa-undo"></span>'+__e(i18n("app.modules.version.files.resetAdjustment",null))+"</button></div>";return __p},this.JST["#versions-files-browse-usage"]=function(obj){
    function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.matchBomComponent&&obj.matchBomComponent.usage&&(__p+="\n"+__e(i18n("app.modules.versions.bom."+obj.matchBomComponent.usage))+"\n");return __p},this.JST["#versions-files-sidebar-folder-tree"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="tree-controls clearfix"><div class="tree-filter pull-left"><div class="display-filter"><div class="filter-label-prefix">'+__e(i18n("app.modules.search.showing",null))+'</div><div class="filter-option dropdown"><a class="btn btn-link dropdown-toggle" data-toggle="dropdown"><span class="filter-label"></span><span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li id="filter-show-all-files" role="presentation"><a role="menuitem" tabindex="-1">'+__e(i18n("app.modules.version.files.sidebar.allFiles",null))+'</a></li><li class="active" id="filter-show-matched-files" role="presentation"><a role="menuitem" tabindex="-1">'+__e(i18n("app.modules.version.files.sidebar.filtered",null))+'</a></li></ul></div></div></div><div class="tree-toggle pull-right"><div class="btn-toolbar expand-collapse-commands js-expand-collapse-commands"><div class="btn-group"><button class="js-tree-collapse tree-collapse btn btn-default btn-xs" type="button" title="'+__e(i18n("app.modules.version.files.sidebar.collapse"))+'"><span class="fa fa-fw fa-compress fa-flip-horizontal"></span></button><button class="js-tree-expand tree-expand btn btn-default btn-xs" type="button" title="'+__e(i18n("app.modules.version.files.sidebar.expand"))+'"><span class="fa fa-fw fa-expand fa-flip-horizontal"></span></button></div></div></div></div><div id="files-tree-collapse"><div class="panel-body"><div class="js-tree"></div><div class="js-tree-preview hidden"></div></div></div>';return __p},this.JST["#versions-files-sidebar-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-folder-tree sidebar-filter"></div>';return __p},this.JST["#versions-files-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-8 no-data-view text-center"><i class="indicator-icon fa fa-files-o"></i><h1>'+__e(i18n("app.modules.version.files.noData",null))+'</h1></div><div class="col-md-8 empty-description text-center">'+__e(i18n("app.modules.version.files.gotoCodeLocation",null))+'</div><div class="col-md-8 text-center"><a class="btn btn-primary" href="#code-locations"><span class="fa fa-database"></span>'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+"</a></div>";return __p},this.JST["#versions-files-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="region-sidebar"></div><div class="extend-sidebar"><div class="extend-sidebar-handle"></div></div><div class="region-table"></div></div>';return __p},this.JST["#versions-files-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:files")+'"><span class="fa fa-code">&nbsp;</span>'+__e(i18n("app.modules.versions.source.title",null))+"</a></li>";return __p},this.JST["#versions-overview-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-9 project-versions-list"><div class="js-usages-header"></div><div class="table-actions"></div><div class="js-usages-list"></div></div><div class="col-md-3 project-metadata"><div class="js-vuln-counter"></div><div class="js-project-metadata"></div></div></div>';return __p},this.JST["#versions-overview-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.get("id")+"/view:overview")+'">'+__e(i18n("app.modules.common.overview",null))+"</a></li>";return __p},this.JST["#versions-reports-notices-notices-section"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="col-md-8 col-md-offset-2"><h1>'+__e(obj.fileContent.projectVersion.projectName)+'<span class="fa fa-caret-right"></span>'+__e(obj.fileContent.projectVersion.versionName)+'<span class="fa fa-caret-right"></span>'+__e(i18n("app.modules.versions.reports.type.VERSION_LICENSE",null))+'</h1><div class="asset-meta-block">',_.isUndefined(obj.fileContent.projectVersion.projectTier)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier",null))+'</span><span class="asset-meta-val">'+__e(obj.fileContent.projectVersion.projectTier)+"</span></div>"),__p+="\n",_.isUndefined(obj.fileContent.projectVersion.versionPhase)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.phase",null))+'</span><span class="asset-meta-val">'+__e(i18n("app.modules.common.phase."+obj.fileContent.projectVersion.versionPhase))+"</span></div>"),__p+="\n",_.isUndefined(obj.fileContent.projectVersion.versionDistribution)||(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.distribution",null))+'</span><span class="asset-meta-val">'+__e(i18n("app.modules.common.distribution."+obj.fileContent.projectVersion.versionDistribution))+"</span></div>"),__p+="</div><h1>"+__e(i18n("app.modules.common.Component.pl",null))+'</h1><table class="table backgrid notices-component-table"><thead><tr><th class="renderable">'+__e(i18n("app.modules.common.Component",null))+'</th><th class="renderable">'+__e(i18n("app.modules.versions.bom.license",null))+"</th></tr></thead><tbody>",_.each(obj.fileContent.componentLicenses,function(a){__p+="\n",_.isUndefined(a.attributionStatement)?(__p+='<tr><td class="renderable"><span class="project-version"><span class="project-name">'+__e(a.component.projectName)+'</span><span class="version-name label label-default">'+__e(a.component.versionName)+'</span></span></td><td class="renderable">',_.each(a.licenses,function(a){__p+='<div class="license-name">'+__e(a.name)+"</div>"}),__p+="</td></tr>"):(__p+='<tr class="contains-attribution-statement"><td class="renderable"><span class="project-version"><span class="project-name">'+__e(a.component.projectName)+'</span><span class="version-name label label-default">'+__e(a.component.versionName)+'</span></span></td><td class="renderable">',_.each(a.licenses,function(a){__p+='<div class="license-name">'+__e(a.name)+"</div>"}),__p+='</td></tr><tr><td class="renderable attribution-statement" colspan="2"><span class="text-muted">'+__e(a.attributionStatement)+"</span></td></tr>"),__p+="\n"}),__p+="</tbody></table><h1>"+__e(i18n("app.modules.versions.bom.license.pl",null))+"</h1>",_.each(obj.fileContent.licenseTexts,function(a){__p+="<h2>"+__e(a.name)+'</h2><div class="license-component-details text-muted">'+__e(getLicenseComponents(a.components))+"</div><pre>"+__e(a.text)+"</pre>"}),__p+="</div>";return __p},this.JST["#versions-reports-create-button"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<button class="btn btn-sm btn-primary" type="button"><span class="fa fa-plus"></span>'+(null==(__t=obj.data.name)?"":__t)+"</button>";return __p},this.JST["#versions-reports-create-menu-item"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a role="menuitem" tabindex="0">'+(null==(__t=obj.data.name)?"":__t)+"</a>";return __p},this.JST["#versions-reports-create-menu"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown"><button class="btn btn-sm btn-primary dropdown-toggle create-location-menu" type="button" id="createReportsMenu" data-toggle="dropdown" aria-expanded="false"><span class="fa fa-plus"></span>'+__e(i18n("app.modules.common.button.create",null))+'<span class="caret"></span></button><ul class="dropdown-menu" role="menu" aria-labelledby="createReportsMenu"></ul></div>';return __p},this.JST["#versions-reports-generate-notice"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-file-archive-o"></span>&nbsp;'+__e(i18n("app.modules.versions.reports.generateNewReport",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><p>'+__e(i18n("app.modules.versions.notices.confirm.description.1",null))+'</p><div class="form-group"><label class="col-sm-4 control-label" for="reportFormat">Report Format</label><div class="col-sm-4"><select class="form-control" id="reportFormat" name="reportFormat"><option value="TEXT">'+__e(i18n("app.modules.versions.reports.format.TEXT",null))+'</option><option value="JSON">'+__e(i18n("app.modules.versions.reports.format.JSON",null))+"</option></select></div></div><p>"+__e(i18n("app.modules.versions.notices.confirm.description.2",null))+'</p></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'">'+__e(i18n("app.modules.common.button.create",null))+"</button></div></form></div>";return __p},this.JST["#versions-reports-generate-report"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><form class="modal-content form form-horizontal" role="form"><div class="modal-header region-form-header" id="modalHeader"><h2>&nbsp;<span class="fa fa-file-archive-o"></span>&nbsp;'+__e(i18n("app.modules.versions.reports.generateNewReport",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body region-form-content" id="modalBody"><p>'+__e(i18n("app.modules.versions.reports.confirm.description.1",null))+'</p><div class="form-group"><label class="col-sm-6 control-label" for="categoryVersions">'+__e(i18n("app.modules.work.settings.releaseDetails",null))+'</label><div class="col-sm-6"><input class="form-control" id="categoryVersions" type="checkbox" name="categories" value="VERSION" checked="checked"/></div></div><div class="form-group"><label class="col-sm-6 control-label" for="categoryCodeLocations">'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+'</label><div class="col-sm-6"><input id="categoryCodeLocations" type="checkbox" name="categories" value="CODE_LOCATIONS" checked="checked"/></div></div><div class="form-group"><label class="col-sm-6 control-label" for="categoryComponents">'+__e(i18n("app.modules.common.Component.pl",null))+'</label><div class="col-sm-6"><input id="categoryComponents" type="checkbox" name="categories" value="COMPONENTS" checked="checked"/></div></div><div class="form-group"><label class="col-sm-6 control-label" for="categorySecurity">'+__e(i18n("app.modules.common.nouns.vulnerability.pl",null))+'</label><div class="col-sm-6"><input id="categorySecurity" type="checkbox" name="categories" value="SECURITY" checked="checked"/></div></div><div class="form-group"><label class="col-sm-6 control-label" for="categoryFiles">'+__e(i18n("app.modules.versions.source.title",null))+'</label><div class="col-sm-6"><input id="categoryFiles" type="checkbox" name="categories" value="FILES" checked="checked"/></div></div><p>'+__e(i18n("app.modules.versions.reports.confirm.description.2",null))+'</p></div><div class="modal-footer region-form-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.creating"))+'">'+__e(i18n("app.modules.common.button.create",null))+"</button></div></form></div>";return __p},this.JST["#versions-reports-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-sm-12"><div class="table-actions sticky-action-bar"><div class="reports-create-btn"></div></div><div class="reports-table sticky-table"></div></div></div>';return __p},this.JST["#versions-reports-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:reports")+'"><span class="fa fa-line-chart">&nbsp;</span>'+__e(i18n("app.modules.versions.reports",null))+"</a></li>";return __p},this.JST["#versions-reports-report-format-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(i18n("app.modules.versions.reports.format."+obj.reportFormat));return __p},this.JST["#versions-reports-report-name-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)obj.complete&&!obj.failed?(__p+="\n",__p+="JSON"===obj.reportFormat?'<a href="#versions-reports-notices?contentUrl='+__e(encodeURIComponent(obj.reportContentsUrl))+'" target="_blank">'+(null==(__t=obj.targetAttribute)?"":__t)+'\n&nbsp;&nbsp;<span class="fa fa-external-link"></span></a>':'<a href="'+__e(obj.reportDownloadUrl)+'">'+(null==(__t=obj.targetAttribute)?"":__t)+'\n&nbsp;&nbsp;<span class="fa fa-download"></span></a>',__p+="\n"):__p+=obj.failed?"--":'<span class="js-processing-spinner inline-spinner"></span>'+__e(i18n("app.modules.versions.reports.creatingReport",null));return __p},this.JST["#versions-reports-report-status-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.failed?'<div class="label label-danger">'+__e(i18n("app.modules.versions.reports.failed",null))+"</div>":obj.complete?'<div class="label label-success">'+__e(i18n("app.modules.versions.reports.complete",null))+"</div>":'<div class="label label-warning">'+__e(i18n("app.modules.versions.reports.processing",null))+"</div>";return __p},this.JST["#versions-reports-report-type-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(i18n("app.modules.versions.reports.type."+obj.reportType));return __p},this.JST["#versions-scanlocations-details"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<h1><span class="fa fa-database pull-left text-muted"><div class="sr-only">'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+"</div></span>"+__e(i18n("app.modules.common.header.browse.scansLabel",null))+"<br/><small>"+(null==(__t=getCodeLocationsDescription())?"":__t)+'</small></h1><br/><div class="clearfix"></div>';return __p},this.JST["#versions-scanlocations-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="scanLocationsDetails"></div><div id="scanLocations"></div>';return __p},this.JST["#versions-settings-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="container-fluid"><div class="row"><div class="col-sm-3 col-lg-2"><!-- TODO should be loaded from weighted store--><div class="left-nav list-group"><a class="list-group-item active" href="#versions/id:'+__e(currentVersion.id)+'/view:settings/tab:release" data-target-id="release">'+__e(i18n("app.modules.work.settings.releaseDetails",null))+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div></a><a class="list-group-item" href="#versions/id:'+__e(currentVersion.id)+'/view:settings/tab:scans" data-target-id="scans">'+__e(i18n("app.modules.common.header.browse.scansLabel",null))+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div></a></div></div><div class="col-sm-9 col-lg-10 versions-settings-content"></div></div></div>';return __p},this.JST["#versions-settings-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:settings")+'"><span class="fa fa-cog"></span>'+__e(i18n("app.modules.versions.settings",null))+"</a></li>";return __p},this.JST["#versions-usage-distribution-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+=obj.version.distribution?"\n"+__e(i18n("app.modules.common.distribution."+obj.version.distribution))+"\n":"\n"+__e(i18n("app.modules.versions.bom.unspecified"))+"\n";return __p},this.JST["#versions-usage-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-12"><div class="version-usage-table js-version-usage-table"></div></div>';return __p},this.JST["#versions-usage-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:usage")+'"><span class="fa fa-compass"></span>'+__e(i18n("app.modules.versions.usage",null))+"</a></li>";return __p},this.JST["#versions-usage-phase-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(i18n("app.modules.common.phase."+obj.targetAttribute));return __p},this.JST["#versions-usage-project-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#projects/id:"+obj.project.id)+'">'+__e(obj.targetAttribute)+"</a>";return __p},this.JST["#versions-usage-version-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<a href="'+__e("#versions/id:"+obj.version.id+"/view:bom")+'">'+__e(obj.targetAttribute)+"</a>";return __p},this.JST["#versions-vuln-component-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var projectName=obj.project.name;__p+="\n";var projectId=obj.project.id;__p+="\n";var versionName=obj.release&&obj.release.version?obj.release.version:null;__p+="\n";var versionId=obj.release&&obj.release.id?obj.release.id:null;if("undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span><br/>",obj.channelRelease){__p+="\n";var channelName=obj.channelRelease.externalNamespace;__p+="\n";var channelVersion=obj.channelRelease.externalId||obj.channelRelease.name;__p+='<small class="project-version-distribution text-muted"><span class="fa fa-cloud" title="'+__e(i18n("app.modules.scans.distribution"))+'"></span><span class="ext-namespace"> '+(null==(__t=channelName)?"":__t)+"</span> "+(null==(__t=channelVersion)?"":__t)+"</small>"}}return __p},this.JST["#versions-vuln-expanded-row-int"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<td colspan="9"><div class="col-md-12 int-vuln-container"><div class="col-md-7 vulnerability-content-row"><div class="content-row"><div class="col-md-12 row-top"><strong class="vuln-title">'+__e(i18n("app.modules.versions.vulnerabilities.description.label",null))+'</strong><div class="description">'+__e(summary)+'</div><br/><a href="#vulnerabilities/id:'+__e(id)+'/view:overview" target=" '+__e(id)+'">'+__e(i18n("app.modules.versions.vulnerabilities.description.fullRecord.label",null))+'</a></div><div class="col-md-12 row-bottom"><b>'+__e(i18n("app.modules.versions.vulnerabilities.metrics.scores.title",null))+'</b><div class="metrics-legend js-metrics-legend" data-toggle="popover" title="'+__e(i18n("app.modules.versions.vulnerabilities.metrics.popup.title"))+'" data-html="true"><span class="fa fa-question-circle"></span></div><ul class="clearfix"><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessVector?"\n"+__e(accessVector)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof availabilityImpact?"\n"+__e(availabilityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessComplexity?"\n"+__e(accessComplexity)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof confidentialityImpact?"\n"+__e(confidentialityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof authentication?"\n"+__e(authentication)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof integrityImpact?"\n"+__e(integrityImpact)+"\n":"-",__p+="</span></li></ul>","undefined"!=typeof createdAt?(__p+='<div class="description-info-dates-container col-md-6"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+='</div></div><div class="description-info-dates-container col-md-6">',"undefined"!=typeof updatedAt&&(__p+='<div class="description-info-block"><span>'+__e(getUpdated())+"</span></div>"),__p+="</div>"):(__p+='<div class="description-info-dates-container"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+="</div></div>"),__p+='</div></div></div><div class="col-md-5 remediation-content-row"><div class="content-row"><div class="remediation-content-col"><strong class="remediation-title">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.label",null))+'</strong><div class="remediation-body-info-group col-md-12"><div class="remediation-status-block col-md-12">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.label",null))+'<select class="remediation-status js-remediation-status" tabindex="0"><option value="NEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEW",null))+'</option><option value="NEEDS_REVIEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW",null))+'</option><option value="REMEDIATION_REQUIRED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED",null))+'</option><option value="REMEDIATION_COMPLETE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE",null))+'</option><option value="MITIGATED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.MITIGATED",null))+'</option><option value="PATCHED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.PATCHED",null))+'</option><option value="IGNORED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.IGNORED",null))+'</option><option value="DUPLICATE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.DUPLICATE",null))+'</option></select><span class="js-status-validation-error-container text-danger"></span></div><div class="remediation-info-block col-md-12"><div class="remediation-info-block-row"><span class="info-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.targetDate.label",null))+'</span><span class="js-target-date input-date input-group date input-append datetimepicker js-datetimepicker"><input class="js-target-date-input form-control" type="text" name="datepicker-target-date"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></span></div><div class="remediation-info-block-row"><span class="info-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.actualDate.label",null))+'</span><span class="js-actual-date input-date input-group date input-append datetimepicker js-datetimepicker"><input class="js-actual-date-input form-control" type="text" name="datepicker-actual-date"/><span class="input-group-addon"><span class="fa fa-calendar datepicker-btn add-on"></span></span></span></div></div><div class="remediation-body-comment-group col-md-12"><div class="comment-container js-comment-container"><div class="edit-label">'+__e(i18n("app.modules.common.clickToEdit",null))+'</div><textarea class="remediation-comment js-remediation-comment">'+(null==(__t="undefined"!=typeof comment?comment:"")?"":__t)+'</textarea><div class="remediation-comment js-remediation-comment">'+__e("undefined"!=typeof comment?comment:"")+'</div></div><a class="btn btn-sm btn-primary update"><span class="fa fa-edit"></span>'+__e(i18n("app.modules.versions.vulnerabilities.remediation.update",null))+"</a></div></div></div></div></div></div></td>";return __p},this.JST["#versions-vuln-expanded-row-kb"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<td colspan="6"><div class="col-md-12 vulnerability-content-row"><div class="content-row"><div class="col-md-8 row-left"><span class="fa fa-file-o"></span><b>'+__e(i18n("app.modules.versions.vulnerabilities.description.label",null))+'</b><div class="description">'+__e(summary)+'</div><br/><a href="#vulnerabilities/id:'+__e(id)+'/view:overview" target=" '+__e(id)+'">'+__e(i18n("app.modules.versions.vulnerabilities.description.fullRecord.label",null))+'</a></div><div class="col-md-4 row-right"><b>'+__e(i18n("app.modules.versions.vulnerabilities.metrics.scores.title",null))+'</b><div class="metrics-legend js-metrics-legend" data-toggle="popover" title="'+__e(i18n("app.modules.versions.vulnerabilities.metrics.popup.title"))+'" data-html="true"><span class="fa fa-question-circle"></span></div><ul class="clearfix"><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessVector?"\n"+__e(accessVector)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof availabilityImpact?"\n"+__e(availabilityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessComplexity?"\n"+__e(accessComplexity)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof confidentialityImpact?"\n"+__e(confidentialityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof authentication?"\n"+__e(authentication)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof integrityImpact?"\n"+__e(integrityImpact)+"\n":"-",__p+="</span></li></ul>","undefined"!=typeof createdAt?(__p+='<div class="description-info-dates-container col-md-6"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+='</div></div><div class="description-info-dates-container col-md-6">',"undefined"!=typeof updatedAt&&(__p+='<div class="description-info-block"><span>'+__e(getUpdated())+"</span></div>"),__p+="</div>"):(__p+='<div class="description-info-dates-container"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+="</div></div>"),__p+="</div></div></div></td>";return __p},this.JST["#versions-vuln-identifier-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="no-wrap">',"VULNDB"===obj.source?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+"</div>":"NVD"===obj.source&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n"+__e(obj.id)+"</div>";return __p},this.JST["#versions-vuln-layout-int"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-3 col-xs-4" id="components-list"><div class="vuln-chart"><h4>'+__e(i18n("app.modules.versions.vulnerabilities.securityRisks",null))+'</h4><div class="std-bar-chart" id="vuln-chart-filter"><div class="chart-legend"></div></div></div><div class="component-filters"><div class="js-levels-filter js-d3charts-filterable std-bar-chart"></div><div class="js-filter filter-right"></div></div><div id="vuln-components-table"></div></div><div class="col-md-9 col-md-offset-3 col-xs-8 col-xs-offset-4" id="components-vulns"><div class="cves-header"></div><div class="table-actions clearfix sticky-action-bar"></div><div class="cves-table sticky-table"></div></div></div>';return __p},this.JST["#versions-vuln-layout-kb"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row"><div class="col-md-10 col-md-offset-1" id="components-vulns"><div class="cves-header"></div><div class="table-actions clearfix sticky-action-bar"><div class="js-filter pull-right"></div></div><div class="cves-table sticky-table"></div></div></div>';
    return __p},this.JST["#versions-vuln-menu-link"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#versions/id:"+currentVersion.id+"/view:vulnerabilities")+'"><span class="fa fa-shield">&nbsp;</span>'+__e(i18n("app.modules.versions.vulnerabilities.title",null))+"</a></li>";return __p},this.JST["#versions-vuln-metrics-legend"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div><div class="legend-container"><ul><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.values",null))+'</span></div></li><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.values",null))+'</span></div></li><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.values",null))+'</span></div></li><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.values",null))+'</span></div></li><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.values",null))+'</span></div></li><li class="clearfix"><div class="legend-head"><span class="legend-name">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.name",null))+'</span></div><div class="legend-body"><div class="legend-key">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.expl",null))+'</div><span class="possible-values-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.possibleValues",null))+'</span><span class="possible-values">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.values",null))+"</span></div></li></ul></div></div>";return __p},this.JST["#versions-vuln-remediation-status-cell"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<span class="'+__e("label "+obj.getStatusLabelClass(obj.remediationStatus))+'">'+__e(obj.getStatusLabel(obj.remediationStatus))+"</span>";return __p},this.JST["#versions-vuln-risk-popover"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+='<div class="risk-panel">',_.each(obj,function(a){__p+='<span class="risk-bubble '+__e(a.class)+'">'+__e(a.number)+'</span><span class="risk-label">'+__e(a.name)+"</span><br/>"}),__p+="</div>";return __p},this.JST["#versions-vuln-vuln-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="region-filter pull-right"></div><div class="region-remediation-filter pull-right"></div>';return __p},this.JST["#versions-vuln-vuln-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-12 text-center no-data-view"><span class="fa fa-shield indicator-icon"></span><h1 class="text-center">'+__e(i18n("app.modules.vulns.noData",null))+"</h1></div>";return __p},this.JST["#versions-vuln-vuln-no-component-selected"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-10"><h1 class="text-center">'+__e(i18n("app.project.noVulnerabilities.selected",null))+'</h1></div><div class="col-md-10 empty-description text-center">'+__e(i18n("app.project.noVulnerabilities.selected.indication",null))+"</div>";return __p},this.JST["#versions-vuln-vulnerability-count"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var vulnCount=value||0;__p+="\n";var className=0===vulnCount?"count-widget zero":"count-widget";__p+='<div class="row '+__e(className)+'"><div class="col-xs-4 text-center count-icon"><span class="fa fa-shield"></span></div><div class="col-xs-8 count-data"><div class="count-value">'+__e(vulnCount)+'</div><div class="count-label">'+__e(i18n("app.modules.common.nouns.vulnerability",vulnCount))+"</div></div></div>"}return __p},this.JST["#versions-vuln-vulnerability-details"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<b>"+__e(i18n("app.modules.versions.vulnerabilities.metrics.scores.title",null))+'</b><div class="metrics-legend js-metrics-legend" data-toggle="popover" title="'+__e(i18n("app.modules.versions.vulnerabilities.metrics.popup.title"))+'" data-html="true"><span class="fa fa-question-circle"></span></div><ul class="clearfix"><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.av.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessVector?"\n"+__e(accessVector)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.A.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof availabilityImpact?"\n"+__e(availabilityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.ac.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof accessComplexity?"\n"+__e(accessComplexity)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.C.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof confidentialityImpact?"\n"+__e(confidentialityImpact)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.au.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof authentication?"\n"+__e(authentication)+"\n":"-",__p+='</span></li><li><span class="metric-label">'+__e(i18n("app.modules.versions.vulnerabilities.metrics.I.name",null))+'</span><span class="metric-value">',__p+="undefined"!=typeof integrityImpact?"\n"+__e(integrityImpact)+"\n":"-",__p+="</span></li></ul>","undefined"!=typeof createdAt?(__p+='<div class="description-info-dates-container col-md-6"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+='</div></div><div class="description-info-dates-container col-md-6">',"undefined"!=typeof updatedAt&&(__p+='<div class="description-info-block"><span>'+__e(getUpdated())+"</span></div>"),__p+="</div>"):(__p+='<div class="description-info-dates-container"><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.publishedAt",null))+"</span>",__p+="undefined"!=typeof publishedDate?'<time datetime="'+__e(publishedDate)+'">'+__e(formatDateFull(publishedDate))+"</time>":"-",__p+='</div><div class="description-info-block"><span class="text-muted">'+__e(i18n("app.modules.versions.vulnerabilities.updatedAt",null))+"</span>",__p+="undefined"!=typeof lastModified?'<time datetime="'+__e(lastModified)+'">'+__e(formatDateFull(lastModified))+"</time>":"-",__p+="</div></div>");return __p},this.JST["#versions-vuln-vulnerability-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)if(__p+="<h4>"+__e(getVulnCountTitle())+"</h4>",obj.bomEntry.get("channelRelease")){__p+="\n";var channelName=obj.bomEntry.get("channelRelease").externalNamespace;__p+="\n";var channelVersion=obj.bomEntry.get("channelRelease").externalId||obj.bomEntry.get("channelRelease").name;__p+='<small class="project-version-distribution text-muted"><span class="fa fa-cloud" title="'+__e(i18n("app.modules.scans.distribution"))+'"></span><span class="ext-namespace"> '+(null==(__t=channelName)?"":__t)+"</span> "+(null==(__t=channelVersion)?"":__t)+"</small>"}return __p},this.JST["#versions-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var ownership=project.get("kb")?"1":"0";__p+="\n";var projectName=project.get("name");__p+="\n";var logoUrl=project.get("kb")&&project.get("logos").mediumLogoUrl;__p+="\n";var primaryLanguage=project.get("primaryLanguage")||undefined;__p+="\n";var projectReleasesCount=project.get("releases").items.length;__p+="\n";var projectId=project.id;__p+="\n";var projectLocation=i18n("app.modules.search.filtervalue.ownership"+ownership);__p+="\n";var hostname=parseHostname(project.get("url"));__p+="\n",projectLocation=hostname||projectLocation,__p+="\n";var tier=project.get("tier");__p+="\n";var hasProjectOwner=project.get("projectOwnerId");__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo">',__p+=logoUrl?'<div class="project-logo"><img src="'+__e(logoUrl)+'" alt="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"/></div>':"0"===ownership?'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cubes" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>':'<div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-cube" aria-label="'+__e(i18n("app.modules.projects.icon.custom.label",{projectName:projectName}))+'"></span></div></div>',__p+='</div><h1><small class="asset-location">'+__e(projectLocation)+'</small><a title="'+__e(projectName)+'" href="#projects/id:'+__e(projectId)+'">'+__e(projectName)+'</a><span class="fa fa-caret-right"></span><span title="'+__e(version.get("version"))+'">'+__e(version.get("version"))+'</span></h1></div><div class="asset-meta-block clearfix"><!-- Primary Language Tag-->',__p+="undefined"!=typeof primaryLanguage?'<div class="primary-lang lang-bg '+__e(getLanguageCodeName(primaryLanguage))+'">'+__e(getLanguageAbbrev(primaryLanguage))+"</div>":'<div class="primary-lang lang-bg unknown">'+__e(i18n("app.modules.common.unknown"))+"</div>",__p+="<!-- Project License-->","undefined"!=typeof projectLicense&&(__p+='<div class="license">'+__e(projectLicense)+"</div>"),__p+="<!-- Project Releases Count-->","undefined"!=typeof projectReleasesCount&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.version.pl"))+'</span><a class="asset-meta-val" href="#projects/id:'+__e(projectId)+'/view:versions">'+__e(projectReleasesCount)+"</a></div>"),__p+="<!-- Project Owner-->","undefined"!=typeof hasProjectOwner&&hasProjectOwner&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.owner"))+'</span><span class="asset meta-val" id="projectOwnerLink"></span></div>'),__p+="<!-- Project Tier-->","undefined"!=typeof tier&&""!==tier&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.tier"))+'</span><span class="asset-meta-val">'+__e(tier)+"</span></div>"),__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.phase"))+'</span><span class="asset-meta-val">'+__e(getPhase())+'</span></div><div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.distribution"))+'</span><span class="asset-meta-val">'+__e(getDistribution())+"</span></div>",version.get("nickname")&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.header.nickname"))+'</span><span class="asset-meta-val">'+__e(version.get("nickname"))+"</span></div>"),__p+='</div></div><div class="asset-details pull-right"></div>'}return __p},this.JST["#versions-modal-delete"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.versions.removeVersion",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><p>'+__e(i18n("app.modules.versions.removeVersionConfirm",{versionName:obj.name}))+'</p></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-danger" type="button" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.deleting"))+'"><span class="fa fa-trash"></span>'+__e(i18n("app.modules.common.button.delete",null))+"</button></div></div></div>";return __p},this.JST["#vulnerabilities-affected-projects-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="actions-btn-main-container js-actions-btn-main-container show-default btn-group"><button class="btn btn-default js-btn-edit btn-sm" disabled="disabled" alt="'+__e(i18n("app.modules.versions.vulnerabilities.remediation.btn.label"))+'"><span class="fa fa-wrench"></span>'+__e(i18n("app.modules.versions.vulnerabilities.remediation.btn.label",null))+"</button></div>";return __p},this.JST["#vulnerabilities-bulk-remediation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2>'+__e(i18n("app.modules.versions.vulnerabilities.remediation.bulk.title",null))+'</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><div class="general-bulk-selection-status row"><div class="js-bulk-items-wrapper bulk-items-wrapper invalid"><a class="js-selection-invalid-stats selection-stats"><span class="fa fa-angle-right icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container invalid no-limit-display"><div class="js-target-items-container bulk-items-list invalid"></div><div class="view-more-btn-container"><a class="js-invalids-more-btn view-more-btn"></a><a class="js-invalids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div><div class="js-bulk-items-wrapper bulk-items-wrapper valid"><a class="js-selection-valid-stats selection-stats"><span class="fa fa-angle-down icon-control"></span><span class="text-block"></span></a><div class="js-bulk-items-container bulk-items-container expanded valid"><div class="js-target-items-container bulk-items-list valid"></div><div class="view-more-btn-container"><a class="js-valids-more-btn view-more-btn"></a><a class="js-valids-less-btn view-less-btn">'+__e(i18n("app.modules.common.less",null))+'</a></div></div></div></div><form class="form-horizontal"><div id="vulnerability-projects-remediation"><div class="form-group"><label class="col-md-3 control-label required">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.label",null))+'</label><div class="col-md-7"><select class="remediation-status js-remediation-status" name="remediationStatus" required="required"><option></option><option value="NEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEW",null))+'</option><option value="NEEDS_REVIEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW",null))+'</option><option value="REMEDIATION_REQUIRED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED",null))+'</option><option value="REMEDIATION_COMPLETE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE",null))+'</option><option value="MITIGATED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.MITIGATED",null))+'</option><option value="PATCHED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.PATCHED",null))+'</option><option value="IGNORED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.IGNORED",null))+'</option><option value="DUPLICATE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.DUPLICATE",null))+'</option></select></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.targetDate.label",null))+'</label><div class="col-md-7"><div class="input-group date datetimepicker js-target-date"><input class="form-control js-target-date-input" name="datepicker-target-date" tabindex="0"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.actualDate.label",null))+'</label><div class="col-md-7"><div class="input-group date datetimepicker js-actual-date"><input class="form-control js-actual-date-input" name="datepicker-actual-date" tabindex="0"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.comments.label",null))+'</label><div class="col-md-7"><textarea class="remediation-comment js-remediation-comment form-control" tabindex="0">'+(null==(__t="undefined"!=typeof comment?comment:"")?"":__t)+'</textarea></div></div></div></form></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></div></div>";return __p},this.JST["#vulnerabilities-bulk-target-item"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="col-md-8">';var projectName=obj.project.name;__p+="\n";var projectId=obj.project.id;__p+="\n";var versionName=obj.release?obj.release.version:null;__p+="\n";var versionId=obj.release?obj.release.id:null;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+='</a></span></div><div class="col-md-3">',__p+=obj.remediation&&obj.remediation.remediationStatus?'<span class="'+__e("label "+obj.getStatusLabelClass(obj.remediation.remediationStatus))+'">'+__e(obj.getStatusLabel(obj.remediation.remediationStatus))+"</span>":'<span class="'+__e("label "+obj.getStatusLabelClass())+'">'+__e(obj.getStatusLabel())+"</span>",__p+='</div><div class="col-md-1"><a class="remove-item"><span class="fa fa-times"></span></a></div>'}return __p},this.JST["#vulnerabilities-classification"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="<h5>"+__e(category)+'</h5><div role="list">',_.each(classifications,function(a){__p+='<div role="listitem">&nbsp;&nbsp;<span class="fa fa-angle-right"></span>&nbsp;&nbsp;<span data-toggle="tooltip" data-placement="right" data-container="body" title="'+__e(a.description)+'">'+__e(a.longname)+"</span></div>"}),__p+="</div>";return __p},this.JST["#vulnerabilities-classifications-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="row" id="classifications-container"></div>';return __p},this.JST["#vulnerabilities-classifications"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+="<h4>"+__e(i18n("app.modules.vulns.classification.pl",null))+'</h4><div class="row" id="classifications-container"></div>';return __p},this.JST["#vulnerabilities-component-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var projectId=producerProject.id;__p+="\n";var projectName=producerProject.name;__p+="\n";var versionId=producerRelease.id;__p+="\n";var versionName=producerRelease.version;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',__p+="</a></span>"}return __p},this.JST["#vulnerabilities-header"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><h1>';var source=obj.vulnerability.get("source");__p+='<small class="asset-location">'+__e(i18n("app.modules.vulns.type."+source+".title"))+"</small>"+__e(obj.vulnerability.get("title"))+'</h1></div><div class="asset-meta-block clearfix">';var source=obj.vulnerability.get("source");__p+="\n","VULNDB"===source?__p+='<div class="vuln-type VULNDB">'+__e(i18n("app.modules.vulns.type.VULNDB.tag",null))+"</div>":"NVD"===source&&(__p+='<div class="vuln-type NVD">'+__e(i18n("app.modules.vulns.type.NVD.tag",null))+"</div>"),__p+="\n","VULNDB"===source&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.vulndbId",null))+'</span><span class="asset-meta-val">'+__e(obj.vulnerability.get("id"))+"</span></div>"),__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.versions.vulnerabilities.published",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(obj.vulnerability.get("publishedDate")))+"</span></div>",obj.vulnerability.get("disclosureDate")!==undefined&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.reported",null))+'</span><span class="asset-meta-val">'+__e(obj.formatDateFull(obj.vulnerability.get("disclosureDate")))+"</span></div>"),__p+="\n",obj.vulnerability.get("severity")!==undefined&&(__p+='<div class="asset-meta"><span class="asset-meta-key">'+__e(i18n("app.modules.common.severity",null))+'</span><span class="asset-meta-val"><div class="label '+__e(obj.vulnerability.get("severity"))+'">'+__e(obj.vulnerability.get("severity"))+"</div></span></div>"),__p+='</div></div><div class="asset-details pull-right"></div>'}return __p},this.JST["#vulnerabilities-menu-link-overview"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#vulnerabilities/id:"+currentVulnerability.id+"/view:overview")+'">'+__e(i18n("app.modules.common.overview",null))+"</a></li>";return __p},this.JST["#vulnerabilities-menu-link-references"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<li><a href="'+__e("#vulnerabilities/id:"+currentVulnerability.id+"/view:references")+'"><span class="fa fa-book"></span>'+__e(i18n("app.modules.common.references.pl",null))+"</a></li>";return __p},this.JST["#vulnerabilities-metrics"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var metrics=obj.getMetricData();__p+="<thead><tr><th>"+__e(i18n("app.modules.vulns.metrics"))+"</th>",_.each(metrics,function(a){__p+="<th>"+__e(a.source)+"</th>"}),__p+='</tr></thead><tbody><tr class="'+__e(obj.getDiffClass(metrics,"accessVector"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.accessVector"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.accessVector)+"</td>"}),__p+='</tr><tr class="'+__e(obj.getDiffClass(metrics,"accessComplexity"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.accessComplexity"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.accessComplexity)+"</td>"}),__p+='</tr><tr class="'+__e(obj.getDiffClass(metrics,"authentication"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.authentication"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.authentication)+"</td>"}),__p+='</tr><tr class="'+__e(obj.getDiffClass(metrics,"confidentialityImpact"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.confidentialityImpact"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.confidentialityImpact)+"</td>"}),__p+='</tr><tr class="'+__e(obj.getDiffClass(metrics,"integrityImpact"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.integrityImpact"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.integrityImpact)+"</td>"}),__p+='</tr><tr class="'+__e(obj.getDiffClass(metrics,"availabilityImpact"))+'"><td>'+__e(i18n("app.modules.vulns.metrics.availabilityImpact"))+"</td>",_.each(metrics,function(a){__p+="<td>"+__e(a.availabilityImpact)+"</td>"}),__p+="</tr></tbody>"}return __p},this.JST["#vulnerabilities-overview"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){__p+='<div class="col-md-8"><div class="general-description"><h4>'+__e(i18n("app.modules.common.description"))+"</h4><p>"+__e(obj.vulnerability.get("summary"))+"</p></div>",obj.vulnerability.get("solution")&&(__p+='<div class="technical-description"><h4>'+__e(i18n("app.modules.vulns.technicalDescription"))+"</h4><p>"+__e(obj.vulnerability.get("technicalDescription"))+"</p></div>"),__p+='<div class="affected-projects"><h4>'+__e(i18n("app.modules.vulns.affectedProjects"))+'</h4><div class="table-actions" id="js-affected-project-actions"></div><div id="js-affected-project-table"></div><div class="clearfix"></div></div>',obj.vulnerability.get("solution")&&(__p+='<div class="solution-description"><h4>',null!==obj.vulnerability.get("solutionDate")&&(__p+='<small class="pull-right">'+__e(i18n("app.modules.common.posted",null))+"&nbsp;"+(null==(__t=obj.formatDateFull(obj.vulnerability.get("solutionDate")))?"":__t)+"</small>"),__p+=__e(i18n("app.modules.common.solution",null))+'</h4><div class="clearfix"></div><p>'+__e(obj.vulnerability.get("solution"))+"</p></div>"),__p+='<div class="classifications" id="js-vuln-classifications"></div><br/><br/></div><div class="col-md-4"><h4 class="text-center">'+__e(i18n("app.modules.vulns.scores.title",null))+'</h4><div class="vulnerability-scores"><div class="vulnerability-scores-chart"><div id="vuln-chart-legend"></div><div id="vuln-chart"></div></div></div><div class="vulnerability-scores-counts"><div class="score-widget">';var baseScore=obj.vulnerability.get("baseScore")||0;__p+="\n";var baseLevel=baseScore<4?"low":baseScore>=7?"high":"medium";__p+='<div class="score-value '+__e(baseLevel)+'">'+__e(numeral(baseScore).format("0.0"))+'</div><div class="score-label '+__e(baseLevel)+'">'+__e(i18n("app.modules.vulns.scores.base",null))+'</div></div><div class="score-widget">';var exploitScore=obj.vulnerability.get("exploitabilitySubscore")||0;__p+="\n";var exploitLevel=exploitScore<4?"low":exploitScore>=7?"high":"medium";__p+='<div class="score-value '+__e(exploitLevel)+'">'+__e(numeral(exploitScore).format("0.0"))+'</div><div class="score-label '+__e(exploitLevel)+'">'+__e(i18n("app.modules.vulns.scores.exploitability",null))+'</div></div><div class="score-widget">';var impactScore=obj.vulnerability.get("impactSubscore")||0;__p+="\n";var impactLevel=impactScore<4?"low":impactScore>=7?"high":"medium";__p+='<div class="score-value '+__e(impactLevel)+'">'+__e(numeral(impactScore).format("0.0"))+'</div><div class="score-label '+__e(impactLevel)+'">'+__e(i18n("app.modules.vulns.scores.impact",null))+'</div></div></div><div class="vulnerability-metrics" id="js-vuln-metrics"></div><div id="related-vulnerabilities"></div></div>'}return __p},this.JST["#vulnerabilities-project-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj){var projectId=project.id;__p+="\n";var projectName=project.name;__p+="\n";var versionId=release.id;__p+="\n";var versionName=release.version;"undefined"!=typeof versionUrl?(__p+="\n",url="#versions/href:"+btoa(versionUrl),__p+="\n"):"undefined"!=typeof projectUrl?(__p+="\n",url="#projects/href:"+btoa(projectUrl),__p+="\n"):(__p+="\n",url="#projects/id:"+projectId,__p+="\n","undefined"!=typeof versionId&&null!==versionId&&(__p+="\n",url="#versions/id:"+versionId,__p+="\n"),__p+="\n"),__p+='<span class="project-version"><span class="project-name">'+__e(projectName)+'</span><a class="project-version-link" href="'+__e(url)+'">',__p+="undefined"!=typeof versionName&&null!==versionName?'<span class="version-name label label-default">'+__e(versionName)+"</span>":'<span class="version-name label label-default" title="'+__e(i18n("app.modules.versions.unknown"))+'" data-toggle="tooltip"><span class="fa fa-question"></span></span>',
    __p+="</a></span>"}return __p},this.JST["#vulnerabilities-references-category"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+=__e(name)+'<div class="pull-right"><span class="fa fa-chevron-right"></span></div><span class="badge">'+__e(count)+"</span>";return __p},this.JST["#vulnerabilities-references-group"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)"ALL"!==id&&(__p+='<div class="panel panel-default"><h2 class="panel-heading">'+__e(name)+'</h2><div class="panel-body">',_.each(obj.references,function(a){__p+="<p>",__p+=a.hasURL()?'<a class="external-link" href="'+__e(a.get("href"))+'" target="_blank">'+__e(a.get("href"))+'<span class="fa fa-external-link"></span></a>':"\n"+__e(a.get("content"))+"\n",__p+="</p>"}),__p+="</div></div>");return __p},this.JST["#vulnerabilities-references"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="col-md-4 js-categories"></div><div class="col-md-8 references-list"><div class="js-reference-list"></div></div>';return __p},this.JST["#vulnerabilities-related-empty"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div id="related-vulns-container"></div>';return __p},this.JST["#vulnerabilities-related-vuln"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="asset-header pull-left"><div class="asset-title"><div class="asset-logo"><div class="generic-logo"><div class="asset-logo-glyph"><span class="fa fa-bug" aria-label="'+__e(i18n("app.modules.vulns.icon.label"))+'"></span></div></div></div><h1><small class="asset-location">'+__e(i18n("app.modules.vulns.type."+type+".title"))+'</small><a title="" href="#vulnerabilities/id:'+__e(id)+'/view:overview">'+__e(title)+'</a></h1></div><div class="asset-meta-block"><div class="vuln-type '+__e(type)+'">'+__e(i18n("app.modules.vulns.type."+type+".tag"))+"</div></div></div>";return __p},this.JST["#vulnerabilities-related-vulns"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="panel panel-default"><h2 class="panel-heading">'+__e(i18n("app.modules.vulns.relatedVulnerabilities",null))+'</h2><div class="panel-body" id="related-vulns-container"></div></div>';return __p},this.JST["#vulnerabilities-remediation-cell"]=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__e=_.escape,__j=Array.prototype.join;with(obj)__p+="undefined"!=typeof remediation?'<span class="'+__e("label "+obj.getStatusLabelClass(obj.remediation.remediationStatus))+'">'+__e(obj.getStatusLabel(obj.remediation.remediationStatus))+"</span>":'<span class="'+__e("label "+obj.getStatusLabelClass())+'">'+__e(obj.getStatusLabel())+"</span>";return __p},this.JST["#vulnerabilities-row-actions"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="dropdown pull-right"><button class="btn btn-xs btn-default dropdown-toggle command-well" data-toggle="dropdown" role="button"><span class="fa fa-angle-down"></span></button><ul class="dropdown-menu dropdown-menu-right"><li class="remediate-vuln"><a>Update Remediation Plan</a></li><li class="divider"></li><li class="view-vulns"><a>View all vulnerabilites</a></li><li class="view-files"><a>View related files</a></li></ul></div>';return __p},this.JST["#vulnerabilities-single-remediation"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<div class="modal-dialog" id="modalContainer"><div class="modal-content"><div class="modal-header" id="modalHeader"><h2> Update Remediation Plan</h2></div><div class="js-server-error-container"></div><div class="modal-body" id="modalBody"><form class="form-horizontal"><div id="vulnerability-projects-remediation"><div class="form-group"><label class="col-md-3 control-label required">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.label",null))+'</label><div class="col-md-7"><select class="remediation-status js-remediation-status" name="remediationStatus" required="required"><option></option><option value="NEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEW",null))+'</option><option value="NEEDS_REVIEW">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW",null))+'</option><option value="REMEDIATION_REQUIRED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED",null))+'</option><option value="REMEDIATION_COMPLETE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE",null))+'</option><option value="MITIGATED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.MITIGATED",null))+'</option><option value="PATCHED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.PATCHED",null))+'</option><option value="IGNORED">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.IGNORED",null))+'</option><option value="DUPLICATE">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.status.DUPLICATE",null))+'</option></select></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.targetDate.label",null))+'</label><div class="col-md-7"><div class="input-group date datetimepicker js-target-date"><input class="form-control js-target-date-input" name="datepicker-target-date" tabindex="0"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.actualDate.label",null))+'</label><div class="col-md-7"><div class="input-group date datetimepicker js-actual-date"><input class="form-control js-actual-date-input" name="datepicker-actual-date" tabindex="0"/><span class="input-group-addon"><span class="fa fa-calendar"></span></span></div></div></div><div class="form-group"><label class="col-md-3 control-label">'+__e(i18n("app.modules.versions.vulnerabilities.remediation.comments.label",null))+'</label><div class="col-md-7"><textarea class="remediation-comment js-remediation-comment form-control" tabindex="0">'+(null==(__t="undefined"!=typeof comment?comment:"")?"":__t)+'</textarea></div></div></div></form></div><div class="modal-footer" id="modalFooter"><button class="btn js-btn-cancel btn-link" type="button" tabindex="0">'+__e(i18n("app.modules.common.button.cancel",null))+'</button><button class="btn js-btn-ok btn-primary" type="submit" tabindex="0" data-waiting-label="'+__e(i18n("app.modules.common.updating"))+'">'+__e(i18n("app.modules.common.button.update",null))+"</button></div></div></div>";return __p},this.JST["#app-layout"]=function(obj){obj||(obj={});var __t,__p="",__e=_.escape;with(obj)__p+='<nav id="skip-nav" style="position:absolute;top:-999px;left:-999px;"><a class="skip-to-nav" href="#suiteTopNav">Skip to Navigation...</a></nav><section id="appContent"></section><div class="js-app-layout-container"></div><div id="appModals"></div>';return __p},function(){requirejs.config({baseUrl:"/src/app",paths:{underscore:"../../node_modules/underscore/underscore",backbone:"../../node_modules/backbone/backbone",marionette:"../../node_modules/backbone.marionette/lib/core/backbone.marionette","backbone.wreqr":"../../node_modules/backbone.wreqr/lib/backbone.wreqr","backbone.babysitter":"../../node_modules/backbone.babysitter/lib/backbone.babysitter","backbone-validation":"../../node_modules/backbone-validation/dist/backbone-validation-amd","backbone.paginator":"../../node_modules/backbone.paginator/lib/backbone.paginator","backbone.stickit":"../../node_modules/backbone.stickit/backbone.stickit",bloodhound:"../../node_modules/typeahead.js/dist/bloodhound",cocktail:"../../node_modules/backbone.cocktail/Cocktail",ironclad:"../../node_modules/ironclad/lib/ironclad",anglebrackets:"../../node_modules/anglebrackets/lib/anglebrackets",jquery:"../../node_modules/jquery/dist/jquery",backgrid:"../../node_modules/backgrid/lib/backgrid","backgrid-paginator":"../../node_modules/backgrid-paginator/backgrid-paginator","backgrid-select-all":"../../node_modules/backgrid-select-all/backgrid-select-all","backgrid-filter":"../../node_modules/backgrid-filter/backgrid-filter",lunr:"../../node_modules/lunr/lunr","lunr.js":"../../node_modules/lunr/lunr",bootstrap:"../../node_modules/bootstrap/dist/js/bootstrap","bootstrap-datetimepicker":"../../node_modules/eonasdan-bootstrap-datetimepicker/src/js/bootstrap-datetimepicker",microplugin:"../../node_modules/microplugin/src/microplugin",sifter:"../../node_modules/sifter/sifter",selectize:"../../node_modules/selectize/dist/js/selectize",moment:"../../node_modules/moment/min/moment-with-locales",d3:"../../node_modules/d3/d3",c3:"../../node_modules/c3/c3","d3.chart":"../../node_modules/d3.chart/d3.chart",numeral:"../../node_modules/numeral/numeral","numeral-languages":"../../node_modules/numeral/min/languages.min",jstree:"../../node_modules/jstree/dist/jstree","jquery.spinjs":"../../node_modules/ironclad/lib/jquery.spin",spin:"../../node_modules/spin.js/spin",dropzone:"../../node_modules/dropzone/dist/dropzone-amd-module",translation:"../../blackduck.hub/js/lang","anglebrackets-charts":"../../node_modules/anglebrackets-charts/lib/anglebrackets-charts",favico:"../../node_modules/favico.js/favico",rql:"../../node_modules/rql",prism:"../../node_modules/prismjs/prism","prism-json":"../../node_modules/prismjs/components/prism-json",md5:"../../node_modules/js-md5/build/md5.min"},shim:{dropzone:{deps:["jquery"],exports:"Dropzone"},"jquery.spinjs":{deps:["jquery","spin"],exports:"jQuery"},bootstrap:{deps:["jquery"],exports:"jQuery"},backgrid:{exports:"Backgrid"},"backgrid-paginator":{deps:["backgrid"]},"backgrid-filter":{deps:["lunr"]},"backgrid-select-all":{deps:["backgrid"]},bloodhound:{exports:"Bloodhound"},"d3.chart":{deps:["d3"],exports:"d3.chart"},numeral:{deps:["moment"],exports:"numeral"},"numeral-languages":{deps:["numeral"]},"prism-json":{exports:"Prism"}},map:{ironclad:{"backbone.marionette":"marionette","backbone.cocktail":"cocktail"},anglebrackets:{"backbone.marionette":"marionette","backbone.cocktail":"cocktail"}}});var a=!("undefined"==typeof global||!global.mochaTesting),b=window&&window.bdsHubProxyPrefix?window.bdsHubProxyPrefix:"";requirejs.config({paths:{translation:a?"locales/lang-en":"../.."+b+"/blackduck.hub/js/lang"}}),define("config",function(){}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=!!a&&"length"in a&&a.length,c=fa.type(a);return"function"!==c&&!fa.isWindow(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a,b,c){if(fa.isFunction(b))return fa.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return fa.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(pa.test(b))return fa.filter(b,a,c);b=fa.filter(b,a)}return fa.grep(a,function(a){return _.call(b,a)>-1!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b={};return fa.each(a.match(va)||[],function(a,c){b[c]=!0}),b}function g(){X.removeEventListener("DOMContentLoaded",g),a.removeEventListener("load",g),fa.ready()}function h(){this.expando=fa.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ca,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:Ba.test(c)?fa.parseJSON(c):c)}catch(a){}Aa.set(a,b,c)}else c=void 0;return c}function j(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return fa.css(a,b,"")},i=h(),j=c&&c[3]||(fa.cssNumber[b]?"":"px"),k=(fa.cssNumber[b]||"px"!==j&&+i)&&Ea.exec(fa.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,fa.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function k(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&fa.nodeName(a,b)?fa.merge([a],c):c}function l(a,b){for(var c=0,d=a.length;c<d;c++)za.set(a[c],"globalEval",!b||za.get(b[c],"globalEval"))}function m(a,b,c,d,e){for(var f,g,h,i,j,m,n=b.createDocumentFragment(),o=[],p=0,q=a.length;p<q;p++)if(f=a[p],f||0===f)if("object"===fa.type(f))fa.merge(o,f.nodeType?[f]:f);else if(La.test(f)){for(g=g||n.appendChild(b.createElement("div")),h=(Ia.exec(f)||["",""])[1].toLowerCase(),i=Ka[h]||Ka._default,g.innerHTML=i[1]+fa.htmlPrefilter(f)+i[2],m=i[0];m--;)g=g.lastChild;fa.merge(o,g.childNodes),g=n.firstChild,g.textContent=""}else o.push(b.createTextNode(f));for(n.textContent="",p=0;f=o[p++];)if(d&&fa.inArray(f,d)>-1)e&&e.push(f);else if(j=fa.contains(f.ownerDocument,f),g=k(n.appendChild(f),"script"),j&&l(g),c)for(m=0;f=g[m++];)Ja.test(f.type||"")&&c.push(f);return n}function n(){return!0}function o(){return!1}function p(){try{return X.activeElement}catch(a){}}function q(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)q(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=o;else if(!e)return a;return 1===f&&(g=e,e=function(a){return fa().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=fa.guid++)),a.each(function(){fa.event.add(this,b,e,d,c)})}function r(a,b){return fa.nodeName(a,"table")&&fa.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function s(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function t(a){var b=Sa.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function u(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(za.hasData(a)&&(f=za.access(a),g=za.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;c<d;c++)fa.event.add(b,e,j[e][c])}Aa.hasData(a)&&(h=Aa.access(a),i=fa.extend({},h),Aa.set(b,i))}}function v(a,b){var c=b.nodeName.toLowerCase();"input"===c&&Ha.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function w(a,b,c,d){b=Z.apply([],b);var e,f,g,h,i,j,l=0,n=a.length,o=n-1,p=b[0],q=fa.isFunction(p);if(q||n>1&&"string"==typeof p&&!da.checkClone&&Ra.test(p))return a.each(function(e){var f=a.eq(e);q&&(b[0]=p.call(this,e,f.html())),w(f,b,c,d)});if(n&&(e=m(b,a[0].ownerDocument,!1,a,d),f=e.firstChild,1===e.childNodes.length&&(e=f),f||d)){for(g=fa.map(k(e,"script"),s),h=g.length;l<n;l++)i=e,l!==o&&(i=fa.clone(i,!0,!0),h&&fa.merge(g,k(i,"script"))),c.call(a[l],i,l);if(h)for(j=g[g.length-1].ownerDocument,fa.map(g,t),l=0;l<h;l++)i=g[l],Ja.test(i.type||"")&&!za.access(i,"globalEval")&&fa.contains(j,i)&&(i.src?fa._evalUrl&&fa._evalUrl(i.src):fa.globalEval(i.textContent.replace(Ta,"")))}return a}function x(a,b,c){for(var d,e=b?fa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||fa.cleanData(k(d)),d.parentNode&&(c&&fa.contains(d.ownerDocument,d)&&l(k(d,"script")),d.parentNode.removeChild(d));return a}function y(a,b){var c=fa(b.createElement(a)).appendTo(b.body),d=fa.css(c[0],"display");return c.detach(),d}function z(a){var b=X,c=Va[a];return c||(c=y(a,b),"none"!==c&&c||(Ua=(Ua||fa("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Ua[0].contentDocument,b.write(),b.close(),c=y(a,b),Ua.detach()),Va[a]=c),c}function A(a,b,c){var d,e,f,g,h=a.style;return c=c||Ya(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||fa.contains(a.ownerDocument,a)||(g=fa.style(a,b)),c&&!da.pixelMarginRight()&&Xa.test(g)&&Wa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function B(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function C(a){if(a in db)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=cb.length;c--;)if(a=cb[c]+b,a in db)return a}function D(a,b,c){var d=Ea.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function E(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;f<4;f+=2)"margin"===c&&(g+=fa.css(a,c+Fa[f],!0,e)),d?("content"===c&&(g-=fa.css(a,"padding"+Fa[f],!0,e)),"margin"!==c&&(g-=fa.css(a,"border"+Fa[f]+"Width",!0,e))):(g+=fa.css(a,"padding"+Fa[f],!0,e),"padding"!==c&&(g+=fa.css(a,"border"+Fa[f]+"Width",!0,e)));return g}function F(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ya(a),g="border-box"===fa.css(a,"boxSizing",!1,f);if(e<=0||null==e){if(e=A(a,b,f),(e<0||null==e)&&(e=a.style[b]),Xa.test(e))return e;d=g&&(da.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+E(a,b,c||(g?"border":"content"),d,f)+"px"}function G(a,b){for(var c,d,e,f=[],g=0,h=a.length;g<h;g++)d=a[g],d.style&&(f[g]=za.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&Ga(d)&&(f[g]=za.access(d,"olddisplay",z(d.nodeName)))):(e=Ga(d),"none"===c&&e||za.set(d,"olddisplay",e?c:fa.css(d,"display"))));for(g=0;g<h;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function H(a,b,c,d,e){return new H.prototype.init(a,b,c,d,e)}function I(){return a.setTimeout(function(){eb=void 0}),eb=fa.now()}function J(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=Fa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function K(a,b,c){for(var d,e=(N.tweeners[b]||[]).concat(N.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function L(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&Ga(a),p=za.get(a,"fxshow");c.queue||(h=fa._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,fa.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=fa.css(a,"display"),k="none"===j?za.get(a,"olddisplay")||z(a.nodeName):j,"inline"===k&&"none"===fa.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],gb.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||fa.style(a,d)}else j=void 0;if(fa.isEmptyObject(m))"inline"===("none"===j?z(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=za.access(a,"fxshow",{}),f&&(p.hidden=!o),o?fa(a).show():l.done(function(){fa(a).hide()}),l.done(function(){var b;za.remove(a,"fxshow");for(b in m)fa.style(a,b,m[b])});for(d in m)g=K(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function M(a,b){var c,d,e,f,g;for(c in a)if(d=fa.camelCase(c),e=b[d],f=a[c],fa.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=fa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function N(a,b,c){var d,e,f=0,g=N.prefilters.length,h=fa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=eb||I(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:fa.extend({},b),opts:fa.extend(!0,{specialEasing:{},easing:fa.easing._default},c),originalProperties:b,originalOptions:c,startTime:eb||I(),duration:c.duration,tweens:[],createTween:function(b,c){var d=fa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(M(k,j.opts.specialEasing);f<g;f++)if(d=N.prefilters[f].call(j,a,k,j.opts))return fa.isFunction(d.stop)&&(fa._queueHooks(j.elem,j.opts.queue).stop=fa.proxy(d.stop,d)),d;return fa.map(k,K,j),fa.isFunction(j.opts.start)&&j.opts.start.call(a,j),fa.fx.timer(fa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function O(a){return a.getAttribute&&a.getAttribute("class")||""}function P(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(va)||[];if(fa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Q(a,b,c,d){function e(h){var i;return f[h]=!0,fa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ab;return e(b.dataTypes[0])||!f["*"]&&e("*")}function R(a,b){var c,d,e=fa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&fa.extend(!0,a,d),a}function S(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function T(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function U(a,b,c,d){var e;if(fa.isArray(b))fa.each(b,function(b,e){c||Eb.test(a)?d(a,e):U(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==fa.type(b))d(a,b);else for(e in b)U(a+"["+e+"]",b[e],c,d)}function V(a){return fa.isWindow(a)?a:9===a.nodeType&&a.defaultView}var W=[],X=a.document,Y=W.slice,Z=W.concat,$=W.push,_=W.indexOf,aa={},ba=aa.toString,ca=aa.hasOwnProperty,da={},ea="2.2.4",fa=function(a,b){return new fa.fn.init(a,b)},ga=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ha=/^-ms-/,ia=/-([\da-z])/gi,ja=function(a,b){return b.toUpperCase()};fa.fn=fa.prototype={jquery:ea,constructor:fa,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(a){return null!=a?a<0?this[a+this.length]:this[a]:Y.call(this)},pushStack:function(a){var b=fa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return fa.each(this,a)},map:function(a){return this.pushStack(fa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:$,sort:W.sort,splice:W.splice},fa.extend=fa.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||fa.isFunction(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(fa.isPlainObject(d)||(e=fa.isArray(d)))?(e?(e=!1,f=c&&fa.isArray(c)?c:[]):f=c&&fa.isPlainObject(c)?c:{},g[b]=fa.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},fa.extend({expando:"jQuery"+(ea+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===fa.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!fa.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==fa.type(a)||a.nodeType||fa.isWindow(a))return!1;if(a.constructor&&!ca.call(a,"constructor")&&!ca.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||ca.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?aa[ba.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=fa.trim(a),a&&(1===a.indexOf("use strict")?(b=X.createElement("script"),b.text=a,X.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ha,"ms-").replace(ia,ja)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(c(a))for(d=a.length;e<d&&b.call(a[e],e,a[e])!==!1;e++);else for(e in a)if(b.call(a[e],e,a[e])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ga,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?fa.merge(d,"string"==typeof a?[a]:a):$.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:_.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;f<g;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f,g=0,h=[];if(c(a))for(e=a.length;g<e;g++)f=b(a[g],g,d),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,d),null!=f&&h.push(f);return Z.apply([],h)},guid:1,proxy:function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),fa.isFunction(a))return d=Y.call(arguments,2),e=function(){return a.apply(b||this,d.concat(Y.call(arguments)))},e.guid=a.guid=a.guid||fa.guid++,e},now:Date.now,support:da}),"function"==typeof Symbol&&(fa.fn[Symbol.iterator]=W[Symbol.iterator]),fa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){aa["[object "+b+"]"]=b.toLowerCase()});var ka=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o=b&&b.ownerDocument,p=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==p&&9!==p&&11!==p)return c;if(!d&&((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,I)){if(11!==p&&(j=ra.exec(a)))if(e=j[1]){if(9===p){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(o&&(g=o.getElementById(e))&&M(b,g)&&g.id===e)return c.push(g),c}else{if(j[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=j[3])&&v.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(v.qsa&&!T[a+" "]&&(!J||!J.test(a))){if(1!==p)o=b,n=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(ta,"\\$&"):b.setAttribute("id",h=N),l=z(a),f=l.length,i=ma.test(h)?"#"+h:"[id='"+h+"']";f--;)l[f]=i+" "+m(l[f]);n=l.join(","),o=sa.test(a)&&k(b.parentNode)||b}if(n)try{return $.apply(c,o.querySelectorAll(n)),c}catch(a){}finally{h===N&&b.removeAttribute("id")}}}return B(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(j=b[N]||(b[N]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===P&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;e<f;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;d<e&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,h<d&&s(a.slice(h,d)),d<e&&s(a=a.slice(d)),d<e&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g===G||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===G||(F(k),h=!I);m=a[l++];)if(m(k,g||G,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),
    bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=/'|\\/g,ua=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),va=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:d<0?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},wa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(a){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=G.documentElement,I=!y(G),(c=G.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",wa,!1):c.attachEvent&&c.attachEvent("onunload",wa)),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(G.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=qa.test(G.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!G.getElementsByName||!G.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c?[c]:[]}},w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(ua,va);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){if("undefined"!=typeof b.getElementsByClassName&&I)return b.getElementsByClassName(a)},K=[],J=[],(v.qsa=qa.test(G.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=G.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=qa.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",fa)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=qa.test(H.compareDocumentPosition),M=b||qa.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===G||a.ownerDocument===O&&M(O,a)?-1:b===G||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===G?-1:b===G?1:e?-1:f?1:D?aa(D,a)-aa(D,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===O?-1:i[d]===O?1:0},G):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(ka,"='$1']"),v.matchesSelector&&I&&!T[c+" "]&&(!K||!K.test(c))&&(!J||!J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ua,va),a[3]=(a[3]||a[4]||a[5]||"").replace(ua,va),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ua,va).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:!c||(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[P,n,t];break}}else if(s&&(m=b,l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===P&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[N]||(m[N]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[P,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ha,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ua,va),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ua,va).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[c<0?c+b:c]}),even:j(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){d&&!(e=ia.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in w.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(ua,va),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(ua,va),sa.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,!b||sa.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;if(!c)return a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);fa.find=ka,fa.expr=ka.selectors,fa.expr[":"]=fa.expr.pseudos,fa.uniqueSort=fa.unique=ka.uniqueSort,fa.text=ka.getText,fa.isXMLDoc=ka.isXML,fa.contains=ka.contains;var la=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&fa(a).is(c))break;d.push(a)}return d},ma=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},na=fa.expr.match.needsContext,oa=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,pa=/^.[^:#\[\.,]*$/;fa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?fa.find.matchesSelector(d,a)?[d]:[]:fa.find.matches(a,fa.grep(b,function(a){return 1===a.nodeType}))},fa.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(fa(a).filter(function(){for(b=0;b<c;b++)if(fa.contains(e[b],this))return!0}));for(b=0;b<c;b++)fa.find(a,e[b],d);return d=this.pushStack(c>1?fa.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&na.test(a)?fa(a):a||[],!1).length}});var qa,ra=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,sa=fa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||qa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ra.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof fa?b[0]:b,fa.merge(this,fa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:X,!0)),oa.test(d[1])&&fa.isPlainObject(b))for(d in b)fa.isFunction(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=X.getElementById(d[2]),e&&e.parentNode&&(this.length=1,this[0]=e),this.context=X,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):fa.isFunction(a)?void 0!==c.ready?c.ready(a):a(fa):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),fa.makeArray(a,this))};sa.prototype=fa.fn,qa=fa(X);var ta=/^(?:parents|prev(?:Until|All))/,ua={children:!0,contents:!0,next:!0,prev:!0};fa.fn.extend({has:function(a){var b=fa(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(fa.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=na.test(a)||"string"!=typeof a?fa(a,b||this.context):0;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&fa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?fa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?_.call(fa(a),this[0]):_.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(fa.uniqueSort(fa.merge(this.get(),fa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),fa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return la(a,"parentNode")},parentsUntil:function(a,b,c){return la(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return la(a,"nextSibling")},prevAll:function(a){return la(a,"previousSibling")},nextUntil:function(a,b,c){return la(a,"nextSibling",c)},prevUntil:function(a,b,c){return la(a,"previousSibling",c)},siblings:function(a){return ma((a.parentNode||{}).firstChild,a)},children:function(a){return ma(a.firstChild)},contents:function(a){return a.contentDocument||fa.merge([],a.childNodes)}},function(a,b){fa.fn[a]=function(c,d){var e=fa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=fa.filter(d,e)),this.length>1&&(ua[a]||fa.uniqueSort(e),ta.test(a)&&e.reverse()),this.pushStack(e)}});var va=/\S+/g;fa.Callbacks=function(a){a="string"==typeof a?f(a):fa.extend({},a);var b,c,d,e,g=[],h=[],i=-1,j=function(){for(e=a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,e&&(g=c?[]:"")},k={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){fa.each(c,function(c,d){fa.isFunction(d)?a.unique&&k.has(d)||g.push(d):d&&d.length&&"string"!==fa.type(d)&&b(d)})}(arguments),c&&!b&&j()),this},remove:function(){return fa.each(arguments,function(a,b){for(var c;(c=fa.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?fa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return e=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return e=h=[],c||(g=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||j()),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},fa.extend({Deferred:function(a){var b=[["resolve","done",fa.Callbacks("once memory"),"resolved"],["reject","fail",fa.Callbacks("once memory"),"rejected"],["notify","progress",fa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return fa.Deferred(function(c){fa.each(b,function(b,f){var g=fa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&fa.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?fa.extend(a,d):d}},e={};return d.pipe=d.then,fa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=Y.call(arguments),g=f.length,h=1!==g||a&&fa.isFunction(a.promise)?g:0,i=1===h?a:fa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?Y.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);e<g;e++)f[e]&&fa.isFunction(f[e].promise)?f[e].promise().progress(j(e,c,b)).done(j(e,d,f)).fail(i.reject):--h;return h||i.resolveWith(d,f),i.promise()}});var wa;fa.fn.ready=function(a){return fa.ready.promise().done(a),this},fa.extend({isReady:!1,readyWait:1,holdReady:function(a){a?fa.readyWait++:fa.ready(!0)},ready:function(a){(a===!0?--fa.readyWait:fa.isReady)||(fa.isReady=!0,a!==!0&&--fa.readyWait>0||(wa.resolveWith(X,[fa]),fa.fn.triggerHandler&&(fa(X).triggerHandler("ready"),fa(X).off("ready"))))}}),fa.ready.promise=function(b){return wa||(wa=fa.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?a.setTimeout(fa.ready):(X.addEventListener("DOMContentLoaded",g),a.addEventListener("load",g))),wa.promise(b)},fa.ready.promise();var xa=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===fa.type(c)){e=!0;for(h in c)xa(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,fa.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(fa(a),c)})),b))for(;h<i;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},ya=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};h.uid=1,h.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!ya(a))return{};var b=a[this.expando];return b||(b={},ya(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,fa.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{fa.isArray(b)?d=b.concat(b.map(fa.camelCase)):(e=fa.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(va)||[])),c=d.length;for(;c--;)delete f[d[c]]}(void 0===b||fa.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!fa.isEmptyObject(b)}};var za=new h,Aa=new h,Ba=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ca=/[A-Z]/g;fa.extend({hasData:function(a){return Aa.hasData(a)||za.hasData(a)},data:function(a,b,c){return Aa.access(a,b,c)},removeData:function(a,b){Aa.remove(a,b)},_data:function(a,b,c){return za.access(a,b,c)},_removeData:function(a,b){za.remove(a,b)}}),fa.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Aa.get(f),1===f.nodeType&&!za.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=fa.camelCase(d.slice(5)),i(f,d,e[d])));za.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Aa.set(this,a)}):xa(this,function(b){var c,d;if(f&&void 0===b){if(c=Aa.get(f,a)||Aa.get(f,a.replace(Ca,"-$&").toLowerCase()),void 0!==c)return c;if(d=fa.camelCase(a),c=Aa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else d=fa.camelCase(a),this.each(function(){var c=Aa.get(this,d);Aa.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&Aa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Aa.remove(this,a)})}}),fa.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=za.get(a,b),c&&(!d||fa.isArray(c)?d=za.access(a,b,fa.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=fa.queue(a,b),d=c.length,e=c.shift(),f=fa._queueHooks(a,b),g=function(){fa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return za.get(a,c)||za.access(a,c,{empty:fa.Callbacks("once memory").add(function(){za.remove(a,[b+"queue",c])})})}}),fa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?fa.queue(this[0],a):void 0===b?this:this.each(function(){var c=fa.queue(this,a,b);fa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&fa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){fa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=fa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=za.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Da=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ea=new RegExp("^(?:([+-])=|)("+Da+")([a-z%]*)$","i"),Fa=["Top","Right","Bottom","Left"],Ga=function(a,b){return a=b||a,"none"===fa.css(a,"display")||!fa.contains(a.ownerDocument,a)},Ha=/^(?:checkbox|radio)$/i,Ia=/<([\w:-]+)/,Ja=/^$|\/(?:java|ecma)script/i,Ka={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ka.optgroup=Ka.option,Ka.tbody=Ka.tfoot=Ka.colgroup=Ka.caption=Ka.thead,Ka.th=Ka.td;var La=/<|&#?\w+;/;!function(){var a=X.createDocumentFragment(),b=a.appendChild(X.createElement("div")),c=X.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),da.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",da.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var Ma=/^key/,Na=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Oa=/^([^.]*)(?:\.(.+)|)/;fa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=fa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof fa&&fa.event.triggered!==b.type?fa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(va)||[""],j=b.length;j--;)h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=fa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=fa.event.special[n]||{},k=fa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&fa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),fa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=za.hasData(a)&&za.get(a);if(q&&(i=q.events)){for(b=(b||"").match(va)||[""],j=b.length;j--;)if(h=Oa.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=fa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||fa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)fa.event.remove(a,n+b[j],c,d,!0);fa.isEmptyObject(i)&&za.remove(a,"handle events")}},dispatch:function(a){a=fa.event.fix(a);var b,c,d,e,f,g=[],h=Y.call(arguments),i=(za.get(this,"events")||{})[a.type]||[],j=fa.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=fa.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(f.namespace)||(a.handleObj=f,a.data=f.data,d=((fa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;c<h;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?fa(e,this).index(i)>-1:fa.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||X,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[fa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Na.test(e)?this.mouseHooks:Ma.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new fa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=X),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===p()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&fa.nodeName(this,"input"))return this.click(),!1},_default:function(a){return fa.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},fa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},fa.Event=function(a,b){return this instanceof fa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?n:o):this.type=a,b&&fa.extend(this,b),this.timeStamp=a&&a.timeStamp||fa.now(),void(this[fa.expando]=!0)):new fa.Event(a,b)},fa.Event.prototype={constructor:fa.Event,isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=n,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=n,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=n,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},fa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){fa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||fa.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),fa.fn.extend({on:function(a,b,c,d){return q(this,a,b,c,d)},one:function(a,b,c,d){return q(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,fa(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=o),this.each(function(){fa.event.remove(this,a,c,b)})}});var Pa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Qa=/<script|<style|<link/i,Ra=/checked\s*(?:[^=]|=\s*.checked.)/i,Sa=/^true\/(.*)/,Ta=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;fa.extend({htmlPrefilter:function(a){return a.replace(Pa,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=fa.contains(a.ownerDocument,a);if(!(da.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||fa.isXMLDoc(a)))for(g=k(h),f=k(a),d=0,e=f.length;d<e;d++)v(f[d],g[d]);if(b)if(c)for(f=f||k(a),g=g||k(h),d=0,e=f.length;d<e;d++)u(f[d],g[d]);else u(a,h);return g=k(h,"script"),g.length>0&&l(g,!i&&k(a,"script")),h},cleanData:function(a){for(var b,c,d,e=fa.event.special,f=0;void 0!==(c=a[f]);f++)if(ya(c)){if(b=c[za.expando]){if(b.events)for(d in b.events)e[d]?fa.event.remove(c,d):fa.removeEvent(c,d,b.handle);c[za.expando]=void 0;
}c[Aa.expando]&&(c[Aa.expando]=void 0)}}}),fa.fn.extend({domManip:w,detach:function(a){return x(this,a,!0)},remove:function(a){return x(this,a)},text:function(a){return xa(this,function(a){return void 0===a?fa.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.appendChild(a)}})},prepend:function(){return w(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=r(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return w(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(fa.cleanData(k(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return fa.clone(this,a,b)})},html:function(a){return xa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Qa.test(a)&&!Ka[(Ia.exec(a)||["",""])[1].toLowerCase()]){a=fa.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(fa.cleanData(k(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return w(this,arguments,function(b){var c=this.parentNode;fa.inArray(this,a)<0&&(fa.cleanData(k(this)),c&&c.replaceChild(b,this))},a)}}),fa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){fa.fn[a]=function(a){for(var c,d=[],e=fa(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),fa(e[g])[b](c),$.apply(d,c.get());return this.pushStack(d)}});var Ua,Va={HTML:"block",BODY:"block"},Wa=/^margin/,Xa=new RegExp("^("+Da+")(?!px)[a-z%]+$","i"),Ya=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Za=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},$a=X.documentElement;!function(){function b(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",$a.appendChild(g);var b=a.getComputedStyle(h);c="1%"!==b.top,f="2px"===b.marginLeft,d="4px"===b.width,h.style.marginRight="50%",e="4px"===b.marginRight,$a.removeChild(g)}var c,d,e,f,g=X.createElement("div"),h=X.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",da.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h),fa.extend(da,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},pixelMarginRight:function(){return null==d&&b(),e},reliableMarginLeft:function(){return null==d&&b(),f},reliableMarginRight:function(){var b,c=h.appendChild(X.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",$a.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),$a.removeChild(g),h.removeChild(c),b}}))}();var _a=/^(none|table(?!-c[ea]).+)/,ab={position:"absolute",visibility:"hidden",display:"block"},bb={letterSpacing:"0",fontWeight:"400"},cb=["Webkit","O","Moz","ms"],db=X.createElement("div").style;fa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=A(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=fa.camelCase(b),i=a.style;return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ea.exec(c))&&e[1]&&(c=j(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(fa.cssNumber[h]?"":"px")),da.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=fa.camelCase(b);return b=fa.cssProps[h]||(fa.cssProps[h]=C(h)||h),g=fa.cssHooks[b]||fa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=A(a,b,d)),"normal"===e&&b in bb&&(e=bb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),fa.each(["height","width"],function(a,b){fa.cssHooks[b]={get:function(a,c,d){if(c)return _a.test(fa.css(a,"display"))&&0===a.offsetWidth?Za(a,ab,function(){return F(a,b,d)}):F(a,b,d)},set:function(a,c,d){var e,f=d&&Ya(a),g=d&&E(a,b,d,"border-box"===fa.css(a,"boxSizing",!1,f),f);return g&&(e=Ea.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=fa.css(a,b)),D(a,c,g)}}}),fa.cssHooks.marginLeft=B(da.reliableMarginLeft,function(a,b){if(b)return(parseFloat(A(a,"marginLeft"))||a.getBoundingClientRect().left-Za(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),fa.cssHooks.marginRight=B(da.reliableMarginRight,function(a,b){if(b)return Za(a,{display:"inline-block"},A,[a,"marginRight"])}),fa.each({margin:"",padding:"",border:"Width"},function(a,b){fa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+Fa[d]+b]=f[d]||f[d-2]||f[0];return e}},Wa.test(a)||(fa.cssHooks[a+b].set=D)}),fa.fn.extend({css:function(a,b){return xa(this,function(a,b,c){var d,e,f={},g=0;if(fa.isArray(b)){for(d=Ya(a),e=b.length;g<e;g++)f[b[g]]=fa.css(a,b[g],!1,d);return f}return void 0!==c?fa.style(a,b,c):fa.css(a,b)},a,b,arguments.length>1)},show:function(){return G(this,!0)},hide:function(){return G(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Ga(this)?fa(this).show():fa(this).hide()})}}),fa.Tween=H,H.prototype={constructor:H,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||fa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(fa.cssNumber[c]?"":"px")},cur:function(){var a=H.propHooks[this.prop];return a&&a.get?a.get(this):H.propHooks._default.get(this)},run:function(a){var b,c=H.propHooks[this.prop];return this.options.duration?this.pos=b=fa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=fa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){fa.fx.step[a.prop]?fa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[fa.cssProps[a.prop]]&&!fa.cssHooks[a.prop]?a.elem[a.prop]=a.now:fa.style(a.elem,a.prop,a.now+a.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},fa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},fa.fx=H.prototype.init,fa.fx.step={};var eb,fb,gb=/^(?:toggle|show|hide)$/,hb=/queueHooks$/;fa.Animation=fa.extend(N,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return j(c.elem,a,Ea.exec(b),c),c}]},tweener:function(a,b){fa.isFunction(a)?(b=a,a=["*"]):a=a.match(va);for(var c,d=0,e=a.length;d<e;d++)c=a[d],N.tweeners[c]=N.tweeners[c]||[],N.tweeners[c].unshift(b)},prefilters:[L],prefilter:function(a,b){b?N.prefilters.unshift(a):N.prefilters.push(a)}}),fa.speed=function(a,b,c){var d=a&&"object"==typeof a?fa.extend({},a):{complete:c||!c&&b||fa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!fa.isFunction(b)&&b};return d.duration=fa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in fa.fx.speeds?fa.fx.speeds[d.duration]:fa.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){fa.isFunction(d.old)&&d.old.call(this),d.queue&&fa.dequeue(this,d.queue)},d},fa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Ga).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=fa.isEmptyObject(a),f=fa.speed(b,c,d),g=function(){var b=N(this,fa.extend({},a),f);(e||za.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=fa.timers,g=za.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&hb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||fa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=za.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=fa.timers,g=d?d.length:0;for(c.finish=!0,fa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),fa.each(["toggle","show","hide"],function(a,b){var c=fa.fn[b];fa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(J(b,!0),a,d,e)}}),fa.each({slideDown:J("show"),slideUp:J("hide"),slideToggle:J("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){fa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),fa.timers=[],fa.fx.tick=function(){var a,b=0,c=fa.timers;for(eb=fa.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||fa.fx.stop(),eb=void 0},fa.fx.timer=function(a){fa.timers.push(a),a()?fa.fx.start():fa.timers.pop()},fa.fx.interval=13,fa.fx.start=function(){fb||(fb=a.setInterval(fa.fx.tick,fa.fx.interval))},fa.fx.stop=function(){a.clearInterval(fb),fb=null},fa.fx.speeds={slow:600,fast:200,_default:400},fa.fn.delay=function(b,c){return b=fa.fx?fa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=X.createElement("input"),b=X.createElement("select"),c=b.appendChild(X.createElement("option"));a.type="checkbox",da.checkOn=""!==a.value,da.optSelected=c.selected,b.disabled=!0,da.optDisabled=!c.disabled,a=X.createElement("input"),a.value="t",a.type="radio",da.radioValue="t"===a.value}();var ib,jb=fa.expr.attrHandle;fa.fn.extend({attr:function(a,b){return xa(this,fa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){fa.removeAttr(this,a)})}}),fa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?fa.prop(a,b,c):(1===f&&fa.isXMLDoc(a)||(b=b.toLowerCase(),e=fa.attrHooks[b]||(fa.expr.match.bool.test(b)?ib:void 0)),void 0!==c?null===c?void fa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=fa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!da.radioValue&&"radio"===b&&fa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(va);if(f&&1===a.nodeType)for(;c=f[e++];)d=fa.propFix[c]||c,fa.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ib={set:function(a,b,c){return b===!1?fa.removeAttr(a,c):a.setAttribute(c,c),c}},fa.each(fa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=jb[b]||fa.find.attr;jb[b]=function(a,b,d){var e,f;return d||(f=jb[b],jb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,jb[b]=f),e}});var kb=/^(?:input|select|textarea|button)$/i,lb=/^(?:a|area)$/i;fa.fn.extend({prop:function(a,b){return xa(this,fa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[fa.propFix[a]||a]})}}),fa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&fa.isXMLDoc(a)||(b=fa.propFix[b]||b,e=fa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=fa.find.attr(a,"tabindex");return b?parseInt(b,10):kb.test(a.nodeName)||lb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),da.optSelected||(fa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),fa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){fa.propFix[this.toLowerCase()]=this});var mb=/[\t\r\n\f]/g;fa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).addClass(a.call(this,b,O(this)))});if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(fa.isFunction(a))return this.each(function(b){fa(this).removeClass(a.call(this,b,O(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a)for(b=a.match(va)||[];c=this[i++];)if(e=O(c),d=1===c.nodeType&&(" "+e+" ").replace(mb," ")){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=fa.trim(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):fa.isFunction(a)?this.each(function(c){fa(this).toggleClass(a.call(this,c,O(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c)for(d=0,e=fa(this),f=a.match(va)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else void 0!==a&&"boolean"!==c||(b=O(this),b&&za.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":za.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+O(c)+" ").replace(mb," ").indexOf(b)>-1)return!0;return!1}});var nb=/\r/g,ob=/[\x20\t\r\n\f]+/g;fa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=fa.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,fa(this).val()):a,null==e?e="":"number"==typeof e?e+="":fa.isArray(e)&&(e=fa.map(e,function(a){return null==a?"":a+""})),b=fa.valHooks[this.type]||fa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=fa.valHooks[e.type]||fa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(nb,""):null==c?"":c)}}}),fa.extend({valHooks:{option:{get:function(a){var b=fa.find.attr(a,"value");return null!=b?b:fa.trim(fa.text(a)).replace(ob," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||e<0,g=f?null:[],h=f?e+1:d.length,i=e<0?h:f?e:0;i<h;i++)if(c=d[i],(c.selected||i===e)&&(da.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!fa.nodeName(c.parentNode,"optgroup"))){if(b=fa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=fa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=fa.inArray(fa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),fa.each(["radio","checkbox"],function(){fa.valHooks[this]={set:function(a,b){if(fa.isArray(b))return a.checked=fa.inArray(fa(a).val(),b)>-1}},da.checkOn||(fa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var pb=/^(?:focusinfocus|focusoutblur)$/;fa.extend(fa.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||X],n=ca.call(b,"type")?b.type:b,o=ca.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||X,3!==d.nodeType&&8!==d.nodeType&&!pb.test(n+fa.event.triggered)&&(n.indexOf(".")>-1&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[fa.expando]?b:new fa.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:fa.makeArray(c,[b]),l=fa.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!fa.isWindow(d)){for(i=l.delegateType||n,pb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||X)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(za.get(g,"events")||{})[b.type]&&za.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&ya(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!ya(d)||j&&fa.isFunction(d[n])&&!fa.isWindow(d)&&(h=d[j],h&&(d[j]=null),fa.event.triggered=n,d[n](),fa.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=fa.extend(new fa.Event,c,{type:a,isSimulated:!0});fa.event.trigger(d,null,b)}}),fa.fn.extend({trigger:function(a,b){return this.each(function(){fa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return fa.event.trigger(a,b,c,!0)}}),fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){fa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),fa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),da.focusin="onfocusin"in a,da.focusin||fa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){fa.event.simulate(b,a.target,fa.event.fix(a))};fa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=za.access(d,b);e||d.addEventListener(a,c,!0),za.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=za.access(d,b)-1;e?za.access(d,b,e):(d.removeEventListener(a,c,!0),za.remove(d,b))}}});var qb=a.location,rb=fa.now(),sb=/\?/;fa.parseJSON=function(a){return JSON.parse(a+"")},fa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||fa.error("Invalid XML: "+b),c};var tb=/#.*$/,ub=/([?&])_=[^&]*/,vb=/^(.*?):[ \t]*([^\r\n]*)$/gm,wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,xb=/^(?:GET|HEAD)$/,yb=/^\/\//,zb={},Ab={},Bb="*/".concat("*"),Cb=X.createElement("a");Cb.href=qb.href,fa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qb.href,type:"GET",isLocal:wb.test(qb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":fa.parseJSON,"text xml":fa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?R(R(a,fa.ajaxSettings),b):R(fa.ajaxSettings,a)},ajaxPrefilter:P(zb),ajaxTransport:P(Ab),ajax:function(b,c){function d(b,c,d,h){var j,l,s,t,v,x=c;2!==u&&(u=2,i&&a.clearTimeout(i),e=void 0,g=h||"",w.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(t=S(m,w,d)),t=T(m,t,w,j),j?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(fa.lastModified[f]=v),v=w.getResponseHeader("etag"),v&&(fa.etag[f]=v)),204===b||"HEAD"===m.type?x="nocontent":304===b?x="notmodified":(x=t.state,l=t.data,s=t.error,j=!s)):(s=x,!b&&x||(x="error",b<0&&(b=0))),w.status=b,w.statusText=(c||x)+"",j?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=void 0,k&&o.trigger(j?"ajaxSuccess":"ajaxError",[w,m,j?l:s]),q.fireWith(n,[w,x]),k&&(o.trigger("ajaxComplete",[w,m]),--fa.active||fa.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=fa.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?fa(n):fa.event,p=fa.Deferred(),q=fa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!h)for(h={};b=vb.exec(g);)h[b[1].toLowerCase()]=b[2];b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(u<2)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return e&&e.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((b||m.url||qb.href)+"").replace(tb,"").replace(yb,qb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=fa.trim(m.dataType||"*").toLowerCase().match(va)||[""],null==m.crossDomain){j=X.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=Cb.protocol+"//"+Cb.host!=j.protocol+"//"+j.host}catch(a){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=fa.param(m.data,m.traditional)),Q(zb,m,c,w),2===u)return w;k=fa.event&&m.global,k&&0===fa.active++&&fa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!xb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(sb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=ub.test(f)?f.replace(ub,"$1_="+rb++):f+(sb.test(f)?"&":"?")+"_="+rb++)),m.ifModified&&(fa.lastModified[f]&&w.setRequestHeader("If-Modified-Since",fa.lastModified[f]),fa.etag[f]&&w.setRequestHeader("If-None-Match",fa.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Bb+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)w.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(l in{success:1,error:1,complete:1})w[l](m[l]);if(e=Q(Ab,m,c,w)){if(w.readyState=1,k&&o.trigger("ajaxSend",[w,m]),2===u)return w;m.async&&m.timeout>0&&(i=a.setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,e.send(s,d)}catch(a){if(!(u<2))throw a;d(-1,a)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return fa.get(a,b,c,"json")},getScript:function(a,b){return fa.get(a,void 0,b,"script")}}),fa.each(["get","post"],function(a,b){fa[b]=function(a,c,d,e){return fa.isFunction(c)&&(e=e||d,d=c,c=void 0),fa.ajax(fa.extend({url:a,type:b,dataType:e,data:c,success:d},fa.isPlainObject(a)&&a))}}),fa._evalUrl=function(a){return fa.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},fa.fn.extend({wrapAll:function(a){var b;return fa.isFunction(a)?this.each(function(b){fa(this).wrapAll(a.call(this,b))}):(this[0]&&(b=fa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return fa.isFunction(a)?this.each(function(b){fa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=fa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=fa.isFunction(a);return this.each(function(c){fa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){fa.nodeName(this,"body")||fa(this).replaceWith(this.childNodes)}).end()}}),fa.expr.filters.hidden=function(a){return!fa.expr.filters.visible(a)},fa.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Db=/%20/g,Eb=/\[\]$/,Fb=/\r?\n/g,Gb=/^(?:submit|button|image|reset|file)$/i,Hb=/^(?:input|select|textarea|keygen)/i;fa.param=function(a,b){var c,d=[],e=function(a,b){b=fa.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=fa.ajaxSettings&&fa.ajaxSettings.traditional),fa.isArray(a)||a.jquery&&!fa.isPlainObject(a))fa.each(a,function(){e(this.name,this.value)});else for(c in a)U(c,a[c],b,e);return d.join("&").replace(Db,"+")},fa.fn.extend({serialize:function(){return fa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=fa.prop(this,"elements");return a?fa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!fa(this).is(":disabled")&&Hb.test(this.nodeName)&&!Gb.test(a)&&(this.checked||!Ha.test(a))}).map(function(a,b){var c=fa(this).val();return null==c?null:fa.isArray(c)?fa.map(c,function(a){return{name:b.name,value:a.replace(Fb,"\r\n")}}):{name:b.name,value:c.replace(Fb,"\r\n")}}).get()}}),fa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var Ib={0:200,1223:204},Jb=fa.ajaxSettings.xhr();da.cors=!!Jb&&"withCredentials"in Jb,da.ajax=Jb=!!Jb,fa.ajaxTransport(function(b){var c,d;if(da.cors||Jb&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Ib[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),fa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return fa.globalEval(a),a}}}),fa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),fa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=fa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),X.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Kb=[],Lb=/(=)\?(?=&|$)|\?\?/;fa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Kb.pop()||fa.expando+"_"+rb++;return this[a]=!0,a}}),fa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Lb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Lb.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=fa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Lb,"$1"+e):b.jsonp!==!1&&(b.url+=(sb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||fa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?fa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Kb.push(e)),g&&fa.isFunction(f)&&f(g[0]),g=f=void 0}),"script"}),fa.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||X;var d=oa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m([a],b,e),e&&e.length&&fa(e).remove(),fa.merge([],d.childNodes))};var Mb=fa.fn.load;fa.fn.load=function(a,b,c){if("string"!=typeof a&&Mb)return Mb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=fa.trim(a.slice(h)),a=a.slice(0,h)),fa.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&fa.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?fa("<div>").append(fa.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},fa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){fa.fn[b]=function(a){return this.on(b,a)}}),fa.expr.filters.animated=function(a){return fa.grep(fa.timers,function(b){return a===b.elem}).length},fa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=fa.css(a,"position"),l=fa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=fa.css(a,"top"),i=fa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),fa.isFunction(b)&&(b=b.call(a,c,fa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},fa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){fa.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,fa.contains(b,d)?(e=d.getBoundingClientRect(),c=V(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===fa.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),fa.nodeName(a[0],"html")||(d=a.offset()),d.top+=fa.css(a[0],"borderTopWidth",!0),d.left+=fa.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-fa.css(c,"marginTop",!0),left:b.left-d.left-fa.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===fa.css(a,"position");)a=a.offsetParent;return a||$a})}}),fa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;fa.fn[a]=function(d){return xa(this,function(a,d,e){var f=V(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),fa.each(["top","left"],function(a,b){fa.cssHooks[b]=B(da.pixelPosition,function(a,c){if(c)return c=A(a,b),Xa.test(c)?fa(a).position()[b]+"px":c})}),fa.each({Height:"height",Width:"width"},function(a,b){fa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){fa.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return xa(this,function(b,c,d){var e;return fa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?fa.css(b,c,g):fa.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),fa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c);
},size:function(){return this.length}}),fa.fn.andSelf=fa.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return fa});var Nb=a.jQuery,Ob=a.$;return fa.noConflict=function(b){return a.$===fa&&(a.$=Ob),b&&a.jQuery===fa&&(a.jQuery=Nb),fa},b||(a.jQuery=a.$=fa),fa}),function(){function a(a){function b(b,c,d,e,f,g){for(;f>=0&&f<g;f+=a){var h=e?e[f]:f;d=c(d,b[h],h,b)}return d}return function(c,d,e,f){d=t(d,f,4);var g=!A(c)&&s.keys(c),h=(g||c).length,i=a>0?0:h-1;return arguments.length<3&&(e=c[g?g[i]:i],i+=a),b(c,d,e,g,i,h)}}function b(a){return function(b,c,d){c=u(c,d);for(var e=z(b),f=a>0?0:e-1;f>=0&&f<e;f+=a)if(c(b[f],f,b))return f;return-1}}function c(a,b,c){return function(d,e,f){var g=0,h=z(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(k.call(d,g,h),s.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&f<h;f+=a)if(d[f]===e)return f;return-1}}function d(a,b){var c=F.length,d=a.constructor,e=s.isFunction(d)&&d.prototype||h,f="constructor";for(s.has(a,f)&&!s.contains(b,f)&&b.push(f);c--;)f=F[c],f in a&&a[f]!==e[f]&&!s.contains(b,f)&&b.push(f)}var e=this,f=e._,g=Array.prototype,h=Object.prototype,i=Function.prototype,j=g.push,k=g.slice,l=h.toString,m=h.hasOwnProperty,n=Array.isArray,o=Object.keys,p=i.bind,q=Object.create,r=function(){},s=function(a){return a instanceof s?a:this instanceof s?void(this._wrapped=a):new s(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=s),exports._=s):e._=s,s.VERSION="1.8.3";var t=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},u=function(a,b,c){return null==a?s.identity:s.isFunction(a)?t(a,b,c):s.isObject(a)?s.matcher(a):s.property(a)};s.iteratee=function(a,b){return u(a,b,1/0)};var v=function(a,b){return function(c){var d=arguments.length;if(d<2||null==c)return c;for(var e=1;e<d;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;i<h;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}},w=function(a){if(!s.isObject(a))return{};if(q)return q(a);r.prototype=a;var b=new r;return r.prototype=null,b},x=function(a){return function(b){return null==b?void 0:b[a]}},y=Math.pow(2,53)-1,z=x("length"),A=function(a){var b=z(a);return"number"==typeof b&&b>=0&&b<=y};s.each=s.forEach=function(a,b,c){b=t(b,c);var d,e;if(A(a))for(d=0,e=a.length;d<e;d++)b(a[d],d,a);else{var f=s.keys(a);for(d=0,e=f.length;d<e;d++)b(a[f[d]],f[d],a)}return a},s.map=s.collect=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=Array(e),g=0;g<e;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f},s.reduce=s.foldl=s.inject=a(1),s.reduceRight=s.foldr=a(-1),s.find=s.detect=function(a,b,c){var d;if(d=A(a)?s.findIndex(a,b,c):s.findKey(a,b,c),void 0!==d&&d!==-1)return a[d]},s.filter=s.select=function(a,b,c){var d=[];return b=u(b,c),s.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},s.reject=function(a,b,c){return s.filter(a,s.negate(u(b)),c)},s.every=s.all=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},s.some=s.any=function(a,b,c){b=u(b,c);for(var d=!A(a)&&s.keys(a),e=(d||a).length,f=0;f<e;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},s.contains=s.includes=s.include=function(a,b,c,d){return A(a)||(a=s.values(a)),("number"!=typeof c||d)&&(c=0),s.indexOf(a,b,c)>=0},s.invoke=function(a,b){var c=k.call(arguments,2),d=s.isFunction(b);return s.map(a,function(a){var e=d?b:a[b];return null==e?e:e.apply(a,c)})},s.pluck=function(a,b){return s.map(a,s.property(b))},s.where=function(a,b){return s.filter(a,s.matcher(b))},s.findWhere=function(a,b){return s.find(a,s.matcher(b))},s.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b&&null!=a){a=A(a)?a:s.values(a);for(var h=0,i=a.length;h<i;h++)d=a[h],d>f&&(f=d)}else b=u(b,c),s.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},s.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b&&null!=a){a=A(a)?a:s.values(a);for(var h=0,i=a.length;h<i;h++)d=a[h],d<f&&(f=d)}else b=u(b,c),s.each(a,function(a,c,d){e=b(a,c,d),(e<g||e===1/0&&f===1/0)&&(f=a,g=e)});return f},s.shuffle=function(a){for(var b,c=A(a)?a:s.values(a),d=c.length,e=Array(d),f=0;f<d;f++)b=s.random(0,f),b!==f&&(e[f]=e[b]),e[b]=c[f];return e},s.sample=function(a,b,c){return null==b||c?(A(a)||(a=s.values(a)),a[s.random(a.length-1)]):s.shuffle(a).slice(0,Math.max(0,b))},s.sortBy=function(a,b,c){return b=u(b,c),s.pluck(s.map(a,function(a,c,d){return{value:a,index:c,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var B=function(a){return function(b,c,d){var e={};return c=u(c,d),s.each(b,function(d,f){var g=c(d,f,b);a(e,d,g)}),e}};s.groupBy=B(function(a,b,c){s.has(a,c)?a[c].push(b):a[c]=[b]}),s.indexBy=B(function(a,b,c){a[c]=b}),s.countBy=B(function(a,b,c){s.has(a,c)?a[c]++:a[c]=1}),s.toArray=function(a){return a?s.isArray(a)?k.call(a):A(a)?s.map(a,s.identity):s.values(a):[]},s.size=function(a){return null==a?0:A(a)?a.length:s.keys(a).length},s.partition=function(a,b,c){b=u(b,c);var d=[],e=[];return s.each(a,function(a,c,f){(b(a,c,f)?d:e).push(a)}),[d,e]},s.first=s.head=s.take=function(a,b,c){if(null!=a)return null==b||c?a[0]:s.initial(a,a.length-b)},s.initial=function(a,b,c){return k.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},s.last=function(a,b,c){if(null!=a)return null==b||c?a[a.length-1]:s.rest(a,Math.max(0,a.length-b))},s.rest=s.tail=s.drop=function(a,b,c){return k.call(a,null==b||c?1:b)},s.compact=function(a){return s.filter(a,s.identity)};var C=function(a,b,c,d){for(var e=[],f=0,g=d||0,h=z(a);g<h;g++){var i=a[g];if(A(i)&&(s.isArray(i)||s.isArguments(i))){b||(i=C(i,b,c));var j=0,k=i.length;for(e.length+=k;j<k;)e[f++]=i[j++]}else c||(e[f++]=i)}return e};s.flatten=function(a,b){return C(a,b,!1)},s.without=function(a){return s.difference(a,k.call(arguments,1))},s.uniq=s.unique=function(a,b,c,d){s.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=u(c,d));for(var e=[],f=[],g=0,h=z(a);g<h;g++){var i=a[g],j=c?c(i,g,a):i;b?(g&&f===j||e.push(i),f=j):c?s.contains(f,j)||(f.push(j),e.push(i)):s.contains(e,i)||e.push(i)}return e},s.union=function(){return s.uniq(C(arguments,!0,!0))},s.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=z(a);d<e;d++){var f=a[d];if(!s.contains(b,f)){for(var g=1;g<c&&s.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},s.difference=function(a){var b=C(arguments,!0,!0,1);return s.filter(a,function(a){return!s.contains(b,a)})},s.zip=function(){return s.unzip(arguments)},s.unzip=function(a){for(var b=a&&s.max(a,z).length||0,c=Array(b),d=0;d<b;d++)c[d]=s.pluck(a,d);return c},s.object=function(a,b){for(var c={},d=0,e=z(a);d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},s.findIndex=b(1),s.findLastIndex=b(-1),s.sortedIndex=function(a,b,c,d){c=u(c,d,1);for(var e=c(b),f=0,g=z(a);f<g;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f},s.indexOf=c(1,s.findIndex,s.sortedIndex),s.lastIndexOf=c(-1,s.findLastIndex),s.range=function(a,b,c){null==b&&(b=a||0,a=0),c=c||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e};var D=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=w(a.prototype),g=a.apply(f,e);return s.isObject(g)?g:f};s.bind=function(a,b){if(p&&a.bind===p)return p.apply(a,k.call(arguments,1));if(!s.isFunction(a))throw new TypeError("Bind must be called on a function");var c=k.call(arguments,2),d=function(){return D(a,d,b,this,c.concat(k.call(arguments)))};return d},s.partial=function(a){var b=k.call(arguments,1),c=function(){for(var d=0,e=b.length,f=Array(e),g=0;g<e;g++)f[g]=b[g]===s?arguments[d++]:b[g];for(;d<arguments.length;)f.push(arguments[d++]);return D(a,c,this,this,f)};return c},s.bindAll=function(a){var b,c,d=arguments.length;if(d<=1)throw new Error("bindAll must be passed function names");for(b=1;b<d;b++)c=arguments[b],a[c]=s.bind(a[c],a);return a},s.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return s.has(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},s.delay=function(a,b){var c=k.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},s.defer=s.partial(s.delay,s,1),s.throttle=function(a,b,c){var d,e,f,g=null,h=0;c||(c={});var i=function(){h=c.leading===!1?0:s.now(),g=null,f=a.apply(d,e),g||(d=e=null)};return function(){var j=s.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return d=this,e=arguments,k<=0||k>b?(g&&(clearTimeout(g),g=null),h=j,f=a.apply(d,e),g||(d=e=null)):g||c.trailing===!1||(g=setTimeout(i,k)),f}},s.debounce=function(a,b,c){var d,e,f,g,h,i=function(){var j=s.now()-g;j<b&&j>=0?d=setTimeout(i,b-j):(d=null,c||(h=a.apply(f,e),d||(f=e=null)))};return function(){f=this,e=arguments,g=s.now();var j=c&&!d;return d||(d=setTimeout(i,b)),j&&(h=a.apply(f,e),f=e=null),h}},s.wrap=function(a,b){return s.partial(b,a)},s.negate=function(a){return function(){return!a.apply(this,arguments)}},s.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},s.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}},s.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),a<=1&&(b=null),c}},s.once=s.partial(s.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];s.keys=function(a){if(!s.isObject(a))return[];if(o)return o(a);var b=[];for(var c in a)s.has(a,c)&&b.push(c);return E&&d(a,b),b},s.allKeys=function(a){if(!s.isObject(a))return[];var b=[];for(var c in a)b.push(c);return E&&d(a,b),b},s.values=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},s.mapObject=function(a,b,c){b=u(b,c);for(var d,e=s.keys(a),f=e.length,g={},h=0;h<f;h++)d=e[h],g[d]=b(a[d],d,a);return g},s.pairs=function(a){for(var b=s.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},s.invert=function(a){for(var b={},c=s.keys(a),d=0,e=c.length;d<e;d++)b[a[c[d]]]=c[d];return b},s.functions=s.methods=function(a){var b=[];for(var c in a)s.isFunction(a[c])&&b.push(c);return b.sort()},s.extend=v(s.allKeys),s.extendOwn=s.assign=v(s.keys),s.findKey=function(a,b,c){b=u(b,c);for(var d,e=s.keys(a),f=0,g=e.length;f<g;f++)if(d=e[f],b(a[d],d,a))return d},s.pick=function(a,b,c){var d,e,f={},g=a;if(null==g)return f;s.isFunction(b)?(e=s.allKeys(g),d=t(b,c)):(e=C(arguments,!1,!1,1),d=function(a,b,c){return b in c},g=Object(g));for(var h=0,i=e.length;h<i;h++){var j=e[h],k=g[j];d(k,j,g)&&(f[j]=k)}return f},s.omit=function(a,b,c){if(s.isFunction(b))b=s.negate(b);else{var d=s.map(C(arguments,!1,!1,1),String);b=function(a,b){return!s.contains(d,b)}}return s.pick(a,b,c)},s.defaults=v(s.allKeys,!0),s.create=function(a,b){var c=w(a);return b&&s.extendOwn(c,b),c},s.clone=function(a){return s.isObject(a)?s.isArray(a)?a.slice():s.extend({},a):a},s.tap=function(a,b){return b(a),a},s.isMatch=function(a,b){var c=s.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;f<d;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1}return!0};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return a===b;a instanceof s&&(a=a._wrapped),b instanceof s&&(b=b._wrapped);var e=l.call(a);if(e!==l.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,h=b.constructor;if(g!==h&&!(s.isFunction(g)&&g instanceof g&&s.isFunction(h)&&h instanceof h)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var i=c.length;i--;)if(c[i]===a)return d[i]===b;if(c.push(a),d.push(b),f){if(i=a.length,i!==b.length)return!1;for(;i--;)if(!G(a[i],b[i],c,d))return!1}else{var j,k=s.keys(a);if(i=k.length,s.keys(b).length!==i)return!1;for(;i--;)if(j=k[i],!s.has(b,j)||!G(a[j],b[j],c,d))return!1}return c.pop(),d.pop(),!0};s.isEqual=function(a,b){return G(a,b)},s.isEmpty=function(a){return null==a||(A(a)&&(s.isArray(a)||s.isString(a)||s.isArguments(a))?0===a.length:0===s.keys(a).length)},s.isElement=function(a){return!(!a||1!==a.nodeType)},s.isArray=n||function(a){return"[object Array]"===l.call(a)},s.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},s.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){s["is"+a]=function(b){return l.call(b)==="[object "+a+"]"}}),s.isArguments(arguments)||(s.isArguments=function(a){return s.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(s.isFunction=function(a){return"function"==typeof a||!1}),s.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},s.isNaN=function(a){return s.isNumber(a)&&a!==+a},s.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===l.call(a)},s.isNull=function(a){return null===a},s.isUndefined=function(a){return void 0===a},s.has=function(a,b){return null!=a&&m.call(a,b)},s.noConflict=function(){return e._=f,this},s.identity=function(a){return a},s.constant=function(a){return function(){return a}},s.noop=function(){},s.property=x,s.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},s.matcher=s.matches=function(a){return a=s.extendOwn({},a),function(b){return s.isMatch(b,a)}},s.times=function(a,b,c){var d=Array(Math.max(0,a));b=t(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},s.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},s.now=Date.now||function(){return(new Date).getTime()};var H={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=s.invert(H),J=function(a){var b=function(b){return a[b]},c="(?:"+s.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};s.escape=J(H),s.unescape=J(I),s.result=function(a,b,c){var d=null==a?void 0:a[b];return void 0===d&&(d=c),s.isFunction(d)?d.call(a):d};var K=0;s.uniqueId=function(a){var b=++K+"";return a?a+b:b},s.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\u2028|\u2029/g,O=function(a){return"\\"+M[a]};s.template=function(a,b,c){!b&&c&&(b=c),b=s.defaults({},b,s.templateSettings);var d=RegExp([(b.escape||L).source,(b.interpolate||L).source,(b.evaluate||L).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(N,O),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";try{var g=new Function(b.variable||"obj","_",f)}catch(a){throw a.source=f,a}var h=function(a){return g.call(this,a,s)},i=b.variable||"obj";return h.source="function("+i+"){\n"+f+"}",h},s.chain=function(a){var b=s(a);return b._chain=!0,b};var P=function(a,b){return a._chain?s(b).chain():b};s.mixin=function(a){s.each(s.functions(a),function(b){var c=s[b]=a[b];s.prototype[b]=function(){var a=[this._wrapped];return j.apply(a,arguments),P(this,c.apply(s,a))}})},s.mixin(s),s.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=g[a];s.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],P(this,c)}}),s.each(["concat","join","slice"],function(a){var b=g[a];s.prototype[a]=function(){return P(this,b.apply(this._wrapped,arguments))}}),s.prototype.value=function(){return this._wrapped},s.prototype.valueOf=s.prototype.toJSON=s.prototype.value,s.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return s})}.call(this),function(a){var b="object"==typeof self&&self.self==self&&self||"object"==typeof global&&global.global==global&&global;if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(c,d,e){b.Backbone=a(b,e,c,d)});else if("undefined"!=typeof exports){var c,d=require("underscore");try{c=require("jquery")}catch(a){}a(b,exports,d,c)}else b.Backbone=a(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(function(a,b,c,d){var e=a.Backbone,f=Array.prototype.slice;b.VERSION="1.2.3",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var g=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,e){return c[b](this[d],i(a,this),e)};case 4:return function(a,e,f){return c[b](this[d],i(a,this),e,f)};default:return function(){var a=f.call(arguments);return a.unshift(this[d]),c[b].apply(c,a)}}},h=function(a,b,d){c.each(b,function(b,e){c[e]&&(a.prototype[e]=g(b,e,d))})},i=function(a,b){return c.isFunction(a)?a:c.isObject(a)&&!b._isModel(a)?j(a):c.isString(a)?function(b){return b.get(a)}:a},j=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}},k=b.Events={},l=/\s+/,m=function(a,b,d,e,f){var g,h=0;if(d&&"object"==typeof d){void 0!==e&&"context"in f&&void 0===f.context&&(f.context=e);for(g=c.keys(d);h<g.length;h++)b=m(a,b,g[h],d[g[h]],f)}else if(d&&l.test(d))for(g=d.split(l);h<g.length;h++)b=a(b,g[h],e,f);else b=a(b,d,e,f);return b};k.on=function(a,b,c){return n(this,a,b,c)};var n=function(a,b,c,d,e){if(a._events=m(o,a._events||{},b,c,{context:d,ctx:a,listening:e}),e){var f=a._listeners||(a._listeners={});f[e.id]=e}return a};k.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=f[e];if(!g){var h=this._listenId||(this._listenId=c.uniqueId("l"));g=f[e]={obj:a,objId:e,id:h,listeningTo:f,count:0}}return n(a,b,d,this,g),this};var o=function(a,b,c,d){if(c){var e=a[b]||(a[b]=[]),f=d.context,g=d.ctx,h=d.listening;h&&h.count++,e.push({callback:c,context:f,ctx:f||g,listening:h})}return a};k.off=function(a,b,c){return this._events?(this._events=m(p,this._events,a,b,{context:c,listeners:this._listeners}),this):this},k.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;for(var f=a?[a._listenId]:c.keys(e),g=0;g<f.length;g++){var h=e[f[g]];if(!h)break;h.obj.off(b,d,this)}return c.isEmpty(e)&&(this._listeningTo=void 0),this};var p=function(a,b,d,e){if(a){var f,g=0,h=e.context,i=e.listeners;if(b||d||h){for(var j=b?[b]:c.keys(a);g<j.length;g++){b=j[g];var k=a[b];if(!k)break;for(var l=[],m=0;m<k.length;m++){var n=k[m];d&&d!==n.callback&&d!==n.callback._callback||h&&h!==n.context?l.push(n):(f=n.listening,f&&0===--f.count&&(delete i[f.id],delete f.listeningTo[f.objId]))}l.length?a[b]=l:delete a[b]}return c.size(a)?a:void 0}for(var o=c.keys(i);g<o.length;g++)f=i[o[g]],delete i[f.id],delete f.listeningTo[f.objId]}};k.once=function(a,b,d){var e=m(q,{},a,b,c.bind(this.off,this));return this.on(e,void 0,d)},k.listenToOnce=function(a,b,d){var e=m(q,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,e)};var q=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f),d.apply(this,arguments)});f._callback=d}return a};k.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;d<b;d++)c[d]=arguments[d+1];return m(r,this._events,a,void 0,c),this};var r=function(a,b,c,d){if(a){var e=a[b],f=a.all;e&&f&&(f=f.slice()),e&&s(e,d),f&&s(f,[b].concat(d))}return a},s=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}};k.bind=k.on,k.unbind=k.off,c.extend(b,k);var t=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId(this.cidPrefix),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(t.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(null==a)return this;var e;if("object"==typeof a?(e=a,d=b):(e={})[a]=b,d||(d={}),!this._validate(e,d))return!1;var f=d.unset,g=d.silent,h=[],i=this._changing;this._changing=!0,i||(this._previousAttributes=c.clone(this.attributes),this.changed={});var j=this.attributes,k=this.changed,l=this._previousAttributes;for(var m in e)b=e[m],c.isEqual(j[m],b)||h.push(m),c.isEqual(l[m],b)?delete k[m]:k[m]=b,f?delete j[m]:j[m]=b;if(this.id=this.get(this.idAttribute),!g){h.length&&(this._pending=d);for(var n=0;n<h.length;n++)this.trigger("change:"+h[n],this,j[h[n]],d)}if(i)return this;if(!g)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return!!this.hasChanged()&&c.clone(this.changed);var b=this._changing?this._previousAttributes:this.attributes,d={};for(var e in a){var f=a[e];c.isEqual(b[e],f)||(d[e]=f)}return!!c.size(d)&&d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=c.extend({parse:!0},a);var b=this,d=a.success;return a.success=function(c){var e=a.parse?b.parse(c,a):c;return!!b.set(e,a)&&(d&&d.call(a.context,b,c,a),void b.trigger("sync",b,c,a))},P(this,a),this.sync("read",this,a)},save:function(a,b,d){var e;null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,h=d.success,i=this.attributes;d.success=function(a){g.attributes=i;var b=d.parse?g.parse(a,d):a;return f&&(b=c.extend({},e,b)),!(b&&!g.set(b,d))&&(h&&h.call(d.context,g,a,d),void g.trigger("sync",g,a,d))},P(this,d),e&&f&&(this.attributes=c.extend({},i,e));var j=this.isNew()?"create":d.patch?"patch":"update";"patch"!==j||d.attrs||(d.attrs=e);var k=this.sync(j,this,d);return this.attributes=i,k},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening(),b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f(),d&&d.call(a.context,b,c,a),b.isNew()||b.trigger("sync",b,c,a)};var g=!1;return this.isNew()?c.defer(a.success):(P(this,a),g=this.sync("delete",this,a)),e||f(),g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||O();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.defaults({validate:!0},a))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return!d||(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1)}});var u={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};h(t,u,"attributes");var v=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},w={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},y=function(a,b,c){c=Math.min(Math.max(c,0),a.length);for(var d=Array(a.length-c),e=b.length,f=0;f<d.length;f++)d[f]=a[f+c];for(f=0;f<e;f++)a[f+c]=b[f];for(f=0;f<d.length;f++)a[f+e+c]=d[f]};c.extend(v.prototype,k,{model:t,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,x))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:c.clone(a);var e=this._removeModels(a,b);return!b.silent&&e&&this.trigger("update",this,b),d?e[0]:e},set:function(a,b){if(null!=a){b=c.defaults({},b,w),b.parse&&!this._isModel(a)&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;null!=e&&(e=+e),e<0&&(e+=this.length+1);for(var f,g=[],h=[],i=[],j={},k=b.add,l=b.merge,m=b.remove,n=!1,o=this.comparator&&null==e&&b.sort!==!1,p=c.isString(this.comparator)?this.comparator:null,q=0;q<a.length;q++){f=a[q];var r=this.get(f);if(r){if(l&&f!==r){var s=this._isModel(f)?f.attributes:f;b.parse&&(s=r.parse(s,b)),r.set(s,b),o&&!n&&(n=r.hasChanged(p))}j[r.cid]||(j[r.cid]=!0,g.push(r)),a[q]=r}else k&&(f=a[q]=this._prepareModel(f,b),f&&(h.push(f),this._addReference(f,b),j[f.cid]=!0,g.push(f)))}if(m){for(q=0;q<this.length;q++)f=this.models[q],j[f.cid]||i.push(f);i.length&&this._removeModels(i,b)}var t=!1,u=!o&&k&&m;if(g.length&&u?(t=this.length!=g.length||c.some(this.models,function(a,b){return a!==g[b]}),this.models.length=0,y(this.models,g,0),this.length=this.models.length):h.length&&(o&&(n=!0),y(this.models,h,null==e?this.length:e),this.length=this.models.length),n&&this.sort({silent:!0}),!b.silent){for(q=0;q<h.length;q++)null!=e&&(b.index=e+q),f=h[q],f.trigger("add",f,this,b);(n||t)&&this.trigger("sort",this,b),(h.length||i.length)&&this.trigger("update",this,b)}return d?a[0]:a}},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return f.apply(this.models,arguments)},get:function(a){if(null!=a){var b=this.modelId(this._isModel(a)?a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]}},at:function(a){return a<0&&(a+=this.length),this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw new Error("Cannot sort a set without a comparator");a||(a={});var d=b.length;return c.isFunction(b)&&(b=c.bind(b,this)),1===d||c.isString(b)?this.models=this.sortBy(b):this.models.sort(b),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b.call(a.context,d,c,a),d.trigger("sync",d,c,a)},P(this,a),this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;if(a=this._prepareModel(a,b),!a)return!1;d||this.add(a,b);var e=this,f=b.success;return b.success=function(a,b,c){d&&e.add(a,c),f&&f.call(c.context,a,b,c)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1),this.length--,b.silent||(b.index=f,e.trigger("remove",e,this,b)),c.push(e),this._removeReference(e,b)}}return!!c.length&&c},_isModel:function(a){return a instanceof t},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);null!=c&&delete this._byId[c],this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if("add"!==a&&"remove"!==a||c===this){if("destroy"===a&&this.remove(b,d),"change"===a){var e=this.modelId(b.previousAttributes()),f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}this.trigger.apply(this,arguments)}}});var z={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3};h(v,z,"models");var A=b.View=function(a){this.cid=c.uniqueId("view"),c.extend(this,c.pick(a,C)),this._ensureElement(),this.initialize.apply(this,arguments)},B=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];c.extend(A.prototype,k,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(a){return this.undelegateEvents(),this._setElement(a),this.delegateEvents(),this},_setElement:function(a){this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0]},delegateEvents:function(a){if(a||(a=c.result(this,"events")),!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[d]),d){var e=b.match(B);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){return this.$el.on(a+".delegateEvents"+this.cid,b,c),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(a,b,c){return this.$el.off(a+".delegateEvents"+this.cid,b,c),this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a.class=c.result(this,"className")),this.setElement(this._createElement(c.result(this,"tagName"))),this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}}),b.sync=function(a,d,e){var f=D[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||O()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",
        g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){if(a.setRequestHeader("X-HTTP-Method-Override",f),h)return h.apply(this,arguments)}}"GET"===g.type||e.emulateJSON||(g.processData=!1);var i=e.error;e.error=function(a,b,c){e.textStatus=b,e.errorThrown=c,i&&i.call(e.context,a,b,c)};var j=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,j,e),j};var D={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var E=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,G=/(\(\?)?:\w+/g,H=/\*\w+/g,I=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(E.prototype,k,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g,d)!==!1&&(f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g))}),this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(I,"\\$&").replace(F,"(?:$1)?").replace(G,function(a,b){return b?a:"([^/?]+)"}).replace(H,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var J=b.History=function(){this.handlers=[],this.checkUrl=c.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},K=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,M=/#.*$/;J.started=!1,c.extend(J.prototype,k,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname),b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){return null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),a.replace(K,"")},start:function(a){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var b=this.root.slice(0,-1)||"/";return this.location.replace(b+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var d=document.body,e=d.insertBefore(this.iframe,d.firstChild).contentWindow;e.document.open(),e.document.close(),e.location.hash="#"+this.fragment}var f=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};if(this._usePushState?f("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?f("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getHash(this.iframe.contentWindow)),b!==this.fragment&&(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return!!this.matchRoot()&&(a=this.fragment=this.getFragment(a),c.some(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0}))},navigate:function(a,b){if(!J.started)return!1;b&&b!==!0||(b={trigger:!!b}),a=this.getFragment(a||"");var c=this.root;""!==a&&"?"!==a.charAt(0)||(c=c.slice(0,-1)||"/");var d=c+a;if(a=this.decodeFragment(a.replace(M,"")),this.fragment!==a){if(this.fragment=a,this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,d);else{if(!this._wantsHashChange)return this.location.assign(d);if(this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)){var e=this.iframe.contentWindow;b.replace||(e.document.open(),e.document.close()),this._updateHash(e.location,a,b.replace)}}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new J;var N=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};t.extend=v.extend=E.extend=A.extend=J.extend=N;var O=function(){throw new Error('A "url" property or function must be specified')},P=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b),a.trigger("error",a,d,b)}};return b}),function(a,b){if("function"==typeof define&&define.amd)define("backbone.wreqr",["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";var c=a.Wreqr,d=a.Wreqr={};return a.Wreqr.VERSION="1.4.0",a.Wreqr.noConflict=function(){return a.Wreqr=c,this},d.Handlers=function(a,b){var c=function(a){this.options=a,this._wreqrHandlers={},b.isFunction(this.initialize)&&this.initialize(a)};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events,{setHandlers:function(a){b.each(a,b.bind(function(a,c){var d=null;b.isObject(a)&&!b.isFunction(a)&&(d=a.context,a=a.callback),this.setHandler(c,a,d)},this))},setHandler:function(a,b,c){var d={callback:b,context:c};this._wreqrHandlers[a]=d,this.trigger("handler:add",a,b,c)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){return b.callback.apply(b.context,arguments)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}}),c}(a,b),d.CommandStorage=function(){var c=function(a){this.options=a,this._commands={},b.isFunction(this.initialize)&&this.initialize(a)};return b.extend(c.prototype,a.Events,{getCommands:function(a){var b=this._commands[a];return b||(b={command:a,instances:[]},this._commands[a]=b),b},addCommand:function(a,b){var c=this.getCommands(a);c.instances.push(b)},clearCommands:function(a){var b=this.getCommands(a);b.instances=[]}}),c}(),d.Commands=function(a,b){return a.Handlers.extend({storageType:a.CommandStorage,constructor:function(b){this.options=b||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this),a.Handlers.prototype.constructor.apply(this,arguments)},execute:function(a){a=arguments[0];var c=b.rest(arguments);this.hasHandler(a)?this.getHandler(a).apply(this,c):this.storage.addCommand(a,c)},_executeCommands:function(a,c,d){var e=this.storage.getCommands(a);b.each(e.instances,function(a){c.apply(d,a)}),this.storage.clearCommands(a)},_initializeStorage:function(a){var c,d=a.storageType||this.storageType;c=b.isFunction(d)?new d:d,this.storage=c}})}(d,b),d.RequestResponse=function(a,b){return a.Handlers.extend({request:function(a){if(this.hasHandler(a))return this.getHandler(a).apply(this,b.rest(arguments))}})}(d,b),d.EventAggregator=function(a,b){var c=function(){};return c.extend=a.Model.extend,b.extend(c.prototype,a.Events),c}(a,b),d.Channel=function(c){var d=function(b){this.vent=new a.Wreqr.EventAggregator,this.reqres=new a.Wreqr.RequestResponse,this.commands=new a.Wreqr.Commands,this.channelName=b};return b.extend(d.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(a,b){return this._connect("vent",a,b),this},connectCommands:function(a,b){return this._connect("commands",a,b),this},connectRequests:function(a,b){return this._connect("reqres",a,b),this},_connect:function(a,c,d){if(c){d=d||this;var e="vent"===a?"on":"setHandler";b.each(c,b.bind(function(c,f){this[a][e](f,b.bind(c,d))},this))}}}),d}(d),d.radio=function(a,b){var c=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};b.extend(c.prototype,{channel:function(a){if(!a)throw new Error("Channel must receive a name");return this._getChannel(a)},_getChannel:function(b){var c=this._channels[b];return c||(c=new a.Channel(b),this._channels[b]=c),c},_proxyMethods:function(){b.each(["vent","commands","reqres"],b.bind(function(a){b.each(d[a],b.bind(function(b){this[a][b]=e(this,a,b)},this))},this))}});var d={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},e=function(a,c,d){return function(e){var f=a._getChannel(e)[c];return f[d].apply(f,b.rest(arguments))}};return new c}(d,b),a.Wreqr}),function(a,b){if("function"==typeof define&&define.amd)define("backbone.babysitter",["backbone","underscore"],function(a,c){return b(a,c)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");module.exports=b(c,d)}else b(a.Backbone,a._)}(this,function(a,b){"use strict";var c=a.ChildViewContainer;return a.ChildViewContainer=function(a,b){var c=function(a){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),b.each(a,this.add,this)};b.extend(c.prototype,{add:function(a,b){var c=a.cid;return this._views[c]=a,a.model&&(this._indexByModel[a.model.cid]=c),b&&(this._indexByCustom[b]=c),this._updateLength(),this},findByModel:function(a){return this.findByModelCid(a.cid)},findByModelCid:function(a){var b=this._indexByModel[a];return this.findByCid(b)},findByCustom:function(a){var b=this._indexByCustom[a];return this.findByCid(b)},findByIndex:function(a){return b.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var c=a.cid;return a.model&&delete this._indexByModel[a.model.cid],b.any(this._indexByCustom,function(a,b){if(a===c)return delete this._indexByCustom[b],!0},this),delete this._views[c],this._updateLength(),this},call:function(a){this.apply(a,b.tail(arguments))},apply:function(a,c){b.each(this._views,function(d){b.isFunction(d[a])&&d[a].apply(d,c||[])})},_updateLength:function(){this.length=b.size(this._views)}});var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return b.each(d,function(a){c.prototype[a]=function(){var c=b.values(this._views),d=[c].concat(b.toArray(arguments));return b[a].apply(b,d)}}),c}(a,b),a.ChildViewContainer.VERSION="0.1.11",a.ChildViewContainer.noConflict=function(){return a.ChildViewContainer=c,this},a.ChildViewContainer}),function(a,b){if("function"==typeof define&&define.amd)define("marionette",["backbone","underscore","backbone.wreqr","backbone.babysitter"],function(c,d){return a.Marionette=a.Mn=b(a,c,d)});else if("undefined"!=typeof exports){var c=require("backbone"),d=require("underscore");require("backbone.wreqr"),require("backbone.babysitter");module.exports=b(a,c,d)}else a.Marionette=a.Mn=b(a,a.Backbone,a._)}(this,function(a,b,c){"use strict";var d=a.Marionette,e=a.Mn,f=b.Marionette={};f.VERSION="2.4.7",f.noConflict=function(){return a.Marionette=d,a.Mn=e,this},f.Deferred=b.$.Deferred,f.FEATURES={},f.isEnabled=function(a){return!!f.FEATURES[a]},f.extend=b.Model.extend,f.isNodeAttached=function(a){return b.$.contains(document.documentElement,a)},f.mergeOptions=function(a,b){a&&c.extend(this,c.pick(a,b))},f.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]},f.proxyGetOption=function(a){return f.getOption(this,a)},f._getValue=function(a,b,d){return c.isFunction(a)&&(a=d?a.apply(b,d):a.call(b)),a},f.normalizeMethods=function(a){return c.reduce(a,function(a,b,d){return c.isFunction(b)||(b=this[b]),b&&(a[d]=b),a},{},this)},f.normalizeUIString=function(a,b){return a.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(a){return b[a.slice(4)]})},f.normalizeUIKeys=function(a,b){return c.reduce(a,function(a,c,d){var e=f.normalizeUIString(d,b);return a[e]=c,a},{})},f.normalizeUIValues=function(a,b,d){return c.each(a,function(e,g){c.isString(e)?a[g]=f.normalizeUIString(e,b):c.isObject(e)&&c.isArray(d)&&(c.extend(e,f.normalizeUIValues(c.pick(e,d),b)),c.each(d,function(a){var d=e[a];c.isString(d)&&(e[a]=f.normalizeUIString(d,b))}))}),a},f.actAsCollection=function(a,b){var d=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];c.each(d,function(d){a[d]=function(){var a=c.values(c.result(this,b)),e=[a].concat(c.toArray(arguments));return c[d].apply(c,e)}})};var g=f.deprecate=function(a,b){c.isObject(a)&&(a=a.prev+" is going to be removed in the future. Please use "+a.next+" instead."+(a.url?" See: "+a.url:"")),void 0!==b&&b||g._cache[a]||(g._warn("Deprecation warning: "+a),g._cache[a]=!0)};g._console="undefined"!=typeof console?console:{},g._warn=function(){var a=g._console.warn||g._console.log||function(){};return a.apply(g._console,arguments)},g._cache={},f._triggerMethod=function(){function a(a,b,c){return c.toUpperCase()}var b=/(^|:)(\w)/gi;return function(d,e,f){var g=arguments.length<3;g&&(f=e,e=f[0]);var h,i="on"+e.replace(b,a),j=d[i];return c.isFunction(j)&&(h=j.apply(d,g?c.rest(f):f)),c.isFunction(d.trigger)&&(g+f.length>1?d.trigger.apply(d,g?f:[e].concat(c.drop(f,0))):d.trigger(e)),h}}(),f.triggerMethod=function(a){return f._triggerMethod(this,arguments)},f.triggerMethodOn=function(a){var b=c.isFunction(a.triggerMethod)?a.triggerMethod:f.triggerMethod;return b.apply(a,c.rest(arguments))},f.MonitorDOMRefresh=function(a){function b(){a._isShown=!0,d()}function c(){a._isRendered=!0,d()}function d(){a._isShown&&a._isRendered&&f.isNodeAttached(a.el)&&f.triggerMethodOn(a,"dom:refresh",a)}a._isDomRefreshMonitored||(a._isDomRefreshMonitored=!0,a.on({show:b,render:c}))},function(a){function b(b,d,e,f){var g=f.split(/\s+/);c.each(g,function(c){var f=b[c];if(!f)throw new a.Error('Method "'+c+'" was configured as an event handler, but does not exist.');b.listenTo(d,e,f)})}function d(a,b,c,d){a.listenTo(b,c,d)}function e(a,b,d,e){var f=e.split(/\s+/);c.each(f,function(c){var e=a[c];a.stopListening(b,d,e)})}function f(a,b,c,d){a.stopListening(b,c,d)}function g(b,d,e,f,g){if(d&&e){if(!c.isObject(e))throw new a.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});e=a._getValue(e,b),c.each(e,function(a,e){c.isFunction(a)?f(b,d,e,a):g(b,d,e,a)})}}a.bindEntityEvents=function(a,c,e){g(a,c,e,d,b)},a.unbindEntityEvents=function(a,b,c){g(a,b,c,f,e)},a.proxyBindEntityEvents=function(b,c){return a.bindEntityEvents(this,b,c)},a.proxyUnbindEntityEvents=function(b,c){return a.unbindEntityEvents(this,b,c)}}(f);var h=["description","fileName","lineNumber","name","message","number"];return f.Error=f.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+f.VERSION+"/",constructor:function(a,b){c.isObject(a)?(b=a,a=b.message):b||(b={});var d=Error.call(this,a);c.extend(this,c.pick(d,h),c.pick(b,h)),this.captureStackTrace(),b.url&&(this.url=this.urlRoot+b.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,f.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),f.Error.extend=f.extend,f.Callbacks=function(){this._deferred=f.Deferred(),this._callbacks=[]},c.extend(f.Callbacks.prototype,{add:function(a,b){var d=c.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b}),d.then(function(c){b&&(c.context=b),a.call(c.context,c.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=f.Deferred(),this._callbacks=[],c.each(a,function(a){this.add(a.cb,a.ctx)},this)}}),f.Controller=function(a){this.options=a||{},c.isFunction(this.initialize)&&this.initialize(this.options)},f.Controller.extend=f.extend,c.extend(f.Controller.prototype,b.Events,{destroy:function(){return f._triggerMethod(this,"before:destroy",arguments),f._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:f.triggerMethod,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption}),f.Object=function(a){this.options=c.extend({},c.result(this,"options"),a),this.initialize.apply(this,arguments)},f.Object.extend=f.extend,c.extend(f.Object.prototype,b.Events,{initialize:function(){},destroy:function(a){return a=a||{},this.triggerMethod("before:destroy",a),this.triggerMethod("destroy",a),this.stopListening(),this},triggerMethod:f.triggerMethod,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.Region=f.Object.extend({constructor:function(a){if(this.options=a||{},this.el=this.getOption("el"),this.el=this.el instanceof b.$?this.el[0]:this.el,!this.el)throw new f.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),f.Object.call(this,a)},show:function(a,b){if(this._ensureElement()){this._ensureViewIsIntact(a),f.MonitorDOMRefresh(a);var d=b||{},e=a!==this.currentView,g=!!d.preventDestroy,h=!!d.forceShow,i=!!this.currentView,j=e&&!g,k=e||h;if(i&&this.triggerMethod("before:swapOut",this.currentView,this,b),this.currentView&&e&&delete this.currentView._parent,j?this.empty():i&&k&&this.currentView.off("destroy",this.empty,this),k){a.once("destroy",this.empty,this),a._parent=this,this._renderView(a),i&&this.triggerMethod("before:swap",a,this,b),this.triggerMethod("before:show",a,this,b),f.triggerMethodOn(a,"before:show",a,this,b),i&&this.triggerMethod("swapOut",this.currentView,this,b);var l=f.isNodeAttached(this.el),m=[],n=c.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},d);return l&&n.triggerBeforeAttach&&(m=this._displayedViews(a),this._triggerAttach(m,"before:")),this.attachHtml(a),this.currentView=a,l&&n.triggerAttach&&(m=this._displayedViews(a),this._triggerAttach(m)),i&&this.triggerMethod("swap",a,this,b),this.triggerMethod("show",a,this,b),f.triggerMethodOn(a,"show",a,this,b),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(a,b){var d=(b||"")+"attach";c.each(a,function(a){f.triggerMethodOn(a,d,a,this)},this)},_displayedViews:function(a){return c.union([a],c.result(a,"_getNestedViews")||[])},_renderView:function(a){a.supportsRenderLifecycle||f.triggerMethodOn(a,"before:render",a),a.render(),a.supportsRenderLifecycle||f.triggerMethodOn(a,"render",a)},_ensureElement:function(){if(c.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new f.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(a){if(!a)throw new f.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(a.isDestroyed)throw new f.Error({name:"ViewDestroyedError",message:'View (cid: "'+a.cid+'") has already been destroyed and cannot be used.'})},getEl:function(a){return b.$(a,f._getValue(this.options.parentEl,this))},attachHtml:function(a){this.$el.contents().detach(),this.el.appendChild(a.el)},empty:function(a){var b=this.currentView,c=a||{},d=!!c.preventDestroy;return b?(b.off("destroy",this.empty,this),this.triggerMethod("before:empty",b),d||this._destroyView(),this.triggerMethod("empty",b),delete this.currentView,d&&this.$el.contents().detach(),this):this},_destroyView:function(){var a=this.currentView;a.isDestroyed||(a.supportsDestroyLifecycle||f.triggerMethodOn(a,"before:destroy",a),a.destroy?a.destroy():(a.remove(),a.isDestroyed=!0),a.supportsDestroyLifecycle||f.triggerMethodOn(a,"destroy",a))},attachView:function(a){return this.currentView&&delete this.currentView._parent,a._parent=this,this.currentView=a,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(a,b){if(c.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(c.isFunction(a))return this._buildRegionFromRegionClass(a);throw new f.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var d=a.regionClass||b,e=c.omit(a,"selector","regionClass");return a.selector&&!e.el&&(e.el=a.selector),new d(e)},_buildRegionFromRegionClass:function(a){return new a}}),f.RegionManager=f.Controller.extend({constructor:function(a){this._regions={},this.length=0,f.Controller.call(this,a),this.addRegions(this.getOption("regions"))},addRegions:function(a,b){return a=f._getValue(a,this,arguments),c.reduce(a,function(a,d,e){return c.isString(d)&&(d={selector:d}),d.selector&&(d=c.defaults({},d,b)),a[e]=this.addRegion(e,d),a},{},this)},addRegion:function(a,b){var c;return c=b instanceof f.Region?b:f.Region.buildRegion(b,f.Region),this.triggerMethod("before:add:region",a,c),c._parent=this,this._store(a,c),this.triggerMethod("add:region",a,c),c},get:function(a){return this._regions[a]},getRegions:function(){return c.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];return this._remove(a,b),b},removeRegions:function(){var a=this.getRegions();return c.each(this._regions,function(a,b){this._remove(b,a)},this),a},emptyRegions:function(){var a=this.getRegions();return c.invoke(a,"empty"),a},destroy:function(){return this.removeRegions(),f.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]||this.length++,this._regions[a]=b},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b),b.empty(),b.stopListening(),delete b._parent,delete this._regions[a],this.length--,this.triggerMethod("remove:region",a,b)}}),f.actAsCollection(f.RegionManager.prototype,"_regions"),f.TemplateCache=function(a){this.templateId=a},c.extend(f.TemplateCache,{templateCaches:{},get:function(a,b){var c=this.templateCaches[a];return c||(c=new f.TemplateCache(a),this.templateCaches[a]=c),c.load(b)},clear:function(){var a,b=c.toArray(arguments),d=b.length;if(d>0)for(a=0;a<d;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}}),c.extend(f.TemplateCache.prototype,{load:function(a){if(this.compiledTemplate)return this.compiledTemplate;var b=this.loadTemplate(this.templateId,a);return this.compiledTemplate=this.compileTemplate(b,a),this.compiledTemplate},loadTemplate:function(a,c){var d=b.$(a);if(!d.length)throw new f.Error({name:"NoTemplateError",message:'Could not find template: "'+a+'"'});return d.html()},compileTemplate:function(a,b){return c.template(a,b)}}),f.Renderer={render:function(a,b){if(!a)throw new f.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var d=c.isFunction(a)?a:f.TemplateCache.get(a);return d(b)}},f.View=b.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(a){this.render=c.bind(this.render,this),a=f._getValue(a,this),this.options=c.extend({},c.result(this,"options"),a),this._behaviors=f.Behaviors(this),b.View.call(this,this.options),f.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,c.rest(arguments))},mixinTemplateHelpers:function(a){a=a||{};var b=this.getOption("templateHelpers");return b=f._getValue(b,this),c.extend(a,b)},normalizeUIKeys:function(a){var b=c.result(this,"_uiBindings");return f.normalizeUIKeys(a,b||c.result(this,"ui"))},normalizeUIValues:function(a,b){var d=c.result(this,"ui"),e=c.result(this,"_uiBindings");return f.normalizeUIValues(a,e||d,b)},configureTriggers:function(){if(this.triggers){var a=this.normalizeUIKeys(c.result(this,"triggers"));return c.reduce(a,function(a,b,c){return a[c]=this._buildViewTrigger(b),a},{},this)}},delegateEvents:function(a){return this._delegateDOMEvents(a),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),c.each(this._behaviors,function(a){a.bindEntityEvents(this.model,a.getOption("modelEvents")),a.bindEntityEvents(this.collection,a.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(a){var d=f._getValue(a||this.events,this);d=this.normalizeUIKeys(d),c.isUndefined(a)&&(this.events=d);var e={},g=c.result(this,"behaviorEvents")||{},h=this.configureTriggers(),i=c.result(this,"behaviorTriggers")||{};c.extend(e,g,d,h,i),b.View.prototype.delegateEvents.call(this,e)},undelegateEvents:function(){return b.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),c.each(this._behaviors,function(a){a.unbindEntityEvents(this.model,a.getOption("modelEvents")),a.unbindEntityEvents(this.collection,a.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new f.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var a=c.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(a)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(a)),this.unbindUIElements(),this.isRendered=!1,this.remove(),c.invoke(this._behaviors,"destroy",a),this},bindUIElements:function(){this._bindUIElements(),c.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=c.result(this,"_uiBindings");this.ui={},c.each(a,function(a,b){this.ui[b]=this.$(a)},this)}},unbindUIElements:function(){this._unbindUIElements(),c.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(c.each(this.ui,function(a,b){delete this.ui[b]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(a){var b=c.defaults({},a,{preventDefault:!0,stopPropagation:!0}),d=c.isObject(a)?b.event:a;return function(a){a&&(a.preventDefault&&b.preventDefault&&a.preventDefault(),a.stopPropagation&&b.stopPropagation&&a.stopPropagation());var c={view:this,model:this.model,collection:this.collection};this.triggerMethod(d,c)}},setElement:function(){var a=b.View.prototype.setElement.apply(this,arguments);return c.invoke(this._behaviors,"proxyViewProperties",this),a},triggerMethod:function(){var a=f._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],c.rest(arguments)),a},_triggerEventOnBehaviors:function(a){for(var b=f._triggerMethod,c=this._behaviors,d=0,e=c&&c.length;d<e;d++)b(c[d],a)},_triggerEventOnParentLayout:function(a,b){var d=this._parentLayoutView();if(d){var e=f.getOption(d,"childViewEventPrefix"),g=e+":"+a,h=[this].concat(b);f._triggerMethod(d,g,h);var i=f.getOption(d,"childEvents");i=f._getValue(i,d);var j=d.normalizeMethods(i);j&&c.isFunction(j[a])&&j[a].apply(d,h)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var a=this._getImmediateChildren();return a.length?c.reduce(a,function(a,b){return b._getNestedViews?a.concat(b._getNestedViews()):a},a):a},_parentLayoutView:function(){for(var a=this._parent;a;){if(a instanceof f.LayoutView)return a;a=a._parent}},normalizeMethods:f.normalizeMethods,mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.ItemView=f.View.extend({constructor:function(){f.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var a=[this.model||this.collection];return arguments.length&&a.push.apply(a,arguments),this.model?this.serializeModel.apply(this,a):{items:this.serializeCollection.apply(this,a)}},serializeCollection:function(a){return a.toJSON.apply(a,c.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var a=this.getTemplate();if(a!==!1){if(!a)throw new f.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var b=this.mixinTemplateHelpers(this.serializeData()),c=f.Renderer.render(a,b,this);return this.attachElContent(c),this}},attachElContent:function(a){return this.$el.html(a),this}}),f.CollectionView=f.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(a){this.once("render",this._initialEvents),this._initChildViewStorage(),f.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var a,b=this._isShown&&f.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),b&&this._triggerBeforeAttach&&(a=this._getNestedViews(),this._triggerMethodMany(a,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),b&&this._triggerAttach&&(a=this._getNestedViews(),this._triggerMethodMany(a,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(a,b,d){var e=c.drop(arguments,3);c.each(a,function(a){f.triggerMethodOn.apply(a,[a,d,a,b].concat(e));
})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(a,b,d){var e=void 0!==d.at&&(d.index||b.indexOf(a));if((this.getOption("filter")||e===!1)&&(e=c.indexOf(this._filteredSortedModels(e),a)),this._shouldAddChild(a,e)){this.destroyEmptyView();var f=this.getChildView(a);this.addChild(a,f,e)}},_onCollectionRemove:function(a){var b=this.children.findByModel(a);this.removeChildView(b),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(a){f.triggerMethodOn(a,"before:show",a)})},_onShowCalled:function(){this.children.each(function(a){f.triggerMethodOn(a,"show",a)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var a=this.children,b=this._filteredSortedModels();if(!b.length&&this._showingEmptyView)return this;var d=c.some(b,function(b){return!a.findByModel(b)});if(d)this.render();else{var e=c.map(b,function(b,c){var d=a.findByModel(b);return d._index=c,d.el}),f=a.filter(function(a){return!c.contains(e,a.el)});this.triggerMethod("before:reorder"),this._appendReorderedChildren(e),c.each(f,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){f.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var a=this._filteredSortedModels(),b=c.find(a,function(a,b){var c=this.children.findByModel(a);return!c||c._index!==b},this);b&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(a){this.$el.append(a)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var a,b=this._filteredSortedModels();c.each(b,function(b,c){a=this.getChildView(b),this.addChild(b,a,c)},this)},_filteredSortedModels:function(a){var b=this.getViewComparator(),d=this.collection.models;if(a=Math.min(Math.max(a,0),d.length-1),b){var e;a&&(e=d[a],d=d.slice(0,a).concat(d.slice(a+1))),d=this._sortModelsBy(d,b),e&&d.splice(a,0,e)}return this.getOption("filter")&&(d=c.filter(d,function(a,b){return this._shouldAddChild(a,b)},this)),d},_sortModelsBy:function(a,b){return"string"==typeof b?c.sortBy(a,function(a){return a.get(b)},this):1===b.length?c.sortBy(a,b,this):a.sort(c.bind(b,this))},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var c=new b.Model;this.addEmptyView(c,a),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var d,e=this._isShown&&!this.isBuffering&&f.isNodeAttached(this.el),g=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");c.isFunction(g)&&(g=g.call(this,a,this._emptyViewIndex));var h=this.buildChildView(a,b,g);h._parent=this,this.proxyChildEvents(h),h.once("render",function(){this._isShown&&f.triggerMethodOn(h,"before:show",h),e&&this._triggerBeforeAttach&&(d=this._getViewAndNested(h),this._triggerMethodMany(d,this,"before:attach"))},this),this.children.add(h),this.renderChildView(h,this._emptyViewIndex),e&&this._triggerAttach&&(d=this._getViewAndNested(h),this._triggerMethodMany(d,this,"attach")),this._isShown&&f.triggerMethodOn(h,"show",h)},getChildView:function(a){var b=this.getOption("childView");if(!b)throw new f.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return b},addChild:function(a,b,c){var d=this.getOption("childViewOptions");d=f._getValue(d,this,[a,c]);var e=this.buildChildView(a,b,d);return this._updateIndices(e,!0,c),this.triggerMethod("before:add:child",e),this._addChildView(e,c),this.triggerMethod("add:child",e),e._parent=this,e},_updateIndices:function(a,b,c){this.getOption("sort")&&(b&&(a._index=c),this.children.each(function(c){c._index>=a._index&&(c._index+=b?1:-1)}))},_addChildView:function(a,b){var c,d=this._isShown&&!this.isBuffering&&f.isNodeAttached(this.el);this.proxyChildEvents(a),a.once("render",function(){this._isShown&&!this.isBuffering&&f.triggerMethodOn(a,"before:show",a),d&&this._triggerBeforeAttach&&(c=this._getViewAndNested(a),this._triggerMethodMany(c,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,b),d&&this._triggerAttach&&(c=this._getViewAndNested(a),this._triggerMethodMany(c,this,"attach")),this._isShown&&!this.isBuffering&&f.triggerMethodOn(a,"show",a)},renderChildView:function(a,b){return a.supportsRenderLifecycle||f.triggerMethodOn(a,"before:render",a),a.render(),a.supportsRenderLifecycle||f.triggerMethodOn(a,"render",a),this.attachHtml(this,a,b),a},buildChildView:function(a,b,d){var e=c.extend({model:a},d),g=new b(e);return f.MonitorDOMRefresh(g),g},removeChildView:function(a){return a?(this.triggerMethod("before:remove:child",a),a.supportsDestroyLifecycle||f.triggerMethodOn(a,"before:destroy",a),a.destroy?a.destroy():a.remove(),a.supportsDestroyLifecycle||f.triggerMethodOn(a,"destroy",a),delete a._parent,this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1),a):a},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,b){a.$el.append(b)},_createBuffer:function(){var a=document.createDocumentFragment();return c.each(this._bufferedChildren,function(b){a.appendChild(b.el)}),a},attachHtml:function(a,b,c){a.isBuffering?a._bufferedChildren.splice(c,0,b):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c,d=this.getOption("sort")&&b<this.children.length-1;return d&&(c=this.children.find(function(a){return a._index===b+1})),!!c&&(c.$el.before(a.el),!0)},_insertAfter:function(a){this.$el.append(a.el)},_initChildViewStorage:function(){this.children=new b.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),f.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(a){var b=a||{},d=!0,e=this.children.map(c.identity);return c.isUndefined(b.checkEmpty)||(d=b.checkEmpty),this.children.each(this.removeChildView,this),d&&this.checkEmpty(),e},_shouldAddChild:function(a,b){var d=this.getOption("filter");return!c.isFunction(d)||d.call(this,a,b,this.collection)},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var d=c.toArray(arguments),e=d[0],f=this.normalizeMethods(c.result(this,"childEvents"));d[0]=b+":"+e,d.splice(1,0,a),"undefined"!=typeof f&&c.isFunction(f[e])&&f[e].apply(this,d.slice(1)),this.triggerMethod.apply(this,d)})},_getImmediateChildren:function(){return c.values(this.children._views)},_getViewAndNested:function(a){return[a].concat(c.result(a,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),f.CompositeView=f.CollectionView.extend({constructor:function(){f.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(a){var b=this.getOption("childView")||this.constructor;return b},serializeData:function(){var a={};return this.model&&(a=c.partial(this.serializeModel,this.model).apply(this,arguments)),a},render:function(){return this._ensureViewIsIntact(),this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&f.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var a={};a=this.serializeData(),a=this.mixinTemplateHelpers(a),this.triggerMethod("before:render:template");var b=this.getTemplate(),c=f.Renderer.render(b,a,this);this.attachElContent(c),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(a){return this.$el.html(a),this},attachBuffer:function(a,b){var c=this.getChildViewContainer(a);c.append(b)},_insertAfter:function(a){var b=this.getChildViewContainer(this,a);b.append(a.el)},_appendReorderedChildren:function(a){var b=this.getChildViewContainer(this);b.append(a)},getChildViewContainer:function(a,b){if(a.$childViewContainer)return a.$childViewContainer;var c,d=f.getOption(a,"childViewContainer");if(d){var e=f._getValue(d,a);if(c="@"===e.charAt(0)&&a.ui?a.ui[e.substr(4)]:a.$(e),c.length<=0)throw new f.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+a.childViewContainer})}else c=a.$el;return a.$childViewContainer=c,c},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),f.LayoutView=f.ItemView.extend({regionClass:f.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(a){a=a||{},this._firstRender=!0,this._initializeRegions(a),f.ItemView.call(this,a)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),f.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),f.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(a,b,d){var e=this.getRegion(a);return e.show.apply(e,c.rest(arguments))},getChildView:function(a){return this.getRegion(a).currentView},addRegion:function(a,b){var c={};return c[a]=b,this._buildRegions(c)[a]},addRegions:function(a){return this.regions=c.extend({},this.regions,a),this._buildRegions(a)},removeRegion:function(a){return delete this.regions[a],this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b={regionClass:this.getOption("regionClass"),parentEl:c.partial(c.result,this,"el")};return this.regionManager.addRegions(a,b)},_initializeRegions:function(a){var b;this._initRegionManager(),b=f._getValue(this.regions,this,[a])||{};var d=this.getOption.call(a,"regions");d=f._getValue(d,this,[a]),c.extend(b,d),b=this.normalizeUIValues(b,["selector","el"]),this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new f.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)}),this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b,this.triggerMethod("add:region",a,b)}),this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)}),this.listenTo(this.regionManager,"remove:region",function(a,b){delete this[a],this.triggerMethod("remove:region",a,b)})},_getImmediateChildren:function(){return c.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),f.Behavior=f.Object.extend({constructor:function(a,b){this.view=b,this.defaults=c.result(this,"defaults")||{},this.options=c.extend({},this.defaults,a),this.ui=c.extend({},c.result(b,"ui"),c.result(this,"ui")),f.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(a){this.$el=a.$el,this.el=a.el}}),f.Behaviors=function(a,b){function c(a,d){return b.isObject(a.behaviors)?(d=c.parseBehaviors(a,d||b.result(a,"behaviors")),c.wrap(a,d,b.keys(g)),d):{}}function d(a,b){this._view=a,this._behaviors=b,this._triggers={}}function e(a){return a._uiBindings||a.ui}var f=/^(\S+)\s*(.*)$/,g={behaviorTriggers:function(a,b){var c=new d(this,b);return c.buildBehaviorTriggers()},behaviorEvents:function(c,d){var g={};return b.each(d,function(c,d){var h={},i=b.clone(b.result(c,"events"))||{};i=a.normalizeUIKeys(i,e(c));var j=0;b.each(i,function(a,e){var g=e.match(f),i=g[1]+"."+[this.cid,d,j++," "].join(""),k=g[2],l=i+k,m=b.isFunction(a)?a:c[a];m&&(h[l]=b.bind(m,c))},this),g=b.extend(g,h)},this),g}};return b.extend(c,{behaviorsLookup:function(){throw new a.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(b,d){return b.behaviorClass?b.behaviorClass:a._getValue(c.behaviorsLookup,this,[b,d])[d]},parseBehaviors:function(a,d){return b.chain(d).map(function(d,e){var f=c.getBehaviorClass(d,e),g=new f(d,a),h=c.parseBehaviors(a,b.result(g,"behaviors"));return[g].concat(h)}).flatten().value()},wrap:function(a,c,d){b.each(d,function(d){a[d]=b.partial(g[d],a[d],c)})}}),b.extend(d.prototype,{buildBehaviorTriggers:function(){return b.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(c,d){var f=b.clone(b.result(c,"triggers"))||{};f=a.normalizeUIKeys(f,e(c)),b.each(f,b.bind(this._setHandlerForBehavior,this,c,d))},_setHandlerForBehavior:function(a,b,c,d){var e=d.replace(/^\S+/,function(a){return a+".behaviortriggers"+b});this._triggers[e]=this._view._buildViewTrigger(c)}}),c}(f,c),f.AppRouter=b.Router.extend({constructor:function(a){this.options=a||{},b.Router.apply(this,arguments);var c=this.getOption("appRoutes"),d=this._getController();this.processAppRoutes(d,c),this.on("route",this._processOnRoute,this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){if(c.isFunction(this.onRoute)){var d=c.invert(this.getOption("appRoutes"))[a];this.onRoute(a,d,b)}},processAppRoutes:function(a,b){if(b){var d=c.keys(b).reverse();c.each(d,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(a,b,d){var e=a[d];if(!e)throw new f.Error('Method "'+d+'" was not found on the controller');this.route(b,d,c.bind(e,a))},mergeOptions:f.mergeOptions,getOption:f.proxyGetOption,triggerMethod:f.triggerMethod,bindEntityEvents:f.proxyBindEntityEvents,unbindEntityEvents:f.proxyUnbindEntityEvents}),f.Application=f.Object.extend({constructor:function(a){this._initializeRegions(a),this._initCallbacks=new f.Callbacks,this.submodules={},c.extend(this,a),this._initChannel(),f.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("before:start",a),this._initCallbacks.run(a,this),this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},module:function(a,b){var d=f.Module.getClass(b),e=c.toArray(arguments);return e.unshift(this),d.create.apply(d,e)},getRegionManager:function(){return new f.RegionManager},_initializeRegions:function(a){var b=c.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var d=f.getOption(a,"regions");return c.isFunction(d)&&(d=d.call(this,a)),c.extend(b,d),this.addRegions(b),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){f._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b,f._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){f._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(a){delete this[a],f._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=c.result(this,"channelName")||"global",this.channel=c.result(this,"channel")||b.Wreqr.radio.channel(this.channelName),this.vent=c.result(this,"vent")||this.channel.vent,this.commands=c.result(this,"commands")||this.channel.commands,this.reqres=c.result(this,"reqres")||this.channel.reqres}}),f.Module=function(a,b,d){this.moduleName=a,this.options=c.extend({},this.options,d),this.initialize=d.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=b,c.isFunction(this.initialize)&&this.initialize(a,b,this.options)},f.Module.extend=f.extend,c.extend(f.Module.prototype,b.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(c.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),c.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,d){if(a){var e=c.flatten([this,this.app,b,f,b.$,c,d]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new f.Callbacks,this._finalizerCallbacks=new f.Callbacks},triggerMethod:f.triggerMethod}),c.extend(f.Module,{create:function(a,b,d){var e=a,f=c.drop(arguments,3);b=b.split(".");var g=b.length,h=[];return h[g-1]=d,c.each(b,function(b,c){var g=e;e=this._getModule(g,b,a,d),this._addModuleDefinition(g,e,h[c],f)},this),e},_getModule:function(a,b,d,e,f){var g=c.extend({},e),h=this.getClass(e),i=a[b];return i||(i=new h(b,d,g),a[b]=i,a.submodules[b]=i),i},getClass:function(a){var b=f.Module;return a?a.prototype instanceof b?a:a.moduleClass||b:b},_addModuleDefinition:function(a,b,c,d){var e=this._getDefine(c),f=this._getStartWithParent(c,b);e&&b.addDefinition(e,d),this._addStartWithParent(a,b,f)},_getStartWithParent:function(a,b){var d;return c.isFunction(a)&&a.prototype instanceof f.Module?(d=b.constructor.prototype.startWithParent,!!c.isUndefined(d)||d):!c.isObject(a)||(d=a.startWithParent,!!c.isUndefined(d)||d)},_getDefine:function(a){return!c.isFunction(a)||a.prototype instanceof f.Module?c.isObject(a)?a.define:null:a},_addStartWithParent:function(a,b,c){b.startWithParent=b.startWithParent&&c,b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}}),f}),function(a){"function"==typeof require&&"undefined"!=typeof module&&module.exports?module.exports=a(require("underscore")):"function"==typeof define?define("cocktail",["underscore"],a):this.Cocktail=a(_)}(function(a){var b={};b.mixins={},b.mixin=function(c){var d=a.chain(arguments).toArray().slice(1).flatten().value(),e=c.prototype||c,f={};return a.each(d,function(c){a.isString(c)&&(c=b.mixins[c]),a.each(c,function(b,c){if(a.isFunction(b)){if(e[c]===b)return;e[c]&&(f[c]=f.hasOwnProperty(c)?f[c]:[e[c]],f[c].push(b)),e[c]=b}else a.isArray(b)?e[c]=a.union(b,e[c]||[]):a.isObject(b)?e[c]=a.extend({},b,e[c]||{}):c in e||(e[c]=b)})}),a.each(f,function(b,c){e[c]=function(){var c,d=this,e=arguments;return a.each(b,function(b){var f=a.isFunction(b)?b.apply(d,e):b;c="undefined"==typeof f?c:f}),c}}),c};var c;return b.patch=function(d,e){var f=[d.Model,d.Collection,d.Router,d.View].concat(e||[]);c=d.Model.extend;var g=function(a,d){var e=c.call(this,a,d),f=e.prototype.mixins;return f&&e.prototype.hasOwnProperty("mixins")&&b.mixin(e,f),e};a.each(f,function(c){c.mixin=function(){b.mixin(this,a.toArray(arguments))},c.extend=g})},b.unpatch=function(b){a.each([b.Model,b.Collection,b.Router,b.View],function(a){a.mixin=void 0,a.extend=c})},b}),function(a){"object"==typeof exports?module.exports=a(require("backbone"),require("underscore")):"function"==typeof define&&define.amd&&define("backbone-validation",["backbone","underscore"],a)}(function(a,b){return a.Validation=function(a){"use strict";var b={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},c={formatLabel:function(a,c){return i[b.labelFormatter](a,c)},format:function(){var a=Array.prototype.slice.call(arguments),b=a.shift();return b.replace(/\{(\d+)\}/g,function(b,c){return"undefined"!=typeof a[c]?a[c]:b})}},d=function(b,c,e){return c=c||{},e=e||"",a.each(b,function(f,g){b.hasOwnProperty(g)&&(f&&a.isArray(f)?a.forEach(f,function(a,b){d(a,c,e+g+"."+b+"."),c[e+g+"."+b]=a}):f&&"object"==typeof f&&f.constructor===Object&&d(f,c,e+g+"."),c[e+g]=f)}),c},e=function(){var e=function(b,c){return c=c||a.keys(a.result(b,"validation")||{}),a.reduce(c,function(a,b){return a[b]=void 0,a},{})},g=function(b,c){var d=b.attributes;if(a.isFunction(d)?d=d(c):a.isString(d)&&a.isFunction(j[d])&&(d=j[d](c)),a.isArray(d))return d},h=function(b,c){var d=b.validation?a.result(b,"validation")[c]||{}:{};return(a.isFunction(d)||a.isString(d))&&(d={fn:d}),a.isArray(d)||(d=[d]),a.reduce(d,function(b,c){return a.each(a.without(a.keys(c),"msg"),function(a){b.push({fn:k[a],val:c[a],msg:c.msg})}),b},[])},i=function(b,d,e,f){return a.reduce(h(b,d),function(g,h){var i=a.extend({},c,k),j=h.fn.call(i,e,d,h.val,b,f);return j!==!1&&g!==!1&&(j&&!g?a.result(h,"msg")||j:g)},"")},l=function(b,c,d){var e,f={},g=!0,h=a.clone(c);return a.each(d,function(a,c){e=i(b,c,a,h),e&&(f[c]=e,g=!1)}),{invalidAttrs:f,isValid:g}},m=function(b,c){return{preValidate:function(b,c){var d,e=this,f={};return a.isObject(b)?(a.each(b,function(a,b){d=e.preValidate(b,a),d&&(f[b]=d)}),a.isEmpty(f)?void 0:f):i(this,b,c,a.extend({},this.attributes))},isValid:function(e){var f,h,j,k;return e=e||g(c,b),a.isString(e)?h=[e]:a.isArray(e)&&(h=e),h&&(f=d(this.attributes),a.each(this.associatedViews,function(b){a.each(h,function(d){j=i(this,d,f[d],a.extend({},this.attributes)),j?(c.invalid(b,d,j,c.selector),k=k||{},k[d]=j):c.valid(b,d,c.selector)},this)},this)),e===!0&&(k=this.validate()),k&&this.trigger("invalid",this,k,{validationError:k}),h?!k:!this.validation||this._isValid},validate:function(f,h){var i=this,j=!f,k=a.extend({},c,h),m=e(i,g(c,b)),n=a.extend({},m,i.attributes,f),o=d(n),p=f?d(f):o,q=l(i,n,a.pick(o,a.keys(m)));if(i._isValid=q.isValid,a.each(i.associatedViews,function(b){a.each(m,function(a,c){var d=q.invalidAttrs.hasOwnProperty(c),e=p.hasOwnProperty(c);d||k.valid(b,c,k.selector),d&&(e||j)&&k.invalid(b,c,q.invalidAttrs[c],k.selector)})}),a.defer(function(){i.trigger("validated",i._isValid,i,q.invalidAttrs),i.trigger("validated:"+(i._isValid?"valid":"invalid"),i,q.invalidAttrs)}),!k.forceUpdate&&a.intersection(a.keys(q.invalidAttrs),a.keys(p)).length>0)return q.invalidAttrs}}},n=function(b,c,d){c.associatedViews?c.associatedViews.push(b):c.associatedViews=[b],a.extend(c,m(b,d))},o=function(b,c){c&&b.associatedViews&&b.associatedViews.length>1?b.associatedViews=a.without(b.associatedViews,c):(delete b.validate,delete b.preValidate,delete b.isValid,delete b.associatedViews)},p=function(a){n(this.view,a,this.options)},q=function(a){o(a)};return{version:"0.11.3",configure:function(c){a.extend(b,c)},bind:function(c,d){d=a.extend({},b,f,d);var e=d.model||c.model,g=d.collection||c.collection;if("undefined"==typeof e&&"undefined"==typeof g)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";e?n(c,e,d):g&&(g.each(function(a){n(c,a,d)}),g.bind("add",p,{view:c,options:d}),g.bind("remove",q))},unbind:function(b,c){c=a.extend({},c);var d=c.model||b.model,e=c.collection||b.collection;d?o(d,b):e&&(e.each(function(a){o(a,b)}),e.unbind("add",p),e.unbind("remove",q))},mixin:m(null,b)}}(),f=e.callbacks={valid:function(a,b,c){a.$("["+c+'~="'+b+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(a,b,c,d){a.$("["+d+'~="'+b+'"]').addClass("invalid").attr("data-error",c)}},g=e.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},h=e.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},i=e.labelFormatters={none:function(a){return a},sentenceCase:function(a){return a.replace(/(?:^\w|[A-Z]|\b\w)/g,function(a,b){return 0===b?a.toUpperCase():" "+a.toLowerCase()}).replace(/_/g," ")},label:function(a,b){return b.labels&&b.labels[a]||i.sentenceCase(a,b)}},j=e.attributeLoaders={inputNames:function(a){var b=[];return a&&a.$("form [name]").each(function(){/^(?:input|select|textarea)$/i.test(this.nodeName)&&this.name&&"submit"!==this.type&&b.indexOf(this.name)===-1&&b.push(this.name)}),b}},k=e.validators=function(){var b=String.prototype.trim?function(a){return null===a?"":String.prototype.trim.call(a)}:function(a){var b=/^\s+/,c=/\s+$/;return null===a?"":a.toString().replace(b,"").replace(c,"")},c=function(b){return a.isNumber(b)||a.isString(b)&&b.match(g.number)},d=function(c){return!(a.isNull(c)||a.isUndefined(c)||a.isString(c)&&""===b(c)||a.isArray(c)&&a.isEmpty(c))};return{fn:function(b,c,d,e,f){return a.isString(d)&&(d=e[d]),d.call(e,b,c,f)},required:function(b,c,e,f,g){var i=a.isFunction(e)?e.call(f,b,c,g):e;return!(!i&&!d(b))&&(i&&!d(b)?this.format(h.required,this.formatLabel(c,f)):void 0)},acceptance:function(b,c,d,e){if("true"!==b&&(!a.isBoolean(b)||b===!1))return this.format(h.acceptance,this.formatLabel(c,e))},min:function(a,b,d,e){if(!c(a)||a<d)return this.format(h.min,this.formatLabel(b,e),d)},max:function(a,b,d,e){if(!c(a)||a>d)return this.format(h.max,this.formatLabel(b,e),d)},range:function(a,b,d,e){if(!c(a)||a<d[0]||a>d[1])return this.format(h.range,this.formatLabel(b,e),d[0],d[1])},length:function(b,c,d,e){if(!a.isString(b)||b.length!==d)return this.format(h.length,this.formatLabel(c,e),d)},minLength:function(b,c,d,e){if(!a.isString(b)||b.length<d)return this.format(h.minLength,this.formatLabel(c,e),d)},maxLength:function(b,c,d,e){if(!a.isString(b)||b.length>d)return this.format(h.maxLength,this.formatLabel(c,e),d)},rangeLength:function(b,c,d,e){if(!a.isString(b)||b.length<d[0]||b.length>d[1])return this.format(h.rangeLength,this.formatLabel(c,e),d[0],d[1])},oneOf:function(b,c,d,e){if(!a.include(d,b))return this.format(h.oneOf,this.formatLabel(c,e),d.join(", "))},equalTo:function(a,b,c,d,e){if(a!==e[c])return this.format(h.equalTo,this.formatLabel(b,d),this.formatLabel(c,d))},pattern:function(a,b,c,e){if(!d(a)||!a.toString().match(g[c]||c))return this.format(h[c]||h.inlinePattern,this.formatLabel(b,e),c)}}}();return a.each(k,function(b,d){k[d]=a.bind(k[d],a.extend({},c,k))}),e}(b),a.Validation}),function(a){if("object"==typeof exports&&"function"==typeof require)module.exports=a(require("underscore"),require("backbone"));else if("function"==typeof define&&define.amd)define("backbone.paginator",["underscore","backbone"],a);else if("undefined"!=typeof _&&"undefined"!=typeof Backbone){var b=Backbone.PageableCollection,c=a(_,Backbone);Backbone.PageableCollection.noConflict=function(){return Backbone.PageableCollection=b,c}}}(function(a,b){"use strict";function c(b,c){if(!a.isNumber(b)||a.isNaN(b)||!a.isFinite(b)||~~b!==b)throw new TypeError("`"+c+"` must be a finite integer");return b}function d(a){for(var b,c,d,e,f={},g=decodeURIComponent,h=a.split("&"),i=0,j=h.length;i<j;i++){var k=h[i];b=k.split("="),c=b[0],d=b[1],null==d&&(d=!0),c=g(c),d=g(d),e=f[c],o(e)?e.push(d):e?f[c]=[e,d]:f[c]=d}return f}function e(a,b,c){var d=a._events[b];if(d&&d.length){var e=d[d.length-1],f=e.callback;e.callback=function(){try{f.apply(this,arguments),c()}catch(a){throw a}finally{e.callback=f}}}else c()}var f=a.extend,g=a.omit,h=a.clone,i=a.each,j=a.pick,k=a.contains,l=a.isEmpty,m=a.pairs,n=a.invert,o=a.isArray,p=a.isFunction,q=a.isObject,r=a.keys,s=a.isUndefined,t=Math.ceil,u=Math.floor,v=Math.max,w=b.Collection.prototype,x=/[\s'"]/g,y=/[<>\s'"]/g,z=b.PageableCollection=b.Collection.extend({
    state:{firstPage:1,lastPage:null,currentPage:null,pageSize:25,totalPages:null,totalRecords:null,sortKey:null,order:-1},mode:"server",queryParams:{currentPage:"page",pageSize:"per_page",totalPages:"total_pages",totalRecords:"total_entries",sortKey:"sort_by",order:"order",directions:{"-1":"asc",1:"desc"}},constructor:function(a,b){w.constructor.apply(this,arguments),b=b||{};var c=this.mode=b.mode||this.mode||A.mode,d=f({},A.queryParams,this.queryParams,b.queryParams||{});d.directions=f({},A.queryParams.directions,this.queryParams.directions,d.directions),this.queryParams=d;var e=this.state=f({},A.state,this.state,b.state);e.currentPage=null==e.currentPage?e.firstPage:e.currentPage,o(a)||(a=a?[a]:[]),a=a.slice(),"server"==c||null!=e.totalRecords||l(a)||(e.totalRecords=a.length),this.switchMode(c,f({fetch:!1,resetState:!1,models:a},b));var g=b.comparator;if(e.sortKey&&!g&&this.setSorting(e.sortKey,e.order,b),"server"!=c){var i=this.fullCollection;g&&b.full&&(this.comparator=null,i.comparator=g),b.full&&i.sort(),l(a)||(this.reset(a,f({silent:!0},b)),this.getPage(e.currentPage),a.splice.apply(a,[0,a.length].concat(this.models)))}this._initState=h(this.state)},_makeFullCollection:function(a,c){var d,e,f,g=["url","model","sync","comparator"],h=this.constructor.prototype,i={};for(d=0,e=g.length;d<e;d++)f=g[d],s(h[f])||(i[f]=h[f]);var j=new(b.Collection.extend(i))(a,c);for(d=0,e=g.length;d<e;d++)f=g[d],this[f]!==h[f]&&(j[f]=this[f]);return j},_makeCollectionEventHandler:function(a,b){return function(c,d,g,j){var k=a._handlers;i(r(k),function(c){var d=k[c];a.off(c,d),b.off(c,d)});var l=h(a.state),m=l.firstPage,n=0===m?l.currentPage:l.currentPage-1,o=l.pageSize,p=n*o,q=p+o;if("add"==c){var u,v,w,x,j=j||{};if(g==b)v=b.indexOf(d),v>=p&&v<q&&(x=a,u=w=v-p);else{u=a.indexOf(d),v=p+u,x=b;var w=s(j.at)?v:j.at+p}if(j.onRemove||(++l.totalRecords,delete j.onRemove),a.state=a._checkState(l),x){x.add(d,f({},j,{at:w}));var y=u>=o?d:!s(j.at)&&w<q&&a.length>o?a.at(o):null;y&&e(g,c,function(){a.remove(y,{onAdd:!0})})}j.silent||a.trigger("pageable:state:change",a.state)}if("remove"==c){if(j.onAdd)delete j.onAdd;else{if(--l.totalRecords){var z=l.totalPages=t(l.totalRecords/o);l.lastPage=0===m?z-1:z||m,l.currentPage>z&&(l.currentPage=l.lastPage)}else l.totalRecords=null,l.totalPages=null;a.state=a._checkState(l);var A,B=j.index;g==a?((A=b.at(q))?e(a,c,function(){a.push(A,{onRemove:!0})}):!a.length&&l.totalRecords&&a.reset(b.models.slice(p-o,q-o),f({},j,{parse:!1})),b.remove(d)):B>=p&&B<q&&((A=b.at(q-1))&&e(a,c,function(){a.push(A,{onRemove:!0})}),a.remove(d),!a.length&&l.totalRecords&&a.reset(b.models.slice(p-o,q-o),f({},j,{parse:!1})))}j.silent||a.trigger("pageable:state:change",a.state)}if("reset"==c){if(j=g,g=d,g==a&&null==j.from&&null==j.to){var C=b.models.slice(0,p),D=b.models.slice(p+a.models.length);b.reset(C.concat(a.models).concat(D),j)}else g==b&&((l.totalRecords=b.models.length)||(l.totalRecords=null,l.totalPages=null),"client"==a.mode&&(m=l.lastPage=l.currentPage=l.firstPage,n=0===m?l.currentPage:l.currentPage-1,p=n*o,q=p+o),a.state=a._checkState(l),a.reset(b.models.slice(p,q),f({},j,{parse:!1})));j.silent||a.trigger("pageable:state:change",a.state)}"sort"==c&&(j=g,g=d,g===b&&a.reset(b.models.slice(p,q),f({},j,{parse:!1}))),i(r(k),function(c){var d=k[c];i([a,b],function(a){a.on(c,d);var b=a._events[c]||[];b.unshift(b.pop())})})}},_checkState:function(a){var b=this.mode,d=this.links,e=a.totalRecords,f=a.pageSize,g=a.currentPage,h=a.firstPage,i=a.totalPages;if(null!=e&&null!=f&&null!=g&&null!=h&&("infinite"!=b||d)){if(e=c(e,"totalRecords"),f=c(f,"pageSize"),g=c(g,"currentPage"),h=c(h,"firstPage"),f<1)throw new RangeError("`pageSize` must be >= 1");if(i=a.totalPages=t(e/f),h<0||h>1)throw new RangeError("`firstPage must be 0 or 1`");if(a.lastPage=0===h?v(0,i-1):i||h,"infinite"==b){if(!d[g+""])throw new RangeError("No link found for page "+g)}else if(g<h||i>0&&(h?g>i:g>=i))throw new RangeError("`currentPage` must be firstPage <= currentPage "+(h?"<":"<=")+" totalPages if "+h+"-based. Got "+g+".")}return a},setPageSize:function(a,b){a=c(a,"pageSize"),b=b||{first:!1};var d=this.state,e=t(d.totalRecords/a),h=e?v(d.firstPage,u(e*d.currentPage/d.totalPages)):d.firstPage;return d=this.state=this._checkState(f({},d,{pageSize:a,currentPage:b.first?d.firstPage:h,totalPages:e})),this.getPage(d.currentPage,g(b,["first"]))},switchMode:function(b,c){if(!k(["server","client","infinite"],b))throw new TypeError('`mode` must be one of "server", "client" or "infinite"');c=c||{fetch:!0,resetState:!0};var d=this.state=c.resetState?h(this._initState):this._checkState(f({},this.state));this.mode=b;var e,j=this,l=this.fullCollection,m=this._handlers=this._handlers||{};if("server"==b||l)"server"==b&&l&&(i(r(m),function(a){e=m[a],j.off(a,e),l.off(a,e)}),delete this._handlers,this._fullComparator=l.comparator,delete this.fullCollection);else{l=this._makeFullCollection(c.models||[],c),l.pageableCollection=this,this.fullCollection=l;var n=this._makeCollectionEventHandler(this,l);i(["add","remove","reset","sort"],function(b){m[b]=e=a.bind(n,{},b),j.on(b,e),l.on(b,e)}),l.comparator=this._fullComparator}if("infinite"==b)for(var o=this.links={},p=d.firstPage,q=t(d.totalRecords/d.pageSize),s=0===p?v(0,q-1):q||p,u=d.firstPage;u<=s;u++)o[u]=this.url;else this.links&&delete this.links;return c.silent||this.trigger("pageable:state:change",d),c.fetch?this.fetch(g(c,"fetch","resetState")):this},hasPreviousPage:function(){var a=this.state,b=a.currentPage;return"infinite"!=this.mode?b>a.firstPage:!!this.links[b-1]},hasNextPage:function(){var a=this.state,b=this.state.currentPage;return"infinite"!=this.mode?b<a.lastPage:!!this.links[b+1]},getFirstPage:function(a){return this.getPage("first",a)},getPreviousPage:function(a){return this.getPage("prev",a)},getNextPage:function(a){return this.getPage("next",a)},getLastPage:function(a){return this.getPage("last",a)},getPage:function(a,b){var d=this.mode,e=this.fullCollection;b=b||{fetch:!1};var h=this.state,i=h.firstPage,j=h.currentPage,k=h.lastPage,m=h.pageSize,n=a;switch(a){case"first":n=i;break;case"prev":n=j-1;break;case"next":n=j+1;break;case"last":n=k;break;default:n=c(a,"index")}this.state=this._checkState(f({},h,{currentPage:n})),b.silent||this.trigger("pageable:state:change",this.state),b.from=j,b.to=n;var o=(0===i?n:n-1)*m,p=e&&e.length?e.models.slice(o,o+m):[];return"client"!=d&&("infinite"!=d||l(p))||b.fetch?("infinite"==d&&(b.url=this.links[n]),this.fetch(g(b,"fetch"))):(this.reset(p,g(b,"fetch")),this)},getPageByOffset:function(a,b){if(a<0)throw new RangeError("`offset must be > 0`");a=c(a);var d=u(a/this.state.pageSize);return 0!==this.state.firstPage&&d++,d>this.state.lastPage&&(d=this.state.lastPage),this.getPage(d,b)},sync:function(a,c,d){var e=this;if("infinite"==e.mode){var g=d.success,h=e.state.currentPage;d.success=function(a,b,c){var i=e.links,j=e.parseLinks(a,f({xhr:c},d));j.first&&(i[e.state.firstPage]=j.first),j.prev&&(i[h-1]=j.prev),j.next&&(i[h+1]=j.next),g&&g(a,b,c)}}return(w.sync||b.sync).call(e,a,c,d)},parseLinks:function(a,b){var c={},d=b.xhr.getResponseHeader("Link");if(d){var e=["first","prev","next"];i(d.split(","),function(a){var b=a.split(";"),d=b[0].replace(y,""),f=b.slice(1);i(f,function(a){var b=a.split("="),f=b[0].replace(x,""),g=b[1].replace(x,"");"rel"==f&&k(e,g)&&(c[g]=d)})})}return c},parse:function(a,b){var c=this.parseState(a,h(this.queryParams),h(this.state),b);return c&&(this.state=this._checkState(f({},this.state,c))),this.parseRecords(a,b)},parseState:function(b,c,d,e){if(b&&2===b.length&&q(b[0])&&o(b[1])){var f=h(d),j=b[0];return i(m(g(c,"directions")),function(b){var c=b[0],d=b[1],e=j[d];s(e)||a.isNull(e)||(f[c]=j[d])}),j.order&&(f.order=1*n(c.directions)[j.order]),f}},parseRecords:function(a,b){return a&&2===a.length&&q(a[0])&&o(a[1])?a[1]:a},fetch:function(b){b=b||{};var c=this._checkState(this.state),e=this.mode;"infinite"!=e||b.url||(b.url=this.links[c.currentPage]);var h=b.data||{},i=b.url||this.url||"";p(i)&&(i=i.call(this));var k=i.indexOf("?");k!=-1&&(f(h,d(i.slice(k+1))),i=i.slice(0,k)),b.url=i,b.data=h;var l="client"==this.mode?j(this.queryParams,"sortKey","order"):g(j(this.queryParams,r(A.queryParams)),"directions"),n=a.clone(this);a.each(l,function(b,d){b=p(b)?b.call(n):b,null!=c[d]&&null!=b&&a.isUndefined(h[b])&&(h[b]=c[d])},this);var q;if(c.sortKey&&c.order){var t=p(l.order)?l.order.call(n):l.order;if(o(c.order))for(h[t]=[],q=0;q<c.order.length;q+=1)h[t].push(this.queryParams.directions[c.order[q]]);else h[t]=this.queryParams.directions[c.order+""]}else c.sortKey||delete h[l.order];var u,v,x=m(g(this.queryParams,r(A.queryParams)));for(q=0;q<x.length;q++)u=x[q],v=u[1],v=p(v)?v.call(n):v,null!=v&&(h[u[0]]=v);if("server"!=e){var y=this,z=this.fullCollection,B=b.success;return b.success=function(a,c,d){d=d||{},s(b.silent)?delete d.silent:d.silent=b.silent;var g=a.models;"client"==e?z.reset(g,d):(z.add(g,f({at:z.length},f(d,{parse:!1}))),y.trigger("reset",y,d)),B&&B(a,c,d)},w.fetch.call(this,f({},b,{silent:!0}))}return w.fetch.call(this,b)},_makeComparator:function(a,b,c){var d=this.state;if(a=a||d.sortKey,b=b||d.order,a&&b)return c||(c=function(a,b){return a.get(b)}),function(d,e){var f,g=c(d,a),h=c(e,a);return 1===b&&(f=g,g=h,h=f),g===h?0:g<h?-1:1}},setSorting:function(a,b,c){var d=this.state;d.sortKey=a,d.order=b=b||d.order;var e=this.fullCollection,g=!1,h=!1;a||(g=h=!0);var i=this.mode;c=f({side:"client"==i?i:"server",full:!0},c);var j=this._makeComparator(a,b,c.sortValue),k=c.full,l=c.side;return"client"==l?k?(e&&(e.comparator=j),g=!0):(this.comparator=j,h=!0):"server"!=l||k||(this.comparator=j),g&&(this.comparator=null),h&&e&&(e.comparator=null),this}}),A=z.prototype;return z}),function(a,b){if("object"==typeof exports){var c=require("underscore"),d=require("backbone"),e=require("backbone.marionette"),f=require("backbone.cocktail"),g=require("backbone-validation"),h=require("backbone.paginator");module.exports=b(c,d,e,f,g,h)}else"function"==typeof define&&define.amd&&define("ironclad",["underscore","backbone","backbone.marionette","backbone.cocktail","backbone-validation","backbone.paginator"],b)}(this,function(a,b,c,d,e,f){(function(a,b,c,d,e,f,g){"use strict";var h=c.IronClad={};h.$=c.$,h.version="1.2.1";var i=(h.getInjectable=function(a,b){return d.getOption(this,a)||this[a]||b||h.MessageBus.request("injected:"+this.injectionName+":"+a)},/(\w+)(?=:)/i),j=function(a){var b=",";return 1*a||(a.indexOf(b)===-1?a:a.split(b))||a+""},k=function(a,b){if(i.test(a)){var c=new RegExp(i.source,"i").exec(a)[0];a=a.substring(0,a.indexOf(c)-1)}return a},l=(h.explodeRoute=function(a){for(var c,d,e,f={},g=i.exec(a);g;)c=a.indexOf(g[0])+g[0].length+1,a=a.substring(c),d=g[0],e=j(k(a,g)),f[d]=f[d]?b.flatten([f[d],e]):e,g=i.exec(a);return f},h.implodeRoute=function(a){var c,d=[];for(var e in a)a.hasOwnProperty(e)&&(c=a[e],d.push(e),d.push(":"),b.isArray(c)&&(c=c.join(",")),d.push(c),d.push("/"));return d.join("").slice(0,-1)},h.throwError=function(a,b){var c=new Error(a);throw c.name=b||"Error",c}),m=(h.requireOptions=function(a){var c=b.rest(arguments);b.each(c,function(b){a.options.hasOwnProperty(b)||l(b+" is required","NOARG")})},function(a){a=a||"global",a=this.channel=c.Wreqr.radio.channel(a),this.vent=a.vent,this.commands=a.commands,this.reqres=a.reqres});b.extend(m.prototype,{request:function(a,b){return this.reqres.request(a,b)},exec:function(a,b){return this.commands.execute(a,b)},trigger:function(a,b){return this.vent.trigger(a,b)},getChannel:function(a){return c.Wreqr.radio.channel(a)}});var n=(h.MessageBus=new m,h.Mixin=function(a){return{mixWith:function(b){return e.mixin(b,a)}}},function(a,d){var f=c.Model.extend.call(this,a,d);f.mixins=(d||{}).mixins||[];var g=[],h=this.mixins;h&&this.hasOwnProperty("mixins")&&(g=g.concat(h));var i=f.prototype.mixins;return i&&f.prototype.hasOwnProperty("mixins")&&(g=g.concat(i)),g.length>0&&e.mixin(f,b.uniq(g)),f});h.Model=c.Model.extend({fetch:function(){var a=c.Model.prototype.fetch.apply(this,arguments);return a.always(b.bind(function(){this.trigger("fetched",this)},this)),a},save:function(){var a=c.Model.prototype.save.apply(this,arguments);return a&&a.done(b.bind(function(){this.trigger("success",this)},this)),a}}),h.Collection=c.Collection.extend({fetch:function(){var a=c.Collection.prototype.fetch.apply(this,arguments);return a.always(b.bind(function(){this.trigger("fetched",this)},this)),a}});h.Model.extend=h.Collection.extend=n,b.extend(h.Model.prototype,f.mixin),h.templateHelpers={};var o=(h.defaultErrorHandler=function(a,b){var c=this.$el.find(".js-server-error-container");c=c.length?c:this.$el,this.$el.addClass("view-has-error");var d="Server Error";"undefined"!=typeof b.responseJSON&&(d=b.responseJSON.errorMessage),c.prepend('<div class="view-server-error alert alert-danger">'+d+"</div>")},h.defaultSuccessHandler=function(a){var b=this.$el.find(".js-server-success-container");b=b.length?b:this.$el;var c=this.successMessage?this.successMessage:"Success";b.prepend('<div class="js-alert-success text-center alert alert-success">'+c+"</div>")},function(){var a=function(){this.$el.removeClass("view-has-error"),this.$el.find(".view-server-error").remove()},c=function(){this.$el.find(".js-alert-success").remove()},d=function(){this.$el.spin(!1)},e=function(){this.$el.spin("large","#777")};this.hasErrorHandler&&(this.errorHandler=this.errorHandler||h.defaultErrorHandler),this.hasSuccessHandler&&(this.successHandler=this.successHandler||h.defaultSuccessHandler),(this.hasErrorHandler||this.hasLoading||this.hasSuccessHandler)&&b.each(["model","collection"],function(b){var f=this[b];f&&(this.hasErrorHandler&&(this.listenTo(f,"error",this.errorHandler,this),this.listenTo(f,"request loading",a,this)),this.hasSuccessHandler&&(this.listenTo(f,"success",this.successHandler,this),this.listenTo(f,"request loading",c,this)),this.hasLoading&&(this.listenTo(f,"request loading",e,this),this.listenTo(f,"sync loaded error success",d,this),f.state&&null===f.state.totalRecords&&e.apply(this)))},this)}),p=function(){var a=b.result(this,"templateHelpers");this.templateHelpers=b.extend({},a,h.templateHelpers);var c=b.result(this,"modelHelpers");if(c){var d={},e=this.model;b.each(c,function(a){d[a]=b.bind(e[a],e)}),b.extend(this.templateHelpers,d)}},q=function(){h.MessageBus.vent.trigger("ironclad:view:render",this)},r=h.ItemView=n.call(d.ItemView,{constructor:function(){d.ItemView.prototype.constructor.apply(this,arguments),p.apply(this),this.listenTo(this,"render",function(){q.call(this)}),o.apply(this)}},{mixins:[]}),s=h.Layout=n.call(d.LayoutView,{constructor:function(){d.LayoutView.prototype.constructor.apply(this,arguments),p.apply(this),this.listenTo(this,"render",function(){q.call(this)}),o.apply(this)}},{mixins:[]}),t=h.CollectionView=n.call(d.CollectionView,{constructor:function(){d.CollectionView.prototype.constructor.apply(this,arguments),p.apply(this),this.listenTo(this,"render",function(){q.call(this)}),o.apply(this)}},{mixins:[]}),u=h.CompositeView=n.call(d.CompositeView,{constructor:function(){d.CompositeView.prototype.constructor.apply(this,arguments),p.apply(this),this.listenTo(this,"render",function(){q.call(this)}),o.apply(this)}},{mixins:[]});r.extend=s.extend=t.extend=u.extend=n;var v=(h.AppRouter=d.AppRouter.extend({unbindRoutes:function(){this.routes&&this._removeRoutes(this.routes),this.appRoutes&&this._removeRoutes(this.appRoutes)},_removeRoutes:function(a){var d=this;b.each(b.keys(a),function(a){b.isRegExp(a)||(a=d._routeToRegExp(a)),c.history.handlers=b.reject(c.history.handlers,function(b){return b.route.toString()===a.toString()})})}}),h.WeightedStore=function(){var a={},c=d.Object.extend({addItem:function(c,d,e,f){a.hasOwnProperty(c)||(a[c]=[]);var g=!1;f&&(g=b.find(a[c],function(a){return a.id===f})),g?b.extend(g,{data:d,weight:e}):a[c].push({id:f,data:d,weight:e}),this.trigger("change:"+c)},getItems:function(c){return a[c]?b.sortBy(a[c],"weight"):[]},getItemsData:function(a){return b.pluck(this.getItems(a),"data")}});return new c}(),h.ViewContainer=h.Layout.extend({initialize:function(a){h.requireOptions(this,"containerId"),this.store=this.getInjectable("weightedStore",h.WeightedStore),this.listenTo(this.store,"change:"+this.options.containerId,this.render),this.listenTo(this,"render",this.renderViews)},renderViews:function(){var a=this.options.containerSelector?this.$(this.options.containerSelector):this.$el,c=this.store.getItems(this.options.containerId),d=this.model;b.each(c,function(b){var c=b.data;d&&(c.options.containerModel=d,c.triggerMethod("container:model",d)),c.checkRender&&!c.checkRender(d)||(c.render(),c.delegateEvents(),c.$el.attr("data-weight",b.weight),c.$el.appendTo(a),c.triggerMethod("show"))}),this.$el.attr("data-container-id",this.options.containerId)},injectionName:"viewcontainer",getInjectable:h.getInjectable}),h.MessageView=h.ItemView.extend({render:function(){this.isClosed=!1,this.validateMessage(),this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var a=b.isFunction(this.message)?this.message():this.message;return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},validateMessage:function(){"undefined"==typeof this.message&&h.throwError("message is required","NOARG")}}),h.PageableCollection=c.PageableCollection.extend({_state:{firstLoad:!0,currentPage:1,pageSize:100,order:"-1",resetPageOnSort:!0},_queryParams:{pageSize:"limit",sortKey:"sortField",order:"ascending",directions:{"-1":"true",1:"false"},offset:function(){return(this.state.currentPage-1)*this.state.pageSize},totalPages:null,currentPage:null,totalRecords:null},initialize:function(a){b.extend(this,a),this._setDefaults()},parseState:function(a){var c={totalRecords:a.totalCount},d=this.checkPaginationLimits(a.totalCount);return d?this.state.outOfBounds=!1:b.extend(c,{currentPage:1,outOfBounds:!0}),c},checkPaginationLimits:function(a){return(this.state.currentPage-1)*this.state.pageSize<a},parseRecords:function(a){return a.items},_setDefaults:function(){this.state===c.PageableCollection.prototype.state&&(this.state={}),this.queryParams===c.PageableCollection.prototype.queryParams&&(this.queryParams={}),this.state=b.extend({},this._state,this.state),this.queryParams=b.extend({},this._queryParams,this.queryParams)}}),function(a,c){if(a){var d=!1;return b.each(a,function(a){b.contains(c,a)&&(d=!0)}),d}return!0}),w=h.FeatureList=c.Collection.extend({initialize:function(a){this._cacheId="cache"+ ++w._id,w._cache[this._cacheId]=a},filterForSession:function(a,c){this.reset(w._cache[this._cacheId],{silent:!0});var d=b.compact(this.collect(function(d){var e=d.get("license");if(("*"===e||b.contains(c,e))&&v(d.get("roles"),a))return d}));return this.set(d),this}},{_id:0,_cache:{}});h.ModuleLoader=d.Object.extend({resolver:require,initialize:function(a){b.bindAll(this,"afterLoad","loadModules"),this.options.resolver=this.getInjectable("resolver"),this.options.config=this.getInjectable("config")},loadModules:function(a,b){var c=this.options.config,d=c.filterForSession(a,b).pluck("path");d.length>0?this.options.resolver(d,this.afterLoad):this.afterLoad()},afterLoad:function(){this.triggerMethod("modules:loaded",arguments)},injectionName:"moduleloader",getInjectable:h.getInjectable}),h.Application=d.Application.extend({defaultStartOptions:{history:!0},initialize:function(a){this.options=a||{},this.rootRegion=new d.Region({el:"body"}),b.bindAll(this,"startHistory","startJst")},start:function(a){return a=b.extend({},this.defaultStartOptions,a),this.startJst(a),this.startHistory(a),d.Application.prototype.start.apply(this,[a])},startHistory:function(a){!c.History.started&&a.history&&c.history.start()},startJst:function(a){if(a.jst){var c=b.result(a,"jst"),e={};b.each(b.keys(c),function(a){e[a]={load:function(){return c[a]}}}),b.extend(d.TemplateCache.templateCaches,e)}},injectionName:"app",getInjectable:h.getInjectable});return h})(this,a,b,c,d,e);return b.IronClad}),function(a,b){if("function"==typeof define&&define.amd)define("backgrid",["underscore","backbone"],function(c,d){return a.Backgrid=b(c,d)});else if("object"==typeof exports){var c=require("backbone");c.$=c.$||require("jquery"),module.exports=b(require("underscore"),c)}else a.Backgrid=b(a._,a.Backbone)}(this,function(a,b){"use strict";function c(a,b,c){var d=b-(a+"").length;d=d<0?0:d;for(var e="",f=0;f<d;f++)e+=c;return e+a}var d="\t\n\v\f\r \u2028\u2029\ufeff";if(!String.prototype.trim||d.trim()){d="["+d+"]";var e=new RegExp("^"+d+d+"*"),f=new RegExp(d+d+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(e,"").replace(f,"")}}var g=b.$,h={Extension:{},resolveNameToClass:function(b,c){if(a.isString(b)){var d=a.map(b.split("-"),function(a){return a.slice(0,1).toUpperCase()+a.slice(1)}).join("")+c,e=h[d]||h.Extension[d];if(a.isUndefined(e))throw new ReferenceError("Class '"+d+"' not found");return e}return b},callByNeed:function(){var b=arguments[0];if(!a.isFunction(b))return b;var c=arguments[1],d=[].slice.call(arguments,2);return b.apply(c,d+""?d:[])}};a.extend(h,b.Events);var i=h.Command=function(b){a.extend(this,{altKey:!!b.altKey,char:b.char,charCode:b.charCode,ctrlKey:!!b.ctrlKey,key:b.key,keyCode:b.keyCode,locale:b.locale,location:b.location,metaKey:!!b.metaKey,repeat:!!b.repeat,shiftKey:!!b.shiftKey,which:b.which})};a.extend(i.prototype,{moveUp:function(){return 38==this.keyCode},moveDown:function(){return 40===this.keyCode},moveLeft:function(){return this.shiftKey&&9===this.keyCode},moveRight:function(){return!this.shiftKey&&9===this.keyCode},save:function(){return 13===this.keyCode},cancel:function(){return 27===this.keyCode},passThru:function(){return!(this.moveUp()||this.moveDown()||this.moveLeft()||this.moveRight()||this.save()||this.cancel())}});var j=h.CellFormatter=function(){};a.extend(j.prototype,{fromRaw:function(a,b){return a},toRaw:function(a,b){return a}});var k=h.NumberFormatter=function(b){if(a.extend(this,this.defaults,b||{}),this.decimals<0||this.decimals>20)throw new RangeError("decimals must be between 0 and 20")};k.prototype=new j,a.extend(k.prototype,{defaults:{decimals:2,decimalSeparator:".",orderSeparator:","},HUMANIZED_NUM_RE:/(\d)(?=(?:\d{3})+$)/g,fromRaw:function(b,c){if(a.isNull(b)||a.isUndefined(b))return"";b=b.toFixed(~~this.decimals);var d=b.split("."),e=d[0],f=d[1]?(this.decimalSeparator||".")+d[1]:"";return e.replace(this.HUMANIZED_NUM_RE,"$1"+this.orderSeparator)+f},toRaw:function(b,c){if(b=b.trim(),""===b)return null;for(var d="",e=b.split(this.orderSeparator),f=0;f<e.length;f++)d+=e[f];var g=d.split(this.decimalSeparator);d="";for(var f=0;f<g.length;f++)d=d+g[f]+".";"."===d[d.length-1]&&(d=d.slice(0,d.length-1));var h=1*(1*d).toFixed(~~this.decimals);return a.isNumber(h)&&!a.isNaN(h)?h:void 0}});var l=h.PercentFormatter=function(){h.NumberFormatter.apply(this,arguments)};l.prototype=new h.NumberFormatter,a.extend(l.prototype,{defaults:a.extend({},k.prototype.defaults,{multiplier:1,symbol:"%"}),fromRaw:function(a,b){var c=[].slice.call(arguments,1);return c.unshift(a*this.multiplier),(k.prototype.fromRaw.apply(this,c)||"0")+this.symbol},toRaw:function(b,c){var d=b.split(this.symbol);if(d&&d[0]&&""===d[1]||null==d[1]){var e=k.prototype.toRaw.call(this,d[0]);return a.isUndefined(e)?e:e/this.multiplier}}});var m=h.DatetimeFormatter=function(b){if(a.extend(this,this.defaults,b||{}),!this.includeDate&&!this.includeTime)throw new Error("Either includeDate or includeTime must be true")};m.prototype=new j,a.extend(m.prototype,{defaults:{includeDate:!0,includeTime:!0,includeMilli:!1},DATE_RE:/^([+\-]?\d{4})-(\d{2})-(\d{2})$/,TIME_RE:/^(\d{2}):(\d{2}):(\d{2})(\.(\d{3}))?$/,ISO_SPLITTER_RE:/T|Z| +/,_convert:function(b,d){if(""===(b+"").trim())return null;var e,f=null;if(a.isNumber(b)){var g=new Date(b);e=c(g.getUTCFullYear(),4,0)+"-"+c(g.getUTCMonth()+1,2,0)+"-"+c(g.getUTCDate(),2,0),f=c(g.getUTCHours(),2,0)+":"+c(g.getUTCMinutes(),2,0)+":"+c(g.getUTCSeconds(),2,0)}else{b=b.trim();var h=b.split(this.ISO_SPLITTER_RE)||[];e=this.DATE_RE.test(h[0])?h[0]:"",f=e&&h[1]?h[1]:this.TIME_RE.test(h[0])?h[0]:""}var i=this.DATE_RE.exec(e)||[],j=this.TIME_RE.exec(f)||[];if(d){if(this.includeDate&&a.isUndefined(i[0]))return;if(this.includeTime&&a.isUndefined(j[0]))return;if(!this.includeDate&&e)return;if(!this.includeTime&&f)return}var g=new Date(Date.UTC(1*i[1]||0,1*i[2]-1||0,1*i[3]||0,1*j[1]||null,1*j[2]||null,1*j[3]||null,1*j[5]||null)),k="";return this.includeDate&&(k=c(g.getUTCFullYear(),4,0)+"-"+c(g.getUTCMonth()+1,2,0)+"-"+c(g.getUTCDate(),2,0)),this.includeTime&&(k=k+(this.includeDate?"T":"")+c(g.getUTCHours(),2,0)+":"+c(g.getUTCMinutes(),2,0)+":"+c(g.getUTCSeconds(),2,0),this.includeMilli&&(k=k+"."+c(g.getUTCMilliseconds(),3,0))),this.includeDate&&this.includeTime&&(k+="Z"),k},fromRaw:function(b,c){return a.isNull(b)||a.isUndefined(b)?"":this._convert(b)},toRaw:function(a,b){return this._convert(a,!0)}});var n=h.StringFormatter=function(){};n.prototype=new j,a.extend(n.prototype,{fromRaw:function(b,c){return a.isUndefined(b)||a.isNull(b)?"":b+""}});var o=h.EmailFormatter=function(){};o.prototype=new j,a.extend(o.prototype,{toRaw:function(b,c){var d=b.trim().split("@");if(2===d.length&&a.all(d))return b}});var p=h.SelectFormatter=function(){};p.prototype=new j,a.extend(p.prototype,{fromRaw:function(b,c){return a.isArray(b)?b:null!=b?[b]:[]}});var q=h.CellEditor=b.View.extend({initialize:function(a){this.formatter=a.formatter,this.column=a.column,this.column instanceof B||(this.column=new B(this.column)),this.listenTo(this.model,"backgrid:editing",this.postRender)},postRender:function(a,b){return null!=b&&b.get("name")!=this.column.get("name")||this.$el.focus(),this}}),r=h.InputCellEditor=q.extend({tagName:"input",attributes:{type:"text"},events:{blur:"saveOrCancel",keydown:"saveOrCancel"},initialize:function(a){r.__super__.initialize.apply(this,arguments),a.placeholder&&this.$el.attr("placeholder",a.placeholder)},render:function(){var a=this.model;return this.$el.val(this.formatter.fromRaw(a.get(this.column.get("name")),a)),this},saveOrCancel:function(b){var c=this.formatter,d=this.model,e=this.column,f=new i(b),g="blur"===b.type;if(f.moveUp()||f.moveDown()||f.moveLeft()||f.moveRight()||f.save()||g){b.preventDefault(),b.stopPropagation();var h=this.$el.val(),j=c.toRaw(h,d);a.isUndefined(j)?d.trigger("backgrid:error",d,e,h):(d.set(e.get("name"),j),d.trigger("backgrid:edited",d,e,f))}else f.cancel()&&(b.stopPropagation(),d.trigger("backgrid:edited",d,e,f))},postRender:function(a,b){if(null==b||b.get("name")==this.column.get("name"))if("right"===this.$el.css("text-align")){var c=this.$el.val();this.$el.focus().val(null).val(c)}else this.$el.focus();return this}}),s=h.Cell=b.View.extend({tagName:"td",formatter:j,editor:r,events:{click:"enterEditMode"},initialize:function(b){this.column=b.column,this.column instanceof B||(this.column=new B(this.column));var c=this.column,d=this.model,e=this.$el,f=h.resolveNameToClass(c.get("formatter")||this.formatter,"Formatter");a.isFunction(f.fromRaw)||a.isFunction(f.toRaw)||(f=new f),this.formatter=f,this.editor=h.resolveNameToClass(this.editor,"CellEditor"),this.listenTo(d,"change:"+c.get("name"),function(){e.hasClass("editor")||this.render()}),this.listenTo(d,"backgrid:error",this.renderError),this.listenTo(c,"change:editable change:sortable change:renderable",function(a){var b=a.changedAttributes();for(var c in b)b.hasOwnProperty(c)&&e.toggleClass(c,b[c])}),h.callByNeed(c.editable(),c,d)&&e.addClass("editable"),h.callByNeed(c.sortable(),c,d)&&e.addClass("sortable"),h.callByNeed(c.renderable(),c,d)&&e.addClass("renderable")},render:function(){this.$el.empty();var a=this.model;return this.$el.text(this.formatter.fromRaw(a.get(this.column.get("name")),a)),this.delegateEvents(),this},enterEditMode:function(){var a=this.model,b=this.column,c=h.callByNeed(b.editable(),b,a);c&&(this.currentEditor=new this.editor({column:this.column,model:this.model,formatter:this.formatter}),a.trigger("backgrid:edit",a,b,this,this.currentEditor),this.undelegateEvents(),this.$el.empty(),this.$el.append(this.currentEditor.$el),this.currentEditor.render(),this.$el.addClass("editor"),a.trigger("backgrid:editing",a,b,this,this.currentEditor))},renderError:function(a,b){null!=b&&b.get("name")!=this.column.get("name")||this.$el.addClass("error")},exitEditMode:function(){this.$el.removeClass("error"),this.currentEditor.remove(),this.stopListening(this.currentEditor),delete this.currentEditor,this.$el.removeClass("editor"),this.render()},remove:function(){return this.currentEditor&&(this.currentEditor.remove.apply(this.currentEditor,arguments),delete this.currentEditor),s.__super__.remove.apply(this,arguments)}}),t=h.StringCell=s.extend({className:"string-cell",formatter:n}),u=h.UriCell=s.extend({className:"uri-cell",title:null,target:"_blank",initialize:function(a){u.__super__.initialize.apply(this,arguments),this.title=a.title||this.title,this.target=a.target||this.target},render:function(){this.$el.empty();var a=this.model.get(this.column.get("name")),b=this.formatter.fromRaw(a,this.model);return this.$el.append(g("<a>",{tabIndex:-1,href:a,title:this.title||b,target:this.target}).text(b)),this.delegateEvents(),this}}),v=(h.EmailCell=t.extend({className:"email-cell",formatter:o,render:function(){this.$el.empty();var a=this.model,b=this.formatter.fromRaw(a.get(this.column.get("name")),a);return this.$el.append(g("<a>",{tabIndex:-1,href:"mailto:"+b,title:b}).text(b)),this.delegateEvents(),this}}),h.NumberCell=s.extend({className:"number-cell",decimals:k.prototype.defaults.decimals,decimalSeparator:k.prototype.defaults.decimalSeparator,orderSeparator:k.prototype.defaults.orderSeparator,formatter:k,initialize:function(a){v.__super__.initialize.apply(this,arguments);var b=this.formatter;b.decimals=this.decimals,b.decimalSeparator=this.decimalSeparator,b.orderSeparator=this.orderSeparator}})),w=(h.IntegerCell=v.extend({className:"integer-cell",decimals:0}),h.PercentCell=v.extend({className:"percent-cell",multiplier:l.prototype.defaults.multiplier,symbol:l.prototype.defaults.symbol,formatter:l,initialize:function(){w.__super__.initialize.apply(this,arguments);var a=this.formatter;a.multiplier=this.multiplier,a.symbol=this.symbol}})),x=h.DatetimeCell=s.extend({className:"datetime-cell",includeDate:m.prototype.defaults.includeDate,includeTime:m.prototype.defaults.includeTime,includeMilli:m.prototype.defaults.includeMilli,formatter:m,initialize:function(b){x.__super__.initialize.apply(this,arguments);var c=this.formatter;c.includeDate=this.includeDate,c.includeTime=this.includeTime,c.includeMilli=this.includeMilli;var d=this.includeDate?"YYYY-MM-DD":"";d+=this.includeDate&&this.includeTime?"T":"",d+=this.includeTime?"HH:mm:ss":"",d+=this.includeTime&&this.includeMilli?".SSS":"",this.editor=this.editor.extend({attributes:a.extend({},this.editor.prototype.attributes,this.editor.attributes,{placeholder:d})})}}),y=(h.DateCell=x.extend({className:"date-cell",includeTime:!1}),h.TimeCell=x.extend({className:"time-cell",includeDate:!1}),h.BooleanCellEditor=q.extend({tagName:"input",attributes:{tabIndex:-1,type:"checkbox"},events:{mousedown:function(){this.mouseDown=!0},blur:"enterOrExitEditMode",mouseup:function(){this.mouseDown=!1},change:"saveOrCancel",keydown:"saveOrCancel"},render:function(){var a=this.model,b=this.formatter.fromRaw(a.get(this.column.get("name")),a);return this.$el.prop("checked",b),this},enterOrExitEditMode:function(a){if(!this.mouseDown){var b=this.model;b.trigger("backgrid:edited",b,this.column,new i(a))}},saveOrCancel:function(a){var b=this.model,c=this.column,d=this.formatter,e=new i(a);if(e.passThru()&&"change"!=a.type)return!0;e.cancel()&&(a.stopPropagation(),b.trigger("backgrid:edited",b,c,e));var f=this.$el;if(e.save()||e.moveLeft()||e.moveRight()||e.moveUp()||e.moveDown()){a.preventDefault(),a.stopPropagation();
    var g=d.toRaw(f.prop("checked"),b);b.set(c.get("name"),g),b.trigger("backgrid:edited",b,c,e)}else if("change"==a.type){var g=d.toRaw(f.prop("checked"),b);b.set(c.get("name"),g),f.focus()}}})),z=(h.BooleanCell=s.extend({className:"boolean-cell",editor:y,events:{click:"enterEditMode"},render:function(){this.$el.empty();var a=this.model,b=this.column,c=h.callByNeed(b.editable(),b,a);return this.$el.append(g("<input>",{tabIndex:-1,type:"checkbox",checked:this.formatter.fromRaw(a.get(b.get("name")),a),disabled:!c})),this.delegateEvents(),this}}),h.SelectCellEditor=q.extend({tagName:"select",events:{change:"save",blur:"close",keydown:"close"},template:a.template('<option value="<%- value %>" <%= selected ? \'selected="selected"\' : "" %>><%- text %></option>',null,{variable:null}),setOptionValues:function(b){this.optionValues=b,this.optionValues=a.result(this,"optionValues")},setMultiple:function(a){this.multiple=a,this.$el.prop("multiple",a)},_renderOptions:function(b,c){for(var d="",e=0;e<b.length;e++)d+=this.template({text:b[e][0],value:b[e][1],selected:a.indexOf(c,b[e][1])>-1});return d},render:function(){this.$el.empty();var b=a.result(this,"optionValues"),c=this.model,d=this.formatter.fromRaw(c.get(this.column.get("name")),c);if(!a.isArray(b))throw new TypeError("optionValues must be an array");for(var e=null,f=null,e=null,h=null,i=null,j=0;j<b.length;j++){var e=b[j];if(a.isArray(e))f=e[0],e=e[1],this.$el.append(this.template({text:f,value:e,selected:a.indexOf(d,e)>-1}));else{if(!a.isObject(e))throw new TypeError("optionValues elements must be a name-value pair or an object hash of { name: 'optgroup label', value: [option name-value pairs] }");h=e.name,i=g("<optgroup></optgroup>",{label:h}),i.append(this._renderOptions.call(this,e.values,d)),this.$el.append(i)}}return this.delegateEvents(),this},save:function(a){var b=this.model,c=this.column;b.set(c.get("name"),this.formatter.toRaw(this.$el.val(),b))},close:function(a){var b=this.model,c=this.column,d=new i(a);d.cancel()?(a.stopPropagation(),b.trigger("backgrid:edited",b,c,new i(a))):(d.save()||d.moveLeft()||d.moveRight()||d.moveUp()||d.moveDown()||"blur"==a.type)&&(a.preventDefault(),a.stopPropagation(),this.save(a),b.trigger("backgrid:edited",b,c,new i(a)))}})),A=h.SelectCell=s.extend({className:"select-cell",editor:z,multiple:!1,formatter:p,optionValues:void 0,delimiter:", ",initialize:function(a){A.__super__.initialize.apply(this,arguments),this.listenTo(this.model,"backgrid:edit",function(a,b,c,d){b.get("name")==this.column.get("name")&&(d.setOptionValues(this.optionValues),d.setMultiple(this.multiple))})},render:function(){this.$el.empty();var b=a.result(this,"optionValues"),c=this.model,d=this.formatter.fromRaw(c.get(this.column.get("name")),c),e=[];try{if(!a.isArray(b)||a.isEmpty(b))throw new TypeError;for(var f=0;f<d.length;f++)for(var g=d[f],h=0;h<b.length;h++){var i=b[h];if(a.isArray(i)){var j=i[0],i=i[1];i==g&&e.push(j)}else{if(!a.isObject(i))throw new TypeError;for(var k=i.values,l=0;l<k.length;l++){var m=k[l];m[1]==g&&e.push(m[0])}}}this.$el.append(e.join(this.delimiter))}catch(a){if(a instanceof TypeError)throw new TypeError("'optionValues' must be of type {Array.<Array>|Array.<{name: string, values: Array.<Array>}>}");throw a}return this.delegateEvents(),this}}),B=h.Column=b.Model.extend({defaults:{name:void 0,label:void 0,sortable:!0,editable:!0,renderable:!0,formatter:void 0,sortType:"cycle",sortValue:void 0,direction:null,cell:void 0,headerCell:void 0},initialize:function(){this.has("label")||this.set({label:this.get("name")},{silent:!0});var a=h.resolveNameToClass(this.get("headerCell"),"HeaderCell"),b=h.resolveNameToClass(this.get("cell"),"Cell");this.set({cell:b,headerCell:a},{silent:!0})},sortValue:function(){var b=this.get("sortValue");return a.isString(b)?this[b]:a.isFunction(b)?b:function(a,b){return a.get(b)}}});a.each(["sortable","renderable","editable"],function(b){B.prototype[b]=function(){var c=this.get(b);return a.isString(c)?this[c]:a.isFunction(c)?c:!!c}});var C=h.Columns=b.Collection.extend({model:B}),D=h.Row=b.View.extend({tagName:"tr",initialize:function(a){var c=this.columns=a.columns;c instanceof b.Collection||(c=this.columns=new C(c));for(var d=this.cells=[],e=0;e<c.length;e++)d.push(this.makeCell(c.at(e),a));this.listenTo(c,"add",function(b,c){var e=c.indexOf(b),f=this.makeCell(b,a);d.splice(e,0,f);var g=this.$el;0===e?g.prepend(f.render().$el):e===c.length-1?g.append(f.render().$el):g.children().eq(e).before(f.render().$el)}),this.listenTo(c,"remove",function(a,b,c){d[c.index].remove(),d.splice(c.index,1)})},makeCell:function(a){return new(a.get("cell"))({column:a,model:this.model})},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.cells.length;b++)a.appendChild(this.cells[b].render().el);return this.el.appendChild(a),this.delegateEvents(),this},remove:function(){for(var a=0;a<this.cells.length;a++){var c=this.cells[a];c.remove.apply(c,arguments)}return b.View.prototype.remove.apply(this,arguments)}}),E=h.EmptyRow=b.View.extend({tagName:"tr",emptyText:null,initialize:function(a){this.emptyText=a.emptyText,this.columns=a.columns},render:function(){this.$el.empty();var b=document.createElement("td");return b.setAttribute("colspan",this.columns.length),b.appendChild(document.createTextNode(a.result(this,"emptyText"))),this.el.className="empty",this.el.appendChild(b),this}}),F=h.HeaderCell=b.View.extend({tagName:"th",events:{"click a":"onClick"},initialize:function(a){this.column=a.column,this.column instanceof B||(this.column=new B(this.column));var b=this.column,c=this.collection,d=this.$el;this.listenTo(b,"change:editable change:sortable change:renderable",function(a){var b=a.changedAttributes();for(var c in b)b.hasOwnProperty(c)&&d.toggleClass(c,b[c])}),this.listenTo(b,"change:direction",this.setCellDirection),this.listenTo(b,"change:name change:label",this.render),h.callByNeed(b.editable(),b,c)&&d.addClass("editable"),h.callByNeed(b.sortable(),b,c)&&d.addClass("sortable"),h.callByNeed(b.renderable(),b,c)&&d.addClass("renderable"),this.listenTo(c.fullCollection||c,"sort",this.removeCellDirection)},removeCellDirection:function(){this.$el.removeClass("ascending").removeClass("descending"),this.column.set("direction",null)},setCellDirection:function(a,b){this.$el.removeClass("ascending").removeClass("descending"),a.cid==this.column.cid&&this.$el.addClass(b)},onClick:function(a){function b(a,b){"ascending"===d.get("direction")?e.trigger(f,b,"descending"):"descending"===d.get("direction")?e.trigger(f,b,null):e.trigger(f,b,"ascending")}function c(a,b){"ascending"===d.get("direction")?e.trigger(f,b,"descending"):e.trigger(f,b,"ascending")}a.preventDefault();var d=this.column,e=this.collection,f="backgrid:sort",g=h.callByNeed(d.sortable(),d,this.collection);if(g){var i=d.get("sortType");"toggle"===i?c(this,d):b(this,d)}},render:function(){this.$el.empty();var a,b=this.column,c=h.callByNeed(b.sortable(),b,this.collection);return a=c?g("<a>").text(b.get("label")).append("<b class='sort-caret'></b>"):document.createTextNode(b.get("label")),this.$el.append(a),this.$el.addClass(b.get("name")),this.$el.addClass(b.get("direction")),this.delegateEvents(),this}}),G=h.EmptyHeaderCell=h.HeaderCell.extend({tagName:"td"}),H=(h.HeaderRow=h.Row.extend({initialize:function(){h.Row.prototype.initialize.apply(this,arguments)},makeCell:function(a,b){var c=a.get("headerCell")||b.headerCell;return"undefined"==typeof c&&(c=""===a.get("label")?G:F),c=new c({column:a,collection:this.collection})}}),h.Header=b.View.extend({tagName:"thead",initialize:function(a){this.columns=a.columns,this.columns instanceof b.Collection||(this.columns=new C(this.columns)),this.row=new h.HeaderRow({columns:this.columns,collection:this.collection})},render:function(){return this.$el.append(this.row.render().$el),this.delegateEvents(),this},remove:function(){return this.row.remove.apply(this.row,arguments),b.View.prototype.remove.apply(this,arguments)}})),I=h.Body=b.View.extend({tagName:"tbody",initialize:function(a){this.columns=a.columns,this.columns instanceof b.Collection||(this.columns=new C(this.columns)),this.row=a.row||D,this.rows=this.collection.map(function(a){var b=new this.row({columns:this.columns,model:a});return b},this),this.emptyText=a.emptyText,this._unshiftEmptyRowMayBe();var c=this.collection;this.listenTo(c,"add",this.insertRow),this.listenTo(c,"remove",this.removeRow),this.listenTo(c,"sort",this.refresh),this.listenTo(c,"reset",this.refresh),this.listenTo(c,"backgrid:sort",this.sort),this.listenTo(c,"backgrid:edited",this.moveToNextCell)},_unshiftEmptyRowMayBe:function(){if(0===this.rows.length&&null!=this.emptyText)return this.rows.unshift(new E({emptyText:this.emptyText,columns:this.columns})),!0},insertRow:function(a,c,d){if(this.rows[0]instanceof E&&this.rows.pop().remove(),!(c instanceof b.Collection||d))return void this.collection.add(a,d=c);var e=new this.row({columns:this.columns,model:a}),f=c.indexOf(a);this.rows.splice(f,0,e);var g=this.$el,h=g.children(),i=e.render().$el;return f>=h.length?g.append(i):h.eq(f).before(i),this},removeRow:function(b,c,d){return d?((a.isUndefined(d.render)||d.render)&&this.rows[d.index].remove(),this.rows.splice(d.index,1),this._unshiftEmptyRowMayBe()&&this.render(),this):(this.collection.remove(b,d=c),void(this._unshiftEmptyRowMayBe()&&this.render()))},refresh:function(){for(var a=0;a<this.rows.length;a++)this.rows[a].remove();return this.rows=this.collection.map(function(a){var b=new this.row({columns:this.columns,model:a});return b},this),this._unshiftEmptyRowMayBe(),this.render(),this.collection.trigger("backgrid:refresh",this),this},render:function(){this.$el.empty();for(var a=document.createDocumentFragment(),b=0;b<this.rows.length;b++){var c=this.rows[b];a.appendChild(c.render().el)}return this.el.appendChild(a),this.delegateEvents(),this},remove:function(){for(var a=0;a<this.rows.length;a++){var c=this.rows[a];c.remove.apply(c,arguments)}return b.View.prototype.remove.apply(this,arguments)},sort:function(c,d){if(!a.contains(["ascending","descending",null],d))throw new RangeError('direction must be one of "ascending", "descending" or `null`');a.isString(c)&&(c=this.columns.findWhere({name:c}));var e,f=this.collection;e="ascending"===d?-1:"descending"===d?1:null;var g=this.makeComparator(c.get("name"),e,e?c.sortValue():function(a){return 1*a.cid.replace("c","")});return b.PageableCollection&&f instanceof b.PageableCollection?(f.setSorting(e&&c.get("name"),e,{sortValue:c.sortValue()}),f.state.resetPageOnSort&&(f.state.currentPage=f.state.firstPage),f.fullCollection?(null==f.fullCollection.comparator&&(f.fullCollection.comparator=g),f.fullCollection.sort(),f.trigger("backgrid:sorted",c,d,f)):f.fetch({reset:!0,success:function(){f.trigger("backgrid:sorted",c,d,f)}})):(f.comparator=g,f.sort(),f.trigger("backgrid:sorted",c,d,f)),c.set("direction",d),this},makeComparator:function(a,b,c){return function(d,e){var f,g=c(d,a),h=c(e,a);return 1===b&&(f=g,g=h,h=f),g===h?0:g<h?-1:1}},moveToNextCell:function(a,b,c){var d,e,f,g,i,j=this.collection.indexOf(a),k=this.columns.indexOf(b);if(k===-1)return this;if(this.rows[j].cells[k].exitEditMode(),c.moveUp()||c.moveDown()||c.moveLeft()||c.moveRight()||c.save()){var l=this.columns.length,m=l*this.collection.length;if(c.moveUp()||c.moveDown()){g=j+(c.moveUp()?-1:1);var n=this.rows[g];n?(d=n.cells[k],h.callByNeed(d.column.editable(),d.column,a)&&(d.enterEditMode(),a.trigger("backgrid:next",g,k,!1))):a.trigger("backgrid:next",g,k,!0)}else if(c.moveLeft()||c.moveRight()){for(var o=c.moveRight(),p=j*l+k+(o?1:-1);p>=0&&p<m;o?p++:p--)if(g=~~(p/l),i=p-g*l,d=this.rows[g].cells[i],e=h.callByNeed(d.column.renderable(),d.column,d.model),f=h.callByNeed(d.column.editable(),d.column,a),e&&f){d.enterEditMode(),a.trigger("backgrid:next",g,i,!1);break}p==m&&a.trigger("backgrid:next",~~(p/l),p-g*l,!0)}}return this}});h.Footer=b.View.extend({tagName:"tfoot",initialize:function(a){this.columns=a.columns,this.columns instanceof b.Collection||(this.columns=new h.Columns(this.columns))}}),h.Grid=b.View.extend({tagName:"table",className:"backgrid",header:H,body:I,footer:null,initialize:function(c){c.columns instanceof b.Collection||(c.columns=new C(c.columns||this.columns)),this.columns=c.columns;var d=a.omit(c,["el","id","attributes","className","tagName","events"]);this.body=c.body||this.body,this.body=new this.body(d),this.header=c.header||this.header,this.header&&(this.header=new this.header(d)),this.footer=c.footer||this.footer,this.footer&&(this.footer=new this.footer(d)),this.listenTo(this.columns,"reset",function(){this.header&&(this.header=new(this.header.remove().constructor)(d)),this.body=new(this.body.remove().constructor)(d),this.footer&&(this.footer=new(this.footer.remove().constructor)(d)),this.render()})},insertRow:function(){return this.body.insertRow.apply(this.body,arguments),this},removeRow:function(){return this.body.removeRow.apply(this.body,arguments),this},insertColumn:function(){return this.columns.add.apply(this.columns,arguments),this},removeColumn:function(){return this.columns.remove.apply(this.columns,arguments),this},sort:function(){return this.body.sort.apply(this.body,arguments),this},render:function(){return this.$el.empty(),this.header&&this.$el.append(this.header.render().$el),this.footer&&this.$el.append(this.footer.render().$el),this.$el.append(this.body.render().$el),this.delegateEvents(),this.trigger("backgrid:rendered",this),this},remove:function(){return this.header&&this.header.remove.apply(this.header,arguments),this.body.remove.apply(this.body,arguments),this.footer&&this.footer.remove.apply(this.footer,arguments),b.View.prototype.remove.apply(this,arguments)}});return h}),function(a,b){"object"==typeof exports?module.exports=b(require("underscore"),require("backbone"),require("backgrid"),require("backbone.paginator")):"function"==typeof define&&define.amd?define("backgrid-paginator",["underscore","backbone","backgrid","backbone.paginator"],b):b(a._,a.Backbone,a.Backgrid)}(this,function(a,b,c){"use strict";var d=c.Extension.PageHandle=b.View.extend({tagName:"li",events:{"click button":"changePage"},title:function(a){return"Page "+a.label},isRewind:!1,isBack:!1,isForward:!1,isFastForward:!1,initialize:function(b){var c=this.collection,d=c.state,e=d.currentPage,f=d.firstPage,g=d.lastPage;a.extend(this,a.pick(b,["isRewind","isBack","isForward","isFastForward"]));var h;this.isRewind?h=f:this.isBack?h=Math.max(f,e-1):this.isForward?h=Math.min(g,e+1):this.isFastForward?h=g:(h=+b.pageIndex,h=f?h+1:h),this.pageIndex=h,this.label=(b.label||(f?h:h+1))+"";var i=b.title||this.title;this.title=a.isFunction(i)?i({label:this.label}):i},render:function(){this.$el.empty();var a=document.createElement("button");a.type="button",this.title&&(a.title=this.title),a.innerHTML=this.label,this.el.appendChild(a);var b=this.collection,c=b.state,d=c.currentPage,e=this.pageIndex;return this.isRewind&&d==c.firstPage||this.isBack&&!b.hasPreviousPage()||this.isForward&&!b.hasNextPage()||this.isFastForward&&(d==c.lastPage||c.totalPages<1)?this.$el.addClass("disabled"):this.isRewind||this.isBack||this.isForward||this.isFastForward||c.currentPage!=e||this.$el.addClass("active"),this.delegateEvents(),this},changePage:function(a){a.preventDefault();var b=this.$el,c=this.collection;return b.hasClass("active")||b.hasClass("disabled")||(this.isRewind?c.getFirstPage():this.isBack?c.getPreviousPage():this.isForward?c.getNextPage():this.isFastForward?c.getLastPage():c.getPage(this.pageIndex,{reset:!0})),this}}),e=c.Extension.Paginator=b.View.extend({className:"backgrid-paginator",windowSize:10,slideScale:.5,controls:{rewind:{label:"",title:"First"},back:{label:"",title:"Previous"},forward:{label:"",title:"Next"},fastForward:{label:"",title:"Last"}},renderIndexedPageHandles:!0,renderMultiplePagesOnly:!1,pageHandle:d,goBackFirstOnSort:!0,initialize:function(b){var c=this;c.controls=a.defaults(b.controls||{},c.controls,e.prototype.controls),a.extend(c,a.pick(b||{},"windowSize","pageHandle","slideScale","goBackFirstOnSort","renderIndexedPageHandles","renderMultiplePagesOnly"));var d=c.collection;c.listenTo(d,"add",c.render),c.listenTo(d,"remove",c.render),c.listenTo(d,"reset",c.render),c.listenTo(d,"backgrid:sorted",function(){c.goBackFirstOnSort&&d.state.currentPage!==d.state.firstPage&&d.getFirstPage({reset:!0})})},slideMaybe:function(a,b,c,d,e){return Math.round(c%d/d)},slideThisMuch:function(a,b,c,d,e){return~~(d*e)},_calculateWindow:function(){var a=this.collection,b=a.state,c=b.firstPage,d=+b.lastPage;d=Math.max(0,c?d-1:d);var e=Math.max(b.currentPage,b.firstPage);e=c?e-1:e;var f=this.windowSize,g=this.slideScale,h=Math.floor(e/f)*f;e<=d-this.slideThisMuch()&&(h+=this.slideMaybe(c,d,e,f,g)*this.slideThisMuch(c,d,e,f,g));var i=Math.min(d+1,h+f);return[h,i]},makeHandles:function(){var b=[],c=this.collection,d=this._calculateWindow(),e=d[0],f=d[1];if(this.renderIndexedPageHandles)for(var g=e;g<f;g++)b.push(new this.pageHandle({collection:c,pageIndex:g}));var h=this.controls;return a.each(["back","rewind","forward","fastForward"],function(a){var d=h[a];if(d){var e={collection:c,title:d.title,label:d.label};e["is"+a.slice(0,1).toUpperCase()+a.slice(1)]=!0;var f=new this.pageHandle(e);"rewind"==a||"back"==a?b.unshift(f):b.push(f)}},this),b},render:function(){this.$el.empty();var a=this.collection.state.totalPages;if(this.renderMultiplePagesOnly&&a<=1)return this;if(this.handles)for(var b=0,c=this.handles.length;b<c;b++)this.handles[b].remove();for(var d=this.handles=this.makeHandles(),e=document.createElement("ul"),b=0;b<d.length;b++)e.appendChild(d[b].render().el);return this.el.appendChild(e),this}})}),function(){var a=function(b){var c=new a.Index;return c.pipeline.add(a.trimmer,a.stopWordFilter,a.stemmer),b&&b.call(c,c),c};a.version="0.7.2",a.utils={},a.utils.warn=function(a){return function(b){a.console&&console.warn}}(this),a.utils.asString=function(a){return void 0===a||null===a?"":a.toString()},a.EventEmitter=function(){this.events={}},a.EventEmitter.prototype.addListener=function(){var a=Array.prototype.slice.call(arguments),b=a.pop(),c=a;if("function"!=typeof b)throw new TypeError("last argument must be a function");c.forEach(function(a){this.hasHandler(a)||(this.events[a]=[]),this.events[a].push(b)},this)},a.EventEmitter.prototype.removeListener=function(a,b){if(this.hasHandler(a)){var c=this.events[a].indexOf(b);this.events[a].splice(c,1),this.events[a].length||delete this.events[a]}},a.EventEmitter.prototype.emit=function(a){if(this.hasHandler(a)){var b=Array.prototype.slice.call(arguments,1);this.events[a].forEach(function(a){a.apply(void 0,b)})}},a.EventEmitter.prototype.hasHandler=function(a){return a in this.events},a.tokenizer=function(b){if(!arguments.length||null==b||void 0==b)return[];if(Array.isArray(b))return b.map(function(b){return a.utils.asString(b).toLowerCase()});var c=a.tokenizer.seperator||a.tokenizer.separator;return b.toString().trim().toLowerCase().split(c)},a.tokenizer.seperator=!1,a.tokenizer.separator=/[\s\-]+/,a.tokenizer.load=function(a){var b=this.registeredFunctions[a];if(!b)throw new Error("Cannot load un-registered function: "+a);return b},a.tokenizer.label="default",a.tokenizer.registeredFunctions={default:a.tokenizer},a.tokenizer.registerFunction=function(b,c){c in this.registeredFunctions&&a.utils.warn("Overwriting existing tokenizer: "+c),b.label=c,this.registeredFunctions[c]=b},a.Pipeline=function(){this._stack=[]},a.Pipeline.registeredFunctions={},a.Pipeline.registerFunction=function(b,c){c in this.registeredFunctions&&a.utils.warn("Overwriting existing registered function: "+c),b.label=c,a.Pipeline.registeredFunctions[b.label]=b},a.Pipeline.warnIfFunctionNotRegistered=function(b){var c=b.label&&b.label in this.registeredFunctions;c||a.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",b)},a.Pipeline.load=function(b){var c=new a.Pipeline;return b.forEach(function(b){var d=a.Pipeline.registeredFunctions[b];if(!d)throw new Error("Cannot load un-registered function: "+b);c.add(d)}),c},a.Pipeline.prototype.add=function(){var b=Array.prototype.slice.call(arguments);b.forEach(function(b){a.Pipeline.warnIfFunctionNotRegistered(b),this._stack.push(b)},this)},a.Pipeline.prototype.after=function(b,c){a.Pipeline.warnIfFunctionNotRegistered(c);var d=this._stack.indexOf(b);if(d==-1)throw new Error("Cannot find existingFn");d+=1,this._stack.splice(d,0,c)},a.Pipeline.prototype.before=function(b,c){a.Pipeline.warnIfFunctionNotRegistered(c);var d=this._stack.indexOf(b);if(d==-1)throw new Error("Cannot find existingFn");this._stack.splice(d,0,c)},a.Pipeline.prototype.remove=function(a){var b=this._stack.indexOf(a);b!=-1&&this._stack.splice(b,1)},a.Pipeline.prototype.run=function(a){for(var b=[],c=a.length,d=this._stack.length,e=0;e<c;e++){for(var f=a[e],g=0;g<d&&(f=this._stack[g](f,e,a),void 0!==f&&""!==f);g++);void 0!==f&&""!==f&&b.push(f)}return b},a.Pipeline.prototype.reset=function(){this._stack=[]},a.Pipeline.prototype.toJSON=function(){return this._stack.map(function(b){return a.Pipeline.warnIfFunctionNotRegistered(b),b.label})},a.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},a.Vector.Node=function(a,b,c){this.idx=a,this.val=b,this.next=c},a.Vector.prototype.insert=function(b,c){this._magnitude=void 0;var d=this.list;if(!d)return this.list=new a.Vector.Node(b,c,d),this.length++;if(b<d.idx)return this.list=new a.Vector.Node(b,c,d),this.length++;for(var e=d,f=d.next;void 0!=f;){if(b<f.idx)return e.next=new a.Vector.Node(b,c,f),this.length++;e=f,f=f.next}return e.next=new a.Vector.Node(b,c,f),this.length++},a.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var a,b=this.list,c=0;b;)a=b.val,c+=a*a,b=b.next;return this._magnitude=Math.sqrt(c)},a.Vector.prototype.dot=function(a){for(var b=this.list,c=a.list,d=0;b&&c;)b.idx<c.idx?b=b.next:b.idx>c.idx?c=c.next:(d+=b.val*c.val,b=b.next,c=c.next);return d},a.Vector.prototype.similarity=function(a){return this.dot(a)/(this.magnitude()*a.magnitude())},a.SortedSet=function(){this.length=0,this.elements=[]},a.SortedSet.load=function(a){var b=new this;return b.elements=a,b.length=a.length,b},a.SortedSet.prototype.add=function(){var a,b;for(a=0;a<arguments.length;a++)b=arguments[a],~this.indexOf(b)||this.elements.splice(this.locationFor(b),0,b);this.length=this.elements.length},a.SortedSet.prototype.toArray=function(){return this.elements.slice()},a.SortedSet.prototype.map=function(a,b){return this.elements.map(a,b)},a.SortedSet.prototype.forEach=function(a,b){return this.elements.forEach(a,b)},a.SortedSet.prototype.indexOf=function(a){for(var b=0,c=this.elements.length,d=c-b,e=b+Math.floor(d/2),f=this.elements[e];d>1;){if(f===a)return e;f<a&&(b=e),f>a&&(c=e),d=c-b,e=b+Math.floor(d/2),f=this.elements[e]}return f===a?e:-1},a.SortedSet.prototype.locationFor=function(a){for(var b=0,c=this.elements.length,d=c-b,e=b+Math.floor(d/2),f=this.elements[e];d>1;)f<a&&(b=e),f>a&&(c=e),d=c-b,e=b+Math.floor(d/2),f=this.elements[e];return f>a?e:f<a?e+1:void 0},a.SortedSet.prototype.intersect=function(b){for(var c=new a.SortedSet,d=0,e=0,f=this.length,g=b.length,h=this.elements,i=b.elements;;){if(d>f-1||e>g-1)break;h[d]!==i[e]?h[d]<i[e]?d++:h[d]>i[e]&&e++:(c.add(h[d]),d++,e++)}return c},a.SortedSet.prototype.clone=function(){var b=new a.SortedSet;return b.elements=this.toArray(),b.length=b.elements.length,b},a.SortedSet.prototype.union=function(a){var b,c,d;this.length>=a.length?(b=this,c=a):(b=a,c=this),d=b.clone();for(var e=0,f=c.toArray();e<f.length;e++)d.add(f[e]);return d},a.SortedSet.prototype.toJSON=function(){return this.toArray()},a.Index=function(){this._fields=[],this._ref="id",this.pipeline=new a.Pipeline,this.documentStore=new a.Store,this.tokenStore=new a.TokenStore,this.corpusTokens=new a.SortedSet,this.eventEmitter=new a.EventEmitter,this.tokenizerFn=a.tokenizer,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},a.Index.prototype.on=function(){var a=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,a)},a.Index.prototype.off=function(a,b){return this.eventEmitter.removeListener(a,b)},a.Index.load=function(b){b.version!==a.version&&a.utils.warn("version mismatch: current "+a.version+" importing "+b.version);var c=new this;return c._fields=b.fields,c._ref=b.ref,c.tokenizer(a.tokenizer.load(b.tokenizer)),c.documentStore=a.Store.load(b.documentStore),c.tokenStore=a.TokenStore.load(b.tokenStore),c.corpusTokens=a.SortedSet.load(b.corpusTokens),c.pipeline=a.Pipeline.load(b.pipeline),c},a.Index.prototype.field=function(a,b){var b=b||{},c={name:a,boost:b.boost||1};return this._fields.push(c),this},a.Index.prototype.ref=function(a){return this._ref=a,this},a.Index.prototype.tokenizer=function(b){var c=b.label&&b.label in a.tokenizer.registeredFunctions;return c||a.utils.warn("Function is not a registered tokenizer. This may cause problems when serialising the index"),this.tokenizerFn=b,this},a.Index.prototype.add=function(b,c){var d={},e=new a.SortedSet,f=b[this._ref],c=void 0===c||c;this._fields.forEach(function(a){var c=this.pipeline.run(this.tokenizerFn(b[a.name]));d[a.name]=c;for(var f=0;f<c.length;f++){var g=c[f];e.add(g),this.corpusTokens.add(g)}},this),this.documentStore.set(f,e);for(var g=0;g<e.length;g++){for(var h=e.elements[g],i=0,j=0;j<this._fields.length;j++){var k=this._fields[j],l=d[k.name],m=l.length;if(m){for(var n=0,o=0;o<m;o++)l[o]===h&&n++;i+=n/m*k.boost}}this.tokenStore.add(h,{ref:f,tf:i})}c&&this.eventEmitter.emit("add",b,this)},a.Index.prototype.remove=function(a,b){var c=a[this._ref],b=void 0===b||b;if(this.documentStore.has(c)){var d=this.documentStore.get(c);this.documentStore.remove(c),d.forEach(function(a){this.tokenStore.remove(a,c)},this),b&&this.eventEmitter.emit("remove",a,this)}},a.Index.prototype.update=function(a,b){var b=void 0===b||b;this.remove(a,!1),this.add(a,!1),b&&this.eventEmitter.emit("update",a,this)},a.Index.prototype.idf=function(a){var b="@"+a;if(Object.prototype.hasOwnProperty.call(this._idfCache,b))return this._idfCache[b];var c=this.tokenStore.count(a),d=1;return c>0&&(d=1+Math.log(this.documentStore.length/c)),this._idfCache[b]=d},a.Index.prototype.search=function(b){var c=this.pipeline.run(this.tokenizerFn(b)),d=new a.Vector,e=[],f=this._fields.reduce(function(a,b){return a+b.boost},0),g=c.some(function(a){return this.tokenStore.has(a)},this);if(!g)return[];c.forEach(function(b,c,g){var h=1/g.length*this._fields.length*f,i=this,j=this.tokenStore.expand(b).reduce(function(c,e){var f=i.corpusTokens.indexOf(e),g=i.idf(e),j=1,k=new a.SortedSet;if(e!==b){var l=Math.max(3,e.length-b.length);j=1/Math.log(l)}f>-1&&d.insert(f,h*g*j);for(var m=i.tokenStore.get(e),n=Object.keys(m),o=n.length,p=0;p<o;p++)k.add(m[n[p]].ref);return c.union(k)},new a.SortedSet);e.push(j)},this);var h=e.reduce(function(a,b){return a.intersect(b)});return h.map(function(a){return{ref:a,score:d.similarity(this.documentVector(a))}},this).sort(function(a,b){return b.score-a.score})},a.Index.prototype.documentVector=function(b){for(var c=this.documentStore.get(b),d=c.length,e=new a.Vector,f=0;f<d;f++){var g=c.elements[f],h=this.tokenStore.get(g)[b].tf,i=this.idf(g);e.insert(this.corpusTokens.indexOf(g),h*i)}return e},a.Index.prototype.toJSON=function(){return{version:a.version,fields:this._fields,ref:this._ref,tokenizer:this.tokenizerFn.label,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},a.Index.prototype.use=function(a){var b=Array.prototype.slice.call(arguments,1);b.unshift(this),a.apply(this,b)},a.Store=function(){this.store={},this.length=0},a.Store.load=function(b){var c=new this;return c.length=b.length,c.store=Object.keys(b.store).reduce(function(c,d){return c[d]=a.SortedSet.load(b.store[d]),c},{}),c},a.Store.prototype.set=function(a,b){this.has(a)||this.length++,this.store[a]=b},a.Store.prototype.get=function(a){return this.store[a]},a.Store.prototype.has=function(a){return a in this.store},a.Store.prototype.remove=function(a){this.has(a)&&(delete this.store[a],this.length--)},a.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},a.stemmer=function(){var a={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},b={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},c="[^aeiou]",d="[aeiouy]",e=c+"[^aeiouy]*",f=d+"[aeiou]*",g="^("+e+")?"+f+e,h="^("+e+")?"+f+e+"("+f+")?$",i="^("+e+")?"+f+e+f+e,j="^("+e+")?"+d,k=new RegExp(g),l=new RegExp(i),m=new RegExp(h),n=new RegExp(j),o=/^(.+?)(ss|i)es$/,p=/^(.+?)([^s])s$/,q=/^(.+?)eed$/,r=/^(.+?)(ed|ing)$/,s=/.$/,t=/(at|bl|iz)$/,u=new RegExp("([^aeiouylsz])\\1$"),v=new RegExp("^"+e+d+"[^aeiouwxy]$"),w=/^(.+?[^aeiou])y$/,x=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,y=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,z=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,A=/^(.+?)(s|t)(ion)$/,B=/^(.+?)e$/,C=/ll$/,D=new RegExp("^"+e+d+"[^aeiouwxy]$"),E=function(c){var d,e,f,g,h,i,j;if(c.length<3)return c;if(f=c.substr(0,1),"y"==f&&(c=f.toUpperCase()+c.substr(1)),g=o,h=p,g.test(c)?c=c.replace(g,"$1$2"):h.test(c)&&(c=c.replace(h,"$1$2")),g=q,h=r,g.test(c)){var E=g.exec(c);g=k,g.test(E[1])&&(g=s,c=c.replace(g,""))}else if(h.test(c)){var E=h.exec(c);d=E[1],h=n,h.test(d)&&(c=d,h=t,i=u,j=v,h.test(c)?c+="e":i.test(c)?(g=s,c=c.replace(g,"")):j.test(c)&&(c+="e"))}if(g=w,g.test(c)){var E=g.exec(c);d=E[1],c=d+"i"}if(g=x,g.test(c)){var E=g.exec(c);d=E[1],e=E[2],g=k,g.test(d)&&(c=d+a[e])}if(g=y,g.test(c)){var E=g.exec(c);d=E[1],e=E[2],g=k,g.test(d)&&(c=d+b[e])}if(g=z,h=A,g.test(c)){var E=g.exec(c);d=E[1],g=l,g.test(d)&&(c=d)}else if(h.test(c)){var E=h.exec(c);d=E[1]+E[2],h=l,h.test(d)&&(c=d)}if(g=B,g.test(c)){var E=g.exec(c);d=E[1],g=l,h=m,i=D,(g.test(d)||h.test(d)&&!i.test(d))&&(c=d)}return g=C,h=l,g.test(c)&&h.test(c)&&(g=s,c=c.replace(g,"")),"y"==f&&(c=f.toLowerCase()+c.substr(1)),c};return E}(),a.Pipeline.registerFunction(a.stemmer,"stemmer"),a.generateStopWordFilter=function(a){var b=a.reduce(function(a,b){return a[b]=b,a},{});return function(a){if(a&&b[a]!==a)return a}},a.stopWordFilter=a.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),a.Pipeline.registerFunction(a.stopWordFilter,"stopWordFilter"),a.trimmer=function(a){return a.replace(/^\W+/,"").replace(/\W+$/,"")},a.Pipeline.registerFunction(a.trimmer,"trimmer"),a.TokenStore=function(){this.root={docs:{}},this.length=0},a.TokenStore.load=function(a){var b=new this;return b.root=a.root,b.length=a.length,b},a.TokenStore.prototype.add=function(a,b,c){var c=c||this.root,d=a.charAt(0),e=a.slice(1);return d in c||(c[d]={docs:{}}),0===e.length?(c[d].docs[b.ref]=b,void(this.length+=1)):this.add(e,b,c[d])},a.TokenStore.prototype.has=function(a){if(!a)return!1;
    for(var b=this.root,c=0;c<a.length;c++){if(!b[a.charAt(c)])return!1;b=b[a.charAt(c)]}return!0},a.TokenStore.prototype.getNode=function(a){if(!a)return{};for(var b=this.root,c=0;c<a.length;c++){if(!b[a.charAt(c)])return{};b=b[a.charAt(c)]}return b},a.TokenStore.prototype.get=function(a,b){return this.getNode(a,b).docs||{}},a.TokenStore.prototype.count=function(a,b){return Object.keys(this.get(a,b)).length},a.TokenStore.prototype.remove=function(a,b){if(a){for(var c=this.root,d=0;d<a.length;d++){if(!(a.charAt(d)in c))return;c=c[a.charAt(d)]}delete c.docs[b]}},a.TokenStore.prototype.expand=function(a,b){var c=this.getNode(a),d=c.docs||{},b=b||[];return Object.keys(d).length&&b.push(a),Object.keys(c).forEach(function(c){"docs"!==c&&b.concat(this.expand(a+c,b))},this),b},a.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(a,b){"function"==typeof define&&define.amd?define("lunr",b):"object"==typeof exports?module.exports=b():a.lunr=b()}(this,function(){return a})}(),function(a,b){if("function"==typeof define&&define.amd)define("backgrid-filter",["underscore","backbone","backgrid"],b);else if("object"==typeof exports){var c;try{c=require("lunr")}catch(a){}module.exports=b(require("underscore"),require("backbone"),require("backgrid"),c)}else b(a._,a.Backbone,a.Backgrid,a.lunr)}(this,function(a,b,c,d){"use strict";var e={},f=e.ServerSideFilter=c.Extension.ServerSideFilter=b.View.extend({tagName:"form",className:"backgrid-filter form-search",template:function(a){return'<span class="search">&nbsp;</span><input type="search" '+(a.placeholder?'placeholder="'+a.placeholder+'"':"")+' name="'+a.name+'" '+(a.value?'value="'+a.value+'"':"")+'/><a class="clear" data-backgrid-action="clear" href="#">&times;</a>'},events:{"keyup input[type=search]":"showClearButtonMaybe","click a[data-backgrid-action=clear]":"clear",submit:"search"},name:"q",value:null,placeholder:null,initialize:function(a){f.__super__.initialize.apply(this,arguments),this.name=a.name||this.name,this.value=a.value||this.value,this.placeholder=a.placeholder||this.placeholder,this.template=a.template||this.template;var c=this.collection,d=this;b.PageableCollection&&c instanceof b.PageableCollection&&"server"==c.mode&&(c.queryParams[this.name]=function(){return d.query()||null})},clearSearchBox:function(){this.value=null,this.searchBox().val(null),this.showClearButtonMaybe()},showClearButtonMaybe:function(){var a=this.clearButton(),b=this.query();b?a.show():a.hide()},searchBox:function(){return this.$el.find("input[type=search]")},clearButton:function(){return this.$el.find("a[data-backgrid-action=clear]")},query:function(){return this.value=this.searchBox().val(),this.value},search:function(a){a&&a.preventDefault();var c={},d=this.query();d&&(c[this.name]=d);var e=this.collection;b.PageableCollection&&e instanceof b.PageableCollection?e.getFirstPage({data:c,reset:!0,fetch:!0}):e.fetch({data:c,reset:!0})},clear:function(a){a&&a.preventDefault(),this.clearSearchBox();var c=this.collection;b.PageableCollection&&c instanceof b.PageableCollection?c.getFirstPage({reset:!0,fetch:!0}):c.fetch({reset:!0})},render:function(){return this.$el.empty().append(this.template({name:this.name,placeholder:this.placeholder,value:this.value})),this.showClearButtonMaybe(),this.delegateEvents(),this}}),g=e.ClientSideFilter=c.Extension.ClientSideFilter=f.extend({events:a.extend({},f.prototype.events,{"click a[data-backgrid-action=clear]":function(a){a.preventDefault(),this.clear()},"keydown input[type=search]":"search",submit:function(a){a.preventDefault(),this.search()}}),fields:null,wait:149,initialize:function(b){g.__super__.initialize.apply(this,arguments),this.fields=b.fields||this.fields,this.wait=b.wait||this.wait,this._debounceMethods(["search","clear"]);var c=this.collection=this.collection.fullCollection||this.collection,d=this.shadowCollection=c.clone();this.listenTo(c,"add",function(a,b,c){d.add(a,c)}),this.listenTo(c,"remove",function(a,b,c){d.remove(a,c)}),this.listenTo(c,"sort",function(a){this.query()||d.reset(a.models)}),this.listenTo(c,"reset",function(b,c){c=a.extend({reindex:!0},c||{}),c.reindex&&null==c.from&&null==c.to&&d.reset(b.models)})},_debounceMethods:function(b){a.isString(b)&&(b=[b]),this.undelegateEvents();for(var c=0,d=b.length;c<d;c++){var e=b[c],f=this[e];this[e]=a.debounce(f,this.wait)}this.delegateEvents()},makeRegExp:function(a){return new RegExp(a.trim().split(/\s+/).join("|"),"i")},makeMatcher:function(a){var b=this.makeRegExp(a);return function(a){for(var c=this.fields||a.keys(),d=0,e=c.length;d<e;d++)if(b.test(a.get(c[d])+""))return!0;return!1}},search:function(){var b=a.bind(this.makeMatcher(this.query()),this),c=this.collection;c.pageableCollection&&c.pageableCollection.getFirstPage({silent:!0}),c.reset(this.shadowCollection.filter(b),{reindex:!1})},clear:function(){this.clearSearchBox();var a=this.collection;a.pageableCollection&&a.pageableCollection.getFirstPage({silent:!0}),a.reset(this.shadowCollection.models,{reindex:!1})}}),h=e.LunrFilter=c.Extension.LunrFilter=g.extend({ref:"id",fields:null,initialize:function(a){h.__super__.initialize.apply(this,arguments),this.ref=a.ref||this.ref;var b=this.collection=this.collection.fullCollection||this.collection;this.listenTo(b,"add",this.addToIndex),this.listenTo(b,"remove",this.removeFromIndex),this.listenTo(b,"reset",this.resetIndex),this.listenTo(b,"change",this.updateIndex),this.resetIndex(b)},resetIndex:function(b,c){if(c=a.extend({reindex:!0},c||{}),c.reindex){var e=this;this.index=d(function(){a.each(e.fields,function(a,b){this.field(b,a),this.ref(e.ref)},this)}),b.each(function(a){this.addToIndex(a)},this)}},addToIndex:function(a){var b=this.index,c=a.toJSON();b.documentStore.has(c[this.ref])?b.update(c):b.add(c)},removeFromIndex:function(a){var b=this.index,c=a.toJSON();b.documentStore.has(c[this.ref])&&b.remove(c)},updateIndex:function(b){var c=b.changedAttributes();c&&!a.isEmpty(a.intersection(a.keys(this.fields),a.keys(c)))&&this.index.update(b.toJSON())},search:function(){var a=this.collection;if(!this.query())return void a.reset(this.shadowCollection.models,{reindex:!1});for(var b=this.index.search(this.query()),c=[],d=0;d<b.length;d++){var e=b[d];c.push(this.shadowCollection.get(e.ref))}a.pageableCollection&&a.pageableCollection.getFirstPage({silent:!0}),a.reset(c,{reindex:!1})}});return e}),function(a,b){if("object"==typeof exports){var c=require("underscore"),d=require("backbone"),e=require("backbone.marionette"),f=require("backbone.cocktail"),g=require("backgrid"),h=require("backgrid-paginator"),i=require("backgrid-filter"),j=require("ironclad");module.exports=b(c,d,e,f,g,h,i,j)}else"function"==typeof define&&define.amd&&define("anglebrackets",["underscore","backbone","backbone.marionette","backbone.cocktail","backgrid","backgrid-paginator","backgrid-filter","ironclad","backbone.paginator"],b)}(this,function(a,b,c,d,e,f,g,h,i){var h=function(a,b,c,d,e,f,g,h,i){"use strict";var j=c.AngleBrackets={};j.$=c.$,j.version="1.3.0";var k=f.Body.prototype.initialize;f.Body.prototype.initialize=function(){k.apply(this,arguments),this.stopListening(this.collection,"sort")},j.Panel=i.Layout.extend({header:"",content:"",regions:{contentRegion:".panel-body",headerRegion:".panel-heading"},initialize:function(a){i.requireOptions(this,"header","content"),i.Layout.prototype.initialize.apply(this,arguments),this.header=this.getOption("header"),this.content=this.getOption("content"),b.isString(this.header)&&(this.header=i.MessageView.extend({message:this.header})),b.isString(this.content)&&(this.content=i.MessageView.extend({message:this.content}))},onRender:function(){this.contentRegion.show(new this.content),this.headerRegion.show(new this.header)},template:b.template('<div class="panel panel-default"><h2 class="panel-heading"></h2><div class="panel-body"></div></div>')});var l=(j.Table=i.Layout.extend({description:null,hasLoading:!0,hasErrorHandler:!0,initialize:function(){i.requireOptions(this,"collection","gridConfig");var a=b.extend({},l,this.options.gridConfig);a.columns=b.isFunction(a.columns)?a.columns():a.columns,this.grid=new f.Grid(b.extend({collection:this.options.collection},a));var c=this.paginationConfig=b.extend({},m,this.options.paginationConfig);c.enabled&&(this.paginator=new f.Extension.Paginator(b.extend({collection:this.options.collection},c))),this.grid.collection.on("backgrid:sort",function(a){var c=a.cid,d=a.collection.filter(function(a){return a.cid!==c});b.each(d,function(a){a.set("direction",null)})}),this.on("render",this.renderSortOrder),b.bindAll(this,"clearCounts","renderCounts","renderSortOrder"),this.listenTo(this.options.collection,"sync",this.renderCounts),this.listenTo(this.options.collection,"sync",this.renderSortOrder),this.listenTo(this.options.collection,"request",this.clearCounts)},render:function(){this.$el.append(this.grid.render().el),this.paginationConfig.enabled&&(this.renderCounts(),this.$el.append(this.paginator.render().el)),this.$("tr.empty td").attr("colspan",this.$("thead .renderable").length);var a=this.getOption("description");if(a){document.createElement("caption");this.$("table").prepend($(document.createElement("caption")).text(a))}return this.trigger("render"),this},clearCounts:function(){this.$el.find(".js-paginator-count").remove()},renderCounts:function(){if(this.collection.state.outOfBounds)this.collection.state.totalPages>0&&(this.collection.state.currentPage=this.collection.state.lastPage,this.collection.fetch());else{var a=this.paginationConfig.paginationCountTemplate;if(null==a||!this.paginationConfig.enabled)return;b.isString(a)&&(a=this.paginationConfig.paginationCountTemplate=d.TemplateCache.get(a)),0===this.$el.find(".js-paginator-count").length&&this.$el.find("table.backgrid").after($("<div>",{class:"js-paginator-count paginator-count"}));var e=this.paginator.collection.state;if(!this.paginator.collection||this.paginator.collection.state.totalRecords<1)return;var f=(e.currentPage-1)*e.pageSize+1,g=Math.min((e.currentPage-1)*e.pageSize+e.pageSize,e.totalRecords),h=b.extend({start:f,end:g,total:e.totalRecords},c.IronClad.templateHelpers);b.defer(b.bind(function(){this.$el.find(".js-paginator-count").html(a(h))},this))}},renderSortOrder:function(){var a=this.grid.collection.state?this.grid.collection.state.sortKey:null;if(a){var b=this.grid.columns.find(function(b){return b.get("name")===a});if(b){var c=this.getSortClass();b.set("direction",c)}}},getSortClass:function(){return"-1"===this.collection.state.order.toString()?"ascending":"descending"},onBeforeDestroy:function(){this.$el.removeData().unbind(),this.grid.remove(),this.paginationConfig.enabled&&this.paginator.remove()}}),j.Table.defaultGridOptions={emptyText:"No results"}),m=j.Table.defaultPaginationOptions={controls:{rewind:{label:"<i class='fa fa-angle-double-left'></i>",title:"First"},back:{label:"<i class='fa fa-angle-left'></i>",title:"Previous"},forward:{label:"<i class='fa fa-angle-right'></i>",title:"Next"},fastForward:{label:"<i class='fa fa-angle-double-right'></i>",title:"Last"}},enabled:!1,paginationCountTemplate:null,renderMultiplePagesOnly:!0},n=(j.Table.SelectRow=f.Row.extend({options:{multipleSelect:!1},events:{click:"toggleRowSelect"},toggleRowSelect:function(){if(this.options.multipleSelect===!0){var a=this.options.selectedRows.indexOf(this);a>-1?this.clearRowAtIndex(a):(this.$el.addClass("selected"),this.options.selectedRows.push(this))}else this.clearSelectedRows(),this.$el.addClass("selected"),this.options.selectedRows.push(this);this.options.selectionListener.trigger(this.options.selectionEvent,this.options.selectedRows)},clearRowAtIndex:function(a){this.options.selectedRows[a].$el.removeClass("selected"),this.options.selectedRows.splice(a,1)},clearSelectedRows:function(){for(var a=this.options.selectedRows.length-1;a>=0;a--)this.clearRowAtIndex(a)}}),j.TableCell=f.StringCell.extend({defaultCellValue:"",escapeValue:!0,exposeModel:!1,template:null,templateHelpers:{},initialize:function(a){f.StringCell.prototype.initialize.apply(this,arguments),this.defaultCellValue="undefined"==typeof this.column.get("defaultCellValue")?this.defaultCellValue:this.column.get("defaultCellValue"),this.template=this.column.get("template")||this.template,this.escapeValue="undefined"==typeof this.column.get("escapeValue")?this.escapeValue:this.column.get("escapeValue"),this.exposeModel="undefined"==typeof this.column.get("exposeModel")?this.exposeModel:this.column.get("exposeModel");var d=this.column.get("templateHelpers")||this.templateHelpers;b.isFunction(d)&&(d=b.bind(d,this)()),this.templateHelpers=b.extend({},c.IronClad.templateHelpers,d||{}),this.parse="undefined"==typeof this.column.get("parse")?this.parse:this.column.get("parse"),"function"==typeof this.onRender&&this.listenTo(this,"render",this.onRender)},render:function(){return this.template?(this.renderWithTemplate(),this.bindUIElements()):this.renderWithoutTemplate(),this.delegateEvents(),this.trigger("render"),this},renderWithTemplate:function(){var a=b.extend({},this.model.attributes,this.templateHelpers);a.targetAttribute=this.getTargetAttributeFromModel()||this.getDefaultCellValue(),this.exposeModel&&(a.model=this.model),this.$el.html(this._renderTemplate(this.getTemplate(),a))},renderWithoutTemplate:function(){this.$el.empty();var a=this.model,b=this.getTargetAttributeFromModel()||this.getDefaultCellValue();this.$el.text(this.formatter.fromRaw(b,a))},getTargetAttributeFromModel:function(){var a=null;if("undefined"!=typeof this.column){var c=this.column.get("displayValue")||this.column.get("name")||"";a=c.indexOf(".")>0?this.getDeepProp(this.model.attributes,c):this.model.get(c)}if(a){var d="function"==typeof this.parse?this.parse(a):a;return"string"==typeof a&&this.escapeValue&&(d=b.escape(d)),d}},getTemplate:function(){return b.result(this,"template")},getDefaultCellValue:function(){return b.result(this,"defaultCellValue")},getDeepProp:function(a,c){if(0===c.indexOf(".")&&(c=c.substr(1,c.legth)),c.indexOf(".")>0){var d=c.split(".");return b.reduce(d,function(a,b){return!!a&&a[b]},this.model.attributes)}return a[c]},parse:function(a){return a},_renderTemplate:function(a,b){return c.Marionette.Renderer.render(a,b)}}));b.extend(n.prototype,{bindUIElements:c.Marionette.View.prototype.bindUIElements,_bindUIElements:c.Marionette.View.prototype._bindUIElements});j.TableRow=f.Row.extend({selectable:!1,expandable:!1,data:{selectedRows:[]},events:{click:"genericClickHandler"},initialize:function(){f.Row.prototype.initialize.apply(this,arguments),this.behaviours=[],this.selectable&&this.addSelectBehaviour(),this.expandable&&this.addExpandableBehaviour(),void 0!==this.editable},addSelectBehaviour:function(a){var c={uid:"selectable",className:"selectable",selectClass:"selected",multipleSelect:!1,selectTarget:'input[type="checkbox"]',eventsContext:this.model,behaviourAddEvent:"table:row:selectable:add",behaviourRemoveEvent:"table:row:selectable:remove",selectEvent:"table:row:selected",deselectEvent:"table:row:deselected",doSelectEvent:"table:row:do:select",doDeselectEvent:"table:row:do:deselect",stateChangeCondition:!0,addBehaviourCondition:!0,events:{click:this.handleSelectableClick},cleanUp:this.cleanUpSelectableBehaviour},d=c;"object"==typeof this.selectable&&(d=b.extend({},c,this.selectable)),(this.evaluateCondition(d.addBehaviourCondition)||a)&&(this.internal=this.internal||{},this.internal.selectable=d,this.addBehaviour(this.internal.selectable),this.$el.attr("row-cid",this.cid),this.listenTo(this.model,this.internal.selectable.doSelectEvent,this.addSelectedRow),this.listenTo(this.model,this.internal.selectable.doDeselectEvent,b.bind(this.removeSelectedRow,this,this,!0)))},handleSelectableClick:function(a){$(a.target).closest(this.internal.selectable.selectTarget).length>0&&this.toggleRowSelect(a)},toggleRowSelect:function(a){this.$el.hasClass(this.internal.selectable.selectClass)||this.isRowSelected(this.cid)?this.removeSelectedRow(this,!0,a):(this.selectable.multipleSelect||this.clearSelectedRows(),this.addSelectedRow(a))},addSelectedRow:function(a){this.evaluateCondition(this.internal.selectable.stateChangeCondition,a)&&(this.$el.addClass(this.internal.selectable.selectClass),this.data.selectedRows.push(this),this.model.selected=!0,this.triggerEvent(this.internal.selectable.eventsContext,this.internal.selectable.selectEvent,this._constructEventData(this)))},removeSelectedRow:function(a,c,d){if(this.evaluateCondition(this.internal.selectable.stateChangeCondition,d)){var e=a;"string"==typeof a&&(e=this.getSelectedRow(a)),c&&(this.data.selectedRows=b.reject(this.data.selectedRows,function(a){return a.cid===e.cid})),e.model.selected=!1,e.$el.removeClass(this.internal.selectable.selectClass),this.triggerEvent(e.model,this.internal.selectable.deselectEvent,this._constructEventData(e))}},clearSelectedRows:function(){if(this.data.selectedRows.length>0){var a=this;b.each(this.data.selectedRows,function(b){a.removeSelectedRow(b)}),this.data.selectedRows=[]}},getSelectedRow:function(a){return b.find(this.data.selectedRows,function(b){return b.cid===a})},isRowSelected:function(a){var b=this.getSelectedRow(a);return"undefined"!=typeof b},cleanUpSelectableBehaviour:function(a){this.$el.removeAttr("row-cid"),this.stopListening(this.model,this.internal.selectable.doSelectEvent),this.stopListening(this.model,this.internal.selectable.doDeselectEvent),this.stopListening(this.model,this.internal.selectable.doInvertSelectionEvent),this.data.selectedRows=[],a&&(this.internal.selectable=null)},_constructEventData:function(a){return{targetItem:a,selectedItems:b.where(this.model.collection.models,{selected:!0})}},addExpandableBehaviour:function(a){var c={uid:"expandable",className:"expandable",expandedContent:"",expandedContentClass:"expanded-content",expandClass:"expanded",eventsContext:this.model,behaviourAddEvent:"table:row:expandable:add",behaviourRemoveEvent:"table:row:expandable:remove",expandContentLoadEvent:"table:row:expand:content:load",expandEvent:"table:row:expand",collapseEvent:"table:row:collapse",doExpandEvent:"table:row:do:expand",doCollapseEvent:"table:row:do:collapse",reloadContent:!0,stateChangeCondition:!0,addBehaviourCondition:!0,events:{click:this.toggleExpand},cleanUp:this.cleanUpExpandableBehaviour},d=c;"object"==typeof this.expandable&&(d=b.extend({},c,this.expandable)),(this.evaluateCondition(d.addBehaviourCondition)||a)&&(this.internal=this.internal||{},this.internal.expandable=d,this.addBehaviour(this.internal.expandable),this.listenTo(this.model,this.internal.expandable.doExpandEvent,this.expandRow),this.listenTo(this.model,this.internal.expandable.doCollapseEvent,this.collapseRow))},toggleExpand:function(a){this.internal.expandable.expanded?this.collapseRow(a):this.expandRow(a)},expandRow:function(a){this.evaluateCondition(this.internal.expandable.stateChangeCondition,a)&&(!this.$el.data("expand-content-loaded")||this.internal.expandable.reloadContent?this.loadExpandedContent():this.internal.expandable.expandedContentRef.fadeIn("fast"),this.$el.addClass(this.internal.expandable.expandClass),this.internal.expandable.expanded=!0,this.model.expanded=!0,this.triggerEvent(this.internal.expandable.eventsContext,this.internal.expandable.expandEvent))},collapseRow:function(a){var c=this;this.evaluateCondition(this.internal.expandable.stateChangeCondition,a)&&("undefined"!=typeof this.internal.expandable.expandedContentRef&&this.internal.expandable.expandedContentRef.fadeOut("fast",function(){c.internal.expandable.reloadContent&&c.expandedContentView&&b.bind(c.expandedContentView.remove,c.expandedContentView)()}),this.$el.removeClass(this.internal.expandable.expandClass),this.internal.expandable.expanded=!1,this.model.expanded=!1,this.triggerEvent(this.internal.expandable.eventsContext,this.internal.expandable.collapseEvent))},getExpandedContent:function(a){return"string"==typeof a?this.renderExpandedContentAsStringOrTemplate(a):"function"==typeof a?this.renderExpandedContentAsAViewOrFunction(a):"object"==typeof a&&"function"==typeof a.render?this.renderExpandedContentAsAViewInstance(a):void 0},renderExpandedContentAsStringOrTemplate:function(a){if(0===a.indexOf("#")){var d=c.Marionette.TemplateCache.get(a),e=d(b.extend({},this.model.attributes,i.templateHelpers)).$el;return e.addClass(this.internal.expandable.expandedContentClass),e}return jQuery("<tr><td>"+a+"</td></tr>")},renderExpandedContentAsAViewOrFunction:function(a){if("function"==typeof a.prototype.render){this.expandedContentView=new a({model:this.model});var b=this.expandedContentView.render();return b.excludeContainerTag?b.$el.find("> *"):b.$el}return this.getExpandedContent(this.internal.expandable.expandedContent.apply(this))},renderExpandedContentAsAViewInstance:function(a){var b=a.render();return b.excludeContainerTag?b.$el.find("> *"):b.$el},loadExpandedContent:function(){var a=this.getExpandedContent(this.internal.expandable.expandedContent);a.addClass(this.internal.expandable.expandedContentClass),this.internal.expandable.expandedContentRef&&this.internal.expandable.expandedContentRef.remove(),this.internal.expandable.expandedContentRef=a,this.$el.after(a),a.fadeIn("fast"),this.$el.data("expand-content-loaded","true"),this.triggerEvent(this.internal.expandable.eventsContext,this.internal.expandable.expandContentLoadEvent)},removeExpandedContent:function(){this.internal.expandable.expandedContentRef&&(this.internal.expandable.expandedContentRef.remove(),this.$el.removeData("expand-content-loaded"))},cleanUpExpandableBehaviour:function(a){this.removeExpandedContent(),this.stopListening(this.model,this.internal.expandable.doExpandEvent),this.stopListening(this.model,this.internal.expandable.doCollapseEvent),a&&(this.internal.expandable=null)},genericClickHandler:function(){var a=this,c=arguments;b.each(this.behaviours,function(b){"function"==typeof b.events.click&&b.events.click.apply(a,c)})},evaluateCondition:function(a,b){if(a){if("boolean"==typeof a)return a;if("function"==typeof a){var c=a.apply(this,[b]);if("boolean"==typeof c)return c;throw new Error("Condition function should return a boolean type")}}return!1},addBehaviour:function(a){return!!a&&(this.behaviours.push(a),a.className&&this.$el.addClass(a.className),this.triggerEvent(a.eventsContext,a.behaviourAddEvent,this),!0)},getBehaviour:function(a){return b.find(this.behaviours,function(b){return b.uid===a})},removeBehaviour:function(a,c){var d=this.getBehaviour(a);d&&(this.behaviours=b.reject(this.behaviours,function(b){return b.uid===a}),this.$el.removeClass(d.className),this.triggerEvent(d.eventsContext,d.behaviourRemoveEvent,this),"function"==typeof d.cleanUp&&d.cleanUp.apply(this,[c]))},triggerEvent:function(a,b,c){a&&b&&a.trigger(b,c)},remove:function(){f.Row.prototype.remove.apply(this,arguments),this.expandedContentView&&this.expandedContentView.destroy()}});return j.Filter=h.ServerSideFilter.extend({template:function(a){var c="ab-filter-"+b.uniqueId(),d=a.placeholder||"Type to filter table";return'<span class="search">&nbsp;</span><label class="sr-only" for="'+c+'">'+d+'</label><input id="'+c+'" type="search" '+(a.placeholder?'placeholder="'+a.placeholder+'"':"")+' name="'+a.name+'" '+(a.value?'value="'+a.value+'"':"")+'/><a class="clear" data-backgrid-action="clear" href="#">&times;</a>'}}),j}(this,a,b,c,d,e,f,g,h);return b.AngleBrackets}),function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define("moment",b):a.moment=b()}(this,function(){"use strict";function a(){return le.apply(null,arguments)}function b(a){le=a}function c(a){return a instanceof Array||"[object Array]"===Object.prototype.toString.call(a)}function d(a){return null!=a&&"[object Object]"===Object.prototype.toString.call(a)}function e(a){var b;for(b in a)return!1;return!0}function f(a){return"number"==typeof a||"[object Number]"===Object.prototype.toString.call(a)}function g(a){return a instanceof Date||"[object Date]"===Object.prototype.toString.call(a)}function h(a,b){var c,d=[];for(c=0;c<a.length;++c)d.push(b(a[c],c));return d}function i(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function j(a,b){for(var c in b)i(b,c)&&(a[c]=b[c]);return i(b,"toString")&&(a.toString=b.toString),i(b,"valueOf")&&(a.valueOf=b.valueOf),a}function k(a,b,c,d){return rb(a,b,c,d,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function m(a){return null==a._pf&&(a._pf=l()),a._pf}function n(a){if(null==a._isValid){var b=m(a),c=ne.call(b.parsedDateParts,function(a){return null!=a}),d=!isNaN(a._d.getTime())&&b.overflow<0&&!b.empty&&!b.invalidMonth&&!b.invalidWeekday&&!b.nullInput&&!b.invalidFormat&&!b.userInvalidated&&(!b.meridiem||b.meridiem&&c);if(a._strict&&(d=d&&0===b.charsLeftOver&&0===b.unusedTokens.length&&void 0===b.bigHour),null!=Object.isFrozen&&Object.isFrozen(a))return d;a._isValid=d}return a._isValid}function o(a){var b=k(NaN);return null!=a?j(m(b),a):m(b).userInvalidated=!0,b}function p(a){return void 0===a}function q(a,b){var c,d,e;if(p(b._isAMomentObject)||(a._isAMomentObject=b._isAMomentObject),p(b._i)||(a._i=b._i),p(b._f)||(a._f=b._f),p(b._l)||(a._l=b._l),p(b._strict)||(a._strict=b._strict),p(b._tzm)||(a._tzm=b._tzm),p(b._isUTC)||(a._isUTC=b._isUTC),p(b._offset)||(a._offset=b._offset),p(b._pf)||(a._pf=m(b)),p(b._locale)||(a._locale=b._locale),oe.length>0)for(c in oe)d=oe[c],e=b[d],p(e)||(a[d]=e);return a}function r(b){q(this,b),this._d=new Date(null!=b._d?b._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),pe===!1&&(pe=!0,a.updateOffset(this),pe=!1)}function s(a){return a instanceof r||null!=a&&null!=a._isAMomentObject}function t(a){return a<0?Math.ceil(a)||0:Math.floor(a)}function u(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=t(b)),c}function v(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;d<e;d++)(c&&a[d]!==b[d]||!c&&u(a[d])!==u(b[d]))&&g++;return g+f}function w(b){a.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn}function x(b,c){var d=!0;return j(function(){if(null!=a.deprecationHandler&&a.deprecationHandler(null,b),d){for(var e,f=[],g=0;g<arguments.length;g++){if(e="","object"==typeof arguments[g]){e+="\n["+g+"] ";for(var h in arguments[0])e+=h+": "+arguments[0][h]+", ";e=e.slice(0,-2)}else e=arguments[g];f.push(e)}w(b+"\nArguments: "+Array.prototype.slice.call(f).join("")+"\n"+(new Error).stack),d=!1}return c.apply(this,arguments)},c)}function y(b,c){null!=a.deprecationHandler&&a.deprecationHandler(b,c),qe[b]||(w(c),qe[b]=!0)}function z(a){return a instanceof Function||"[object Function]"===Object.prototype.toString.call(a)}function A(a){var b,c;for(c in a)b=a[c],z(b)?this[c]=b:this["_"+c]=b;this._config=a,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function B(a,b){var c,e=j({},a);for(c in b)i(b,c)&&(d(a[c])&&d(b[c])?(e[c]={},j(e[c],a[c]),j(e[c],b[c])):null!=b[c]?e[c]=b[c]:delete e[c]);for(c in a)i(a,c)&&!i(b,c)&&d(a[c])&&(e[c]=j({},e[c]));return e}function C(a){null!=a&&this.set(a)}function D(a,b,c){var d=this._calendar[a]||this._calendar.sameElse;return z(d)?d.call(b,c):d}function E(a){var b=this._longDateFormat[a],c=this._longDateFormat[a.toUpperCase()];return b||!c?b:(this._longDateFormat[a]=c.replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a])}function F(){return this._invalidDate}function G(a){return this._ordinal.replace("%d",a)}function H(a,b,c,d){var e=this._relativeTime[c];return z(e)?e(a,b,c,d):e.replace(/%d/i,a)}function I(a,b){var c=this._relativeTime[a>0?"future":"past"];return z(c)?c(b):c.replace(/%s/i,b)}function J(a,b){var c=a.toLowerCase();Ae[c]=Ae[c+"s"]=Ae[b]=a}function K(a){return"string"==typeof a?Ae[a]||Ae[a.toLowerCase()]:void 0}function L(a){var b,c,d={};for(c in a)i(a,c)&&(b=K(c),b&&(d[b]=a[c]));return d}function M(a,b){Be[a]=b}function N(a){var b=[];for(var c in a)b.push({unit:c,priority:Be[c]});return b.sort(function(a,b){return a.priority-b.priority}),b}function O(b,c){return function(d){return null!=d?(Q(this,b,d),a.updateOffset(this,c),this):P(this,b)}}function P(a,b){return a.isValid()?a._d["get"+(a._isUTC?"UTC":"")+b]():NaN}function Q(a,b,c){a.isValid()&&a._d["set"+(a._isUTC?"UTC":"")+b](c)}function R(a){return a=K(a),z(this[a])?this[a]():this}function S(a,b){if("object"==typeof a){a=L(a);for(var c=N(a),d=0;d<c.length;d++)this[c[d].unit](a[c[d].unit])}else if(a=K(a),z(this[a]))return this[a](b);return this}function T(a,b,c){var d=""+Math.abs(a),e=b-d.length,f=a>=0;return(f?c?"+":"":"-")+Math.pow(10,Math.max(0,e)).toString().substr(1)+d}function U(a,b,c,d){var e=d;"string"==typeof d&&(e=function(){return this[d]()}),a&&(Fe[a]=e),b&&(Fe[b[0]]=function(){return T(e.apply(this,arguments),b[1],b[2])}),c&&(Fe[c]=function(){return this.localeData().ordinal(e.apply(this,arguments),a)})}function V(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function W(a){var b,c,d=a.match(Ce);for(b=0,c=d.length;b<c;b++)Fe[d[b]]?d[b]=Fe[d[b]]:d[b]=V(d[b]);return function(b){var e,f="";for(e=0;e<c;e++)f+=d[e]instanceof Function?d[e].call(b,a):d[e];return f}}function X(a,b){return a.isValid()?(b=Y(b,a.localeData()),Ee[b]=Ee[b]||W(b),Ee[b](a)):a.localeData().invalidDate()}function Y(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(De.lastIndex=0;d>=0&&De.test(a);)a=a.replace(De,c),De.lastIndex=0,d-=1;return a}function Z(a,b,c){Xe[a]=z(b)?b:function(a,d){return a&&c?c:b}}function $(a,b){return i(Xe,a)?Xe[a](b._strict,b._locale):new RegExp(_(a))}function _(a){return aa(a.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e}))}function aa(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ba(a,b){var c,d=b;for("string"==typeof a&&(a=[a]),f(b)&&(d=function(a,c){c[b]=u(a)}),c=0;c<a.length;c++)Ye[a[c]]=d}function ca(a,b){ba(a,function(a,c,d,e){d._w=d._w||{},b(a,d._w,d,e)})}function da(a,b,c){null!=b&&i(Ye,a)&&Ye[a](b,c._a,c,a)}function ea(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function fa(a,b){return a?c(this._months)?this._months[a.month()]:this._months[(this._months.isFormat||hf).test(b)?"format":"standalone"][a.month()]:this._months}function ga(a,b){return a?c(this._monthsShort)?this._monthsShort[a.month()]:this._monthsShort[hf.test(b)?"format":"standalone"][a.month()]:this._monthsShort}function ha(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],d=0;d<12;++d)f=k([2e3,d]),this._shortMonthsParse[d]=this.monthsShort(f,"").toLocaleLowerCase(),this._longMonthsParse[d]=this.months(f,"").toLocaleLowerCase();return c?"MMM"===b?(e=gf.call(this._shortMonthsParse,g),e!==-1?e:null):(e=gf.call(this._longMonthsParse,g),e!==-1?e:null):"MMM"===b?(e=gf.call(this._shortMonthsParse,g),e!==-1?e:(e=gf.call(this._longMonthsParse,g),e!==-1?e:null)):(e=gf.call(this._longMonthsParse,g),e!==-1?e:(e=gf.call(this._shortMonthsParse,g),e!==-1?e:null))}function ia(a,b,c){var d,e,f;if(this._monthsParseExact)return ha.call(this,a,b,c);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),d=0;d<12;d++){if(e=k([2e3,d]),c&&!this._longMonthsParse[d]&&(this._longMonthsParse[d]=new RegExp("^"+this.months(e,"").replace(".","")+"$","i"),this._shortMonthsParse[d]=new RegExp("^"+this.monthsShort(e,"").replace(".","")+"$","i")),c||this._monthsParse[d]||(f="^"+this.months(e,"")+"|^"+this.monthsShort(e,""),this._monthsParse[d]=new RegExp(f.replace(".",""),"i")),c&&"MMMM"===b&&this._longMonthsParse[d].test(a))return d;if(c&&"MMM"===b&&this._shortMonthsParse[d].test(a))return d;if(!c&&this._monthsParse[d].test(a))return d}}function ja(a,b){var c;if(!a.isValid())return a;if("string"==typeof b)if(/^\d+$/.test(b))b=u(b);else if(b=a.localeData().monthsParse(b),!f(b))return a;
    return c=Math.min(a.date(),ea(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a}function ka(b){return null!=b?(ja(this,b),a.updateOffset(this,!0),this):P(this,"Month")}function la(){return ea(this.year(),this.month())}function ma(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsShortStrictRegex:this._monthsShortRegex):(i(this,"_monthsShortRegex")||(this._monthsShortRegex=lf),this._monthsShortStrictRegex&&a?this._monthsShortStrictRegex:this._monthsShortRegex)}function na(a){return this._monthsParseExact?(i(this,"_monthsRegex")||oa.call(this),a?this._monthsStrictRegex:this._monthsRegex):(i(this,"_monthsRegex")||(this._monthsRegex=mf),this._monthsStrictRegex&&a?this._monthsStrictRegex:this._monthsRegex)}function oa(){function a(a,b){return b.length-a.length}var b,c,d=[],e=[],f=[];for(b=0;b<12;b++)c=k([2e3,b]),d.push(this.monthsShort(c,"")),e.push(this.months(c,"")),f.push(this.months(c,"")),f.push(this.monthsShort(c,""));for(d.sort(a),e.sort(a),f.sort(a),b=0;b<12;b++)d[b]=aa(d[b]),e[b]=aa(e[b]);for(b=0;b<24;b++)f[b]=aa(f[b]);this._monthsRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+e.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+d.join("|")+")","i")}function pa(a){return qa(a)?366:365}function qa(a){return a%4===0&&a%100!==0||a%400===0}function ra(){return qa(this.year())}function sa(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return a<100&&a>=0&&isFinite(h.getFullYear())&&h.setFullYear(a),h}function ta(a){var b=new Date(Date.UTC.apply(null,arguments));return a<100&&a>=0&&isFinite(b.getUTCFullYear())&&b.setUTCFullYear(a),b}function ua(a,b,c){var d=7+b-c,e=(7+ta(a,0,d).getUTCDay()-b)%7;return-e+d-1}function va(a,b,c,d,e){var f,g,h=(7+c-d)%7,i=ua(a,d,e),j=1+7*(b-1)+h+i;return j<=0?(f=a-1,g=pa(f)+j):j>pa(a)?(f=a+1,g=j-pa(a)):(f=a,g=j),{year:f,dayOfYear:g}}function wa(a,b,c){var d,e,f=ua(a.year(),b,c),g=Math.floor((a.dayOfYear()-f-1)/7)+1;return g<1?(e=a.year()-1,d=g+xa(e,b,c)):g>xa(a.year(),b,c)?(d=g-xa(a.year(),b,c),e=a.year()+1):(e=a.year(),d=g),{week:d,year:e}}function xa(a,b,c){var d=ua(a,b,c),e=ua(a+1,b,c);return(pa(a)-d+e)/7}function ya(a){return wa(a,this._week.dow,this._week.doy).week}function za(){return this._week.dow}function Aa(){return this._week.doy}function Ba(a){var b=this.localeData().week(this);return null==a?b:this.add(7*(a-b),"d")}function Ca(a){var b=wa(this,1,4).week;return null==a?b:this.add(7*(a-b),"d")}function Da(a,b){return"string"!=typeof a?a:isNaN(a)?(a=b.weekdaysParse(a),"number"==typeof a?a:null):parseInt(a,10)}function Ea(a,b){return"string"==typeof a?b.weekdaysParse(a)%7||7:isNaN(a)?null:a}function Fa(a,b){return a?c(this._weekdays)?this._weekdays[a.day()]:this._weekdays[this._weekdays.isFormat.test(b)?"format":"standalone"][a.day()]:this._weekdays}function Ga(a){return a?this._weekdaysShort[a.day()]:this._weekdaysShort}function Ha(a){return a?this._weekdaysMin[a.day()]:this._weekdaysMin}function Ia(a,b,c){var d,e,f,g=a.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],d=0;d<7;++d)f=k([2e3,1]).day(d),this._minWeekdaysParse[d]=this.weekdaysMin(f,"").toLocaleLowerCase(),this._shortWeekdaysParse[d]=this.weekdaysShort(f,"").toLocaleLowerCase(),this._weekdaysParse[d]=this.weekdays(f,"").toLocaleLowerCase();return c?"dddd"===b?(e=gf.call(this._weekdaysParse,g),e!==-1?e:null):"ddd"===b?(e=gf.call(this._shortWeekdaysParse,g),e!==-1?e:null):(e=gf.call(this._minWeekdaysParse,g),e!==-1?e:null):"dddd"===b?(e=gf.call(this._weekdaysParse,g),e!==-1?e:(e=gf.call(this._shortWeekdaysParse,g),e!==-1?e:(e=gf.call(this._minWeekdaysParse,g),e!==-1?e:null))):"ddd"===b?(e=gf.call(this._shortWeekdaysParse,g),e!==-1?e:(e=gf.call(this._weekdaysParse,g),e!==-1?e:(e=gf.call(this._minWeekdaysParse,g),e!==-1?e:null))):(e=gf.call(this._minWeekdaysParse,g),e!==-1?e:(e=gf.call(this._weekdaysParse,g),e!==-1?e:(e=gf.call(this._shortWeekdaysParse,g),e!==-1?e:null)))}function Ja(a,b,c){var d,e,f;if(this._weekdaysParseExact)return Ia.call(this,a,b,c);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),d=0;d<7;d++){if(e=k([2e3,1]).day(d),c&&!this._fullWeekdaysParse[d]&&(this._fullWeekdaysParse[d]=new RegExp("^"+this.weekdays(e,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[d]=new RegExp("^"+this.weekdaysShort(e,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[d]=new RegExp("^"+this.weekdaysMin(e,"").replace(".",".?")+"$","i")),this._weekdaysParse[d]||(f="^"+this.weekdays(e,"")+"|^"+this.weekdaysShort(e,"")+"|^"+this.weekdaysMin(e,""),this._weekdaysParse[d]=new RegExp(f.replace(".",""),"i")),c&&"dddd"===b&&this._fullWeekdaysParse[d].test(a))return d;if(c&&"ddd"===b&&this._shortWeekdaysParse[d].test(a))return d;if(c&&"dd"===b&&this._minWeekdaysParse[d].test(a))return d;if(!c&&this._weekdaysParse[d].test(a))return d}}function Ka(a){if(!this.isValid())return null!=a?this:NaN;var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=Da(a,this.localeData()),this.add(a-b,"d")):b}function La(a){if(!this.isValid())return null!=a?this:NaN;var b=(this.day()+7-this.localeData()._week.dow)%7;return null==a?b:this.add(a-b,"d")}function Ma(a){if(!this.isValid())return null!=a?this:NaN;if(null!=a){var b=Ea(a,this.localeData());return this.day(this.day()%7?b:b-7)}return this.day()||7}function Na(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysStrictRegex:this._weekdaysRegex):(i(this,"_weekdaysRegex")||(this._weekdaysRegex=sf),this._weekdaysStrictRegex&&a?this._weekdaysStrictRegex:this._weekdaysRegex)}function Oa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(i(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tf),this._weekdaysShortStrictRegex&&a?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Pa(a){return this._weekdaysParseExact?(i(this,"_weekdaysRegex")||Qa.call(this),a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(i(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=uf),this._weekdaysMinStrictRegex&&a?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qa(){function a(a,b){return b.length-a.length}var b,c,d,e,f,g=[],h=[],i=[],j=[];for(b=0;b<7;b++)c=k([2e3,1]).day(b),d=this.weekdaysMin(c,""),e=this.weekdaysShort(c,""),f=this.weekdays(c,""),g.push(d),h.push(e),i.push(f),j.push(d),j.push(e),j.push(f);for(g.sort(a),h.sort(a),i.sort(a),j.sort(a),b=0;b<7;b++)h[b]=aa(h[b]),i[b]=aa(i[b]),j[b]=aa(j[b]);this._weekdaysRegex=new RegExp("^("+j.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+g.join("|")+")","i")}function Ra(){return this.hours()%12||12}function Sa(){return this.hours()||24}function Ta(a,b){U(a,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),b)})}function Ua(a,b){return b._meridiemParse}function Va(a){return"p"===(a+"").toLowerCase().charAt(0)}function Wa(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"}function Xa(a){return a?a.toLowerCase().replace("_","-"):a}function Ya(a){for(var b,c,d,e,f=0;f<a.length;){for(e=Xa(a[f]).split("-"),b=e.length,c=Xa(a[f+1]),c=c?c.split("-"):null;b>0;){if(d=Za(e.slice(0,b).join("-")))return d;if(c&&c.length>=b&&v(e,c,!0)>=b-1)break;b--}f++}return null}function Za(a){var b=null;if(!zf[a]&&"undefined"!=typeof module&&module&&module.exports)try{b=vf._abbr,require("./locale/"+a),$a(b)}catch(a){}return zf[a]}function $a(a,b){var c;return a&&(c=p(b)?bb(a):_a(a,b),c&&(vf=c)),vf._abbr}function _a(a,b){if(null!==b){var c=yf;if(b.abbr=a,null!=zf[a])y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),c=zf[a]._config;else if(null!=b.parentLocale){if(null==zf[b.parentLocale])return Af[b.parentLocale]||(Af[b.parentLocale]=[]),Af[b.parentLocale].push({name:a,config:b}),null;c=zf[b.parentLocale]._config}return zf[a]=new C(B(c,b)),Af[a]&&Af[a].forEach(function(a){_a(a.name,a.config)}),$a(a),zf[a]}return delete zf[a],null}function ab(a,b){if(null!=b){var c,d=yf;null!=zf[a]&&(d=zf[a]._config),b=B(d,b),c=new C(b),c.parentLocale=zf[a],zf[a]=c,$a(a)}else null!=zf[a]&&(null!=zf[a].parentLocale?zf[a]=zf[a].parentLocale:null!=zf[a]&&delete zf[a]);return zf[a]}function bb(a){var b;if(a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr),!a)return vf;if(!c(a)){if(b=Za(a))return b;a=[a]}return Ya(a)}function cb(){return te(zf)}function db(a){var b,c=a._a;return c&&m(a).overflow===-2&&(b=c[$e]<0||c[$e]>11?$e:c[_e]<1||c[_e]>ea(c[Ze],c[$e])?_e:c[af]<0||c[af]>24||24===c[af]&&(0!==c[bf]||0!==c[cf]||0!==c[df])?af:c[bf]<0||c[bf]>59?bf:c[cf]<0||c[cf]>59?cf:c[df]<0||c[df]>999?df:-1,m(a)._overflowDayOfYear&&(b<Ze||b>_e)&&(b=_e),m(a)._overflowWeeks&&b===-1&&(b=ef),m(a)._overflowWeekday&&b===-1&&(b=ff),m(a).overflow=b),a}function eb(a){var b,c,d,e,f,g,h=a._i,i=Bf.exec(h)||Cf.exec(h);if(i){for(m(a).iso=!0,b=0,c=Ef.length;b<c;b++)if(Ef[b][1].exec(i[1])){e=Ef[b][0],d=Ef[b][2]!==!1;break}if(null==e)return void(a._isValid=!1);if(i[3]){for(b=0,c=Ff.length;b<c;b++)if(Ff[b][1].exec(i[3])){f=(i[2]||" ")+Ff[b][0];break}if(null==f)return void(a._isValid=!1)}if(!d&&null!=f)return void(a._isValid=!1);if(i[4]){if(!Df.exec(i[4]))return void(a._isValid=!1);g="Z"}a._f=e+(f||"")+(g||""),kb(a)}else a._isValid=!1}function fb(b){var c=Gf.exec(b._i);return null!==c?void(b._d=new Date(+c[1])):(eb(b),void(b._isValid===!1&&(delete b._isValid,a.createFromInputFallback(b))))}function gb(a,b,c){return null!=a?a:null!=b?b:c}function hb(b){var c=new Date(a.now());return b._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()]}function ib(a){var b,c,d,e,f=[];if(!a._d){for(d=hb(a),a._w&&null==a._a[_e]&&null==a._a[$e]&&jb(a),a._dayOfYear&&(e=gb(a._a[Ze],d[Ze]),a._dayOfYear>pa(e)&&(m(a)._overflowDayOfYear=!0),c=ta(e,0,a._dayOfYear),a._a[$e]=c.getUTCMonth(),a._a[_e]=c.getUTCDate()),b=0;b<3&&null==a._a[b];++b)a._a[b]=f[b]=d[b];for(;b<7;b++)a._a[b]=f[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[af]&&0===a._a[bf]&&0===a._a[cf]&&0===a._a[df]&&(a._nextDay=!0,a._a[af]=0),a._d=(a._useUTC?ta:sa).apply(null,f),null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm),a._nextDay&&(a._a[af]=24)}}function jb(a){var b,c,d,e,f,g,h,i;if(b=a._w,null!=b.GG||null!=b.W||null!=b.E)f=1,g=4,c=gb(b.GG,a._a[Ze],wa(sb(),1,4).year),d=gb(b.W,1),e=gb(b.E,1),(e<1||e>7)&&(i=!0);else{f=a._locale._week.dow,g=a._locale._week.doy;var j=wa(sb(),f,g);c=gb(b.gg,a._a[Ze],j.year),d=gb(b.w,j.week),null!=b.d?(e=b.d,(e<0||e>6)&&(i=!0)):null!=b.e?(e=b.e+f,(b.e<0||b.e>6)&&(i=!0)):e=f}d<1||d>xa(c,f,g)?m(a)._overflowWeeks=!0:null!=i?m(a)._overflowWeekday=!0:(h=va(c,d,e,f,g),a._a[Ze]=h.year,a._dayOfYear=h.dayOfYear)}function kb(b){if(b._f===a.ISO_8601)return void eb(b);b._a=[],m(b).empty=!0;var c,d,e,f,g,h=""+b._i,i=h.length,j=0;for(e=Y(b._f,b._locale).match(Ce)||[],c=0;c<e.length;c++)f=e[c],d=(h.match($(f,b))||[])[0],d&&(g=h.substr(0,h.indexOf(d)),g.length>0&&m(b).unusedInput.push(g),h=h.slice(h.indexOf(d)+d.length),j+=d.length),Fe[f]?(d?m(b).empty=!1:m(b).unusedTokens.push(f),da(f,d,b)):b._strict&&!d&&m(b).unusedTokens.push(f);m(b).charsLeftOver=i-j,h.length>0&&m(b).unusedInput.push(h),b._a[af]<=12&&m(b).bigHour===!0&&b._a[af]>0&&(m(b).bigHour=void 0),m(b).parsedDateParts=b._a.slice(0),m(b).meridiem=b._meridiem,b._a[af]=lb(b._locale,b._a[af],b._meridiem),ib(b),db(b)}function lb(a,b,c){var d;return null==c?b:null!=a.meridiemHour?a.meridiemHour(b,c):null!=a.isPM?(d=a.isPM(c),d&&b<12&&(b+=12),d||12!==b||(b=0),b):b}function mb(a){var b,c,d,e,f;if(0===a._f.length)return m(a).invalidFormat=!0,void(a._d=new Date(NaN));for(e=0;e<a._f.length;e++)f=0,b=q({},a),null!=a._useUTC&&(b._useUTC=a._useUTC),b._f=a._f[e],kb(b),n(b)&&(f+=m(b).charsLeftOver,f+=10*m(b).unusedTokens.length,m(b).score=f,(null==d||f<d)&&(d=f,c=b));j(a,c||b)}function nb(a){if(!a._d){var b=L(a._i);a._a=h([b.year,b.month,b.day||b.date,b.hour,b.minute,b.second,b.millisecond],function(a){return a&&parseInt(a,10)}),ib(a)}}function ob(a){var b=new r(db(pb(a)));return b._nextDay&&(b.add(1,"d"),b._nextDay=void 0),b}function pb(a){var b=a._i,d=a._f;return a._locale=a._locale||bb(a._l),null===b||void 0===d&&""===b?o({nullInput:!0}):("string"==typeof b&&(a._i=b=a._locale.preparse(b)),s(b)?new r(db(b)):(g(b)?a._d=b:c(d)?mb(a):d?kb(a):qb(a),n(a)||(a._d=null),a))}function qb(b){var d=b._i;void 0===d?b._d=new Date(a.now()):g(d)?b._d=new Date(d.valueOf()):"string"==typeof d?fb(b):c(d)?(b._a=h(d.slice(0),function(a){return parseInt(a,10)}),ib(b)):"object"==typeof d?nb(b):f(d)?b._d=new Date(d):a.createFromInputFallback(b)}function rb(a,b,f,g,h){var i={};return f!==!0&&f!==!1||(g=f,f=void 0),(d(a)&&e(a)||c(a)&&0===a.length)&&(a=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=h,i._l=f,i._i=a,i._f=b,i._strict=g,ob(i)}function sb(a,b,c,d){return rb(a,b,c,d,!1)}function tb(a,b){var d,e;if(1===b.length&&c(b[0])&&(b=b[0]),!b.length)return sb();for(d=b[0],e=1;e<b.length;++e)b[e].isValid()&&!b[e][a](d)||(d=b[e]);return d}function ub(){var a=[].slice.call(arguments,0);return tb("isBefore",a)}function vb(){var a=[].slice.call(arguments,0);return tb("isAfter",a)}function wb(a){var b=L(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+1e3*h*60*60,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._locale=bb(),this._bubble()}function xb(a){return a instanceof wb}function yb(a){return a<0?Math.round(-1*a)*-1:Math.round(a)}function zb(a,b){U(a,0,0,function(){var a=this.utcOffset(),c="+";return a<0&&(a=-a,c="-"),c+T(~~(a/60),2)+b+T(~~a%60,2)})}function Ab(a,b){var c=(b||"").match(a);if(null===c)return null;var d=c[c.length-1]||[],e=(d+"").match(Kf)||["-",0,0],f=+(60*e[1])+u(e[2]);return 0===f?0:"+"===e[0]?f:-f}function Bb(b,c){var d,e;return c._isUTC?(d=c.clone(),e=(s(b)||g(b)?b.valueOf():sb(b).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+e),a.updateOffset(d,!1),d):sb(b).local()}function Cb(a){return 15*-Math.round(a._d.getTimezoneOffset()/15)}function Db(b,c){var d,e=this._offset||0;if(!this.isValid())return null!=b?this:NaN;if(null!=b){if("string"==typeof b){if(b=Ab(Ue,b),null===b)return this}else Math.abs(b)<16&&(b*=60);return!this._isUTC&&c&&(d=Cb(this)),this._offset=b,this._isUTC=!0,null!=d&&this.add(d,"m"),e!==b&&(!c||this._changeInProgress?Tb(this,Ob(b-e,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,a.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?e:Cb(this)}function Eb(a,b){return null!=a?("string"!=typeof a&&(a=-a),this.utcOffset(a,b),this):-this.utcOffset()}function Fb(a){return this.utcOffset(0,a)}function Gb(a){return this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(Cb(this),"m")),this}function Hb(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var a=Ab(Te,this._i);null!=a?this.utcOffset(a):this.utcOffset(0,!0)}return this}function Ib(a){return!!this.isValid()&&(a=a?sb(a).utcOffset():0,(this.utcOffset()-a)%60===0)}function Jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Kb(){if(!p(this._isDSTShifted))return this._isDSTShifted;var a={};if(q(a,this),a=pb(a),a._a){var b=a._isUTC?k(a._a):sb(a._a);this._isDSTShifted=this.isValid()&&v(a._a,b.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Lb(){return!!this.isValid()&&!this._isUTC}function Mb(){return!!this.isValid()&&this._isUTC}function Nb(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ob(a,b){var c,d,e,g=a,h=null;return xb(a)?g={ms:a._milliseconds,d:a._days,M:a._months}:f(a)?(g={},b?g[b]=a:g.milliseconds=a):(h=Lf.exec(a))?(c="-"===h[1]?-1:1,g={y:0,d:u(h[_e])*c,h:u(h[af])*c,m:u(h[bf])*c,s:u(h[cf])*c,ms:u(yb(1e3*h[df]))*c}):(h=Mf.exec(a))?(c="-"===h[1]?-1:1,g={y:Pb(h[2],c),M:Pb(h[3],c),w:Pb(h[4],c),d:Pb(h[5],c),h:Pb(h[6],c),m:Pb(h[7],c),s:Pb(h[8],c)}):null==g?g={}:"object"==typeof g&&("from"in g||"to"in g)&&(e=Rb(sb(g.from),sb(g.to)),g={},g.ms=e.milliseconds,g.M=e.months),d=new wb(g),xb(a)&&i(a,"_locale")&&(d._locale=a._locale),d}function Pb(a,b){var c=a&&parseFloat(a.replace(",","."));return(isNaN(c)?0:c)*b}function Qb(a,b){var c={milliseconds:0,months:0};return c.months=b.month()-a.month()+12*(b.year()-a.year()),a.clone().add(c.months,"M").isAfter(b)&&--c.months,c.milliseconds=+b-+a.clone().add(c.months,"M"),c}function Rb(a,b){var c;return a.isValid()&&b.isValid()?(b=Bb(b,a),a.isBefore(b)?c=Qb(a,b):(c=Qb(b,a),c.milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0}}function Sb(a,b){return function(c,d){var e,f;return null===d||isNaN(+d)||(y(b,"moment()."+b+"(period, number) is deprecated. Please use moment()."+b+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),f=c,c=d,d=f),c="string"==typeof c?+c:c,e=Ob(c,d),Tb(this,e,a),this}}function Tb(b,c,d,e){var f=c._milliseconds,g=yb(c._days),h=yb(c._months);b.isValid()&&(e=null==e||e,f&&b._d.setTime(b._d.valueOf()+f*d),g&&Q(b,"Date",P(b,"Date")+g*d),h&&ja(b,P(b,"Month")+h*d),e&&a.updateOffset(b,g||h))}function Ub(a,b){var c=a.diff(b,"days",!0);return c<-6?"sameElse":c<-1?"lastWeek":c<0?"lastDay":c<1?"sameDay":c<2?"nextDay":c<7?"nextWeek":"sameElse"}function Vb(b,c){var d=b||sb(),e=Bb(d,this).startOf("day"),f=a.calendarFormat(this,e)||"sameElse",g=c&&(z(c[f])?c[f].call(this,d):c[f]);return this.format(g||this.localeData().calendar(f,this,sb(d)))}function Wb(){return new r(this)}function Xb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()>c.valueOf():c.valueOf()<this.clone().startOf(b).valueOf())}function Yb(a,b){var c=s(a)?a:sb(a);return!(!this.isValid()||!c.isValid())&&(b=K(p(b)?"millisecond":b),"millisecond"===b?this.valueOf()<c.valueOf():this.clone().endOf(b).valueOf()<c.valueOf())}function Zb(a,b,c,d){return d=d||"()",("("===d[0]?this.isAfter(a,c):!this.isBefore(a,c))&&(")"===d[1]?this.isBefore(b,c):!this.isAfter(b,c))}function $b(a,b){var c,d=s(a)?a:sb(a);return!(!this.isValid()||!d.isValid())&&(b=K(b||"millisecond"),"millisecond"===b?this.valueOf()===d.valueOf():(c=d.valueOf(),this.clone().startOf(b).valueOf()<=c&&c<=this.clone().endOf(b).valueOf()))}function _b(a,b){return this.isSame(a,b)||this.isAfter(a,b)}function ac(a,b){return this.isSame(a,b)||this.isBefore(a,b)}function bc(a,b,c){var d,e,f,g;return this.isValid()?(d=Bb(a,this),d.isValid()?(e=6e4*(d.utcOffset()-this.utcOffset()),b=K(b),"year"===b||"month"===b||"quarter"===b?(g=cc(this,d),"quarter"===b?g/=3:"year"===b&&(g/=12)):(f=this-d,g="second"===b?f/1e3:"minute"===b?f/6e4:"hour"===b?f/36e5:"day"===b?(f-e)/864e5:"week"===b?(f-e)/6048e5:f),c?g:t(g)):NaN):NaN}function cc(a,b){var c,d,e=12*(b.year()-a.year())+(b.month()-a.month()),f=a.clone().add(e,"months");return b-f<0?(c=a.clone().add(e-1,"months"),d=(b-f)/(f-c)):(c=a.clone().add(e+1,"months"),d=(b-f)/(c-f)),-(e+d)||0}function dc(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ec(){var a=this.clone().utc();return 0<a.year()&&a.year()<=9999?z(Date.prototype.toISOString)?this.toDate().toISOString():X(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):X(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function fc(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var a="moment",b="";this.isLocal()||(a=0===this.utcOffset()?"moment.utc":"moment.parseZone",b="Z");var c="["+a+'("]',d=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",e="-MM-DD[T]HH:mm:ss.SSS",f=b+'[")]';return this.format(c+d+e+f)}function gc(b){b||(b=this.isUtc()?a.defaultFormatUtc:a.defaultFormat);var c=X(this,b);return this.localeData().postformat(c)}function hc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({to:this,from:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function ic(a){return this.from(sb(),a)}function jc(a,b){return this.isValid()&&(s(a)&&a.isValid()||sb(a).isValid())?Ob({from:this,to:a}).locale(this.locale()).humanize(!b):this.localeData().invalidDate()}function kc(a){return this.to(sb(),a)}function lc(a){var b;return void 0===a?this._locale._abbr:(b=bb(a),null!=b&&(this._locale=b),this)}function mc(){return this._locale}function nc(a){switch(a=K(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a&&this.weekday(0),"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this}function oc(a){return a=K(a),void 0===a||"millisecond"===a?this:("date"===a&&(a="day"),this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms"))}function pc(){return this._d.valueOf()-6e4*(this._offset||0)}function qc(){return Math.floor(this.valueOf()/1e3)}function rc(){return new Date(this.valueOf())}function sc(){var a=this;return[a.year(),a.month(),a.date(),a.hour(),a.minute(),a.second(),a.millisecond()]}function tc(){var a=this;return{years:a.year(),months:a.month(),date:a.date(),hours:a.hours(),minutes:a.minutes(),seconds:a.seconds(),milliseconds:a.milliseconds()}}function uc(){return this.isValid()?this.toISOString():null}function vc(){return n(this)}function wc(){return j({},m(this))}function xc(){return m(this).overflow}function yc(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function zc(a,b){U(0,[a,a.length],0,b)}function Ac(a){return Ec.call(this,a,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bc(a){return Ec.call(this,a,this.isoWeek(),this.isoWeekday(),1,4)}function Cc(){return xa(this.year(),1,4)}function Dc(){var a=this.localeData()._week;return xa(this.year(),a.dow,a.doy)}function Ec(a,b,c,d,e){var f;return null==a?wa(this,d,e).year:(f=xa(a,d,e),b>f&&(b=f),Fc.call(this,a,b,c,d,e))}function Fc(a,b,c,d,e){var f=va(a,b,c,d,e),g=ta(f.year,0,f.dayOfYear);return this.year(g.getUTCFullYear()),this.month(g.getUTCMonth()),this.date(g.getUTCDate()),this}function Gc(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)}function Hc(a){var b=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==a?b:this.add(a-b,"d")}function Ic(a,b){b[df]=u(1e3*("0."+a))}function Jc(){return this._isUTC?"UTC":""}function Kc(){return this._isUTC?"Coordinated Universal Time":""}function Lc(a){return sb(1e3*a)}function Mc(){return sb.apply(null,arguments).parseZone()}function Nc(a){return a}function Oc(a,b,c,d){var e=bb(),f=k().set(d,b);return e[c](f,a)}function Pc(a,b,c){if(f(a)&&(b=a,a=void 0),a=a||"",null!=b)return Oc(a,b,c,"month");var d,e=[];for(d=0;d<12;d++)e[d]=Oc(a,d,c,"month");return e}function Qc(a,b,c,d){"boolean"==typeof a?(f(b)&&(c=b,b=void 0),b=b||""):(b=a,c=b,a=!1,f(b)&&(c=b,b=void 0),b=b||"");var e=bb(),g=a?e._week.dow:0;if(null!=c)return Oc(b,(c+g)%7,d,"day");var h,i=[];for(h=0;h<7;h++)i[h]=Oc(b,(h+g)%7,d,"day");return i}function Rc(a,b){return Pc(a,b,"months")}function Sc(a,b){return Pc(a,b,"monthsShort")}function Tc(a,b,c){return Qc(a,b,c,"weekdays")}function Uc(a,b,c){return Qc(a,b,c,"weekdaysShort")}function Vc(a,b,c){return Qc(a,b,c,"weekdaysMin")}function Wc(){var a=this._data;return this._milliseconds=Xf(this._milliseconds),this._days=Xf(this._days),this._months=Xf(this._months),a.milliseconds=Xf(a.milliseconds),a.seconds=Xf(a.seconds),a.minutes=Xf(a.minutes),a.hours=Xf(a.hours),a.months=Xf(a.months),a.years=Xf(a.years),this}function Xc(a,b,c,d){var e=Ob(b,c);return a._milliseconds+=d*e._milliseconds,a._days+=d*e._days,a._months+=d*e._months,a._bubble()}function Yc(a,b){return Xc(this,a,b,1)}function Zc(a,b){return Xc(this,a,b,-1)}function $c(a){return a<0?Math.floor(a):Math.ceil(a)}function _c(){var a,b,c,d,e,f=this._milliseconds,g=this._days,h=this._months,i=this._data;return f>=0&&g>=0&&h>=0||f<=0&&g<=0&&h<=0||(f+=864e5*$c(bd(h)+g),g=0,h=0),i.milliseconds=f%1e3,a=t(f/1e3),i.seconds=a%60,b=t(a/60),i.minutes=b%60,c=t(b/60),i.hours=c%24,g+=t(c/24),e=t(ad(g)),h+=e,g-=$c(bd(e)),d=t(h/12),h%=12,i.days=g,i.months=h,i.years=d,this}function ad(a){return 4800*a/146097}function bd(a){return 146097*a/4800}function cd(a){var b,c,d=this._milliseconds;if(a=K(a),"month"===a||"year"===a)return b=this._days+d/864e5,c=this._months+ad(b),"month"===a?c:c/12;switch(b=this._days+Math.round(bd(this._months)),a){case"week":return b/7+d/6048e5;case"day":return b+d/864e5;case"hour":return 24*b+d/36e5;case"minute":return 1440*b+d/6e4;case"second":return 86400*b+d/1e3;case"millisecond":return Math.floor(864e5*b)+d;default:throw new Error("Unknown unit "+a)}}function dd(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*u(this._months/12)}function ed(a){return function(){return this.as(a)}}function fd(a){return a=K(a),this[a+"s"]()}function gd(a){return function(){return this._data[a]}}function hd(){return t(this.days()/7)}function id(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function jd(a,b,c){var d=Ob(a).abs(),e=lg(d.as("s")),f=lg(d.as("m")),g=lg(d.as("h")),h=lg(d.as("d")),i=lg(d.as("M")),j=lg(d.as("y")),k=e<mg.s&&["s",e]||f<=1&&["m"]||f<mg.m&&["mm",f]||g<=1&&["h"]||g<mg.h&&["hh",g]||h<=1&&["d"]||h<mg.d&&["dd",h]||i<=1&&["M"]||i<mg.M&&["MM",i]||j<=1&&["y"]||["yy",j];return k[2]=b,k[3]=+a>0,k[4]=c,id.apply(null,k)}function kd(a){return void 0===a?lg:"function"==typeof a&&(lg=a,!0)}function ld(a,b){return void 0!==mg[a]&&(void 0===b?mg[a]:(mg[a]=b,!0))}function md(a){var b=this.localeData(),c=jd(this,!a,b);return a&&(c=b.pastFuture(+this,c)),b.postformat(c)}function nd(){var a,b,c,d=ng(this._milliseconds)/1e3,e=ng(this._days),f=ng(this._months);a=t(d/60),b=t(a/60),d%=60,a%=60,c=t(f/12),f%=12;var g=c,h=f,i=e,j=b,k=a,l=d,m=this.asSeconds();return m?(m<0?"-":"")+"P"+(g?g+"Y":"")+(h?h+"M":"")+(i?i+"D":"")+(j||k||l?"T":"")+(j?j+"H":"")+(k?k+"M":"")+(l?l+"S":""):"P0D"}function od(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function pd(a,b,c){var d={mm:b?"__":"__",hh:b?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+od(d[c],+a)}function qd(a,b,c){var d={mm:"munutenn",MM:"miz",dd:"devezh"};return a+" "+td(d[c],a)}function rd(a){switch(sd(a)){case 1:case 3:case 4:case 5:case 9:return a+" bloaz";default:return a+" vloaz"}}function sd(a){return a>9?sd(a%10):a}function td(a,b){return 2===b?ud(a):a}function ud(a){var b={m:"v",b:"v",d:"z"};return void 0===b[a.charAt(0)]?a:b[a.charAt(0)]+a.substring(1)}function vd(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function wd(a){return a>1&&a<5&&1!==~~(a/10)}function xd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr sekund":"pr sekundami";case"m":return b?"minuta":d?"minutu":"minutou";case"mm":return b||d?e+(wd(a)?"minuty":"minut"):e+"minutami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(wd(a)?"hodiny":"hodin"):e+"hodinami";case"d":return b||d?"den":"dnem";case"dd":return b||d?e+(wd(a)?"dny":"dn"):e+"dny";case"M":return b||d?"msc":"mscem";case"MM":return b||d?e+(wd(a)?"msce":"msc"):e+"msci";case"y":return b||d?"rok":"rokem";case"yy":return b||d?e+(wd(a)?"roky":"let"):e+"lety"}}function yd(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function zd(a,b,c,d){var e={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[a+" Tage",a+" Tagen"],M:["ein Monat","einem Monat"],MM:[a+" Monate",a+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[a+" Jahre",a+" Jahren"]};return b?e[c][0]:e[c][1]}function Ad(a,b,c,d){var e={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[a+" minuti",a+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[a+" tunni",a+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[a+" kuu",a+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[a+" aasta",a+" aastat"]};return b?e[c][2]?e[c][2]:e[c][1]:d?e[c][0]:e[c][1]}function Bd(a,b,c,d){var e="";switch(c){case"s":return d?"muutaman sekunnin":"muutama sekunti";case"m":return d?"minuutin":"minuutti";case"mm":e=d?"minuutin":"minuuttia";break;case"h":return d?"tunnin":"tunti";case"hh":e=d?"tunnin":"tuntia";break;case"d":return d?"pivn":"piv";case"dd":e=d?"pivn":"piv";break;case"M":return d?"kuukauden":"kuukausi";case"MM":e=d?"kuukauden":"kuukautta";break;case"y":return d?"vuoden":"vuosi";case"yy":e=d?"vuoden":"vuotta"}return e=Cd(a,d)+" "+e}function Cd(a,b){return a<10?b?Sg[a]:Rg[a]:a}function Dd(a,b,c){var d=a+" ";switch(c){case"m":return b?"jedna minuta":"jedne minute";case"mm":return d+=1===a?"minuta":2===a||3===a||4===a?"minute":"minuta";case"h":return b?"jedan sat":"jednog sata";case"hh":return d+=1===a?"sat":2===a||3===a||4===a?"sata":"sati";case"dd":return d+=1===a?"dan":"dana";case"MM":return d+=1===a?"mjesec":2===a||3===a||4===a?"mjeseca":"mjeseci";case"yy":return d+=1===a?"godina":2===a||3===a||4===a?"godine":"godina"}}function Ed(a,b,c,d){var e=a;switch(c){case"s":return d||b?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(d||b?" perc":" perce");case"mm":return e+(d||b?" perc":" perce");case"h":return"egy"+(d||b?" ra":" rja");case"hh":return e+(d||b?" ra":" rja");case"d":return"egy"+(d||b?" nap":" napja");case"dd":return e+(d||b?" nap":" napja");case"M":return"egy"+(d||b?" hnap":" hnapja");case"MM":return e+(d||b?" hnap":" hnapja");case"y":return"egy"+(d||b?" v":" ve");case"yy":return e+(d||b?" v":" ve")}return""}function Fd(a){return(a?"":"[mlt] ")+"["+ah[this.day()]+"] LT[-kor]"}function Gd(a){return a%100===11||a%10!==1}function Hd(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nokkrar sekndur":"nokkrum sekndum";case"m":return b?"mnta":"mntu";case"mm":return Gd(a)?e+(b||d?"mntur":"mntum"):b?e+"mnta":e+"mntu";case"hh":return Gd(a)?e+(b||d?"klukkustundir":"klukkustundum"):e+"klukkustund";case"d":return b?"dagur":d?"dag":"degi";case"dd":return Gd(a)?b?e+"dagar":e+(d?"daga":"dgum"):b?e+"dagur":e+(d?"dag":"degi");case"M":return b?"mnuur":d?"mnu":"mnui";case"MM":return Gd(a)?b?e+"mnuir":e+(d?"mnui":"mnuum"):b?e+"mnuur":e+(d?"mnu":"mnui");case"y":return b||d?"r":"ri";case"yy":return Gd(a)?e+(b||d?"r":"rum"):e+(b||d?"r":"ri")}}function Id(a,b,c,d){var e={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return b?e[c][0]:e[c][1]}function Jd(a){var b=a.substr(0,a.indexOf(" "));return Ld(b)?"a "+a:"an "+a}function Kd(a){var b=a.substr(0,a.indexOf(" "));return Ld(b)?"viru "+a:"virun "+a}function Ld(a){if(a=parseInt(a,10),isNaN(a))return!1;
    if(a<0)return!0;if(a<10)return 4<=a&&a<=7;if(a<100){var b=a%10,c=a/10;return Ld(0===b?c:b)}if(a<1e4){for(;a>=10;)a/=10;return Ld(a)}return a/=1e3,Ld(a)}function Md(a,b,c,d){return b?"kelios sekunds":d?"keli sekundi":"kelias sekundes"}function Nd(a,b,c,d){return b?Pd(c)[0]:d?Pd(c)[1]:Pd(c)[2]}function Od(a){return a%10===0||a>10&&a<20}function Pd(a){return dh[a].split("_")}function Qd(a,b,c,d){var e=a+" ";return 1===a?e+Nd(a,b,c[0],d):b?e+(Od(a)?Pd(c)[1]:Pd(c)[0]):d?e+Pd(c)[1]:e+(Od(a)?Pd(c)[1]:Pd(c)[2])}function Rd(a,b,c){return c?b%10===1&&b%100!==11?a[2]:a[3]:b%10===1&&b%100!==11?a[0]:a[1]}function Sd(a,b,c){return a+" "+Rd(eh[c],a,b)}function Td(a,b,c){return Rd(eh[c],a,b)}function Ud(a,b){return b?"daas sekundes":"dam sekundm"}function Vd(a,b,c,d){var e="";if(b)switch(c){case"s":e=" ";break;case"m":e=" ";break;case"mm":e="%d ";break;case"h":e=" ";break;case"hh":e="%d ";break;case"d":e=" ";break;case"dd":e="%d ";break;case"M":e=" ";break;case"MM":e="%d ";break;case"y":e=" ";break;case"yy":e="%d "}else switch(c){case"s":e=" ";break;case"m":e=" ";break;case"mm":e="%d ";break;case"h":e=" ";break;case"hh":e="%d ";break;case"d":e=" ";break;case"dd":e="%d ";break;case"M":e=" ";break;case"MM":e="%d ";break;case"y":e=" ";break;case"yy":e="%d "}return e.replace(/%d/i,a)}function Wd(a){return a%10<5&&a%10>1&&~~(a/10)%10!==1}function Xd(a,b,c){var d=a+" ";switch(c){case"m":return b?"minuta":"minut";case"mm":return d+(Wd(a)?"minuty":"minut");case"h":return b?"godzina":"godzin";case"hh":return d+(Wd(a)?"godziny":"godzin");case"MM":return d+(Wd(a)?"miesice":"miesicy");case"yy":return d+(Wd(a)?"lata":"lat")}}function Yd(a,b,c){var d={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},e=" ";return(a%100>=20||a>=100&&a%100===0)&&(e=" de "),a+e+d[c]}function Zd(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function $d(a,b,c){var d={mm:b?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":a+" "+Zd(d[c],+a)}function _d(a){return a>1&&a<5}function ae(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"pr seknd":"pr sekundami";case"m":return b?"minta":d?"mintu":"mintou";case"mm":return b||d?e+(_d(a)?"minty":"mint"):e+"mintami";case"h":return b?"hodina":d?"hodinu":"hodinou";case"hh":return b||d?e+(_d(a)?"hodiny":"hodn"):e+"hodinami";case"d":return b||d?"de":"dom";case"dd":return b||d?e+(_d(a)?"dni":"dn"):e+"dami";case"M":return b||d?"mesiac":"mesiacom";case"MM":return b||d?e+(_d(a)?"mesiace":"mesiacov"):e+"mesiacmi";case"y":return b||d?"rok":"rokom";case"yy":return b||d?e+(_d(a)?"roky":"rokov"):e+"rokmi"}}function be(a,b,c,d){var e=a+" ";switch(c){case"s":return b||d?"nekaj sekund":"nekaj sekundami";case"m":return b?"ena minuta":"eno minuto";case"mm":return e+=1===a?b?"minuta":"minuto":2===a?b||d?"minuti":"minutama":a<5?b||d?"minute":"minutami":b||d?"minut":"minutami";case"h":return b?"ena ura":"eno uro";case"hh":return e+=1===a?b?"ura":"uro":2===a?b||d?"uri":"urama":a<5?b||d?"ure":"urami":b||d?"ur":"urami";case"d":return b||d?"en dan":"enim dnem";case"dd":return e+=1===a?b||d?"dan":"dnem":2===a?b||d?"dni":"dnevoma":b||d?"dni":"dnevi";case"M":return b||d?"en mesec":"enim mesecem";case"MM":return e+=1===a?b||d?"mesec":"mesecem":2===a?b||d?"meseca":"mesecema":a<5?b||d?"mesece":"meseci":b||d?"mesecev":"meseci";case"y":return b||d?"eno leto":"enim letom";case"yy":return e+=1===a?b||d?"leto":"letom":2===a?b||d?"leti":"letoma":a<5?b||d?"leta":"leti":b||d?"let":"leti"}}function ce(a){var b=a;return b=a.indexOf("jaj")!==-1?b.slice(0,-3)+"leS":a.indexOf("jar")!==-1?b.slice(0,-3)+"waQ":a.indexOf("DIS")!==-1?b.slice(0,-3)+"nem":b+" pIq"}function de(a){var b=a;return b=a.indexOf("jaj")!==-1?b.slice(0,-3)+"Hu":a.indexOf("jar")!==-1?b.slice(0,-3)+"wen":a.indexOf("DIS")!==-1?b.slice(0,-3)+"ben":b+" ret"}function ee(a,b,c,d){var e=fe(a);switch(c){case"mm":return e+" tup";case"hh":return e+" rep";case"dd":return e+" jaj";case"MM":return e+" jar";case"yy":return e+" DIS"}}function fe(a){var b=Math.floor(a%1e3/100),c=Math.floor(a%100/10),d=a%10,e="";return b>0&&(e+=Fh[b]+"vatlh"),c>0&&(e+=(""!==e?" ":"")+Fh[c]+"maH"),d>0&&(e+=(""!==e?" ":"")+Fh[d]),""===e?"pagh":e}function ge(a,b,c,d){var e={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[a+" muts",""+a+" muts"],h:["'n ora","'iensa ora"],hh:[a+" oras",""+a+" oras"],d:["'n ziua","'iensa ziua"],dd:[a+" ziuas",""+a+" ziuas"],M:["'n mes","'iens mes"],MM:[a+" mesen",""+a+" mesen"],y:["'n ar","'iens ar"],yy:[a+" ars",""+a+" ars"]};return d?e[c][0]:b?e[c][0]:e[c][1]}function he(a,b){var c=a.split("_");return b%10===1&&b%100!==11?c[0]:b%10>=2&&b%10<=4&&(b%100<10||b%100>=20)?c[1]:c[2]}function ie(a,b,c){var d={mm:b?"__":"__",hh:b?"__":"__",dd:"__",MM:"__",yy:"__"};return"m"===c?b?"":"":"h"===c?b?"":"":a+" "+he(d[c],+a)}function je(a,b){var c={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},d=/(\[[]\]) ?dddd/.test(b)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(b)?"genitive":"nominative";return c[d][a.day()]}function ke(a){return function(){return a+""+(11===this.hours()?"":"")+"] LT"}}var le,me;me=Array.prototype.some?Array.prototype.some:function(a){for(var b=Object(this),c=b.length>>>0,d=0;d<c;d++)if(d in b&&a.call(this,b[d],d,b))return!0;return!1};var ne=me,oe=a.momentProperties=[],pe=!1,qe={};a.suppressDeprecationWarnings=!1,a.deprecationHandler=null;var re;re=Object.keys?Object.keys:function(a){var b,c=[];for(b in a)i(a,b)&&c.push(b);return c};var se,te=re,ue={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},ve={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},we="Invalid date",xe="%d",ye=/\d{1,2}/,ze={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ae={},Be={},Ce=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,De=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ee={},Fe={},Ge=/\d/,He=/\d\d/,Ie=/\d{3}/,Je=/\d{4}/,Ke=/[+-]?\d{6}/,Le=/\d\d?/,Me=/\d\d\d\d?/,Ne=/\d\d\d\d\d\d?/,Oe=/\d{1,3}/,Pe=/\d{1,4}/,Qe=/[+-]?\d{1,6}/,Re=/\d+/,Se=/[+-]?\d+/,Te=/Z|[+-]\d\d:?\d\d/gi,Ue=/Z|[+-]\d\d(?::?\d\d)?/gi,Ve=/[+-]?\d+(\.\d{1,3})?/,We=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xe={},Ye={},Ze=0,$e=1,_e=2,af=3,bf=4,cf=5,df=6,ef=7,ff=8;se=Array.prototype.indexOf?Array.prototype.indexOf:function(a){var b;for(b=0;b<this.length;++b)if(this[b]===a)return b;return-1};var gf=se;U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(a){return this.localeData().monthsShort(this,a)}),U("MMMM",0,0,function(a){return this.localeData().months(this,a)}),J("month","M"),M("month",8),Z("M",Le),Z("MM",Le,He),Z("MMM",function(a,b){return b.monthsShortRegex(a)}),Z("MMMM",function(a,b){return b.monthsRegex(a)}),ba(["M","MM"],function(a,b){b[$e]=u(a)-1}),ba(["MMM","MMMM"],function(a,b,c,d){var e=c._locale.monthsParse(a,d,c._strict);null!=e?b[$e]=e:m(c).invalidMonth=a});var hf=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jf="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),kf="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lf=We,mf=We;U("Y",0,0,function(){var a=this.year();return a<=9999?""+a:"+"+a}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),J("year","y"),M("year",1),Z("Y",Se),Z("YY",Le,He),Z("YYYY",Pe,Je),Z("YYYYY",Qe,Ke),Z("YYYYYY",Qe,Ke),ba(["YYYYY","YYYYYY"],Ze),ba("YYYY",function(b,c){c[Ze]=2===b.length?a.parseTwoDigitYear(b):u(b)}),ba("YY",function(b,c){c[Ze]=a.parseTwoDigitYear(b)}),ba("Y",function(a,b){b[Ze]=parseInt(a,10)}),a.parseTwoDigitYear=function(a){return u(a)+(u(a)>68?1900:2e3)};var nf=O("FullYear",!0);U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),J("week","w"),J("isoWeek","W"),M("week",5),M("isoWeek",5),Z("w",Le),Z("ww",Le,He),Z("W",Le),Z("WW",Le,He),ca(["w","ww","W","WW"],function(a,b,c,d){b[d.substr(0,1)]=u(a)});var of={dow:0,doy:6};U("d",0,"do","day"),U("dd",0,0,function(a){return this.localeData().weekdaysMin(this,a)}),U("ddd",0,0,function(a){return this.localeData().weekdaysShort(this,a)}),U("dddd",0,0,function(a){return this.localeData().weekdays(this,a)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),J("day","d"),J("weekday","e"),J("isoWeekday","E"),M("day",11),M("weekday",11),M("isoWeekday",11),Z("d",Le),Z("e",Le),Z("E",Le),Z("dd",function(a,b){return b.weekdaysMinRegex(a)}),Z("ddd",function(a,b){return b.weekdaysShortRegex(a)}),Z("dddd",function(a,b){return b.weekdaysRegex(a)}),ca(["dd","ddd","dddd"],function(a,b,c,d){var e=c._locale.weekdaysParse(a,d,c._strict);null!=e?b.d=e:m(c).invalidWeekday=a}),ca(["d","e","E"],function(a,b,c,d){b[d]=u(a)});var pf="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qf="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),rf="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),sf=We,tf=We,uf=We;U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ra),U("k",["kk",2],0,Sa),U("hmm",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Ra.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ta("a",!0),Ta("A",!1),J("hour","h"),M("hour",13),Z("a",Ua),Z("A",Ua),Z("H",Le),Z("h",Le),Z("HH",Le,He),Z("hh",Le,He),Z("hmm",Me),Z("hmmss",Ne),Z("Hmm",Me),Z("Hmmss",Ne),ba(["H","HH"],af),ba(["a","A"],function(a,b,c){c._isPm=c._locale.isPM(a),c._meridiem=a}),ba(["h","hh"],function(a,b,c){b[af]=u(a),m(c).bigHour=!0}),ba("hmm",function(a,b,c){var d=a.length-2;b[af]=u(a.substr(0,d)),b[bf]=u(a.substr(d)),m(c).bigHour=!0}),ba("hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[af]=u(a.substr(0,d)),b[bf]=u(a.substr(d,2)),b[cf]=u(a.substr(e)),m(c).bigHour=!0}),ba("Hmm",function(a,b,c){var d=a.length-2;b[af]=u(a.substr(0,d)),b[bf]=u(a.substr(d))}),ba("Hmmss",function(a,b,c){var d=a.length-4,e=a.length-2;b[af]=u(a.substr(0,d)),b[bf]=u(a.substr(d,2)),b[cf]=u(a.substr(e))});var vf,wf=/[ap]\.?m?\.?/i,xf=O("Hours",!0),yf={calendar:ue,longDateFormat:ve,invalidDate:we,ordinal:xe,ordinalParse:ye,relativeTime:ze,months:jf,monthsShort:kf,week:of,weekdays:pf,weekdaysMin:rf,weekdaysShort:qf,meridiemParse:wf},zf={},Af={},Bf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Df=/Z|[+-]\d\d(?::?\d\d)?/,Ef=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ff=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gf=/^\/?Date\((\-?\d+)/i;a.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))}),a.ISO_8601=function(){};var Hf=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a<this?this:a:o()}),If=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var a=sb.apply(null,arguments);return this.isValid()&&a.isValid()?a>this?this:a:o()}),Jf=function(){return Date.now?Date.now():+new Date};zb("Z",":"),zb("ZZ",""),Z("Z",Ue),Z("ZZ",Ue),ba(["Z","ZZ"],function(a,b,c){c._useUTC=!0,c._tzm=Ab(Ue,a)});var Kf=/([\+\-]|\d\d)/gi;a.updateOffset=function(){};var Lf=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Mf=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ob.fn=wb.prototype;var Nf=Sb(1,"add"),Of=Sb(-1,"subtract");a.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",a.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Pf=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(a){return void 0===a?this.localeData():this.locale(a)});U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),zc("gggg","weekYear"),zc("ggggg","weekYear"),zc("GGGG","isoWeekYear"),zc("GGGGG","isoWeekYear"),J("weekYear","gg"),J("isoWeekYear","GG"),M("weekYear",1),M("isoWeekYear",1),Z("G",Se),Z("g",Se),Z("GG",Le,He),Z("gg",Le,He),Z("GGGG",Pe,Je),Z("gggg",Pe,Je),Z("GGGGG",Qe,Ke),Z("ggggg",Qe,Ke),ca(["gggg","ggggg","GGGG","GGGGG"],function(a,b,c,d){b[d.substr(0,2)]=u(a)}),ca(["gg","GG"],function(b,c,d,e){c[e]=a.parseTwoDigitYear(b)}),U("Q",0,"Qo","quarter"),J("quarter","Q"),M("quarter",7),Z("Q",Ge),ba("Q",function(a,b){b[$e]=3*(u(a)-1)}),U("D",["DD",2],"Do","date"),J("date","D"),M("date",9),Z("D",Le),Z("DD",Le,He),Z("Do",function(a,b){return a?b._ordinalParse:b._ordinalParseLenient}),ba(["D","DD"],_e),ba("Do",function(a,b){b[_e]=u(a.match(Le)[0],10)});var Qf=O("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),J("dayOfYear","DDD"),M("dayOfYear",4),Z("DDD",Oe),Z("DDDD",Ie),ba(["DDD","DDDD"],function(a,b,c){c._dayOfYear=u(a)}),U("m",["mm",2],0,"minute"),J("minute","m"),M("minute",14),Z("m",Le),Z("mm",Le,He),ba(["m","mm"],bf);var Rf=O("Minutes",!1);U("s",["ss",2],0,"second"),J("second","s"),M("second",15),Z("s",Le),Z("ss",Le,He),ba(["s","ss"],cf);var Sf=O("Seconds",!1);U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),J("millisecond","ms"),M("millisecond",16),Z("S",Oe,Ge),Z("SS",Oe,He),Z("SSS",Oe,Ie);var Tf;for(Tf="SSSS";Tf.length<=9;Tf+="S")Z(Tf,Re);for(Tf="S";Tf.length<=9;Tf+="S")ba(Tf,Ic);var Uf=O("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Vf=r.prototype;Vf.add=Nf,Vf.calendar=Vb,Vf.clone=Wb,Vf.diff=bc,Vf.endOf=oc,Vf.format=gc,Vf.from=hc,Vf.fromNow=ic,Vf.to=jc,Vf.toNow=kc,Vf.get=R,Vf.invalidAt=xc,Vf.isAfter=Xb,Vf.isBefore=Yb,Vf.isBetween=Zb,Vf.isSame=$b,Vf.isSameOrAfter=_b,Vf.isSameOrBefore=ac,Vf.isValid=vc,Vf.lang=Pf,Vf.locale=lc,Vf.localeData=mc,Vf.max=If,Vf.min=Hf,Vf.parsingFlags=wc,Vf.set=S,Vf.startOf=nc,Vf.subtract=Of,Vf.toArray=sc,Vf.toObject=tc,Vf.toDate=rc,Vf.toISOString=ec,Vf.inspect=fc,Vf.toJSON=uc,Vf.toString=dc,Vf.unix=qc,Vf.valueOf=pc,Vf.creationData=yc,Vf.year=nf,Vf.isLeapYear=ra,Vf.weekYear=Ac,Vf.isoWeekYear=Bc,Vf.quarter=Vf.quarters=Gc,Vf.month=ka,Vf.daysInMonth=la,Vf.week=Vf.weeks=Ba,Vf.isoWeek=Vf.isoWeeks=Ca,Vf.weeksInYear=Dc,Vf.isoWeeksInYear=Cc,Vf.date=Qf,Vf.day=Vf.days=Ka,Vf.weekday=La,Vf.isoWeekday=Ma,Vf.dayOfYear=Hc,Vf.hour=Vf.hours=xf,Vf.minute=Vf.minutes=Rf,Vf.second=Vf.seconds=Sf,Vf.millisecond=Vf.milliseconds=Uf,Vf.utcOffset=Db,Vf.utc=Fb,Vf.local=Gb,Vf.parseZone=Hb,Vf.hasAlignedHourOffset=Ib,Vf.isDST=Jb,Vf.isLocal=Lb,Vf.isUtcOffset=Mb,Vf.isUtc=Nb,Vf.isUTC=Nb,Vf.zoneAbbr=Jc,Vf.zoneName=Kc,Vf.dates=x("dates accessor is deprecated. Use date instead.",Qf),Vf.months=x("months accessor is deprecated. Use month instead",ka),Vf.years=x("years accessor is deprecated. Use year instead",nf),Vf.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Eb),Vf.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Kb);var Wf=C.prototype;Wf.calendar=D,Wf.longDateFormat=E,Wf.invalidDate=F,Wf.ordinal=G,Wf.preparse=Nc,Wf.postformat=Nc,Wf.relativeTime=H,Wf.pastFuture=I,Wf.set=A,Wf.months=fa,Wf.monthsShort=ga,Wf.monthsParse=ia,Wf.monthsRegex=na,Wf.monthsShortRegex=ma,Wf.week=ya,Wf.firstDayOfYear=Aa,Wf.firstDayOfWeek=za,Wf.weekdays=Fa,Wf.weekdaysMin=Ha,Wf.weekdaysShort=Ga,Wf.weekdaysParse=Ja,Wf.weekdaysRegex=Na,Wf.weekdaysShortRegex=Oa,Wf.weekdaysMinRegex=Pa,Wf.isPM=Va,Wf.meridiem=Wa,$a("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===u(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.lang=x("moment.lang is deprecated. Use moment.locale instead.",$a),a.langData=x("moment.langData is deprecated. Use moment.localeData instead.",bb);var Xf=Math.abs,Yf=ed("ms"),Zf=ed("s"),$f=ed("m"),_f=ed("h"),ag=ed("d"),bg=ed("w"),cg=ed("M"),dg=ed("y"),eg=gd("milliseconds"),fg=gd("seconds"),gg=gd("minutes"),hg=gd("hours"),ig=gd("days"),jg=gd("months"),kg=gd("years"),lg=Math.round,mg={s:45,m:45,h:22,d:26,M:11},ng=Math.abs,og=wb.prototype;og.abs=Wc,og.add=Yc,og.subtract=Zc,og.as=cd,og.asMilliseconds=Yf,og.asSeconds=Zf,og.asMinutes=$f,og.asHours=_f,og.asDays=ag,og.asWeeks=bg,og.asMonths=cg,og.asYears=dg,og.valueOf=dd,og._bubble=_c,og.get=fd,og.milliseconds=eg,og.seconds=fg,og.minutes=gg,og.hours=hg,og.days=ig,og.weeks=hd,og.months=jg,og.years=kg,og.humanize=md,og.toISOString=nd,og.toString=nd,og.toJSON=nd,og.locale=lc,og.localeData=mc,og.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nd),og.lang=Pf,U("X",0,0,"unix"),U("x",0,0,"valueOf"),Z("x",Se),Z("X",Ve),ba("X",function(a,b,c){c._d=new Date(1e3*parseFloat(a,10))}),ba("x",function(a,b,c){c._d=new Date(u(a))}),a.version="2.17.1",b(sb),a.fn=Vf,a.min=ub,a.max=vb,a.now=Jf,a.utc=k,a.unix=Lc,a.months=Rc,a.isDate=g,a.locale=$a,a.invalid=o,a.duration=Ob,a.isMoment=s,a.weekdays=Tc,a.parseZone=Mc,a.localeData=bb,a.isDuration=xb,a.monthsShort=Sc,a.weekdaysMin=Vc,a.defineLocale=_a,a.updateLocale=ab,a.locales=cb,a.weekdaysShort=Uc,a.normalizeUnits=K,a.relativeTimeRounding=kd,a.relativeTimeThreshold=ld,a.calendarFormat=Ub,a.prototype=Vf,a.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(a){return/^nm$/i.test(a)},meridiem:function(a,b,c){return a<12?c?"vm":"VM":c?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),a.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}});var pg={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},qg=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5},rg={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},sg=function(a){return function(b,c,d,e){var f=qg(b),g=rg[a][qg(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},tg=["","","","","","","","","","","",""];a.defineLocale("ar-ly",{months:tg,monthsShort:tg,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:sg("s"),m:sg("m"),mm:sg("m"),h:sg("h"),hh:sg("h"),d:sg("d"),dd:sg("d"),M:sg("M"),MM:sg("M"),y:sg("y"),yy:sg("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return pg[a]}).replace(/,/g,"")},week:{dow:6,doy:12}}),a.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var ug={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return vg[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return ug[a]}).replace(/,/g,"")},week:{dow:0,doy:6}}),a.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var wg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},xg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},yg=function(a){return 0===a?0:1===a?1:2===a?2:a%100>=3&&a%100<=10?3:a%100>=11?4:5},zg={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},Ag=function(a){return function(b,c,d,e){var f=yg(b),g=zg[a][yg(b)];return 2===f&&(g=g[c?0:1]),g.replace(/%d/i,b)}},Bg=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];a.defineLocale("ar",{months:Bg,monthsShort:Bg,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:Ag("s"),m:Ag("m"),mm:Ag("m"),h:Ag("h"),hh:Ag("h"),d:Ag("d"),dd:Ag("d"),M:Ag("M"),MM:Ag("M"),y:Ag("y"),yy:Ag("y")},preparse:function(a){return a.replace(/\u200f/g,"").replace(/[]/g,function(a){return xg[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return wg[a]}).replace(/,/g,"")},week:{dow:6,doy:12}});var Cg={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};a.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(a){return/^(gndz|axam)$/.test(a)},meridiem:function(a,b,c){return a<4?"gec":a<12?"shr":a<17?"gndz":"axam"},ordinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(a){if(0===a)return a+"-nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Cg[b]||Cg[c]||Cg[d])},week:{dow:1,doy:7}}),a.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:pd,mm:pd,h:pd,hh:pd,d:"",dd:pd,M:"",MM:pd,y:"",yy:pd},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return a<4?"":a<12?"":a<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a%10!==2&&a%10!==3||a%100===12||a%100===13?a+"-":a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),a.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),
    weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&c<20?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}});var Dg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Eg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Eg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Dg[a]})},meridiemParse:/||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b&&a>=4||""===b&&a<5||""===b?a+12:a},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}});var Fg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Gg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return Gg[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Fg[a]})},meridiemParse:/||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b&&a>=4||""===b&&a<5||""===b?a+12:a},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}}),a.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:qd,h:"un eur",hh:"%d eur",d:"un devezh",dd:qd,M:"ur miz",MM:qd,y:"ur bloaz",yy:rd},ordinalParse:/\d{1,2}(a|vet)/,ordinal:function(a){var b=1===a?"a":"vet";return a+b},week:{dow:1,doy:4}}),a.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:vd,mm:vd,h:vd,hh:vd,d:"dan",dd:vd,M:"mjesec",MM:vd,y:"godinu",yy:vd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("ca",{months:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),monthsShort:"gen._febr._mar._abr._mai._jun._jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd D MMMM YYYY H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(a,b){var c=1===a?"r":2===a?"n":3===a?"r":4===a?"t":"";return"w"!==b&&"W"!==b||(c="a"),a+c},week:{dow:1,doy:4}});var Hg="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),Ig="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");a.defineLocale("cs",{months:Hg,monthsShort:Ig,monthsParse:function(a,b){var c,d=[];for(c=0;c<12;c++)d[c]=new RegExp("^"+a[c]+"$|^"+b[c]+"$","i");return d}(Hg,Ig),shortMonthsParse:function(a){var b,c=[];for(b=0;b<12;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(Ig),longMonthsParse:function(a){var b,c=[];for(b=0;b<12;b++)c[b]=new RegExp("^"+a[b]+"$","i");return c}(Hg),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:xd,m:xd,mm:xd,h:xd,hh:xd,d:xd,dd:xd,M:xd,MM:xd,y:xd,yy:xd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(a){var b=/$/i.exec(a)?"":/$/i.exec(a)?"":"";return a+b},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),a.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(a){var b=a,c="",d=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return b>20?c=40===b||50===b||60===b||80===b||100===b?"fed":"ain":b>0&&(c=d[b]),a+c},week:{dow:1,doy:4}}),a.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY HH:mm"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:yd,mm:"%d Minuten",h:yd,hh:"%d Stunden",d:yd,dd:yd,M:yd,MM:yd,y:yd,yy:yd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:zd,mm:"%d Minuten",h:zd,hh:"%d Stunden",d:zd,dd:zd,M:zd,MM:zd,y:zd,yy:zd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Jg=["","","","","","","","","","","",""],Kg=["","","","","","",""];a.defineLocale("dv",{months:Jg,monthsShort:Jg,weekdays:Kg,weekdaysShort:Kg,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(a){return a.replace(//g,",")},postformat:function(a){return a.replace(/,/g,"")},week:{dow:7,doy:12}}),a.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(a,b){return/D/.test(b.substring(0,b.indexOf("MMMM")))?this._monthsGenitiveEl[a.month()]:this._monthsNominativeEl[a.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(a,b,c){return a>11?c?"":"":c?"":""},isPM:function(a){return""===(a+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(a,b){var c=this._calendarEl[a],d=b&&b.hours();return z(c)&&(c=c.apply(b)),c.replace("{}",d%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),a.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-an de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(a){return"p"===a.charAt(0).toLowerCase()},meridiem:function(a,b,c){return a>11?c?"p.t.m.":"P.T.M.":c?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var Lg="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Mg="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");a.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Mg[a.month()]:Lg[a.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var Ng="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),Og="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");a.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Og[a.month()]:Ng[a.month()]},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:Ad,m:Ad,mm:Ad,h:Ad,hh:Ad,d:Ad,dd:"%d peva",M:Ad,MM:Ad,y:Ad,yy:Ad},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Pg={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Qg={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(a){return/  /.test(a)},meridiem:function(a,b,c){return a<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[-]/g,function(a){return Qg[a]}).replace(//g,",")},postformat:function(a){return a.replace(/\d/g,function(a){return Pg[a]}).replace(/,/g,"")},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var Rg="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),Sg=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",Rg[7],Rg[8],Rg[9]];a.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:Bd,m:Bd,mm:Bd,h:Bd,hh:Bd,d:Bd,dd:Bd,M:Bd,MM:Bd,y:Bd,yy:Bd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),
    weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")}}),a.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|e)/,ordinal:function(a){return a+(1===a?"er":"e")},week:{dow:1,doy:4}}),a.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(a){return a+(1===a?"er":"")},week:{dow:1,doy:4}});var Tg="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),Ug="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");a.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?Ug[a.month()]:Tg[a.month()]},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}});var Vg=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],Wg=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],Xg=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],Yg=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],Zg=["D","Lu","M","Ci","Ar","Ha","Sa"];a.defineLocale("gd",{months:Vg,monthsShort:Wg,monthsParseExact:!0,weekdays:Xg,weekdaysShort:Yg,weekdaysMin:Zg,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},ordinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(a){var b=1===a?"d":a%10===2?"na":"mh";return a+b},week:{dow:1,doy:4}}),a.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(a){return 0===a.indexOf("un")?"n"+a:"en "+a},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(a){return 2===a?"":a+" "},d:"",dd:function(a){return 2===a?"":a+" "},M:"",MM:function(a){return 2===a?"":a+" "},y:"",yy:function(a){return 2===a?"":a%10===0&&10!==a?a+" ":a+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(a){return/^("| |)$/.test(a)},meridiem:function(a,b,c){return a<5?" ":a<10?"":a<12?c?'"':" ":a<18?c?'"':" ":""}});var $g={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},_g={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return _g[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return $g[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<4?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}}),a.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:Dd,mm:Dd,h:Dd,hh:Dd,d:"dan",dd:Dd,M:"mjesec",MM:Dd,y:"godinu",yy:Dd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var ah="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");a.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(a){return"u"===a.charAt(1).toLowerCase()},meridiem:function(a,b,c){return a<12?c===!0?"de":"DE":c===!0?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return Fd.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return Fd.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:Ed,m:Ed,mm:Ed,h:Ed,hh:Ed,d:Ed,dd:Ed,M:Ed,MM:Ed,y:Ed,yy:Ed},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a){return a<4?"":a<12?"":a<17?"":""},ordinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"DDD":case"w":case"W":case"DDDo":return 1===a?a+"-":a+"-";default:return a}},week:{dow:1,doy:7}}),a.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"siang"===b?a>=11?a:a+12:"sore"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"siang":a<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),a.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:Hd,m:Hd,mm:Hd,h:"klukkustund",hh:Hd,d:Hd,dd:Hd,M:Hd,MM:Hd,y:Hd,yy:Hd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"Do_Lu_Ma_Me_Gi_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(a){return(/^[0-9].+$/.test(a)?"tra":"in")+" "+a},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",LTS:"Ahms",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhm",LLLL:"YYYYMDAhm dddd"},meridiemParse:/|/i,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},ordinalParse:/\d{1,2}/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),a.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(a,b){return 12===a&&(a=0),"enjing"===b?a:"siyang"===b?a>=11?a:a+12:"sonten"===b||"ndalu"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"enjing":a<15?"siyang":a<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),a.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(a){return/(|||)/.test(a)?a.replace(/$/,""):a+""},past:function(a){return/(||||)/.test(a)?a.replace(/(|)$/," ")://.test(a)?a.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(a){return 0===a?a:1===a?a+"-":a<20||a<=100&&a%20===0||a%100===0?"-"+a:a+"-"},week:{dow:1,doy:7}});var bh={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};a.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|)/,ordinal:function(a){var b=a%10,c=a>=100?100:null;return a+(bh[a]||bh[b]||bh[c])},week:{dow:1,doy:7}}),a.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}}),a.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h m",LTS:"A h m s",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h m",LLLL:"YYYY MMMM D dddd A h m"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""}});var ch={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};a.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}-(|||)/,ordinal:function(a){var b=a%10,c=a>=100?100:null;return a+(ch[a]||ch[b]||ch[c])},week:{dow:1,doy:7}}),a.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:Jd,past:Kd,s:"e puer Sekonnen",m:Id,mm:"%d Minutten",h:Id,hh:"%d Stonnen",d:Id,dd:"%d Deeg",M:Id,MM:"%d Mint",y:Id,yy:"%d Joer"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},ordinalParse:/()\d{1,2}/,ordinal:function(a){return""+a}});var dh={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};a.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:Md,m:Nd,mm:Qd,h:Nd,hh:Qd,d:Nd,dd:Qd,M:Nd,MM:Qd,y:Nd,yy:Qd},ordinalParse:/\d{1,2}-oji/,ordinal:function(a){return a+"-oji"},week:{dow:1,doy:4}});var eh={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};a.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:Ud,m:Td,mm:Sd,h:Td,hh:Sd,d:Td,dd:Sd,M:Td,MM:Sd,y:Td,yy:Sd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var fh={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=fh.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+fh.correctGrammaticalCase(a,d)}};a.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:fh.translate,mm:fh.translate,h:fh.translate,hh:fh.translate,d:"dan",dd:fh.translate,M:"mjesec",MM:fh.translate,y:"godinu",yy:fh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("mk",{months:"___________".split("_"),
    monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinalParse:/\d{1,2}-(|||||)/,ordinal:function(a){var b=a%10,c=a%100;return 0===a?a+"-":0===c?a+"-":c>10&&c<20?a+"-":1===b?a+"-":2===b?a+"-":7===b||8===b?a+"-":a+"-"},week:{dow:1,doy:7}}),a.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(a,b){return 12===a&&(a=0),""===b&&a>=4||" "===b||""===b?a+12:a},meridiem:function(a,b,c){return a<4?"":a<12?"":a<17?" ":a<20?"":""}});var gh={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},hh={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:Vd,m:Vd,mm:Vd,h:Vd,hh:Vd,d:Vd,dd:Vd,M:Vd,MM:Vd,y:Vd,yy:Vd},preparse:function(a){return a.replace(/[]/g,function(a){return hh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return gh[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<4?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}}),a.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"tengahari":a<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),a.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(a,b){return 12===a&&(a=0),"pagi"===b?a:"tengahari"===b?a>=11?a:a+12:"petang"===b||"malam"===b?a+12:void 0},meridiem:function(a,b,c){return a<11?"pagi":a<15?"tengahari":a<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});var ih={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},jh={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return jh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return ih[a]})},week:{dow:1,doy:4}}),a.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var kh={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},lh={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(a){return a.replace(/[]/g,function(a){return lh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return kh[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<4?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return a<3?"":a<12?"":a<16?"":a<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var mh="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),nh="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),oh=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],ph=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?nh[a.month()]:mh[a.month()]},monthsRegex:ph,monthsShortRegex:ph,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:oh,longMonthsParse:oh,shortMonthsParse:oh,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}});var qh="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),rh="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),sh=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],th=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;a.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(a,b){return/-MMM-/.test(b)?rh[a.month()]:qh[a.month()]},monthsRegex:th,monthsShortRegex:th,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:sh,longMonthsParse:sh,shortMonthsParse:sh,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinalParse:/\d{1,2}(ste|de)/,ordinal:function(a){return a+(1===a||8===a||a>=20?"ste":"de")},week:{dow:1,doy:4}}),a.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var uh={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},vh={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(a){return a.replace(/[]/g,function(a){return vh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return uh[a]})},meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<4?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}});var wh="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),xh="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");a.defineLocale("pl",{months:function(a,b){return""===b?"("+xh[a.month()]+"|"+wh[a.month()]+")":/D MMMM/.test(b)?xh[a.month()]:wh[a.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:Xd,mm:Xd,h:Xd,hh:Xd,d:"1 dzie",dd:"%d dni",M:"miesic",MM:Xd,y:"rok",yy:Xd},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d"}),a.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:Yd,h:"o or",hh:Yd,d:"o zi",dd:Yd,M:"o lun",MM:Yd,y:"un an",yy:Yd},week:{dow:1,doy:7}});var yh=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];a.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:yh,longMonthsParse:yh,shortMonthsParse:yh,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(a){if(a.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:$d,mm:$d,h:"",hh:$d,d:"",dd:$d,M:"",MM:$d,y:"",yy:$d},meridiemParse:/|||/i,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return a<4?"":a<12?"":a<17?"":""},ordinalParse:/\d{1,2}-(||)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":return a+"-";case"D":return a+"-";case"w":case"W":return a+"-";default:return a}},week:{dow:1,doy:7}}),a.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},ordinalParse:/\d{1,2} /,ordinal:function(a){return a+" "},meridiemParse:/ | |.|../,isPM:function(a){return".."===a||" "===a},meridiem:function(a,b,c){return a>11?c?"..":" ":c?"..":" "}});var zh="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),Ah="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");a.defineLocale("sk",{months:zh,monthsShort:Ah,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:ae,m:ae,mm:ae,h:ae,hh:ae,d:ae,dd:ae,M:ae,MM:ae,y:ae,yy:ae},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:be,m:be,mm:be,h:be,hh:be,d:be,dd:be,M:be,MM:be,y:be,yy:be},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(a){return"M"===a.charAt(0)},meridiem:function(a,b,c){return a<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Bh={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=Bh.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Bh.correctGrammaticalCase(a,d)}};a.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){var a=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:Bh.translate,mm:Bh.translate,h:Bh.translate,hh:Bh.translate,d:"",dd:Bh.translate,M:"",MM:Bh.translate,y:"",yy:Bh.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var Ch={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(a,b){return 1===a?b[0]:a>=2&&a<=4?b[1]:b[2]},translate:function(a,b,c){var d=Ch.words[c];return 1===c.length?b?d[0]:d[1]:a+" "+Ch.correctGrammaticalCase(a,d)}};a.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){var a=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return a[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:Ch.translate,mm:Ch.translate,h:Ch.translate,
    hh:Ch.translate,d:"dan",dd:Ch.translate,M:"mesec",MM:Ch.translate,y:"godinu",yy:Ch.translate},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),a.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(a,b,c){return a<11?"ekuseni":a<15?"emini":a<19?"entsambama":"ebusuku"},meridiemHour:function(a,b){return 12===a&&(a=0),"ekuseni"===b?a:"emini"===b?a>=11?a:a+12:"entsambama"===b||"ebusuku"===b?0===a?0:a+12:void 0},ordinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),a.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinalParse:/\d{1,2}(e|a)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"e":1===b?"a":2===b?"a":"e";return a+c},week:{dow:1,doy:4}}),a.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var Dh={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},Eh={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};a.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:function(a){return a+""},preparse:function(a){return a.replace(/[]/g,function(a){return Eh[a]})},postformat:function(a){return a.replace(/\d/g,function(a){return Dh[a]})},meridiemParse:/|||||/,meridiem:function(a,b,c){return a<2?" ":a<6?" ":a<10?" ":a<14?" ":a<18?" ":a<22?" ":" "},meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<2?a:a+12:""===b||""===b?a:""===b&&a>=10?a:a+12},week:{dow:0,doy:6}}),a.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b?a<4?a:a+12:""===b?a:""===b?a>=10?a:a+12:""===b?a+12:void 0},meridiem:function(a,b,c){return a<4?"":a<10?"":a<17?"":a<20?"":""},week:{dow:0,doy:6}}),a.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},ordinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(a){return""===a},meridiem:function(a,b,c){return a<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),a.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}});var Fh="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");a.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:ce,past:de,s:"puS lup",m:"wa tup",mm:ee,h:"wa rep",hh:ee,d:"wa jaj",dd:ee,M:"wa jar",MM:ee,y:"wa DIS",yy:ee},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var Gh={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return a.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(a){if(0===a)return a+"'nc";var b=a%10,c=a%100-b,d=a>=100?100:null;return a+(Gh[b]||Gh[c]||Gh[d])},week:{dow:1,doy:7}}),a.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(a){return"d'o"===a.toLowerCase()},meridiem:function(a,b,c){return a>11?c?"d'o":"D'O":c?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:ge,m:ge,mm:ge,h:ge,hh:ge,d:ge,dd:ge,M:ge,MM:ge,y:ge,yy:ge},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),a.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),a.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),a.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:je,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:ke("[ "),nextDay:ke("[ "),lastDay:ke("[ "),nextWeek:ke("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return ke("[] dddd [").call(this);case 1:case 2:case 4:return ke("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:ie,mm:ie,h:"",hh:ie,d:"",dd:ie,M:"",MM:ie,y:"",yy:ie},meridiemParse:/|||/,isPM:function(a){return/^(|)$/.test(a)},meridiem:function(a,b,c){return a<4?"":a<12?"":a<17?"":""},ordinalParse:/\d{1,2}-(|)/,ordinal:function(a,b){switch(b){case"M":case"d":case"DDD":case"w":case"W":return a+"-";case"D":return a+"-";default:return a}},week:{dow:1,doy:7}}),a.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),a.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(a){return/^ch$/i.test(a)},meridiem:function(a,b,c){return a<12?c?"sa":"SA":c?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinalParse:/\d{1,2}/,ordinal:function(a){return a},week:{dow:1,doy:4}}),a.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var b=a%10,c=1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c},week:{dow:1,doy:4}}),a.defineLocale("yo",{months:"Sr_rl_rn_gb_bibi_kdu_Agmo_gn_Owewe_wr_Bl_p".split("_"),monthsShort:"Sr_rl_rn_gb_bi_k_Ag_g_Owe_w_Bl_p".split("_"),weekdays:"k_Aj_sgun_jr_jb_t_bmta".split("_"),weekdaysShort:"k_Aj_s_jr_jb_t_b".split("_"),weekdaysMin:"_Aj_s_r_b_t_b".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[n ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s tn'b] [ni] LT",lastDay:"[na ni] LT",lastWeek:"dddd [s tl] [ni] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s kj",s:"sj aay die",m:"sj kan",mm:"sj %d",h:"wkati kan",hh:"wkati %d",d:"j kan",dd:"j %d",M:"os kan",MM:"os %d",y:"dn kan",yy:"dn %d"},ordinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),a.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b||""===b?a:""===b||""===b?a+12:a>=11?a:a+12},meridiem:function(a,b,c){var d=100*a+b;return d<600?"":d<900?"":d<1130?"":d<1230?"":d<1800?"":""},calendar:{sameDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},lastDay:function(){return 0===this.minutes()?"[]Ah[]":"[]LT"},nextWeek:function(){var b,c;return b=a().startOf("week"),c=this.diff(b,"days")>=7?"[]":"[]",0===this.minutes()?c+"dddAh":c+"dddAhmm"},lastWeek:function(){var b,c;return b=a().startOf("week"),c=this.unix()<b.unix()?"[]":"[]",0===this.minutes()?c+"dddAh":c+"dddAhmm"},sameElse:"LL"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),a.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b||""===b?a:""===b?a>=11?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return d<600?"":d<900?"":d<1130?"":d<1230?"":d<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),a.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",LTS:"Ahms",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDAhmm",llll:"YYYYMMMDddddAhmm"},meridiemParse:/|||||/,meridiemHour:function(a,b){return 12===a&&(a=0),""===b||""===b||""===b?a:""===b?a>=11?a:a+12:""===b||""===b?a+12:void 0},meridiem:function(a,b,c){var d=100*a+b;return d<600?"":d<900?"":d<1130?"":d<1230?"":d<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinalParse:/\d{1,2}(||)/,ordinal:function(a,b){switch(b){case"d":case"D":case"DDD":return a+"";case"M":return a+"";case"w":case"W":return a+"";default:return a}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),a.locale("en"),a}),function(a){"use strict";if("function"==typeof define&&define.amd)define("bootstrap-datetimepicker",["jquery","moment"],a);else if("object"==typeof exports)module.exports=a(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";a(jQuery,moment)}}(function(a,b){"use strict";if(!b)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var c=function(c,d){var e,f,g,h,i,j,k,l={},m=!0,n=!1,o=!1,p=0,q=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],r=["days","months","years","decades"],s=["top","bottom","auto"],t=["left","right","auto"],u=["default","top","bottom"],v={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},w={},x=function(){return void 0!==b.tz&&void 0!==d.timeZone&&null!==d.timeZone&&""!==d.timeZone},y=function(a){var c;return c=void 0===a||null===a?b():b.isDate(a)||b.isMoment(a)?b(a):x()?b.tz(a,j,d.useStrict,d.timeZone):b(a,j,d.useStrict),x()&&c.tz(d.timeZone),c},z=function(a){if("string"!=typeof a||a.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(a){case"y":return i.indexOf("Y")!==-1;case"M":return i.indexOf("M")!==-1;case"d":return i.toLowerCase().indexOf("d")!==-1;case"h":case"H":return i.toLowerCase().indexOf("h")!==-1;case"m":return i.indexOf("m")!==-1;case"s":return i.indexOf("s")!==-1;default:return!1}},A=function(){return z("h")||z("m")||z("s")},B=function(){return z("y")||z("M")||z("d")},C=function(){var b=a("<thead>").append(a("<tr>").append(a("<th>").addClass("prev").attr("data-action","previous").append(a("<span>").addClass(d.icons.previous))).append(a("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",d.calendarWeeks?"6":"5")).append(a("<th>").addClass("next").attr("data-action","next").append(a("<span>").addClass(d.icons.next)))),c=a("<tbody>").append(a("<tr>").append(a("<td>").attr("colspan",d.calendarWeeks?"8":"7")));return[a("<div>").addClass("datepicker-days").append(a("<table>").addClass("table-condensed").append(b).append(a("<tbody>"))),a("<div>").addClass("datepicker-months").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-years").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone())),a("<div>").addClass("datepicker-decades").append(a("<table>").addClass("table-condensed").append(b.clone()).append(c.clone()))]},D=function(){var b=a("<tr>"),c=a("<tr>"),e=a("<tr>");return z("h")&&(b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:d.tooltips.pickHour}).attr("data-action","showHours"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(a("<span>").addClass(d.icons.down))))),z("m")&&(z("h")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:d.tooltips.pickMinute}).attr("data-action","showMinutes"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(a("<span>").addClass(d.icons.down))))),z("s")&&(z("m")&&(b.append(a("<td>").addClass("separator")),c.append(a("<td>").addClass("separator").html(":")),e.append(a("<td>").addClass("separator"))),b.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(a("<span>").addClass(d.icons.up)))),c.append(a("<td>").append(a("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:d.tooltips.pickSecond}).attr("data-action","showSeconds"))),e.append(a("<td>").append(a("<a>").attr({href:"#",tabindex:"-1",title:d.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(a("<span>").addClass(d.icons.down))))),h||(b.append(a("<td>").addClass("separator")),c.append(a("<td>").append(a("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:d.tooltips.togglePeriod}))),e.append(a("<td>").addClass("separator"))),a("<div>").addClass("timepicker-picker").append(a("<table>").addClass("table-condensed").append([b,c,e]))},E=function(){var b=a("<div>").addClass("timepicker-hours").append(a("<table>").addClass("table-condensed")),c=a("<div>").addClass("timepicker-minutes").append(a("<table>").addClass("table-condensed")),d=a("<div>").addClass("timepicker-seconds").append(a("<table>").addClass("table-condensed")),e=[D()];return z("h")&&e.push(b),z("m")&&e.push(c),z("s")&&e.push(d),e},F=function(){var b=[];return d.showTodayButton&&b.push(a("<td>").append(a("<a>").attr({"data-action":"today",title:d.tooltips.today}).append(a("<span>").addClass(d.icons.today)))),!d.sideBySide&&B()&&A()&&b.push(a("<td>").append(a("<a>").attr({"data-action":"togglePicker",title:d.tooltips.selectTime}).append(a("<span>").addClass(d.icons.time)))),d.showClear&&b.push(a("<td>").append(a("<a>").attr({"data-action":"clear",title:d.tooltips.clear}).append(a("<span>").addClass(d.icons.clear)))),d.showClose&&b.push(a("<td>").append(a("<a>").attr({"data-action":"close",title:d.tooltips.close}).append(a("<span>").addClass(d.icons.close)))),a("<table>").addClass("table-condensed").append(a("<tbody>").append(a("<tr>").append(b)))},G=function(){var b=a("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),c=a("<div>").addClass("datepicker").append(C()),e=a("<div>").addClass("timepicker").append(E()),f=a("<ul>").addClass("list-unstyled"),g=a("<li>").addClass("picker-switch"+(d.collapse?" accordion-toggle":"")).append(F());return d.inline&&b.removeClass("dropdown-menu"),h&&b.addClass("usetwentyfour"),z("s")&&!h&&b.addClass("wider"),d.sideBySide&&B()&&A()?(b.addClass("timepicker-sbs"),"top"===d.toolbarPlacement&&b.append(g),b.append(a("<div>").addClass("row").append(c.addClass("col-md-6")).append(e.addClass("col-md-6"))),"bottom"===d.toolbarPlacement&&b.append(g),b):("top"===d.toolbarPlacement&&f.append(g),B()&&f.append(a("<li>").addClass(d.collapse&&A()?"collapse in":"").append(c)),"default"===d.toolbarPlacement&&f.append(g),A()&&f.append(a("<li>").addClass(d.collapse&&B()?"collapse":"").append(e)),"bottom"===d.toolbarPlacement&&f.append(g),b.append(f))},H=function(){var b,e={};return b=c.is("input")||d.inline?c.data():c.find("input").data(),b.dateOptions&&b.dateOptions instanceof Object&&(e=a.extend(!0,e,b.dateOptions)),a.each(d,function(a){var c="date"+a.charAt(0).toUpperCase()+a.slice(1);
    void 0!==b[c]&&(e[a]=b[c])}),e},I=function(){var b,e=(n||c).position(),f=(n||c).offset(),g=d.widgetPositioning.vertical,h=d.widgetPositioning.horizontal;if(d.widgetParent)b=d.widgetParent.append(o);else if(c.is("input"))b=c.after(o).parent();else{if(d.inline)return void(b=c.append(o));b=c,c.children().first().after(o)}if("auto"===g&&(g=f.top+1.5*o.height()>=a(window).height()+a(window).scrollTop()&&o.height()+c.outerHeight()<f.top?"top":"bottom"),"auto"===h&&(h=b.width()<f.left+o.outerWidth()/2&&f.left+o.outerWidth()>a(window).width()?"right":"left"),"top"===g?o.addClass("top").removeClass("bottom"):o.addClass("bottom").removeClass("top"),"right"===h?o.addClass("pull-right"):o.removeClass("pull-right"),"static"===b.css("position")&&(b=b.parents().filter(function(){return"static"!==a(this).css("position")}).first()),0===b.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");o.css({top:"top"===g?"auto":e.top+c.outerHeight(),bottom:"top"===g?b.outerHeight()-(b===c?0:e.top):"auto",left:"left"===h?b===c?0:e.left:"auto",right:"left"===h?"auto":b.outerWidth()-c.outerWidth()-(b===c?0:e.left)})},J=function(a){"dp.change"===a.type&&(a.date&&a.date.isSame(a.oldDate)||!a.date&&!a.oldDate)||c.trigger(a)},K=function(a){"y"===a&&(a="YYYY"),J({type:"dp.update",change:a,viewDate:f.clone()})},L=function(a){o&&(a&&(k=Math.max(p,Math.min(3,k+a))),o.find(".datepicker > div").hide().filter(".datepicker-"+q[k].clsName).show())},M=function(){var b=a("<tr>"),c=f.clone().startOf("w").startOf("d");for(d.calendarWeeks===!0&&b.append(a("<th>").addClass("cw").text("#"));c.isBefore(f.clone().endOf("w"));)b.append(a("<th>").addClass("dow").text(c.format("dd"))),c.add(1,"d");o.find(".datepicker-days thead").append(b)},N=function(a){return d.disabledDates[a.format("YYYY-MM-DD")]===!0},O=function(a){return d.enabledDates[a.format("YYYY-MM-DD")]===!0},P=function(a){return d.disabledHours[a.format("H")]===!0},Q=function(a){return d.enabledHours[a.format("H")]===!0},R=function(b,c){if(!b.isValid())return!1;if(d.disabledDates&&"d"===c&&N(b))return!1;if(d.enabledDates&&"d"===c&&!O(b))return!1;if(d.minDate&&b.isBefore(d.minDate,c))return!1;if(d.maxDate&&b.isAfter(d.maxDate,c))return!1;if(d.daysOfWeekDisabled&&"d"===c&&d.daysOfWeekDisabled.indexOf(b.day())!==-1)return!1;if(d.disabledHours&&("h"===c||"m"===c||"s"===c)&&P(b))return!1;if(d.enabledHours&&("h"===c||"m"===c||"s"===c)&&!Q(b))return!1;if(d.disabledTimeIntervals&&("h"===c||"m"===c||"s"===c)){var e=!1;if(a.each(d.disabledTimeIntervals,function(){if(b.isBetween(this[0],this[1]))return e=!0,!1}),e)return!1}return!0},S=function(){for(var b=[],c=f.clone().startOf("y").startOf("d");c.isSame(f,"y");)b.push(a("<span>").attr("data-action","selectMonth").addClass("month").text(c.format("MMM"))),c.add(1,"M");o.find(".datepicker-months td").empty().append(b)},T=function(){var b=o.find(".datepicker-months"),c=b.find("th"),g=b.find("tbody").find("span");c.eq(0).find("span").attr("title",d.tooltips.prevYear),c.eq(1).attr("title",d.tooltips.selectYear),c.eq(2).find("span").attr("title",d.tooltips.nextYear),b.find(".disabled").removeClass("disabled"),R(f.clone().subtract(1,"y"),"y")||c.eq(0).addClass("disabled"),c.eq(1).text(f.year()),R(f.clone().add(1,"y"),"y")||c.eq(2).addClass("disabled"),g.removeClass("active"),e.isSame(f,"y")&&!m&&g.eq(e.month()).addClass("active"),g.each(function(b){R(f.clone().month(b),"M")||a(this).addClass("disabled")})},U=function(){var a=o.find(".datepicker-years"),b=a.find("th"),c=f.clone().subtract(5,"y"),g=f.clone().add(6,"y"),h="";for(b.eq(0).find("span").attr("title",d.tooltips.prevDecade),b.eq(1).attr("title",d.tooltips.selectDecade),b.eq(2).find("span").attr("title",d.tooltips.nextDecade),a.find(".disabled").removeClass("disabled"),d.minDate&&d.minDate.isAfter(c,"y")&&b.eq(0).addClass("disabled"),b.eq(1).text(c.year()+"-"+g.year()),d.maxDate&&d.maxDate.isBefore(g,"y")&&b.eq(2).addClass("disabled");!c.isAfter(g,"y");)h+='<span data-action="selectYear" class="year'+(c.isSame(e,"y")&&!m?" active":"")+(R(c,"y")?"":" disabled")+'">'+c.year()+"</span>",c.add(1,"y");a.find("td").html(h)},V=function(){var a,c=o.find(".datepicker-decades"),g=c.find("th"),h=b({y:f.year()-f.year()%100-1}),i=h.clone().add(100,"y"),j=h.clone(),k=!1,l=!1,m="";for(g.eq(0).find("span").attr("title",d.tooltips.prevCentury),g.eq(2).find("span").attr("title",d.tooltips.nextCentury),c.find(".disabled").removeClass("disabled"),(h.isSame(b({y:1900}))||d.minDate&&d.minDate.isAfter(h,"y"))&&g.eq(0).addClass("disabled"),g.eq(1).text(h.year()+"-"+i.year()),(h.isSame(b({y:2e3}))||d.maxDate&&d.maxDate.isBefore(i,"y"))&&g.eq(2).addClass("disabled");!h.isAfter(i,"y");)a=h.year()+12,k=d.minDate&&d.minDate.isAfter(h,"y")&&d.minDate.year()<=a,l=d.maxDate&&d.maxDate.isAfter(h,"y")&&d.maxDate.year()<=a,m+='<span data-action="selectDecade" class="decade'+(e.isAfter(h)&&e.year()<=a?" active":"")+(R(h,"y")||k||l?"":" disabled")+'" data-selection="'+(h.year()+6)+'">'+(h.year()+1)+" - "+(h.year()+12)+"</span>",h.add(12,"y");m+="<span></span><span></span><span></span>",c.find("td").html(m),g.eq(1).text(j.year()+1+"-"+h.year())},W=function(){var b,c,g,h=o.find(".datepicker-days"),i=h.find("th"),j=[],k=[];if(B()){for(i.eq(0).find("span").attr("title",d.tooltips.prevMonth),i.eq(1).attr("title",d.tooltips.selectMonth),i.eq(2).find("span").attr("title",d.tooltips.nextMonth),h.find(".disabled").removeClass("disabled"),i.eq(1).text(f.format(d.dayViewHeaderFormat)),R(f.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),R(f.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),b=f.clone().startOf("M").startOf("w").startOf("d"),g=0;g<42;g++)0===b.weekday()&&(c=a("<tr>"),d.calendarWeeks&&c.append('<td class="cw">'+b.week()+"</td>"),j.push(c)),k=["day"],b.isBefore(f,"M")&&k.push("old"),b.isAfter(f,"M")&&k.push("new"),b.isSame(e,"d")&&!m&&k.push("active"),R(b,"d")||k.push("disabled"),b.isSame(y(),"d")&&k.push("today"),0!==b.day()&&6!==b.day()||k.push("weekend"),J({type:"dp.classify",date:b,classNames:k}),c.append('<td data-action="selectDay" data-day="'+b.format("L")+'" class="'+k.join(" ")+'">'+b.date()+"</td>"),b.add(1,"d");h.find("tbody").empty().append(j),T(),U(),V()}},X=function(){var b=o.find(".timepicker-hours table"),c=f.clone().startOf("d"),d=[],e=a("<tr>");for(f.hour()>11&&!h&&c.hour(12);c.isSame(f,"d")&&(h||f.hour()<12&&c.hour()<12||f.hour()>11);)c.hour()%4===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectHour" class="hour'+(R(c,"h")?"":" disabled")+'">'+c.format(h?"HH":"hh")+"</td>"),c.add(1,"h");b.empty().append(d)},Y=function(){for(var b=o.find(".timepicker-minutes table"),c=f.clone().startOf("h"),e=[],g=a("<tr>"),h=1===d.stepping?5:d.stepping;f.isSame(c,"h");)c.minute()%(4*h)===0&&(g=a("<tr>"),e.push(g)),g.append('<td data-action="selectMinute" class="minute'+(R(c,"m")?"":" disabled")+'">'+c.format("mm")+"</td>"),c.add(h,"m");b.empty().append(e)},Z=function(){for(var b=o.find(".timepicker-seconds table"),c=f.clone().startOf("m"),d=[],e=a("<tr>");f.isSame(c,"m");)c.second()%20===0&&(e=a("<tr>"),d.push(e)),e.append('<td data-action="selectSecond" class="second'+(R(c,"s")?"":" disabled")+'">'+c.format("ss")+"</td>"),c.add(5,"s");b.empty().append(d)},$=function(){var a,b,c=o.find(".timepicker span[data-time-component]");h||(a=o.find(".timepicker [data-action=togglePeriod]"),b=e.clone().add(e.hours()>=12?-12:12,"h"),a.text(e.format("A")),R(b,"h")?a.removeClass("disabled"):a.addClass("disabled")),c.filter("[data-time-component=hours]").text(e.format(h?"HH":"hh")),c.filter("[data-time-component=minutes]").text(e.format("mm")),c.filter("[data-time-component=seconds]").text(e.format("ss")),X(),Y(),Z()},_=function(){o&&(W(),$())},aa=function(a){var b=m?null:e;if(!a)return m=!0,g.val(""),c.data("date",""),J({type:"dp.change",date:!1,oldDate:b}),void _();if(a=a.clone().locale(d.locale),x()&&a.tz(d.timeZone),1!==d.stepping)for(a.minutes(Math.round(a.minutes()/d.stepping)*d.stepping).seconds(0);d.minDate&&a.isBefore(d.minDate);)a.add(d.stepping,"minutes");R(a)?(e=a,f=e.clone(),g.val(e.format(i)),c.data("date",e.format(i)),m=!1,_(),J({type:"dp.change",date:e.clone(),oldDate:b})):(d.keepInvalid?J({type:"dp.change",date:a,oldDate:b}):g.val(m?"":e.format(i)),J({type:"dp.error",date:a,oldDate:b}))},ba=function(){var b=!1;return o?(o.find(".collapse").each(function(){var c=a(this).data("collapse");return!c||!c.transitioning||(b=!0,!1)}),b?l:(n&&n.hasClass("btn")&&n.toggleClass("active"),o.hide(),a(window).off("resize",I),o.off("click","[data-action]"),o.off("mousedown",!1),o.remove(),o=!1,J({type:"dp.hide",date:e.clone()}),g.blur(),f=e.clone(),l)):l},ca=function(){aa(null)},da=function(a){return void 0===d.parseInputDate?(!b.isMoment(a)||a instanceof Date)&&(a=y(a)):a=d.parseInputDate(a),a},ea={next:function(){var a=q[k].navFnc;f.add(q[k].navStep,a),W(),K(a)},previous:function(){var a=q[k].navFnc;f.subtract(q[k].navStep,a),W(),K(a)},pickerSwitch:function(){L(1)},selectMonth:function(b){var c=a(b.target).closest("tbody").find("span").index(a(b.target));f.month(c),k===p?(aa(e.clone().year(f.year()).month(f.month())),d.inline||ba()):(L(-1),W()),K("M")},selectYear:function(b){var c=parseInt(a(b.target).text(),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDecade:function(b){var c=parseInt(a(b.target).data("selection"),10)||0;f.year(c),k===p?(aa(e.clone().year(f.year())),d.inline||ba()):(L(-1),W()),K("YYYY")},selectDay:function(b){var c=f.clone();a(b.target).is(".old")&&c.subtract(1,"M"),a(b.target).is(".new")&&c.add(1,"M"),aa(c.date(parseInt(a(b.target).text(),10))),A()||d.keepOpen||d.inline||ba()},incrementHours:function(){var a=e.clone().add(1,"h");R(a,"h")&&aa(a)},incrementMinutes:function(){var a=e.clone().add(d.stepping,"m");R(a,"m")&&aa(a)},incrementSeconds:function(){var a=e.clone().add(1,"s");R(a,"s")&&aa(a)},decrementHours:function(){var a=e.clone().subtract(1,"h");R(a,"h")&&aa(a)},decrementMinutes:function(){var a=e.clone().subtract(d.stepping,"m");R(a,"m")&&aa(a)},decrementSeconds:function(){var a=e.clone().subtract(1,"s");R(a,"s")&&aa(a)},togglePeriod:function(){aa(e.clone().add(e.hours()>=12?-12:12,"h"))},togglePicker:function(b){var c,e=a(b.target),f=e.closest("ul"),g=f.find(".in"),h=f.find(".collapse:not(.in)");if(g&&g.length){if(c=g.data("collapse"),c&&c.transitioning)return;g.collapse?(g.collapse("hide"),h.collapse("show")):(g.removeClass("in"),h.addClass("in")),e.is("span")?e.toggleClass(d.icons.time+" "+d.icons.date):e.find("span").toggleClass(d.icons.time+" "+d.icons.date)}},showPicker:function(){o.find(".timepicker > div:not(.timepicker-picker)").hide(),o.find(".timepicker .timepicker-picker").show()},showHours:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-hours").show()},showMinutes:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){o.find(".timepicker .timepicker-picker").hide(),o.find(".timepicker .timepicker-seconds").show()},selectHour:function(b){var c=parseInt(a(b.target).text(),10);h||(e.hours()>=12?12!==c&&(c+=12):12===c&&(c=0)),aa(e.clone().hours(c)),ea.showPicker.call(l)},selectMinute:function(b){aa(e.clone().minutes(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},selectSecond:function(b){aa(e.clone().seconds(parseInt(a(b.target).text(),10))),ea.showPicker.call(l)},clear:ca,today:function(){var a=y();R(a,"d")&&aa(a)},close:ba},fa=function(b){return!a(b.currentTarget).is(".disabled")&&(ea[a(b.currentTarget).data("action")].apply(l,arguments),!1)},ga=function(){var b,c={year:function(a){return a.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(a){return a.date(1).hours(0).seconds(0).minutes(0)},day:function(a){return a.hours(0).seconds(0).minutes(0)},hour:function(a){return a.seconds(0).minutes(0)},minute:function(a){return a.seconds(0)}};return g.prop("disabled")||!d.ignoreReadonly&&g.prop("readonly")||o?l:(void 0!==g.val()&&0!==g.val().trim().length?aa(da(g.val().trim())):m&&d.useCurrent&&(d.inline||g.is("input")&&0===g.val().trim().length)&&(b=y(),"string"==typeof d.useCurrent&&(b=c[d.useCurrent](b)),aa(b)),o=G(),M(),S(),o.find(".timepicker-hours").hide(),o.find(".timepicker-minutes").hide(),o.find(".timepicker-seconds").hide(),_(),L(),a(window).on("resize",I),o.on("click","[data-action]",fa),o.on("mousedown",!1),n&&n.hasClass("btn")&&n.toggleClass("active"),I(),o.show(),d.focusOnShow&&!g.is(":focus")&&g.focus(),J({type:"dp.show"}),l)},ha=function(){return o?ba():ga()},ia=function(a){var b,c,e,f,g=null,h=[],i={},j=a.which,k="p";w[j]=k;for(b in w)w.hasOwnProperty(b)&&w[b]===k&&(h.push(b),parseInt(b,10)!==j&&(i[b]=!0));for(b in d.keyBinds)if(d.keyBinds.hasOwnProperty(b)&&"function"==typeof d.keyBinds[b]&&(e=b.split(" "),e.length===h.length&&v[j]===e[e.length-1])){for(f=!0,c=e.length-2;c>=0;c--)if(!(v[e[c]]in i)){f=!1;break}if(f){g=d.keyBinds[b];break}}g&&(g.call(l,o),a.stopPropagation(),a.preventDefault())},ja=function(a){w[a.which]="r",a.stopPropagation(),a.preventDefault()},ka=function(b){var c=a(b.target).val().trim(),d=c?da(c):null;return aa(d),b.stopImmediatePropagation(),!1},la=function(){g.on({change:ka,blur:d.debug?"":ba,keydown:ia,keyup:ja,focus:d.allowInputToggle?ga:""}),c.is("input")?g.on({focus:ga}):n&&(n.on("click",ha),n.on("mousedown",!1))},ma=function(){g.off({change:ka,blur:blur,keydown:ia,keyup:ja,focus:d.allowInputToggle?ba:""}),c.is("input")?g.off({focus:ga}):n&&(n.off("click",ha),n.off("mousedown",!1))},na=function(b){var c={};return a.each(b,function(){var a=da(this);a.isValid()&&(c[a.format("YYYY-MM-DD")]=!0)}),!!Object.keys(c).length&&c},oa=function(b){var c={};return a.each(b,function(){c[this]=!0}),!!Object.keys(c).length&&c},pa=function(){var a=d.format||"L LT";i=a.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){var b=e.localeData().longDateFormat(a)||a;return b.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(a){return e.localeData().longDateFormat(a)||a})}),j=d.extraFormats?d.extraFormats.slice():[],j.indexOf(a)<0&&j.indexOf(i)<0&&j.push(i),h=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,z("y")&&(p=2),z("M")&&(p=1),z("d")&&(p=0),k=Math.max(p,k),m||aa(e)};if(l.destroy=function(){ba(),ma(),c.removeData("DateTimePicker"),c.removeData("date")},l.toggle=ha,l.show=ga,l.hide=ba,l.disable=function(){return ba(),n&&n.hasClass("btn")&&n.addClass("disabled"),g.prop("disabled",!0),l},l.enable=function(){return n&&n.hasClass("btn")&&n.removeClass("disabled"),g.prop("disabled",!1),l},l.ignoreReadonly=function(a){if(0===arguments.length)return d.ignoreReadonly;if("boolean"!=typeof a)throw new TypeError("ignoreReadonly () expects a boolean parameter");return d.ignoreReadonly=a,l},l.options=function(b){if(0===arguments.length)return a.extend(!0,{},d);if(!(b instanceof Object))throw new TypeError("options() options parameter should be an object");return a.extend(!0,d,b),a.each(d,function(a,b){if(void 0===l[a])throw new TypeError("option "+a+" is not recognized!");l[a](b)}),l},l.date=function(a){if(0===arguments.length)return m?null:e.clone();if(!(null===a||"string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return aa(null===a?null:da(a)),l},l.format=function(a){if(0===arguments.length)return d.format;if("string"!=typeof a&&("boolean"!=typeof a||a!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+a);return d.format=a,i&&pa(),l},l.timeZone=function(a){if(0===arguments.length)return d.timeZone;if("string"!=typeof a)throw new TypeError("newZone() expects a string parameter");return d.timeZone=a,l},l.dayViewHeaderFormat=function(a){if(0===arguments.length)return d.dayViewHeaderFormat;if("string"!=typeof a)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return d.dayViewHeaderFormat=a,l},l.extraFormats=function(a){if(0===arguments.length)return d.extraFormats;if(a!==!1&&!(a instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return d.extraFormats=a,j&&pa(),l},l.disabledDates=function(b){if(0===arguments.length)return d.disabledDates?a.extend({},d.disabledDates):d.disabledDates;if(!b)return d.disabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return d.disabledDates=na(b),d.enabledDates=!1,_(),l},l.enabledDates=function(b){if(0===arguments.length)return d.enabledDates?a.extend({},d.enabledDates):d.enabledDates;if(!b)return d.enabledDates=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return d.enabledDates=na(b),d.disabledDates=!1,_(),l},l.daysOfWeekDisabled=function(a){if(0===arguments.length)return d.daysOfWeekDisabled.splice(0);if("boolean"==typeof a&&!a)return d.daysOfWeekDisabled=!1,_(),l;if(!(a instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(d.daysOfWeekDisabled=a.reduce(function(a,b){return b=parseInt(b,10),b>6||b<0||isNaN(b)?a:(a.indexOf(b)===-1&&a.push(b),a)},[]).sort(),d.useCurrent&&!d.keepInvalid){for(var b=0;!R(e,"d");){if(e.add(1,"d"),31===b)throw"Tried 31 times to find a valid date";b++}aa(e)}return _(),l},l.maxDate=function(a){if(0===arguments.length)return d.maxDate?d.maxDate.clone():d.maxDate;if("boolean"==typeof a&&a===!1)return d.maxDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+a);if(d.minDate&&b.isBefore(d.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+b.format(i));return d.maxDate=b,d.useCurrent&&!d.keepInvalid&&e.isAfter(a)&&aa(d.maxDate),f.isAfter(b)&&(f=b.clone().subtract(d.stepping,"m")),_(),l},l.minDate=function(a){if(0===arguments.length)return d.minDate?d.minDate.clone():d.minDate;if("boolean"==typeof a&&a===!1)return d.minDate=!1,_(),l;"string"==typeof a&&("now"!==a&&"moment"!==a||(a=y()));var b=da(a);if(!b.isValid())throw new TypeError("minDate() Could not parse date parameter: "+a);if(d.maxDate&&b.isAfter(d.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+b.format(i));return d.minDate=b,d.useCurrent&&!d.keepInvalid&&e.isBefore(a)&&aa(d.minDate),f.isBefore(b)&&(f=b.clone().add(d.stepping,"m")),_(),l},l.defaultDate=function(a){if(0===arguments.length)return d.defaultDate?d.defaultDate.clone():d.defaultDate;if(!a)return d.defaultDate=!1,l;"string"==typeof a&&(a="now"===a||"moment"===a?y():y(a));var b=da(a);if(!b.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+a);if(!R(b))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return d.defaultDate=b,(d.defaultDate&&d.inline||""===g.val().trim())&&aa(d.defaultDate),l},l.locale=function(a){if(0===arguments.length)return d.locale;if(!b.localeData(a))throw new TypeError("locale() locale "+a+" is not loaded from moment locales!");return d.locale=a,e.locale(d.locale),f.locale(d.locale),i&&pa(),o&&(ba(),ga()),l},l.stepping=function(a){return 0===arguments.length?d.stepping:(a=parseInt(a,10),(isNaN(a)||a<1)&&(a=1),d.stepping=a,l)},l.useCurrent=function(a){var b=["year","month","day","hour","minute"];if(0===arguments.length)return d.useCurrent;if("boolean"!=typeof a&&"string"!=typeof a)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof a&&b.indexOf(a.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+b.join(", "));return d.useCurrent=a,l},l.collapse=function(a){if(0===arguments.length)return d.collapse;if("boolean"!=typeof a)throw new TypeError("collapse() expects a boolean parameter");return d.collapse===a?l:(d.collapse=a,o&&(ba(),ga()),l)},l.icons=function(b){if(0===arguments.length)return a.extend({},d.icons);if(!(b instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return a.extend(d.icons,b),o&&(ba(),ga()),l},l.tooltips=function(b){if(0===arguments.length)return a.extend({},d.tooltips);if(!(b instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return a.extend(d.tooltips,b),o&&(ba(),ga()),l},l.useStrict=function(a){if(0===arguments.length)return d.useStrict;if("boolean"!=typeof a)throw new TypeError("useStrict() expects a boolean parameter");return d.useStrict=a,l},l.sideBySide=function(a){if(0===arguments.length)return d.sideBySide;if("boolean"!=typeof a)throw new TypeError("sideBySide() expects a boolean parameter");return d.sideBySide=a,o&&(ba(),ga()),l},l.viewMode=function(a){if(0===arguments.length)return d.viewMode;if("string"!=typeof a)throw new TypeError("viewMode() expects a string parameter");if(r.indexOf(a)===-1)throw new TypeError("viewMode() parameter must be one of ("+r.join(", ")+") value");return d.viewMode=a,k=Math.max(r.indexOf(a),p),L(),l},l.toolbarPlacement=function(a){if(0===arguments.length)return d.toolbarPlacement;if("string"!=typeof a)throw new TypeError("toolbarPlacement() expects a string parameter");if(u.indexOf(a)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+u.join(", ")+") value");return d.toolbarPlacement=a,o&&(ba(),ga()),l},l.widgetPositioning=function(b){if(0===arguments.length)return a.extend({},d.widgetPositioning);if("[object Object]"!=={}.toString.call(b))throw new TypeError("widgetPositioning() expects an object variable");if(b.horizontal){if("string"!=typeof b.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(b.horizontal=b.horizontal.toLowerCase(),t.indexOf(b.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+t.join(", ")+")");d.widgetPositioning.horizontal=b.horizontal}if(b.vertical){if("string"!=typeof b.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(b.vertical=b.vertical.toLowerCase(),s.indexOf(b.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+s.join(", ")+")");d.widgetPositioning.vertical=b.vertical}return _(),l},l.calendarWeeks=function(a){if(0===arguments.length)return d.calendarWeeks;if("boolean"!=typeof a)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return d.calendarWeeks=a,_(),l},l.showTodayButton=function(a){if(0===arguments.length)return d.showTodayButton;if("boolean"!=typeof a)throw new TypeError("showTodayButton() expects a boolean parameter");return d.showTodayButton=a,o&&(ba(),ga()),l},l.showClear=function(a){if(0===arguments.length)return d.showClear;if("boolean"!=typeof a)throw new TypeError("showClear() expects a boolean parameter");return d.showClear=a,o&&(ba(),ga()),l},l.widgetParent=function(b){if(0===arguments.length)return d.widgetParent;if("string"==typeof b&&(b=a(b)),null!==b&&"string"!=typeof b&&!(b instanceof a))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return d.widgetParent=b,o&&(ba(),ga()),l},l.keepOpen=function(a){if(0===arguments.length)return d.keepOpen;if("boolean"!=typeof a)throw new TypeError("keepOpen() expects a boolean parameter");return d.keepOpen=a,l},l.focusOnShow=function(a){if(0===arguments.length)return d.focusOnShow;if("boolean"!=typeof a)throw new TypeError("focusOnShow() expects a boolean parameter");return d.focusOnShow=a,l},l.inline=function(a){if(0===arguments.length)return d.inline;if("boolean"!=typeof a)throw new TypeError("inline() expects a boolean parameter");return d.inline=a,l},l.clear=function(){return ca(),l},l.keyBinds=function(a){return 0===arguments.length?d.keyBinds:(d.keyBinds=a,l)},l.getMoment=function(a){return y(a)},l.debug=function(a){if("boolean"!=typeof a)throw new TypeError("debug() expects a boolean parameter");return d.debug=a,l},l.allowInputToggle=function(a){if(0===arguments.length)return d.allowInputToggle;if("boolean"!=typeof a)throw new TypeError("allowInputToggle() expects a boolean parameter");return d.allowInputToggle=a,l},l.showClose=function(a){if(0===arguments.length)return d.showClose;if("boolean"!=typeof a)throw new TypeError("showClose() expects a boolean parameter");return d.showClose=a,l},l.keepInvalid=function(a){if(0===arguments.length)return d.keepInvalid;if("boolean"!=typeof a)throw new TypeError("keepInvalid() expects a boolean parameter");return d.keepInvalid=a,l},l.datepickerInput=function(a){if(0===arguments.length)return d.datepickerInput;if("string"!=typeof a)throw new TypeError("datepickerInput() expects a string parameter");return d.datepickerInput=a,l},l.parseInputDate=function(a){if(0===arguments.length)return d.parseInputDate;if("function"!=typeof a)throw new TypeError("parseInputDate() sholud be as function");return d.parseInputDate=a,l},l.disabledTimeIntervals=function(b){if(0===arguments.length)return d.disabledTimeIntervals?a.extend({},d.disabledTimeIntervals):d.disabledTimeIntervals;if(!b)return d.disabledTimeIntervals=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return d.disabledTimeIntervals=b,_(),l},l.disabledHours=function(b){if(0===arguments.length)return d.disabledHours?a.extend({},d.disabledHours):d.disabledHours;if(!b)return d.disabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(d.disabledHours=oa(b),d.enabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.enabledHours=function(b){if(0===arguments.length)return d.enabledHours?a.extend({},d.enabledHours):d.enabledHours;if(!b)return d.enabledHours=!1,_(),l;if(!(b instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(d.enabledHours=oa(b),d.disabledHours=!1,d.useCurrent&&!d.keepInvalid){for(var c=0;!R(e,"h");){if(e.add(1,"h"),24===c)throw"Tried 24 times to find a valid date";c++}aa(e)}return _(),l},l.viewDate=function(a){if(0===arguments.length)return f.clone();if(!a)return f=e.clone(),l;if(!("string"==typeof a||b.isMoment(a)||a instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return f=da(a),K(),l},c.is("input"))g=c;else if(g=c.find(d.datepickerInput),0===g.length)g=c.find("input");else if(!g.is("input"))throw new Error('CSS class "'+d.datepickerInput+'" cannot be applied to non input element');if(c.hasClass("input-group")&&(n=0===c.find(".datepickerbutton").length?c.find(".input-group-addon"):c.find(".datepickerbutton")),!d.inline&&!g.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e=y(),f=e.clone(),a.extend(!0,d,H()),l.options(d),pa(),la(),g.prop("disabled")&&l.disable(),g.is("input")&&0!==g.val().trim().length?aa(da(g.val().trim())):d.defaultDate&&void 0===g.attr("placeholder")&&aa(d.defaultDate),d.inline&&ga(),l};return a.fn.datetimepicker=function(b){b=b||{};var d,e=Array.prototype.slice.call(arguments,1),f=!0,g=["destroy","hide","show","toggle"];if("object"==typeof b)return this.each(function(){var d,e=a(this);e.data("DateTimePicker")||(d=a.extend(!0,{},a.fn.datetimepicker.defaults,b),e.data("DateTimePicker",c(e,d)))});if("string"==typeof b)return this.each(function(){var c=a(this),g=c.data("DateTimePicker");if(!g)throw new Error('bootstrap-datetimepicker("'+b+'") method was called on an element that is not using DateTimePicker');d=g[b].apply(g,e),f=d===g}),f||a.inArray(b,g)>-1?this:d;throw new TypeError("Invalid arguments for DateTimePicker: "+b)},a.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:b.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(7,"d")):this.date(b.clone().add(this.stepping(),"m"))}},down:function(a){if(!a)return void this.show();var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(7,"d")):this.date(b.clone().subtract(this.stepping(),"m"))},"control up":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().subtract(1,"y")):this.date(b.clone().add(1,"h"))}},"control down":function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")?this.date(b.clone().add(1,"y")):this.date(b.clone().subtract(1,"h"))}},left:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"d"))}},right:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"d"))}},pageUp:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().subtract(1,"M"))}},pageDown:function(a){if(a){var b=this.date()||this.getMoment();a.find(".datepicker").is(":visible")&&this.date(b.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(a){a&&a.find(".timepicker").is(":visible")&&a.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},a.fn.datetimepicker}),define("modules/i18n/i18n",["require","exports","module","underscore","jquery","translation"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("translation"),g=d.extend({},f),h=function(){this.lang=navigator.language||navigator.userLanguage};d.extend(h.prototype,{include:function(b){var c=e.Deferred();return b=d.flatten([b]),a(b,function(){var a=d.flatten([{},g,arguments]);g=d.extend.apply(d,a),c.resolveWith(g)}),c.promise()}}),d.extend(h.prototype,{get:function(a,b,c){var d=a;c||!b||isNaN(1*b)||(c=b),(c>1||0===c)&&(a+=".pl"),d=a,d=g[a]||d;var e=function(a,b){for(var c,d=new RegExp("[\\$|#]\\{(.*?)\\}","i");null!==(c=b.match(d));)for(var e=0;e<c.length;e++){var f,g=c[e],h=c[++e].split("."),i=h.some(function(){return f=h.reduce(function(a,b){return a[b]},a),void 0!==f});i||(f=c[e]);var j=new RegExp(g.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),"ig");b=b.replace(j,f)}return b};return b&&"object"==typeof b&&(d=e(b,d)),d&&(d=d.replace(/\n/g,"<br />")),d}}),c.exports=new h}),define("modules/i18n/main",["require","exports","module","ironclad","underscore","./i18n"],function(a,b,c){
    var d=a("ironclad"),e=a("underscore"),f=a("./i18n"),g={i18n:f.get};e.extend(d.templateHelpers,g),d.ItemView.mixins.push(g),d.Layout.mixins.push(g),d.CompositeView.mixins.push(g),d.CollectionView.mixins.push(g),c.exports=f}),function(a){"function"==typeof define&&define.amd?define("dropzone",["jquery"],a):a(jQuery)}(function(a){var b={exports:{}};return function(){var c,d,e,f,g,h,i,j,k=[].slice,l={}.hasOwnProperty,m=function(a,b){function c(){this.constructor=a}for(var d in b)l.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};i=function(){},d=function(){function a(){}return a.prototype.addEventListener=a.prototype.on,a.prototype.on=function(a,b){return this._callbacks=this._callbacks||{},this._callbacks[a]||(this._callbacks[a]=[]),this._callbacks[a].push(b),this},a.prototype.emit=function(){var a,b,c,d,e,f;if(d=arguments[0],a=2<=arguments.length?k.call(arguments,1):[],this._callbacks=this._callbacks||{},c=this._callbacks[d])for(e=0,f=c.length;e<f;e++)b=c[e],b.apply(this,a);return this},a.prototype.removeListener=a.prototype.off,a.prototype.removeAllListeners=a.prototype.off,a.prototype.removeEventListener=a.prototype.off,a.prototype.off=function(a,b){var c,d,e,f,g;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(d=this._callbacks[a],!d)return this;if(1===arguments.length)return delete this._callbacks[a],this;for(e=f=0,g=d.length;f<g;e=++f)if(c=d[e],c===b){d.splice(e,1);break}return this},a}(),c=function(a){function b(a,d){var e,f,g;if(this.element=a,this.version=b.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(b.instances.push(this),this.element.dropzone=this,e=null!=(g=b.optionsForElement(this.element))?g:{},this.options=c({},this.defaultOptions,e,null!=d?d:{}),this.options.forceFallback||!b.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(f=this.getExistingFallback())&&f.parentNode&&f.parentNode.removeChild(f),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=b.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=b.getElements(this.options.clickable,"clickable")),this.init()}var c,e;return m(b,a),b.prototype.Emitter=d,b.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],b.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(a,b){return b()},init:function(){return i},forceFallback:!1,fallback:function(){var a,c,d,e,f,g;for(this.element.className=""+this.element.className+" dz-browser-not-supported",g=this.element.getElementsByTagName("div"),e=0,f=g.length;e<f;e++)a=g[e],/(^| )dz-message($| )/.test(a.className)&&(c=a,a.className="dz-message");return c||(c=b.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(c)),d=c.getElementsByTagName("span")[0],d&&(null!=d.textContent?d.textContent=this.options.dictFallbackMessage:null!=d.innerText&&(d.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(a){var b,c,d;return b={srcX:0,srcY:0,srcWidth:a.width,srcHeight:a.height},c=a.width/a.height,b.optWidth=this.options.thumbnailWidth,b.optHeight=this.options.thumbnailHeight,null==b.optWidth&&null==b.optHeight?(b.optWidth=b.srcWidth,b.optHeight=b.srcHeight):null==b.optWidth?b.optWidth=c*b.optHeight:null==b.optHeight&&(b.optHeight=1/c*b.optWidth),d=b.optWidth/b.optHeight,a.height<b.optHeight||a.width<b.optWidth?(b.trgHeight=b.srcHeight,b.trgWidth=b.srcWidth):c>d?(b.srcHeight=a.height,b.srcWidth=b.srcHeight*d):(b.srcWidth=a.width,b.srcHeight=b.srcWidth/d),b.srcX=(a.width-b.srcWidth)/2,b.srcY=(a.height-b.srcHeight)/2,b},drop:function(a){return this.element.classList.remove("dz-drag-hover")},dragstart:i,dragend:function(a){return this.element.classList.remove("dz-drag-hover")},dragenter:function(a){return this.element.classList.add("dz-drag-hover")},dragover:function(a){return this.element.classList.add("dz-drag-hover")},dragleave:function(a){return this.element.classList.remove("dz-drag-hover")},paste:i,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(a){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(a.previewElement=b.createElement(this.options.previewTemplate.trim()),a.previewTemplate=a.previewElement,this.previewsContainer.appendChild(a.previewElement),l=a.previewElement.querySelectorAll("[data-dz-name]"),f=0,i=l.length;f<i;f++)c=l[f],c.textContent=this._renameFilename(a.name);for(m=a.previewElement.querySelectorAll("[data-dz-size]"),g=0,j=m.length;g<j;g++)c=m[g],c.innerHTML=this.filesize(a.size);for(this.options.addRemoveLinks&&(a._removeLink=b.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),a.previewElement.appendChild(a._removeLink)),d=function(c){return function(d){return d.preventDefault(),d.stopPropagation(),a.status===b.UPLOADING?b.confirm(c.options.dictCancelUploadConfirmation,function(){return c.removeFile(a)}):c.options.dictRemoveFileConfirmation?b.confirm(c.options.dictRemoveFileConfirmation,function(){return c.removeFile(a)}):c.removeFile(a)}}(this),n=a.previewElement.querySelectorAll("[data-dz-remove]"),o=[],h=0,k=n.length;h<k;h++)e=n[h],o.push(e.addEventListener("click",d));return o}},removedfile:function(a){var b;return a.previewElement&&null!=(b=a.previewElement)&&b.parentNode.removeChild(a.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(a,b){var c,d,e,f;if(a.previewElement){for(a.previewElement.classList.remove("dz-file-preview"),f=a.previewElement.querySelectorAll("[data-dz-thumbnail]"),d=0,e=f.length;d<e;d++)c=f[d],c.alt=a.name,c.src=b;return setTimeout(function(b){return function(){return a.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(a,b){var c,d,e,f,g;if(a.previewElement){for(a.previewElement.classList.add("dz-error"),"String"!=typeof b&&b.error&&(b=b.error),f=a.previewElement.querySelectorAll("[data-dz-errormessage]"),g=[],d=0,e=f.length;d<e;d++)c=f[d],g.push(c.textContent=b);return g}},errormultiple:i,processing:function(a){if(a.previewElement&&(a.previewElement.classList.add("dz-processing"),a._removeLink))return a._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:i,uploadprogress:function(a,b,c){var d,e,f,g,h;if(a.previewElement){for(g=a.previewElement.querySelectorAll("[data-dz-uploadprogress]"),h=[],e=0,f=g.length;e<f;e++)d=g[e],"PROGRESS"===d.nodeName?h.push(d.value=b):h.push(d.style.width=""+b+"%");return h}},totaluploadprogress:i,sending:i,sendingmultiple:i,success:function(a){if(a.previewElement)return a.previewElement.classList.add("dz-success")},successmultiple:i,canceled:function(a){return this.emit("error",a,"Upload canceled.")},canceledmultiple:i,complete:function(a){if(a._removeLink&&(a._removeLink.textContent=this.options.dictRemoveFile),a.previewElement)return a.previewElement.classList.add("dz-complete")},completemultiple:i,maxfilesexceeded:i,maxfilesreached:i,queuecomplete:i,addedfiles:i,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},c=function(){var a,b,c,d,e,f,g;for(d=arguments[0],c=2<=arguments.length?k.call(arguments,1):[],f=0,g=c.length;f<g;f++){b=c[f];for(a in b)e=b[a],d[a]=e}return d},b.prototype.getAcceptedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.accepted&&e.push(a);return e},b.prototype.getRejectedFiles=function(){var a,b,c,d,e;for(d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],a.accepted||e.push(a);return e},b.prototype.getFilesWithStatus=function(a){var b,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;c<d;c++)b=e[c],b.status===a&&f.push(b);return f},b.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(b.QUEUED)},b.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(b.UPLOADING)},b.prototype.getAddedFiles=function(){return this.getFilesWithStatus(b.ADDED)},b.prototype.getActiveFiles=function(){var a,c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;c<d;c++)a=e[c],a.status!==b.UPLOADING&&a.status!==b.QUEUED||f.push(a);return f},b.prototype.init=function(){var a,c,d,e,f,g,h;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(b.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(d=function(a){return function(){return a.hiddenFileInput&&a.hiddenFileInput.parentNode.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||a.options.maxFiles>1)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.querySelector(a.options.hiddenInputContainer).appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var b,c,e,f;if(c=a.hiddenFileInput.files,c.length)for(e=0,f=c.length;e<f;e++)b=c[e],a.addFile(b);return a.emit("addedfiles",c),d()})}}(this))(),this.URL=null!=(g=window.URL)?g:window.webkitURL,h=this.events,e=0,f=h.length;e<f;e++)a=h[e],this.on(a,this.options[a]);return this.on("uploadprogress",function(a){return function(){return a.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(a){return function(){return a.updateTotalUploadProgress()}}(this)),this.on("canceled",function(a){return function(b){return a.emit("complete",b)}}(this)),this.on("complete",function(a){return function(b){if(0===a.getAddedFiles().length&&0===a.getUploadingFiles().length&&0===a.getQueuedFiles().length)return setTimeout(function(){return a.emit("queuecomplete")},0)}}(this)),c=function(a){return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(a){return function(b){return a.emit("dragstart",b)}}(this),dragenter:function(a){return function(b){return c(b),a.emit("dragenter",b)}}(this),dragover:function(a){return function(b){var d;try{d=b.dataTransfer.effectAllowed}catch(a){}return b.dataTransfer.dropEffect="move"===d||"linkMove"===d?"move":"copy",c(b),a.emit("dragover",b)}}(this),dragleave:function(a){return function(b){return a.emit("dragleave",b)}}(this),drop:function(a){return function(b){return c(b),a.drop(b)}}(this),dragend:function(a){return function(b){return a.emit("dragend",b)}}(this)}}],this.clickableElements.forEach(function(a){return function(c){return a.listeners.push({element:c,events:{click:function(d){return(c!==a.element||d.target===a.element||b.elementInside(d.target,a.element.querySelector(".dz-message")))&&a.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},b.prototype.destroy=function(){var a;return this.disable(),this.removeAllFiles(!0),(null!=(a=this.hiddenFileInput)?a.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,b.instances.splice(b.instances.indexOf(this),1)},b.prototype.updateTotalUploadProgress=function(){var a,b,c,d,e,f,g,h;if(d=0,c=0,a=this.getActiveFiles(),a.length){for(h=this.getActiveFiles(),f=0,g=h.length;f<g;f++)b=h[f],d+=b.upload.bytesSent,c+=b.upload.total;e=100*d/c}else e=100;return this.emit("totaluploadprogress",e,c,d)},b.prototype._getParamName=function(a){return"function"==typeof this.options.paramName?this.options.paramName(a):""+this.options.paramName+(this.options.uploadMultiple?"["+a+"]":"")},b.prototype._renameFilename=function(a){return"function"!=typeof this.options.renameFilename?a:this.options.renameFilename(a)},b.prototype.getFallbackForm=function(){var a,c,d,e;return(a=this.getExistingFallback())?a:(d='<div class="dz-fallback">',this.options.dictFallbackText&&(d+="<p>"+this.options.dictFallbackText+"</p>"),d+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',c=b.createElement(d),"FORM"!==this.element.tagName?(e=b.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),e.appendChild(c)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=e?e:c)},b.prototype.getExistingFallback=function(){var a,b,c,d,e,f;for(b=function(a){var b,c,d;for(c=0,d=a.length;c<d;c++)if(b=a[c],/(^| )fallback($| )/.test(b.className))return b},f=["div","form"],d=0,e=f.length;d<e;d++)if(c=f[d],a=b(this.element.getElementsByTagName(c)))return a},b.prototype.setupEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;d<e;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.addEventListener(b,c,!1));return e}());return g},b.prototype.removeEventListeners=function(){var a,b,c,d,e,f,g;for(f=this.listeners,g=[],d=0,e=f.length;d<e;d++)a=f[d],g.push(function(){var d,e;d=a.events,e=[];for(b in d)c=d[b],e.push(a.element.removeEventListener(b,c,!1));return e}());return g},b.prototype.disable=function(){var a,b,c,d,e;for(this.clickableElements.forEach(function(a){return a.classList.remove("dz-clickable")}),this.removeEventListeners(),d=this.files,e=[],b=0,c=d.length;b<c;b++)a=d[b],e.push(this.cancelUpload(a));return e},b.prototype.enable=function(){return this.clickableElements.forEach(function(a){return a.classList.add("dz-clickable")}),this.setupEventListeners()},b.prototype.filesize=function(a){var b,c,d,e,f,g,h,i;if(d=0,e="b",a>0){for(g=["TB","GB","MB","KB","b"],c=h=0,i=g.length;h<i;c=++h)if(f=g[c],b=Math.pow(this.options.filesizeBase,4-c)/10,a>=b){d=a/Math.pow(this.options.filesizeBase,4-c),e=f;break}d=Math.round(10*d)/10}return"<strong>"+d+"</strong> "+e},b.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},b.prototype.drop=function(a){var b,c;a.dataTransfer&&(this.emit("drop",a),b=a.dataTransfer.files,this.emit("addedfiles",b),b.length&&(c=a.dataTransfer.items,c&&c.length&&null!=c[0].webkitGetAsEntry?this._addFilesFromItems(c):this.handleFiles(b)))},b.prototype.paste=function(a){var b,c;if(null!=(null!=a&&null!=(c=a.clipboardData)?c.items:void 0))return this.emit("paste",a),b=a.clipboardData.items,b.length?this._addFilesFromItems(b):void 0},b.prototype.handleFiles=function(a){var b,c,d,e;for(e=[],c=0,d=a.length;c<d;c++)b=a[c],e.push(this.addFile(b));return e},b.prototype._addFilesFromItems=function(a){var b,c,d,e,f;for(f=[],d=0,e=a.length;d<e;d++)c=a[d],null!=c.webkitGetAsEntry&&(b=c.webkitGetAsEntry())?b.isFile?f.push(this.addFile(c.getAsFile())):b.isDirectory?f.push(this._addFilesFromDirectory(b,b.name)):f.push(void 0):null!=c.getAsFile&&(null==c.kind||"file"===c.kind)?f.push(this.addFile(c.getAsFile())):f.push(void 0);return f},b.prototype._addFilesFromDirectory=function(a,b){var c,d,e;return c=a.createReader(),d=function(a){return"undefined"!=typeof console&&null!==console?("function"==typeof console.log,void 0):void 0},(e=function(a){return function(){return c.readEntries(function(c){var d,f,g;if(c.length>0){for(f=0,g=c.length;f<g;f++)d=c[f],d.isFile?d.file(function(c){if(!a.options.ignoreHiddenFiles||"."!==c.name.substring(0,1))return c.fullPath=""+b+"/"+c.name,a.addFile(c)}):d.isDirectory&&a._addFilesFromDirectory(d,""+b+"/"+d.name);e()}return null},d)}}(this))()},b.prototype.accept=function(a,c){return a.size>1024*this.options.maxFilesize*1024?c(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(a.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):b.isValidFile(a,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(c(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",a)):this.options.accept.call(this,a,c):c(this.options.dictInvalidFileType)},b.prototype.addFile=function(a){return a.upload={progress:0,total:a.size,bytesSent:0},this.files.push(a),a.status=b.ADDED,this.emit("addedfile",a),this._enqueueThumbnail(a),this.accept(a,function(b){return function(c){return c?(a.accepted=!1,b._errorProcessing([a],c)):(a.accepted=!0,b.options.autoQueue&&b.enqueueFile(a)),b._updateMaxFilesReachedClass()}}(this))},b.prototype.enqueueFiles=function(a){var b,c,d;for(c=0,d=a.length;c<d;c++)b=a[c],this.enqueueFile(b);return null},b.prototype.enqueueFile=function(a){if(a.status!==b.ADDED||a.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(a.status=b.QUEUED,this.options.autoProcessQueue)return setTimeout(function(a){return function(){return a.processQueue()}}(this),0)},b.prototype._thumbnailQueue=[],b.prototype._processingThumbnail=!1,b.prototype._enqueueThumbnail=function(a){if(this.options.createImageThumbnails&&a.type.match(/image.*/)&&a.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(a),setTimeout(function(a){return function(){return a._processThumbnailQueue()}}(this),0)},b.prototype._processThumbnailQueue=function(){if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(a){return function(){return a._processingThumbnail=!1,a._processThumbnailQueue()}}(this))},b.prototype.removeFile=function(a){if(a.status===b.UPLOADING&&this.cancelUpload(a),this.files=j(this.files,a),this.emit("removedfile",a),0===this.files.length)return this.emit("reset")},b.prototype.removeAllFiles=function(a){var c,d,e,f;for(null==a&&(a=!1),f=this.files.slice(),d=0,e=f.length;d<e;d++)c=f[d],(c.status!==b.UPLOADING||a)&&this.removeFile(c);return null},b.prototype.createThumbnail=function(a,b){var c;return c=new FileReader,c.onload=function(d){return function(){return"image/svg+xml"===a.type?(d.emit("thumbnail",a,c.result),void(null!=b&&b())):d.createThumbnailFromUrl(a,c.result,b)}}(this),c.readAsDataURL(a)},b.prototype.createThumbnailFromUrl=function(a,b,c,d){var e;return e=document.createElement("img"),d&&(e.crossOrigin=d),e.onload=function(b){return function(){var d,f,g,i,j,k,l,m;if(a.width=e.width,a.height=e.height,g=b.options.resize.call(b,a),null==g.trgWidth&&(g.trgWidth=g.optWidth),null==g.trgHeight&&(g.trgHeight=g.optHeight),d=document.createElement("canvas"),f=d.getContext("2d"),d.width=g.trgWidth,d.height=g.trgHeight,h(f,e,null!=(j=g.srcX)?j:0,null!=(k=g.srcY)?k:0,g.srcWidth,g.srcHeight,null!=(l=g.trgX)?l:0,null!=(m=g.trgY)?m:0,g.trgWidth,g.trgHeight),i=d.toDataURL("image/png"),b.emit("thumbnail",a,i),null!=c)return c()}}(this),null!=c&&(e.onerror=c),e.src=b},b.prototype.processQueue=function(){var a,b,c,d;if(b=this.options.parallelUploads,c=this.getUploadingFiles().length,a=c,!(c>=b)&&(d=this.getQueuedFiles(),d.length>0)){if(this.options.uploadMultiple)return this.processFiles(d.slice(0,b-c));for(;a<b;){if(!d.length)return;this.processFile(d.shift()),a++}}},b.prototype.processFile=function(a){return this.processFiles([a])},b.prototype.processFiles=function(a){var c,d,e;for(d=0,e=a.length;d<e;d++)c=a[d],c.processing=!0,c.status=b.UPLOADING,this.emit("processing",c);return this.options.uploadMultiple&&this.emit("processingmultiple",a),this.uploadFiles(a)},b.prototype._getFilesWithXhr=function(a){var b,c;return c=function(){var c,d,e,f;for(e=this.files,f=[],c=0,d=e.length;c<d;c++)b=e[c],b.xhr===a&&f.push(b);return f}.call(this)},b.prototype.cancelUpload=function(a){var c,d,e,f,g,h,i;if(a.status===b.UPLOADING){for(d=this._getFilesWithXhr(a.xhr),e=0,g=d.length;e<g;e++)c=d[e],c.status=b.CANCELED;for(a.xhr.abort(),f=0,h=d.length;f<h;f++)c=d[f],this.emit("canceled",c);this.options.uploadMultiple&&this.emit("canceledmultiple",d)}else(i=a.status)!==b.ADDED&&i!==b.QUEUED||(a.status=b.CANCELED,this.emit("canceled",a),this.options.uploadMultiple&&this.emit("canceledmultiple",[a]));if(this.options.autoProcessQueue)return this.processQueue()},e=function(){var a,b;return b=arguments[0],a=2<=arguments.length?k.call(arguments,1):[],"function"==typeof b?b.apply(this,a):b},b.prototype.uploadFile=function(a){return this.uploadFiles([a])},b.prototype.uploadFiles=function(a){var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;for(w=new XMLHttpRequest,x=0,B=a.length;x<B;x++)d=a[x],d.xhr=w;p=e(this.options.method,a),u=e(this.options.url,a),w.open(p,u,!0),w.withCredentials=!!this.options.withCredentials,s=null,g=function(b){return function(){var c,e,f;for(f=[],c=0,e=a.length;c<e;c++)d=a[c],f.push(b._errorProcessing(a,s||b.options.dictResponseError.replace("{{statusCode}}",w.status),w));return f}}(this),t=function(b){return function(c){var e,f,g,h,i,j,k,l,m;if(null!=c)for(f=100*c.loaded/c.total,g=0,j=a.length;g<j;g++)d=a[g],d.upload={progress:f,total:c.total,bytesSent:c.loaded};else{for(e=!0,f=100,h=0,k=a.length;h<k;h++)d=a[h],100===d.upload.progress&&d.upload.bytesSent===d.upload.total||(e=!1),d.upload.progress=f,d.upload.bytesSent=d.upload.total;if(e)return}for(m=[],i=0,l=a.length;i<l;i++)d=a[i],m.push(b.emit("uploadprogress",d,f,d.upload.bytesSent));return m}}(this),w.onload=function(c){return function(d){var e;if(a[0].status!==b.CANCELED&&4===w.readyState){if(s=w.responseText,w.getResponseHeader("content-type")&&~w.getResponseHeader("content-type").indexOf("application/json"))try{s=JSON.parse(s)}catch(a){d=a,s="Invalid JSON response from server."}return t(),200<=(e=w.status)&&e<300?c._finished(a,s,d):g()}}}(this),w.onerror=function(c){return function(){if(a[0].status!==b.CANCELED)return g()}}(this),r=null!=(G=w.upload)?G:w,r.onprogress=t,j={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&c(j,this.options.headers);for(h in j)i=j[h],i&&w.setRequestHeader(h,i);if(f=new FormData,this.options.params){H=this.options.params;for(o in H)v=H[o],f.append(o,v)}for(y=0,C=a.length;y<C;y++)d=a[y],this.emit("sending",d,w,f);if(this.options.uploadMultiple&&this.emit("sendingmultiple",a,w,f),"FORM"===this.element.tagName)for(I=this.element.querySelectorAll("input, textarea, select, button"),z=0,D=I.length;z<D;z++)if(l=I[z],m=l.getAttribute("name"),n=l.getAttribute("type"),"SELECT"===l.tagName&&l.hasAttribute("multiple"))for(J=l.options,A=0,E=J.length;A<E;A++)q=J[A],q.selected&&f.append(m,q.value);else(!n||"checkbox"!==(K=n.toLowerCase())&&"radio"!==K||l.checked)&&f.append(m,l.value);for(k=F=0,L=a.length-1;0<=L?F<=L:F>=L;k=0<=L?++F:--F)f.append(this._getParamName(k),a[k],this._renameFilename(a[k].name));return this.submitRequest(w,f,a)},b.prototype.submitRequest=function(a,b,c){return a.send(b)},b.prototype._finished=function(a,c,d){var e,f,g;for(f=0,g=a.length;f<g;f++)e=a[f],e.status=b.SUCCESS,this.emit("success",e,c,d),this.emit("complete",e);if(this.options.uploadMultiple&&(this.emit("successmultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()},b.prototype._errorProcessing=function(a,c,d){var e,f,g;for(f=0,g=a.length;f<g;f++)e=a[f],e.status=b.ERROR,this.emit("error",e,c,d),this.emit("complete",e);if(this.options.uploadMultiple&&(this.emit("errormultiple",a,c,d),this.emit("completemultiple",a)),this.options.autoProcessQueue)return this.processQueue()},b}(d),c.version="4.3.0",c.options={},c.optionsForElement=function(a){return a.getAttribute("id")?c.options[e(a.getAttribute("id"))]:void 0},c.instances=[],c.forElement=function(a){if("string"==typeof a&&(a=document.querySelector(a)),null==(null!=a?a.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return a.dropzone},c.autoDiscover=!0,c.discover=function(){var a,b,d,e,f,g;for(document.querySelectorAll?d=document.querySelectorAll(".dropzone"):(d=[],a=function(a){var b,c,e,f;for(f=[],c=0,e=a.length;c<e;c++)b=a[c],/(^| )dropzone($| )/.test(b.className)?f.push(d.push(b)):f.push(void 0);return f},a(document.getElementsByTagName("div")),a(document.getElementsByTagName("form"))),g=[],e=0,f=d.length;e<f;e++)b=d[e],c.optionsForElement(b)!==!1?g.push(new c(b)):g.push(void 0);return g},c.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],c.isBrowserSupported=function(){var a,b,d,e,f;if(a=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(f=c.blacklistedBrowsers,d=0,e=f.length;d<e;d++)b=f[d],b.test(navigator.userAgent)&&(a=!1);else a=!1;else a=!1;return a},j=function(a,b){var c,d,e,f;for(f=[],d=0,e=a.length;d<e;d++)c=a[d],c!==b&&f.push(c);return f},e=function(a){return a.replace(/[\-_](\w)/g,function(a){return a.charAt(1).toUpperCase()})},c.createElement=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.childNodes[0]},c.elementInside=function(a,b){if(a===b)return!0;for(;a=a.parentNode;)if(a===b)return!0;return!1},c.getElement=function(a,b){var c;if("string"==typeof a?c=document.querySelector(a):null!=a.nodeType&&(c=a),null==c)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector or a plain HTML element.");return c},c.getElements=function(a,b){var c,d,e,f,g,h,i,j;if(a instanceof Array){e=[];try{for(f=0,h=a.length;f<h;f++)d=a[f],e.push(this.getElement(d,b))}catch(a){c=a,e=null}}else if("string"==typeof a)for(e=[],j=document.querySelectorAll(a),g=0,i=j.length;g<i;g++)d=j[g],e.push(d);else null!=a.nodeType&&(e=[a]);if(null==e||!e.length)throw new Error("Invalid `"+b+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return e;
},c.confirm=function(a,b,c){return window.confirm(a)?b():null!=c?c():void 0},c.isValidFile=function(a,b){var c,d,e,f,g;if(!b)return!0;for(b=b.split(","),d=a.type,c=d.replace(/\/.*$/,""),f=0,g=b.length;f<g;f++)if(e=b[f],e=e.trim(),"."===e.charAt(0)){if(a.name.toLowerCase().indexOf(e.toLowerCase(),a.name.length-e.length)!==-1)return!0}else if(/\/\*$/.test(e)){if(c===e.replace(/\/.*$/,""))return!0}else if(d===e)return!0;return!1},"undefined"!=typeof a&&null!==a&&(a.fn.dropzone=function(a){return this.each(function(){return new c(this,a)})}),"undefined"!=typeof b&&null!==b?b.exports=c:window.Dropzone=c,c.ADDED="added",c.QUEUED="queued",c.ACCEPTED=c.QUEUED,c.UPLOADING="uploading",c.PROCESSING=c.UPLOADING,c.CANCELED="canceled",c.ERROR="error",c.SUCCESS="success",g=function(a){var b,c,d,e,f,g,h,i,j,k;for(h=a.naturalWidth,g=a.naturalHeight,c=document.createElement("canvas"),c.width=1,c.height=g,d=c.getContext("2d"),d.drawImage(a,0,0),e=d.getImageData(0,0,1,g).data,k=0,f=g,i=g;i>k;)b=e[4*(i-1)+3],0===b?f=i:k=i,i=f+k>>1;return j=i/g,0===j?1:j},h=function(a,b,c,d,e,f,h,i,j,k){var l;return l=g(b),a.drawImage(b,c,d,e,f,h,i,j,k/l)},f=function(a,b){var c,d,e,f,g,h,i,j,k;if(e=!1,k=!0,d=a.document,j=d.documentElement,c=d.addEventListener?"addEventListener":"attachEvent",i=d.addEventListener?"removeEventListener":"detachEvent",h=d.addEventListener?"":"on",f=function(c){if("readystatechange"!==c.type||"complete"===d.readyState)return("load"===c.type?a:d)[i](h+c.type,f,!1),!e&&(e=!0)?b.call(a,c.type||c):void 0},g=function(){var a;try{j.doScroll("left")}catch(b){return a=b,void setTimeout(g,50)}return f("poll")},"complete"!==d.readyState){if(d.createEventObject&&j.doScroll){try{k=!a.frameElement}catch(a){}k&&g()}return d[c](h+"DOMContentLoaded",f,!1),d[c](h+"readystatechange",f,!1),a[c](h+"load",f,!1)}},c._autoDiscoverFunction=function(){if(c.autoDiscover)return c.discover()},f(window,c._autoDiscoverFunction)}.call(this),b.exports}),function(){function a(a){this._value=a}function b(a,b,c,d){var e,f,g,h,i=a.toString().split("."),j=b-(d||0);return e=2===i.length?Math.min(Math.max(i[1].length,j),b):j,g=Math.pow(10,e),h=(c(a*g)/g).toFixed(e),d>b-e&&(f=new RegExp("\\.?0{1,"+(d-(b-e))+"}$"),h=h.replace(f,"")),h}function c(a,b,c){var j;return j=0===a._value&&null!==s.zeroFormat?s.zeroFormat:null===a._value&&null!==s.nullFormat?s.nullFormat:b.indexOf("$")>-1?d(a,b,c):b.indexOf("%")>-1?e(a,b,c):b.indexOf(":")>-1?h(a,b):b.indexOf("b")>-1||b.indexOf("ib")>-1?f(a,b,c):b.indexOf("o")>-1?g(a,b,c):i(a._value,b,c)}function d(a,b,c){var d,e,f=b.indexOf("$"),g=b.indexOf("("),h=b.indexOf("-"),j="";return b.indexOf(" $")>-1?(j=" ",b=b.replace(" $","")):b.indexOf("$ ")>-1?(j=" ",b=b.replace("$ ","")):b=b.replace("$",""),e=i(a._value,b,c,!1),f<=1?e.indexOf("(")>-1||e.indexOf("-")>-1?(e=e.split(""),d=1,(f<g||f<h)&&(d=0),e.splice(d,0,q[s.currentLanguage].currency.symbol+j),e=e.join("")):e=q[s.currentLanguage].currency.symbol+j+e:e.indexOf(")")>-1?(e=e.split(""),e.splice(-1,0,j+q[s.currentLanguage].currency.symbol),e=e.join("")):e=e+j+q[s.currentLanguage].currency.symbol,e}function e(a,b,c){var d,e="",f=100*a._value;return b.indexOf(" %")>-1?(e=" ",b=b.replace(" %","")):b=b.replace("%",""),d=i(f,b,c),d.indexOf(")")>-1?(d=d.split(""),d.splice(-1,0,e+"%"),d=d.join("")):d=d+e+"%",d}function f(a,b,c){var d,e,f,g,h=b.indexOf("ib")>-1?t.iec:t.bytes,j=a._value,k="";for(b.indexOf(" b")>-1||b.indexOf(" ib")>-1?(k=" ",b=b.replace(" ib","").replace(" b","")):b=b.replace("ib","").replace("b",""),e=0;e<=h.length;e++)if(f=Math.pow(1024,e),g=Math.pow(1024,e+1),null===j||0===j||j>=f&&j<g){k+=h[e],f>0&&(j/=f);break}return d=i(j,b,c),d+k}function g(a,b,c){var d,e="";return b.indexOf(" o")>-1?(e=" ",b=b.replace(" o","")):b=b.replace("o",""),e+=q[s.currentLanguage].ordinal(a._value),d=i(a._value,b,c),d+e}function h(a){var b=Math.floor(a._value/60/60),c=Math.floor((a._value-60*b*60)/60),d=Math.round(a._value-60*b*60-60*c);return b+":"+(c<10?"0"+c:c)+":"+(d<10?"0"+d:d)}function i(a,c,d){var e,f,g,h,i=!1,j=!1,k=!1,l="",m=!1,n=!1,o=!1,p=!1,r=!1,t="",u=!1;return null===a&&(a=0),e=Math.abs(a),c.indexOf("(")>-1?(i=!0,c=c.slice(1,-1)):c.indexOf("+")>-1&&(j=!0,c=c.replace(/\+/g,"")),c.indexOf("a")>-1&&(m=c.indexOf("aK")>=0,n=c.indexOf("aM")>=0,o=c.indexOf("aB")>=0,p=c.indexOf("aT")>=0,r=m||n||o||p,c.indexOf(" a")>-1&&(l=" "),c=c.replace(new RegExp(l+"a[KMBT]?"),""),e>=Math.pow(10,12)&&!r||p?(l+=q[s.currentLanguage].abbreviations.trillion,a/=Math.pow(10,12)):e<Math.pow(10,12)&&e>=Math.pow(10,9)&&!r||o?(l+=q[s.currentLanguage].abbreviations.billion,a/=Math.pow(10,9)):e<Math.pow(10,9)&&e>=Math.pow(10,6)&&!r||n?(l+=q[s.currentLanguage].abbreviations.million,a/=Math.pow(10,6)):(e<Math.pow(10,6)&&e>=Math.pow(10,3)&&!r||m)&&(l+=q[s.currentLanguage].abbreviations.thousand,a/=Math.pow(10,3))),c.indexOf("[.]")>-1&&(k=!0,c=c.replace("[.]",".")),f=a.toString().split(".")[0],g=c.split(".")[1],h=c.indexOf(","),g?(g.indexOf("[")>-1?(g=g.replace("]",""),g=g.split("["),t=b(a,g[0].length+g[1].length,d,g[1].length)):t=b(a,g.length,d),f=t.split(".")[0],t=t.indexOf(".")>-1?q[s.currentLanguage].delimiters.decimal+t.split(".")[1]:"",k&&0===Number(t.slice(1))&&(t="")):f=b(a,null,d),f.indexOf("-")>-1&&(f=f.slice(1),u=!0),h>-1&&(f=f.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+q[s.currentLanguage].delimiters.thousands)),0===c.indexOf(".")&&(f=""),(i&&u?"(":"")+(!i&&u?"-":"")+(!u&&j?"+":"")+f+t+(l?l:"")+(i&&u?")":"")}function j(a,b){var c,d,e,f,g,h,i=b,j=!1;if(b.indexOf(":")>-1)h=k(b);else if(b===s.zeroFormat||b===s.nullFormat)h=0;else{for("."!==q[s.currentLanguage].delimiters.decimal&&(b=b.replace(/\./g,"").replace(q[s.currentLanguage].delimiters.decimal,".")),c=new RegExp("[^a-zA-Z]"+q[s.currentLanguage].abbreviations.thousand+"(?:\\)|(\\"+q[s.currentLanguage].currency.symbol+")?(?:\\))?)?$"),d=new RegExp("[^a-zA-Z]"+q[s.currentLanguage].abbreviations.million+"(?:\\)|(\\"+q[s.currentLanguage].currency.symbol+")?(?:\\))?)?$"),e=new RegExp("[^a-zA-Z]"+q[s.currentLanguage].abbreviations.billion+"(?:\\)|(\\"+q[s.currentLanguage].currency.symbol+")?(?:\\))?)?$"),f=new RegExp("[^a-zA-Z]"+q[s.currentLanguage].abbreviations.trillion+"(?:\\)|(\\"+q[s.currentLanguage].currency.symbol+")?(?:\\))?)?$"),g=1;g<=t.bytes.length&&!(j=(b.indexOf(t.bytes[g])>-1||b.indexOf(t.iec[g])>-1)&&Math.pow(1024,g));g++);h=j?j:1,h*=i.match(c)?Math.pow(10,3):1,h*=i.match(d)?Math.pow(10,6):1,h*=i.match(e)?Math.pow(10,9):1,h*=i.match(f)?Math.pow(10,12):1,h*=b.indexOf("%")>-1?.01:1,h*=(b.split("-").length+Math.min(b.split("(").length-1,b.split(")").length-1))%2?1:-1,h*=Number(b.replace(/[^0-9\.]+/g,"")),h=j?Math.ceil(h):h}return a._value=h,a._value}function k(a){var b=a.split(":"),c=0;return 3===b.length?(c+=60*Number(b[0])*60,c+=60*Number(b[1]),c+=Number(b[2])):2===b.length&&(c+=60*Number(b[0]),c+=Number(b[1])),Number(c)}function l(a,b){q[a]=b}function m(a){var b=a.toString().split(".");return b.length<2?1:Math.pow(10,b[1].length)}function n(){var a=Array.prototype.slice.call(arguments);return a.reduce(function(a,b){var c=m(a),d=m(b);return c>d?c:d},-(1/0))}var o,p="1.5.6",q={},r={currentLanguage:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0"},s={currentLanguage:r.currentLanguage,zeroFormat:r.zeroFormat,nullFormat:r.nullFormat,defaultFormat:r.defaultFormat},t={bytes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],iec:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]};o=function(b){return b=o.isNumeral(b)?b.value():0===b||"undefined"==typeof b?0:null===b?null:Number(b)?Number(b):o.fn.unformat(b),new a(b)},o.version=p,o.isNumeral=function(b){return b instanceof a},o.language=function(a,b){if(!a)return s.currentLanguage;if(a=a.toLowerCase(),a&&!b){if(!q[a])throw new Error("Unknown language : "+a);s.currentLanguage=a}return!b&&q[a]||l(a,b),o},o.reset=function(){for(var a in r)s[a]=r[a]},o.languageData=function(a){if(!a)return q[s.currentLanguage];if(!q[a])throw new Error("Unknown language : "+a);return q[a]},o.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"$"}}),o.zeroFormat=function(a){s.zeroFormat="string"==typeof a?a:null},o.nullFormat=function(a){s.nullFormat="string"==typeof a?a:null},o.defaultFormat=function(a){s.defaultFormat="string"==typeof a?a:"0.0"},o.validate=function(a,b){var c,d,e,f,g,h,i,j;if("string"!=typeof a&&(a+="",console.warn),a=a.trim(),a.match(/^\d+$/))return!0;if(""===a)return!1;try{i=o.languageData(b)}catch(a){i=o.languageData(o.language())}return e=i.currency.symbol,g=i.abbreviations,c=i.delimiters.decimal,d="."===i.delimiters.thousands?"\\.":i.delimiters.thousands,j=a.match(/^[^\d]+/),(null===j||(a=a.substr(1),j[0]===e))&&(j=a.match(/[^\d]+$/),(null===j||(a=a.slice(0,-1),j[0]===g.thousand||j[0]===g.million||j[0]===g.billion||j[0]===g.trillion))&&(h=new RegExp(d+"{2}"),!a.match(/[^\d.,]/g)&&(f=a.split(c),!(f.length>2)&&(f.length<2?!!f[0].match(/^\d+.*\d$/)&&!f[0].match(h):1===f[0].length?!!f[0].match(/^\d+$/)&&!f[0].match(h)&&!!f[1].match(/^\d+$/):!!f[0].match(/^\d+.*\d$/)&&!f[0].match(h)&&!!f[1].match(/^\d+$/)))))},Array.prototype.reduce||(Array.prototype.reduce=function(a){"use strict";if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof a)throw new TypeError(a+" is not a function");var b,c=Object(this),d=c.length>>>0,e=0;if(2===arguments.length)b=arguments[1];else{for(;e<d&&!(e in c);)e++;if(e>=d)throw new TypeError("Reduce of empty array with no initial value");b=c[e++]}for(;e<d;e++)e in c&&(b=a(b,c[e],e,c));return b}),o.fn=a.prototype={clone:function(){return o(this)},format:function(a,b){return c(this,a?a:s.defaultFormat,void 0!==b?b:Math.round)},unformat:function(a){return"[object Number]"===Object.prototype.toString.call(a)?a:j(this,a?a:s.defaultFormat)},value:function(){return this._value},valueOf:function(){return this._value},set:function(a){return this._value=Number(a),this},add:function(a){function b(a,b,d,e){return a+c*b}var c=n.call(null,this._value,a);return this._value=[this._value,a].reduce(b,0)/c,this},subtract:function(a){function b(a,b,d,e){return a-c*b}var c=n.call(null,this._value,a);return this._value=[a].reduce(b,this._value*c)/c,this},multiply:function(a){function b(a,b,c,d){var e=n(a,b);return a*e*(b*e)/(e*e)}return this._value=[this._value,a].reduce(b,1),this},divide:function(a){function b(a,b,c,d){var e=n(a,b);return a*e/(b*e)}return this._value=[this._value,a].reduce(b),this},difference:function(a){return Math.abs(o(this._value).subtract(a).value())}},"undefined"!=typeof module&&module.exports&&(module.exports=o),"undefined"==typeof ender&&(this.numeral=o),"function"==typeof define&&define.amd&&define("numeral",[],function(){return o})}.call(this),!function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:" mln",billion:" mld",trillion:" bln"},ordinal:function(a){var b=a%100;return 0!==a&&1>=b||8===b||b>=20?"ste":"de"},currency:{symbol:" "}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("be-nl",a)}(),function(){var a={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("chs",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:"K"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("cs",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mio",billion:"mia",trillion:"b"},ordinal:function(a){return"."},currency:{symbol:"DKK"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("da-dk",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return"."},currency:{symbol:"CHF"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("de-ch",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("de",a)}(),function(){var a={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("en-gb",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===~~(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th"},currency:{symbol:"R"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("en-za",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===b||3===b?"er":2===b?"do":7===b||0===b?"mo":8===b?"vo":9===b?"no":"to"},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("es-ES",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mm",billion:"b",trillion:"t"},ordinal:function(a){var b=a%10;return 1===b||3===b?"er":2===b?"do":7===b||0===b?"mo":8===b?"vo":9===b?"no":"to"},currency:{symbol:"$"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("es",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tuh",million:" mln",billion:" mld",trillion:" trl"},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("et",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fi",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"M",billion:"G",trillion:"T"},ordinal:function(a){return 1===a?"er":"e"},currency:{symbol:"$"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr-CA",a)}(),function(){var a={delimiters:{thousands:"'",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return 1===a?"er":"e"},currency:{symbol:"CHF"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr-ch",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return 1===a?"er":"e"},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("fr",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"E",million:"M",billion:"Mrd",trillion:"T"},ordinal:function(a){return"."},currency:{symbol:" Ft"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("hu",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mila",million:"mil",billion:"b",trillion:"t"},ordinal:function(a){return""},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("it",a)}(),function(){var a={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ja",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:" tkst.",million:" milj.",billion:" mljrd.",trillion:" trilj."},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("lv",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"k",million:"mln",billion:"mrd",trillion:"bln"},ordinal:function(a){var b=a%100;return 0!==a&&1>=b||8===b||b>=20?"ste":"de"},currency:{symbol:" "}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("nl-nl",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return"."},currency:{symbol:"kr"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&(this.numeral.language("nb-no",a),this.numeral.language("nn-no",a),this.numeral.language("no",a),this.numeral.language("nb",a),this.numeral.language("nn",a))}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tys.",million:"mln",billion:"mld",trillion:"bln"},ordinal:function(a){return"."},currency:{symbol:"PLN"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pl",a)}(),function(){var a={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"mil",million:"milhes",billion:"b",trillion:"t"},ordinal:function(a){return""},currency:{symbol:"R$"}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pt-br",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(a){return""},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("pt-pt",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ru-UA",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:".",billion:".",trillion:"."},ordinal:function(){return"."},currency:{symbol:"."}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("ru",a)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:"tis.",million:"mil.",billion:"b",trillion:"t"},ordinal:function(){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("sk",a)}(),function(){var a={delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"",million:"",billion:"",trillion:""},ordinal:function(a){return"."},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("th",a)}(),function(){var a={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},b={delimiters:{thousands:".",decimal:","},abbreviations:{thousand:"bin",million:"milyon",billion:"milyar",trillion:"trilyon"},ordinal:function(b){if(0===b)return"'nc";var c=b%10,d=b%100-c,e=b>=100?100:null;return a[c]||a[d]||a[e]},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=b),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("tr",b)}(),function(){var a={delimiters:{thousands:" ",decimal:","},abbreviations:{thousand:".",million:"",billion:"",trillion:""},ordinal:function(){return""},currency:{symbol:""}};"undefined"!=typeof module&&module.exports&&(module.exports=a),"undefined"!=typeof window&&this.numeral&&this.numeral.language&&this.numeral.language("uk-UA",a)}(),define("numeral-languages",["numeral"],function(){}),function(a,b){"object"==typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define("spin",b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(k.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",k.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;if(b=b.charAt(0).toUpperCase()+b.slice(1),void 0!==e[b])return b;for(d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a,b){return"string"==typeof a?a:a[b%a.length]}function h(a){this.opts=f(a||{},h.defaults,n)}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}k.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function h(a,h,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~h}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.scale*d.width,left:d.scale*d.radius,top:-d.scale*d.width>>1,filter:i}),c("fill",{color:g(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.scale*(d.length+d.width),k=2*d.scale*j,l=-(d.width+d.length)*d.scale*2+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)h(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)h(i);return b(a,m)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k,l=["webkit","Moz","ms","O"],m={},n={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};if(h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c=this,d=c.opts,f=c.el=a(null,{className:d.className});if(e(f,{position:d.position,width:0,zIndex:d.zIndex,left:d.left,top:d.top}),b&&b.insertBefore(f,b.firstChild||null),f.setAttribute("role","progressbar"),c.lines(f,c.opts),!j){var g,h=0,i=(d.lines-1)*(1-d.direction)/2,k=d.fps,l=k/d.speed,m=(1-d.opacity)/(l*d.trail/100),n=l/d.lines;!function a(){h++;for(var b=0;b<d.lines;b++)g=Math.max(1-(h+(d.lines-b)*n)%l*m,d.opacity),c.opacity(f,b*d.direction+i,g,d);c.timeout=c.el&&setTimeout(a,~~(1e3/k))}()}return c},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function h(b,c){return e(a(),{position:"absolute",width:f.scale*(f.length+f.width)+"px",height:f.scale*f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*k+f.rotate)+"deg) translate("+f.scale*f.radius+"px,0)",borderRadius:(f.corners*f.scale*f.width>>1)+"px"})}for(var i,k=0,l=(f.lines-1)*(1-f.direction)/2;k<f.lines;k++)i=e(a(),{position:"absolute",top:1+~(f.scale*f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,l+k*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(h("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,h(g(f.color,k),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}}),"undefined"!=typeof document){k=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}();var o=e(a("group"),{behavior:"url(#default#VML)"});!d(o,"transform")&&o.adj?i():j=d(o,"animation")}return h}),function(a){if("object"==typeof exports)a(require("jquery"),require("spin.js"));else if("function"==typeof define&&define.amd)define("jquery.spinjs",["jquery","spin"],a);else{if(!window.Spinner)throw new Error("Spin.js not present");a(window.jQuery,window.Spinner)}}(function(a,b){a.fn.spin=function(c,d){return this.each(function(){var e=a(this),f=e.data();if(f.spinner&&(f.spinner.stop(),delete f.spinner,e.find(".spinner-bg").remove()),c!==!1&&(c=a.extend({color:d||e.css("color")},a.fn.spin.presets[c]||c),f.spinner=new b(c).spin(this),c.background)){var g=a("<div>");g.addClass("spinner-bg"),g.css({top:"absolute"===e.css("position")?0:e.position().top,left:"absolute"===e.css("position")?0:e.position().left,marginTop:e.css("marginTop"),marginRight:e.css("marginRight"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft")}),g.prependTo(a(this)).show()}})},a.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3,background:!1,className:"spinner spinner-tiny"},small:{lines:8,length:4,width:3,radius:5,background:!1,className:"spinner spinner-small"},large:{lines:10,length:8,width:4,radius:8,background:!0,className:"spinner spinner-large"}}}),define("modules/format-number/main",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f={formatNumber:function(a,b){if(void 0===a)return"";b=b||!1;for(var c,d=(a+"").split("."),e=d[0],f=d.length>1?"."+d[1]:"",g=/(\d+)(\d{3})/;g.test(e);)e=e.replace(g,"$1,$2");if(a=e+f,c=a.split(","),b&&c.length){var h=["","K","M","B","T"];a=c[0],c[1]>0&&(a+="."+c[1].substr(0,1)),a+=h[c.length-1]}return a}};d.extend(e.templateHelpers,f)}),define("modules/primary-langs/main",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e={"c#":"csharp","xsl transformation":"xslt","c++":"cpp","f#":"fsharp","objective c":"objective_c","objective j":"objective_j",cncpp:"cpp"},f={"xsl transformation":"xslt"};d.templateHelpers.getLanguageCodeName=function(a){return a=a.toLowerCase(),e[a]||a},d.templateHelpers.getLanguageAbbrev=function(a){return a=a.toLowerCase(),f[a]||a}}),define("modules/format-date/main",["require","exports","module","underscore","ironclad","moment"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("moment"),g=function(a){return a?(a instanceof Date||(a=new Date(a)),a):a},h=c.exports={formatTime:function(a,b){return a?f(a).format("LT"):b||""},formatDateFull:function(a,b,c){return a?f(a).format(c?"l":"ll"):b||""},formatDate:function(a,b){if(a=g(a),!a)return b||"";var c=f().isSame(a,"day")?this.formatTime(a,""):this.formatDateFull(a,"",!1);return'<time datetime="'+a.toUTCString()+'" title="'+this.formatDateTime(a)+'">'+c+"</time>"},formatDateTime:function(a,b){return a?f(a).format("llll"):b||""},formatDateText:function(a,b){if(a=g(a),!a)return"";var c=f();return 0===a.getHours()&&0===a.getMinutes()&&0===a.getSeconds()&&(c=f().startOf("day")),f(a).subtract(20,"s").from(c,b)}};d.extend(e.templateHelpers,h)}),define("modules/numeral/main",["require","exports","module","underscore","ironclad","numeral"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("numeral"),g={numeral:f};d.extend(e.templateHelpers,g),c.exports=g}),!function(){function a(a){return a&&(a.ownerDocument||a.document||a).documentElement}function b(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function c(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}function d(a){return null===a?NaN:+a}function e(a){return!isNaN(a)}function f(a){return{left:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)<0?d=f+1:e=f}return d},right:function(b,c,d,e){for(arguments.length<3&&(d=0),arguments.length<4&&(e=b.length);d<e;){var f=d+e>>>1;a(b[f],c)>0?e=f:d=f+1}return d}}}function g(a){return a.length}function h(a){for(var b=1;a*b%1;)b*=10;return b}function i(a,b){for(var c in b)Object.defineProperty(a.prototype,c,{value:b[c],enumerable:!1})}function j(){this._=Object.create(null)}function k(a){return(a+="")===sg||a[0]===tg?tg+a:a}function l(a){return(a+="")[0]===tg?a.slice(1):a}function m(a){return k(a)in this._}function n(a){return(a=k(a))in this._&&delete this._[a]}function o(){var a=[];for(var b in this._)a.push(l(b));return a}function p(){var a=0;for(var b in this._)++a;return a}function q(){for(var a in this._)return!1;return!0}function r(){this._=Object.create(null)}function s(a){return a}function t(a,b,c){return function(){var d=c.apply(b,arguments);return d===b?a:d}}function u(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var c=0,d=ug.length;c<d;++c){var e=ug[c]+b;if(e in a)return e}}function v(){}function w(){}function x(a){function b(){for(var b,d=c,e=-1,f=d.length;++e<f;)(b=d[e].on)&&b.apply(this,arguments);return a}var c=[],d=new j;return b.on=function(b,e){var f,g=d.get(b);return arguments.length<2?g&&g.on:(g&&(g.on=null,c=c.slice(0,f=c.indexOf(g)).concat(c.slice(f+1)),d.remove(b)),e&&c.push(d.set(b,{on:e})),a)},b}function y(){hg.event.preventDefault()}function z(){for(var a,b=hg.event;a=b.sourceEvent;)b=a;return b}function A(a){for(var b=new w,c=0,d=arguments.length;++c<d;)b[arguments[c]]=x(b);return b.of=function(c,d){return function(e){try{var f=e.sourceEvent=hg.event;e.target=a,hg.event=e,b[e.type].apply(c,d)}finally{hg.event=f}}},b}function B(a){return wg(a,Ag),a}function C(a){return"function"==typeof a?a:function(){return xg(a,this)}}function D(a){return"function"==typeof a?a:function(){return yg(a,this)}}function E(a,b){function c(){this.removeAttribute(a)}function d(){this.removeAttributeNS(a.space,a.local)}function e(){this.setAttribute(a,b)}function f(){this.setAttributeNS(a.space,a.local,b);
}function g(){var c=b.apply(this,arguments);null==c?this.removeAttribute(a):this.setAttribute(a,c)}function h(){var c=b.apply(this,arguments);null==c?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,c)}return a=hg.ns.qualify(a),null==b?a.local?d:c:"function"==typeof b?a.local?h:g:a.local?f:e}function F(a){return a.trim().replace(/\s+/g," ")}function G(a){return new RegExp("(?:^|\\s+)"+hg.requote(a)+"(?:\\s+|$)","g")}function H(a){return(a+"").trim().split(/^|\s+/)}function I(a,b){function c(){for(var c=-1;++c<e;)a[c](this,b)}function d(){for(var c=-1,d=b.apply(this,arguments);++c<e;)a[c](this,d)}a=H(a).map(J);var e=a.length;return"function"==typeof b?d:c}function J(a){var b=G(a);return function(c,d){if(e=c.classList)return d?e.add(a):e.remove(a);var e=c.getAttribute("class")||"";d?(b.lastIndex=0,b.test(e)||c.setAttribute("class",F(e+" "+a))):c.setAttribute("class",F(e.replace(b," ")))}}function K(a,b,c){function d(){this.style.removeProperty(a)}function e(){this.style.setProperty(a,b,c)}function f(){var d=b.apply(this,arguments);null==d?this.style.removeProperty(a):this.style.setProperty(a,d,c)}return null==b?d:"function"==typeof b?f:e}function L(a,b){function c(){delete this[a]}function d(){this[a]=b}function e(){var c=b.apply(this,arguments);null==c?delete this[a]:this[a]=c}return null==b?c:"function"==typeof b?e:d}function M(a){function b(){var b=this.ownerDocument,c=this.namespaceURI;return c===Bg&&b.documentElement.namespaceURI===Bg?b.createElement(a):b.createElementNS(c,a)}function c(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=hg.ns.qualify(a)).local?c:b}function N(){var a=this.parentNode;a&&a.removeChild(this)}function O(a){return{__data__:a}}function P(a){return function(){return zg(this,a)}}function Q(a){return arguments.length||(a=c),function(b,c){return b&&c?a(b.__data__,c.__data__):!b-!c}}function R(a,b){for(var c=0,d=a.length;c<d;c++)for(var e,f=a[c],g=0,h=f.length;g<h;g++)(e=f[g])&&b(e,g,c);return a}function S(a){return wg(a,Dg),a}function T(a){var b,c;return function(d,e,f){var g,h=a[f].update,i=h.length;for(f!=c&&(c=f,b=0),e>=b&&(b=e+1);!(g=h[b])&&++b<i;);return g}}function U(a,b,c){function d(){var b=this[g];b&&(this.removeEventListener(a,b,b.$),delete this[g])}function e(){var e=i(b,jg(arguments));d.call(this),this.addEventListener(a,this[g]=e,e.$=c),e._=b}function f(){var b,c=new RegExp("^__on([^.]+)"+hg.requote(a)+"$");for(var d in this)if(b=d.match(c)){var e=this[d];this.removeEventListener(b[1],e,e.$),delete this[d]}}var g="__on"+a,h=a.indexOf("."),i=V;h>0&&(a=a.slice(0,h));var j=Eg.get(a);return j&&(a=j,i=W),h?b?e:d:b?v:f}function V(a,b){return function(c){var d=hg.event;hg.event=c,b[0]=this.__data__;try{a.apply(this,b)}finally{hg.event=d}}}function W(a,b){var c=V(a,b);return function(a){var b=this,d=a.relatedTarget;d&&(d===b||8&d.compareDocumentPosition(b))||c.call(b,a)}}function X(c){var d=".dragsuppress-"+ ++Gg,e="click"+d,f=hg.select(b(c)).on("touchmove"+d,y).on("dragstart"+d,y).on("selectstart"+d,y);if(null==Fg&&(Fg=!("onselectstart"in c)&&u(c.style,"userSelect")),Fg){var g=a(c).style,h=g[Fg];g[Fg]="none"}return function(a){if(f.on(d,null),Fg&&(g[Fg]=h),a){var b=function(){f.on(e,null)};f.on(e,function(){y(),b()},!0),setTimeout(b,0)}}}function Y(a,c){c.changedTouches&&(c=c.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var e=d.createSVGPoint();if(Hg<0){var f=b(a);if(f.scrollX||f.scrollY){d=hg.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var g=d[0][0].getScreenCTM();Hg=!(g.f||g.e),d.remove()}}return Hg?(e.x=c.pageX,e.y=c.pageY):(e.x=c.clientX,e.y=c.clientY),e=e.matrixTransform(a.getScreenCTM().inverse()),[e.x,e.y]}var h=a.getBoundingClientRect();return[c.clientX-h.left-a.clientLeft,c.clientY-h.top-a.clientTop]}function Z(){return hg.event.changedTouches[0].identifier}function $(a){return a>0?1:a<0?-1:0}function _(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(b[1]-a[1])*(c[0]-a[0])}function aa(a){return a>1?0:a<-1?Kg:Math.acos(a)}function ba(a){return a>1?Ng:a<-1?-Ng:Math.asin(a)}function ca(a){return((a=Math.exp(a))-1/a)/2}function da(a){return((a=Math.exp(a))+1/a)/2}function ea(a){return((a=Math.exp(2*a))-1)/(a+1)}function fa(a){return(a=Math.sin(a/2))*a}function ga(){}function ha(a,b,c){return this instanceof ha?(this.h=+a,this.s=+b,void(this.l=+c)):arguments.length<2?a instanceof ha?new ha(a.h,a.s,a.l):va(""+a,wa,ha):new ha(a,b,c)}function ia(a,b,c){function d(a){return a>360?a-=360:a<0&&(a+=360),a<60?f+(g-f)*a/60:a<180?g:a<240?f+(g-f)*(240-a)/60:f}function e(a){return Math.round(255*d(a))}var f,g;return a=isNaN(a)?0:(a%=360)<0?a+360:a,b=isNaN(b)?0:b<0?0:b>1?1:b,c=c<0?0:c>1?1:c,g=c<=.5?c*(1+b):c+b-c*b,f=2*c-g,new ra(e(a+120),e(a),e(a-120))}function ja(a,b,c){return this instanceof ja?(this.h=+a,this.c=+b,void(this.l=+c)):arguments.length<2?a instanceof ja?new ja(a.h,a.c,a.l):a instanceof la?na(a.l,a.a,a.b):na((a=xa((a=hg.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new ja(a,b,c)}function ka(a,b,c){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new la(c,Math.cos(a*=Og)*b,Math.sin(a)*b)}function la(a,b,c){return this instanceof la?(this.l=+a,this.a=+b,void(this.b=+c)):arguments.length<2?a instanceof la?new la(a.l,a.a,a.b):a instanceof ja?ka(a.h,a.c,a.l):xa((a=ra(a)).r,a.g,a.b):new la(a,b,c)}function ma(a,b,c){var d=(a+16)/116,e=d+b/500,f=d-c/200;return e=oa(e)*Zg,d=oa(d)*$g,f=oa(f)*_g,new ra(qa(3.2404542*e-1.5371385*d-.4985314*f),qa(-.969266*e+1.8760108*d+.041556*f),qa(.0556434*e-.2040259*d+1.0572252*f))}function na(a,b,c){return a>0?new ja(Math.atan2(c,b)*Pg,Math.sqrt(b*b+c*c),a):new ja(NaN,NaN,a)}function oa(a){return a>.206893034?a*a*a:(a-4/29)/7.787037}function pa(a){return a>.008856?Math.pow(a,1/3):7.787037*a+4/29}function qa(a){return Math.round(255*(a<=.00304?12.92*a:1.055*Math.pow(a,1/2.4)-.055))}function ra(a,b,c){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~c)):arguments.length<2?a instanceof ra?new ra(a.r,a.g,a.b):va(""+a,ra,ia):new ra(a,b,c)}function sa(a){return new ra(a>>16,a>>8&255,255&a)}function ta(a){return sa(a)+""}function ua(a){return a<16?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function va(a,b,c){var d,e,f,g=0,h=0,i=0;if(d=/([a-z]+)\((.*)\)/.exec(a=a.toLowerCase()))switch(e=d[2].split(","),d[1]){case"hsl":return c(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100);case"rgb":return b(za(e[0]),za(e[1]),za(e[2]))}return(f=ch.get(a))?b(f.r,f.g,f.b):(null==a||"#"!==a.charAt(0)||isNaN(f=parseInt(a.slice(1),16))||(4===a.length?(g=(3840&f)>>4,g|=g>>4,h=240&f,h|=h>>4,i=15&f,i|=i<<4):7===a.length&&(g=(16711680&f)>>16,h=(65280&f)>>8,i=255&f)),b(g,h,i))}function wa(a,b,c){var d,e,f=Math.min(a/=255,b/=255,c/=255),g=Math.max(a,b,c),h=g-f,i=(g+f)/2;return h?(e=i<.5?h/(g+f):h/(2-g-f),d=a==g?(b-c)/h+(b<c?6:0):b==g?(c-a)/h+2:(a-b)/h+4,d*=60):(d=NaN,e=i>0&&i<1?0:d),new ha(d,e,i)}function xa(a,b,c){a=ya(a),b=ya(b),c=ya(c);var d=pa((.4124564*a+.3575761*b+.1804375*c)/Zg),e=pa((.2126729*a+.7151522*b+.072175*c)/$g),f=pa((.0193339*a+.119192*b+.9503041*c)/_g);return la(116*e-16,500*(d-e),200*(e-f))}function ya(a){return(a/=255)<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}function za(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function Aa(a){return"function"==typeof a?a:function(){return a}}function Ba(a){return function(b,c,d){return 2===arguments.length&&"function"==typeof c&&(d=c,c=null),Ca(b,c,a,d)}}function Ca(a,b,c,d){function e(){var a,b=i.status;if(!b&&Ea(i)||b>=200&&b<300||304===b){try{a=c.call(f,i)}catch(a){return void g.error.call(f,a)}g.load.call(f,a)}else g.error.call(f,i)}var f={},g=hg.dispatch("beforesend","progress","load","error"),h={},i=new XMLHttpRequest,j=null;return!this.XDomainRequest||"withCredentials"in i||!/^(http(s)?:)?\/\//.test(a)||(i=new XDomainRequest),"onload"in i?i.onload=i.onerror=e:i.onreadystatechange=function(){i.readyState>3&&e()},i.onprogress=function(a){var b=hg.event;hg.event=a;try{g.progress.call(f,i)}finally{hg.event=b}},f.header=function(a,b){return a=(a+"").toLowerCase(),arguments.length<2?h[a]:(null==b?delete h[a]:h[a]=b+"",f)},f.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",f):b},f.responseType=function(a){return arguments.length?(j=a,f):j},f.response=function(a){return c=a,f},["get","post"].forEach(function(a){f[a]=function(){return f.send.apply(f,[a].concat(jg(arguments)))}}),f.send=function(c,d,e){if(2===arguments.length&&"function"==typeof d&&(e=d,d=null),i.open(c,a,!0),null==b||"accept"in h||(h.accept=b+",*/*"),i.setRequestHeader)for(var k in h)i.setRequestHeader(k,h[k]);return null!=b&&i.overrideMimeType&&i.overrideMimeType(b),null!=j&&(i.responseType=j),null!=e&&f.on("error",e).on("load",function(a){e(null,a)}),g.beforesend.call(f,i),i.send(null==d?null:d),f},f.abort=function(){return i.abort(),f},hg.rebind(f,g,"on"),null==d?f:f.get(Da(d))}function Da(a){return 1===a.length?function(b,c){a(null==b?c:null)}:a}function Ea(a){var b=a.responseType;return b&&"text"!==b?a.response:a.responseText}function Fa(a,b,c){var d=arguments.length;d<2&&(b=0),d<3&&(c=Date.now());var e=c+b,f={c:a,t:e,n:null};return eh?eh.n=f:dh=f,eh=f,fh||(gh=clearTimeout(gh),fh=1,hh(Ga)),f}function Ga(){var a=Ha(),b=Ia()-a;b>24?(isFinite(b)&&(clearTimeout(gh),gh=setTimeout(Ga,b)),fh=0):(fh=1,hh(Ga))}function Ha(){for(var a=Date.now(),b=dh;b;)a>=b.t&&b.c(a-b.t)&&(b.c=null),b=b.n;return a}function Ia(){for(var a,b=dh,c=1/0;b;)b.c?(b.t<c&&(c=b.t),b=(a=b).n):b=a?a.n=b.n:dh=b.n;return eh=a,c}function Ja(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function Ka(a,b){var c=Math.pow(10,3*rg(8-b));return{scale:b>8?function(a){return a/c}:function(a){return a*c},symbol:a}}function La(a){var b=a.decimal,c=a.thousands,d=a.grouping,e=a.currency,f=d&&c?function(a,b){for(var e=a.length,f=[],g=0,h=d[0],i=0;e>0&&h>0&&(i+h+1>b&&(h=Math.max(1,b-i)),f.push(a.substring(e-=h,e+h)),!((i+=h+1)>b));)h=d[g=(g+1)%d.length];return f.reverse().join(c)}:s;return function(a){var c=jh.exec(a),d=c[1]||" ",g=c[2]||">",h=c[3]||"-",i=c[4]||"",j=c[5],k=+c[6],l=c[7],m=c[8],n=c[9],o=1,p="",q="",r=!1,s=!0;switch(m&&(m=+m.substring(1)),(j||"0"===d&&"="===g)&&(j=d="0",g="="),n){case"n":l=!0,n="g";break;case"%":o=100,q="%",n="f";break;case"p":o=100,q="%",n="r";break;case"b":case"o":case"x":case"X":"#"===i&&(p="0"+n.toLowerCase());case"c":s=!1;case"d":r=!0,m=0;break;case"s":o=-1,n="r"}"$"===i&&(p=e[0],q=e[1]),"r"!=n||m||(n="g"),null!=m&&("g"==n?m=Math.max(1,Math.min(21,m)):"e"!=n&&"f"!=n||(m=Math.max(0,Math.min(20,m)))),n=kh.get(n)||Ma;var t=j&&l;return function(a){var c=q;if(r&&a%1)return"";var e=a<0||0===a&&1/a<0?(a=-a,"-"):"-"===h?"":h;if(o<0){var i=hg.formatPrefix(a,m);a=i.scale(a),c=i.symbol+q}else a*=o;a=n(a,m);var u,v,w=a.lastIndexOf(".");if(w<0){var x=s?a.lastIndexOf("e"):-1;x<0?(u=a,v=""):(u=a.substring(0,x),v=a.substring(x))}else u=a.substring(0,w),v=b+a.substring(w+1);!j&&l&&(u=f(u,1/0));var y=p.length+u.length+v.length+(t?0:e.length),z=y<k?new Array(y=k-y+1).join(d):"";return t&&(u=f(z+u,z.length?k-v.length:1/0)),e+=p,a=u+v,("<"===g?e+a+z:">"===g?z+e+a:"^"===g?z.substring(0,y>>=1)+e+a+z.substring(y):e+(t?a:z+a))+c}}}function Ma(a){return a+""}function Na(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Oa(a,b,c){function d(b){var c=a(b),d=f(c,1);return b-c<d-b?c:d}function e(c){return b(c=a(new mh(c-1)),1),c}function f(a,c){return b(a=new mh(+a),c),a}function g(a,d,f){var g=e(a),h=[];if(f>1)for(;g<d;)c(g)%f||h.push(new Date(+g)),b(g,1);else for(;g<d;)h.push(new Date(+g)),b(g,1);return h}function h(a,b,c){try{mh=Na;var d=new Na;return d._=a,g(d,b,c)}finally{mh=Date}}a.floor=a,a.round=d,a.ceil=e,a.offset=f,a.range=g;var i=a.utc=Pa(a);return i.floor=i,i.round=Pa(d),i.ceil=Pa(e),i.offset=Pa(f),i.range=h,a}function Pa(a){return function(b,c){try{mh=Na;var d=new Na;return d._=b,a(d,c)._}finally{mh=Date}}}function Qa(a){function b(a){function b(b){for(var c,e,f,g=[],h=-1,i=0;++h<d;)37===a.charCodeAt(h)&&(g.push(a.slice(i,h)),null!=(e=oh[c=a.charAt(++h)])&&(c=a.charAt(++h)),(f=C[c])&&(c=f(b,null==e?"e"===c?" ":"0":e)),g.push(c),i=h+1);return g.push(a.slice(i,h)),g.join("")}var d=a.length;return b.parse=function(b){var d={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},e=c(d,a,b,0);if(e!=b.length)return null;"p"in d&&(d.H=d.H%12+12*d.p);var f=null!=d.Z&&mh!==Na,g=new(f?Na:mh);return"j"in d?g.setFullYear(d.y,0,d.j):"W"in d||"U"in d?("w"in d||(d.w="W"in d?1:0),g.setFullYear(d.y,0,1),g.setFullYear(d.y,0,"W"in d?(d.w+6)%7+7*d.W-(g.getDay()+5)%7:d.w+7*d.U-(g.getDay()+6)%7)):g.setFullYear(d.y,d.m,d.d),g.setHours(d.H+(d.Z/100|0),d.M+d.Z%100,d.S,d.L),f?g._:g},b.toString=function(){return a},b}function c(a,b,c,d){for(var e,f,g,h=0,i=b.length,j=c.length;h<i;){if(d>=j)return-1;if(e=b.charCodeAt(h++),37===e){if(g=b.charAt(h++),f=D[g in oh?b.charAt(h++):g],!f||(d=f(a,c,d))<0)return-1}else if(e!=c.charCodeAt(d++))return-1}return d}function d(a,b,c){w.lastIndex=0;var d=w.exec(b.slice(c));return d?(a.w=x.get(d[0].toLowerCase()),c+d[0].length):-1}function e(a,b,c){u.lastIndex=0;var d=u.exec(b.slice(c));return d?(a.w=v.get(d[0].toLowerCase()),c+d[0].length):-1}function f(a,b,c){A.lastIndex=0;var d=A.exec(b.slice(c));return d?(a.m=B.get(d[0].toLowerCase()),c+d[0].length):-1}function g(a,b,c){y.lastIndex=0;var d=y.exec(b.slice(c));return d?(a.m=z.get(d[0].toLowerCase()),c+d[0].length):-1}function h(a,b,d){return c(a,C.c.toString(),b,d)}function i(a,b,d){return c(a,C.x.toString(),b,d)}function j(a,b,d){return c(a,C.X.toString(),b,d)}function k(a,b,c){var d=t.get(b.slice(c,c+=2).toLowerCase());return null==d?-1:(a.p=d,c)}var l=a.dateTime,m=a.date,n=a.time,o=a.periods,p=a.days,q=a.shortDays,r=a.months,s=a.shortMonths;b.utc=function(a){function c(a){try{mh=Na;var b=new mh;return b._=a,d(b)}finally{mh=Date}}var d=b(a);return c.parse=function(a){try{mh=Na;var b=d.parse(a);return b&&b._}finally{mh=Date}},c.toString=d.toString,c},b.multi=b.utc.multi=ib;var t=hg.map(),u=Sa(p),v=Ta(p),w=Sa(q),x=Ta(q),y=Sa(r),z=Ta(r),A=Sa(s),B=Ta(s);o.forEach(function(a,b){t.set(a.toLowerCase(),b)});var C={a:function(a){return q[a.getDay()]},A:function(a){return p[a.getDay()]},b:function(a){return s[a.getMonth()]},B:function(a){return r[a.getMonth()]},c:b(l),d:function(a,b){return Ra(a.getDate(),b,2)},e:function(a,b){return Ra(a.getDate(),b,2)},H:function(a,b){return Ra(a.getHours(),b,2)},I:function(a,b){return Ra(a.getHours()%12||12,b,2)},j:function(a,b){return Ra(1+lh.dayOfYear(a),b,3)},L:function(a,b){return Ra(a.getMilliseconds(),b,3)},m:function(a,b){return Ra(a.getMonth()+1,b,2)},M:function(a,b){return Ra(a.getMinutes(),b,2)},p:function(a){return o[+(a.getHours()>=12)]},S:function(a,b){return Ra(a.getSeconds(),b,2)},U:function(a,b){return Ra(lh.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return Ra(lh.mondayOfYear(a),b,2)},x:b(m),X:b(n),y:function(a,b){return Ra(a.getFullYear()%100,b,2)},Y:function(a,b){return Ra(a.getFullYear()%1e4,b,4)},Z:gb,"%":function(){return"%"}},D={a:d,A:e,b:f,B:g,c:h,d:ab,e:ab,H:cb,I:cb,j:bb,L:fb,m:_a,M:db,p:k,S:eb,U:Va,w:Ua,W:Wa,x:i,X:j,y:Ya,Y:Xa,Z:Za,"%":hb};return b}function Ra(a,b,c){var d=a<0?"-":"",e=(d?-a:a)+"",f=e.length;return d+(f<c?new Array(c-f+1).join(b)+e:e)}function Sa(a){return new RegExp("^(?:"+a.map(hg.requote).join("|")+")","i")}function Ta(a){for(var b=new j,c=-1,d=a.length;++c<d;)b.set(a[c].toLowerCase(),c);return b}function Ua(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+1));return d?(a.w=+d[0],c+d[0].length):-1}function Va(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c));return d?(a.U=+d[0],c+d[0].length):-1}function Wa(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c));return d?(a.W=+d[0],c+d[0].length):-1}function Xa(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+4));return d?(a.y=+d[0],c+d[0].length):-1}function Ya(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.y=$a(+d[0]),c+d[0].length):-1}function Za(a,b,c){return/^[+-]\d{4}$/.test(b=b.slice(c,c+5))?(a.Z=-b,c+5):-1}function $a(a){return a+(a>68?1900:2e3)}function _a(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.m=d[0]-1,c+d[0].length):-1}function ab(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.d=+d[0],c+d[0].length):-1}function bb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+3));return d?(a.j=+d[0],c+d[0].length):-1}function cb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.H=+d[0],c+d[0].length):-1}function db(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.M=+d[0],c+d[0].length):-1}function eb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+2));return d?(a.S=+d[0],c+d[0].length):-1}function fb(a,b,c){ph.lastIndex=0;var d=ph.exec(b.slice(c,c+3));return d?(a.L=+d[0],c+d[0].length):-1}function gb(a){var b=a.getTimezoneOffset(),c=b>0?"-":"+",d=rg(b)/60|0,e=rg(b)%60;return c+Ra(d,"0",2)+Ra(e,"0",2)}function hb(a,b,c){qh.lastIndex=0;var d=qh.exec(b.slice(c,c+1));return d?c+d[0].length:-1}function ib(a){for(var b=a.length,c=-1;++c<b;)a[c][0]=this(a[c][0]);return function(b){for(var c=0,d=a[c];!d[1](b);)d=a[++c];return d[0](b)}}function jb(){}function kb(a,b,c){var d=c.s=a+b,e=d-a,f=d-e;c.t=a-f+(b-e)}function lb(a,b){a&&uh.hasOwnProperty(a.type)&&uh[a.type](a,b)}function mb(a,b,c){var d,e=-1,f=a.length-c;for(b.lineStart();++e<f;)d=a[e],b.point(d[0],d[1],d[2]);b.lineEnd()}function nb(a,b){var c=-1,d=a.length;for(b.polygonStart();++c<d;)mb(a[c],b,1);b.polygonEnd()}function ob(){function a(a,b){a*=Og,b=b*Og/2+Kg/4;var c=a-d,g=c>=0?1:-1,h=g*c,i=Math.cos(b),j=Math.sin(b),k=f*j,l=e*i+k*Math.cos(h),m=k*g*Math.sin(h);wh.add(Math.atan2(m,l)),d=a,e=i,f=j}var b,c,d,e,f;xh.point=function(g,h){xh.point=a,d=(b=g)*Og,e=Math.cos(h=(c=h)*Og/2+Kg/4),f=Math.sin(h)},xh.lineEnd=function(){a(b,c)}}function pb(a){var b=a[0],c=a[1],d=Math.cos(c);return[d*Math.cos(b),d*Math.sin(b),Math.sin(c)]}function qb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function rb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function sb(a,b){a[0]+=b[0],a[1]+=b[1],a[2]+=b[2]}function tb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function ub(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b,a[1]/=b,a[2]/=b}function vb(a){return[Math.atan2(a[1],a[0]),ba(a[2])]}function wb(a,b){return rg(a[0]-b[0])<Ig&&rg(a[1]-b[1])<Ig}function xb(a,b){a*=Og;var c=Math.cos(b*=Og);yb(c*Math.cos(a),c*Math.sin(a),Math.sin(b))}function yb(a,b,c){++yh,Ah+=(a-Ah)/yh,Bh+=(b-Bh)/yh,Ch+=(c-Ch)/yh}function zb(){function a(a,e){a*=Og;var f=Math.cos(e*=Og),g=f*Math.cos(a),h=f*Math.sin(a),i=Math.sin(e),j=Math.atan2(Math.sqrt((j=c*i-d*h)*j+(j=d*g-b*i)*j+(j=b*h-c*g)*j),b*g+c*h+d*i);zh+=j,Dh+=j*(b+(b=g)),Eh+=j*(c+(c=h)),Fh+=j*(d+(d=i)),yb(b,c,d)}var b,c,d;Jh.point=function(e,f){e*=Og;var g=Math.cos(f*=Og);b=g*Math.cos(e),c=g*Math.sin(e),d=Math.sin(f),Jh.point=a,yb(b,c,d)}}function Ab(){Jh.point=xb}function Bb(){function a(a,b){a*=Og;var c=Math.cos(b*=Og),g=c*Math.cos(a),h=c*Math.sin(a),i=Math.sin(b),j=e*i-f*h,k=f*g-d*i,l=d*h-e*g,m=Math.sqrt(j*j+k*k+l*l),n=d*g+e*h+f*i,o=m&&-aa(n)/m,p=Math.atan2(m,n);Gh+=o*j,Hh+=o*k,Ih+=o*l,zh+=p,Dh+=p*(d+(d=g)),Eh+=p*(e+(e=h)),Fh+=p*(f+(f=i)),yb(d,e,f)}var b,c,d,e,f;Jh.point=function(g,h){b=g,c=h,Jh.point=a,g*=Og;var i=Math.cos(h*=Og);d=i*Math.cos(g),e=i*Math.sin(g),f=Math.sin(h),yb(d,e,f)},Jh.lineEnd=function(){a(b,c),Jh.lineEnd=Ab,Jh.point=xb}}function Cb(a,b){function c(c,d){return c=a(c,d),b(c[0],c[1])}return a.invert&&b.invert&&(c.invert=function(c,d){return c=b.invert(c,d),c&&a.invert(c[0],c[1])}),c}function Db(){return!0}function Eb(a,b,c,d,e){var f=[],g=[];if(a.forEach(function(a){if(!((b=a.length-1)<=0)){var b,c=a[0],d=a[b];if(wb(c,d)){e.lineStart();for(var h=0;h<b;++h)e.point((c=a[h])[0],c[1]);return void e.lineEnd()}var i=new Gb(c,a,null,!0),j=new Gb(c,null,i,!1);i.o=j,f.push(i),g.push(j),i=new Gb(d,a,null,!1),j=new Gb(d,null,i,!0),i.o=j,f.push(i),g.push(j)}}),g.sort(b),Fb(f),Fb(g),f.length){for(var h=0,i=c,j=g.length;h<j;++h)g[h].e=i=!i;for(var k,l,m=f[0];;){for(var n=m,o=!0;n.v;)if((n=n.n)===m)return;k=n.z,e.lineStart();do{if(n.v=n.o.v=!0,n.e){if(o)for(var h=0,j=k.length;h<j;++h)e.point((l=k[h])[0],l[1]);else d(n.x,n.n.x,1,e);n=n.n}else{if(o){k=n.p.z;for(var h=k.length-1;h>=0;--h)e.point((l=k[h])[0],l[1])}else d(n.x,n.p.x,-1,e);n=n.p}n=n.o,k=n.z,o=!o}while(!n.v);e.lineEnd()}}}function Fb(a){if(b=a.length){for(var b,c,d=0,e=a[0];++d<b;)e.n=c=a[d],c.p=e,e=c;e.n=c=a[0],c.p=e}}function Gb(a,b,c,d){this.x=a,this.z=b,this.o=c,this.e=d,this.v=!1,this.n=this.p=null}function Hb(a,b,c,d){return function(e,f){function g(b,c){var d=e(b,c);a(b=d[0],c=d[1])&&f.point(b,c)}function h(a,b){var c=e(a,b);q.point(c[0],c[1])}function i(){s.point=h,q.lineStart()}function j(){s.point=g,q.lineEnd()}function k(a,b){p.push([a,b]);var c=e(a,b);u.point(c[0],c[1])}function l(){u.lineStart(),p=[]}function m(){k(p[0][0],p[0][1]),u.lineEnd();var a,b=u.clean(),c=t.buffer(),d=c.length;if(p.pop(),o.push(p),p=null,d)if(1&b){a=c[0];var e,d=a.length-1,g=-1;if(d>0){for(v||(f.polygonStart(),v=!0),f.lineStart();++g<d;)f.point((e=a[g])[0],e[1]);f.lineEnd()}}else d>1&&2&b&&c.push(c.pop().concat(c.shift())),n.push(c.filter(Ib))}var n,o,p,q=b(f),r=e.invert(d[0],d[1]),s={point:g,lineStart:i,lineEnd:j,polygonStart:function(){s.point=k,s.lineStart=l,s.lineEnd=m,n=[],o=[]},polygonEnd:function(){s.point=g,s.lineStart=i,s.lineEnd=j,n=hg.merge(n);var a=Ob(r,o);n.length?(v||(f.polygonStart(),v=!0),Eb(n,Kb,a,c,f)):a&&(v||(f.polygonStart(),v=!0),f.lineStart(),c(null,null,1,f),f.lineEnd()),v&&(f.polygonEnd(),v=!1),n=o=null},sphere:function(){f.polygonStart(),f.lineStart(),c(null,null,1,f),f.lineEnd(),f.polygonEnd()}},t=Jb(),u=b(t),v=!1;return s}}function Ib(a){return a.length>1}function Jb(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,c){a.push([b,c])},lineEnd:v,buffer:function(){var c=b;return b=[],a=null,c},rejoin:function(){b.length>1&&b.push(b.pop().concat(b.shift()))}}}function Kb(a,b){return((a=a.x)[0]<0?a[1]-Ng-Ig:Ng-a[1])-((b=b.x)[0]<0?b[1]-Ng-Ig:Ng-b[1])}function Lb(a){var b,c=NaN,d=NaN,e=NaN;return{lineStart:function(){a.lineStart(),b=1},point:function(f,g){var h=f>0?Kg:-Kg,i=rg(f-c);rg(i-Kg)<Ig?(a.point(c,d=(d+g)/2>0?Ng:-Ng),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),a.point(f,d),b=0):e!==h&&i>=Kg&&(rg(c-e)<Ig&&(c-=e*Ig),rg(f-h)<Ig&&(f-=h*Ig),d=Mb(c,d,f,g),a.point(e,d),a.lineEnd(),a.lineStart(),a.point(h,d),b=0),a.point(c=f,d=g),e=h},lineEnd:function(){a.lineEnd(),c=d=NaN},clean:function(){return 2-b}}}function Mb(a,b,c,d){var e,f,g=Math.sin(a-c);return rg(g)>Ig?Math.atan((Math.sin(b)*(f=Math.cos(d))*Math.sin(c)-Math.sin(d)*(e=Math.cos(b))*Math.sin(a))/(e*f*g)):(b+d)/2}function Nb(a,b,c,d){var e;if(null==a)e=c*Ng,d.point(-Kg,e),d.point(0,e),d.point(Kg,e),d.point(Kg,0),d.point(Kg,-e),d.point(0,-e),d.point(-Kg,-e),d.point(-Kg,0),d.point(-Kg,e);else if(rg(a[0]-b[0])>Ig){var f=a[0]<b[0]?Kg:-Kg;e=c*f/2,d.point(-f,e),d.point(0,e),d.point(f,e)}else d.point(b[0],b[1])}function Ob(a,b){var c=a[0],d=a[1],e=[Math.sin(c),-Math.cos(c),0],f=0,g=0;wh.reset();for(var h=0,i=b.length;h<i;++h){var j=b[h],k=j.length;if(k)for(var l=j[0],m=l[0],n=l[1]/2+Kg/4,o=Math.sin(n),p=Math.cos(n),q=1;;){q===k&&(q=0),a=j[q];var r=a[0],s=a[1]/2+Kg/4,t=Math.sin(s),u=Math.cos(s),v=r-m,w=v>=0?1:-1,x=w*v,y=x>Kg,z=o*t;if(wh.add(Math.atan2(z*w*Math.sin(x),p*u+z*Math.cos(x))),f+=y?v+w*Lg:v,y^m>=c^r>=c){var A=rb(pb(l),pb(a));ub(A);var B=rb(e,A);ub(B);var C=(y^v>=0?-1:1)*ba(B[2]);(d>C||d===C&&(A[0]||A[1]))&&(g+=y^v>=0?1:-1)}if(!q++)break;m=r,o=t,p=u,l=a}}return(f<-Ig||f<Ig&&wh<-Ig)^1&g}function Pb(a){function b(a,b){return Math.cos(a)*Math.cos(b)>f}function c(a){var c,f,i,j,k;return{lineStart:function(){j=i=!1,k=1},point:function(l,m){var n,o=[l,m],p=b(l,m),q=g?p?0:e(l,m):p?e(l+(l<0?Kg:-Kg),m):0;if(!c&&(j=i=p)&&a.lineStart(),p!==i&&(n=d(c,o),(wb(c,n)||wb(o,n))&&(o[0]+=Ig,o[1]+=Ig,p=b(o[0],o[1]))),p!==i)k=0,p?(a.lineStart(),n=d(o,c),a.point(n[0],n[1])):(n=d(c,o),a.point(n[0],n[1]),a.lineEnd()),c=n;else if(h&&c&&g^p){var r;q&f||!(r=d(o,c,!0))||(k=0,g?(a.lineStart(),a.point(r[0][0],r[0][1]),a.point(r[1][0],r[1][1]),a.lineEnd()):(a.point(r[1][0],r[1][1]),a.lineEnd(),a.lineStart(),a.point(r[0][0],r[0][1])))}!p||c&&wb(c,o)||a.point(o[0],o[1]),c=o,i=p,f=q},lineEnd:function(){i&&a.lineEnd(),c=null},clean:function(){return k|(j&&i)<<1}}}function d(a,b,c){var d=pb(a),e=pb(b),g=[1,0,0],h=rb(d,e),i=qb(h,h),j=h[0],k=i-j*j;if(!k)return!c&&a;var l=f*i/k,m=-f*j/k,n=rb(g,h),o=tb(g,l),p=tb(h,m);sb(o,p);var q=n,r=qb(o,q),s=qb(q,q),t=r*r-s*(qb(o,o)-1);if(!(t<0)){var u=Math.sqrt(t),v=tb(q,(-r-u)/s);if(sb(v,o),v=vb(v),!c)return v;var w,x=a[0],y=b[0],z=a[1],A=b[1];y<x&&(w=x,x=y,y=w);var B=y-x,C=rg(B-Kg)<Ig,D=C||B<Ig;if(!C&&A<z&&(w=z,z=A,A=w),D?C?z+A>0^v[1]<(rg(v[0]-x)<Ig?z:A):z<=v[1]&&v[1]<=A:B>Kg^(x<=v[0]&&v[0]<=y)){var E=tb(q,(-r+u)/s);return sb(E,o),[v,vb(E)]}}}function e(b,c){var d=g?a:Kg-a,e=0;return b<-d?e|=1:b>d&&(e|=2),c<-d?e|=4:c>d&&(e|=8),e}var f=Math.cos(a),g=f>0,h=rg(f)>Ig,i=oc(a,6*Og);return Hb(b,c,i,g?[0,-a]:[-Kg,a-Kg])}function Qb(a,b,c,d){return function(e){var f,g=e.a,h=e.b,i=g.x,j=g.y,k=h.x,l=h.y,m=0,n=1,o=k-i,p=l-j;if(f=a-i,o||!(f>0)){if(f/=o,o<0){if(f<m)return;f<n&&(n=f)}else if(o>0){if(f>n)return;f>m&&(m=f)}if(f=c-i,o||!(f<0)){if(f/=o,o<0){if(f>n)return;f>m&&(m=f)}else if(o>0){if(f<m)return;f<n&&(n=f)}if(f=b-j,p||!(f>0)){if(f/=p,p<0){if(f<m)return;f<n&&(n=f)}else if(p>0){if(f>n)return;f>m&&(m=f)}if(f=d-j,p||!(f<0)){if(f/=p,p<0){if(f>n)return;f>m&&(m=f)}else if(p>0){if(f<m)return;f<n&&(n=f)}return m>0&&(e.a={x:i+m*o,y:j+m*p}),n<1&&(e.b={x:i+n*o,y:j+n*p}),e}}}}}}function Rb(a,b,c,d){function e(d,e){return rg(d[0]-a)<Ig?e>0?0:3:rg(d[0]-c)<Ig?e>0?2:1:rg(d[1]-b)<Ig?e>0?1:0:e>0?3:2}function f(a,b){return g(a.x,b.x)}function g(a,b){var c=e(a,1),d=e(b,1);return c!==d?c-d:0===c?b[1]-a[1]:1===c?a[0]-b[0]:2===c?a[1]-b[1]:b[0]-a[0]}return function(h){function i(a){for(var b=0,c=q.length,d=a[1],e=0;e<c;++e)for(var f,g=1,h=q[e],i=h.length,j=h[0];g<i;++g)f=h[g],j[1]<=d?f[1]>d&&_(j,f,a)>0&&++b:f[1]<=d&&_(j,f,a)<0&&--b,j=f;return 0!==b}function j(f,h,i,j){var k=0,l=0;if(null==f||(k=e(f,i))!==(l=e(h,i))||g(f,h)<0^i>0){do j.point(0===k||3===k?a:c,k>1?d:b);while((k=(k+i+4)%4)!==l)}else j.point(h[0],h[1])}function k(e,f){return a<=e&&e<=c&&b<=f&&f<=d}function l(a,b){k(a,b)&&h.point(a,b)}function m(){D.point=o,q&&q.push(r=[]),y=!0,x=!1,v=w=NaN}function n(){p&&(o(s,t),u&&x&&B.rejoin(),p.push(B.buffer())),D.point=l,x&&h.lineEnd()}function o(a,b){a=Math.max(-Lh,Math.min(Lh,a)),b=Math.max(-Lh,Math.min(Lh,b));var c=k(a,b);if(q&&r.push([a,b]),y)s=a,t=b,u=c,y=!1,c&&(h.lineStart(),h.point(a,b));else if(c&&x)h.point(a,b);else{var d={a:{x:v,y:w},b:{x:a,y:b}};C(d)?(x||(h.lineStart(),h.point(d.a.x,d.a.y)),h.point(d.b.x,d.b.y),c||h.lineEnd(),z=!1):c&&(h.lineStart(),h.point(a,b),z=!1)}v=a,w=b,x=c}var p,q,r,s,t,u,v,w,x,y,z,A=h,B=Jb(),C=Qb(a,b,c,d),D={point:l,lineStart:m,lineEnd:n,polygonStart:function(){h=B,p=[],q=[],z=!0},polygonEnd:function(){h=A,p=hg.merge(p);var b=i([a,d]),c=z&&b,e=p.length;(c||e)&&(h.polygonStart(),c&&(h.lineStart(),j(null,null,1,h),h.lineEnd()),e&&Eb(p,f,b,j,h),h.polygonEnd()),p=q=r=null}};return D}}function Sb(a){var b=0,c=Kg/3,d=gc(a),e=d(b,c);return e.parallels=function(a){return arguments.length?d(b=a[0]*Kg/180,c=a[1]*Kg/180):[b/Kg*180,c/Kg*180]},e}function Tb(a,b){function c(a,b){var c=Math.sqrt(f-2*e*Math.sin(b))/e;return[c*Math.sin(a*=e),g-c*Math.cos(a)]}var d=Math.sin(a),e=(d+Math.sin(b))/2,f=1+d*(2*e-d),g=Math.sqrt(f)/e;return c.invert=function(a,b){var c=g-b;return[Math.atan2(a,c)/e,ba((f-(a*a+c*c)*e*e)/(2*e))]},c}function Ub(){function a(a,b){Nh+=e*a-d*b,d=a,e=b}var b,c,d,e;Sh.point=function(f,g){Sh.point=a,b=d=f,c=e=g},Sh.lineEnd=function(){a(b,c)}}function Vb(a,b){a<Oh&&(Oh=a),a>Qh&&(Qh=a),b<Ph&&(Ph=b),b>Rh&&(Rh=b)}function Wb(){function a(a,b){g.push("M",a,",",b,f)}function b(a,b){g.push("M",a,",",b),h.point=c}function c(a,b){g.push("L",a,",",b)}function d(){h.point=a}function e(){g.push("Z")}var f=Xb(4.5),g=[],h={point:a,lineStart:function(){h.point=b},lineEnd:d,polygonStart:function(){h.lineEnd=e},polygonEnd:function(){h.lineEnd=d,h.point=a},pointRadius:function(a){return f=Xb(a),h},result:function(){if(g.length){var a=g.join("");return g=[],a}}};return h}function Xb(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function Yb(a,b){Ah+=a,Bh+=b,++Ch}function Zb(){function a(a,d){var e=a-b,f=d-c,g=Math.sqrt(e*e+f*f);Dh+=g*(b+a)/2,Eh+=g*(c+d)/2,Fh+=g,Yb(b=a,c=d)}var b,c;Uh.point=function(d,e){Uh.point=a,Yb(b=d,c=e)}}function $b(){Uh.point=Yb}function _b(){function a(a,b){var c=a-d,f=b-e,g=Math.sqrt(c*c+f*f);Dh+=g*(d+a)/2,Eh+=g*(e+b)/2,Fh+=g,g=e*a-d*b,Gh+=g*(d+a),Hh+=g*(e+b),Ih+=3*g,Yb(d=a,e=b)}var b,c,d,e;Uh.point=function(f,g){Uh.point=a,Yb(b=d=f,c=e=g)},Uh.lineEnd=function(){a(b,c)}}function ac(a){function b(b,c){a.moveTo(b+g,c),a.arc(b,c,g,0,Lg)}function c(b,c){a.moveTo(b,c),h.point=d}function d(b,c){a.lineTo(b,c)}function e(){h.point=b}function f(){a.closePath()}var g=4.5,h={point:b,lineStart:function(){h.point=c},lineEnd:e,polygonStart:function(){h.lineEnd=f},polygonEnd:function(){h.lineEnd=e,h.point=b},pointRadius:function(a){return g=a,h},result:v};return h}function bc(a){function b(a){return(h?d:c)(a)}function c(b){return ec(b,function(c,d){c=a(c,d),b.point(c[0],c[1])})}function d(b){function c(c,d){c=a(c,d),b.point(c[0],c[1])}function d(){t=NaN,y.point=f,b.lineStart()}function f(c,d){var f=pb([c,d]),g=a(c,d);e(t,u,s,v,w,x,t=g[0],u=g[1],s=c,v=f[0],w=f[1],x=f[2],h,b),b.point(t,u)}function g(){y.point=c,b.lineEnd()}function i(){d(),y.point=j,y.lineEnd=k}function j(a,b){f(l=a,m=b),n=t,o=u,p=v,q=w,r=x,y.point=f}function k(){e(t,u,s,v,w,x,n,o,l,p,q,r,h,b),y.lineEnd=g,g()}var l,m,n,o,p,q,r,s,t,u,v,w,x,y={point:c,lineStart:d,lineEnd:g,polygonStart:function(){b.polygonStart(),y.lineStart=i},polygonEnd:function(){b.polygonEnd(),y.lineStart=d}};return y}function e(b,c,d,h,i,j,k,l,m,n,o,p,q,r){var s=k-b,t=l-c,u=s*s+t*t;if(u>4*f&&q--){var v=h+n,w=i+o,x=j+p,y=Math.sqrt(v*v+w*w+x*x),z=Math.asin(x/=y),A=rg(rg(x)-1)<Ig||rg(d-m)<Ig?(d+m)/2:Math.atan2(w,v),B=a(A,z),C=B[0],D=B[1],E=C-b,F=D-c,G=t*E-s*F;(G*G/u>f||rg((s*E+t*F)/u-.5)>.3||h*n+i*o+j*p<g)&&(e(b,c,d,h,i,j,C,D,A,v/=y,w/=y,x,q,r),r.point(C,D),e(C,D,A,v,w,x,k,l,m,n,o,p,q,r))}}var f=.5,g=Math.cos(30*Og),h=16;return b.precision=function(a){return arguments.length?(h=(f=a*a)>0&&16,b):Math.sqrt(f)},b}function cc(a){var b=bc(function(b,c){return a([b*Pg,c*Pg])});return function(a){return hc(b(a))}}function dc(a){this.stream=a}function ec(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function fc(a){return gc(function(){return a})()}function gc(a){function b(a){return a=h(a[0]*Og,a[1]*Og),[a[0]*m+i,j-a[1]*m]}function c(a){return a=h.invert((a[0]-i)/m,(j-a[1])/m),a&&[a[0]*Pg,a[1]*Pg]}function d(){h=Cb(g=kc(r,t,u),f);var a=f(p,q);return i=n-a[0]*m,j=o+a[1]*m,e()}function e(){return k&&(k.valid=!1,k=null),b}var f,g,h,i,j,k,l=bc(function(a,b){return a=f(a,b),[a[0]*m+i,j-a[1]*m]}),m=150,n=480,o=250,p=0,q=0,r=0,t=0,u=0,v=Kh,w=s,x=null,y=null;return b.stream=function(a){return k&&(k.valid=!1),k=hc(v(g,l(w(a)))),k.valid=!0,k},b.clipAngle=function(a){return arguments.length?(v=null==a?(x=a,Kh):Pb((x=+a)*Og),e()):x},b.clipExtent=function(a){return arguments.length?(y=a,w=a?Rb(a[0][0],a[0][1],a[1][0],a[1][1]):s,e()):y},b.scale=function(a){return arguments.length?(m=+a,d()):m},b.translate=function(a){return arguments.length?(n=+a[0],o=+a[1],d()):[n,o]},b.center=function(a){return arguments.length?(p=a[0]%360*Og,q=a[1]%360*Og,d()):[p*Pg,q*Pg]},b.rotate=function(a){return arguments.length?(r=a[0]%360*Og,t=a[1]%360*Og,u=a.length>2?a[2]%360*Og:0,d()):[r*Pg,t*Pg,u*Pg]},hg.rebind(b,l,"precision"),function(){return f=a.apply(this,arguments),b.invert=f.invert&&c,d()}}function hc(a){return ec(a,function(b,c){a.point(b*Og,c*Og)})}function ic(a,b){return[a,b]}function jc(a,b){return[a>Kg?a-Lg:a<-Kg?a+Lg:a,b]}function kc(a,b,c){
    return a?b||c?Cb(mc(a),nc(b,c)):mc(a):b||c?nc(b,c):jc}function lc(a){return function(b,c){return b+=a,[b>Kg?b-Lg:b<-Kg?b+Lg:b,c]}}function mc(a){var b=lc(a);return b.invert=lc(-a),b}function nc(a,b){function c(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*d+h*e;return[Math.atan2(i*f-k*g,h*d-j*e),ba(k*f+i*g)]}var d=Math.cos(a),e=Math.sin(a),f=Math.cos(b),g=Math.sin(b);return c.invert=function(a,b){var c=Math.cos(b),h=Math.cos(a)*c,i=Math.sin(a)*c,j=Math.sin(b),k=j*f-i*g;return[Math.atan2(i*f+j*g,h*d+k*e),ba(k*d-h*e)]},c}function oc(a,b){var c=Math.cos(a),d=Math.sin(a);return function(e,f,g,h){var i=g*b;null!=e?(e=pc(c,e),f=pc(c,f),(g>0?e<f:e>f)&&(e+=g*Lg)):(e=a+g*Lg,f=a-.5*i);for(var j,k=e;g>0?k>f:k<f;k-=i)h.point((j=vb([c,-d*Math.cos(k),-d*Math.sin(k)]))[0],j[1])}}function pc(a,b){var c=pb(b);c[0]-=a,ub(c);var d=aa(-c[1]);return((-c[2]<0?-d:d)+2*Math.PI-Ig)%(2*Math.PI)}function qc(a,b,c){var d=hg.range(a,b-Ig,c).concat(b);return function(a){return d.map(function(b){return[a,b]})}}function rc(a,b,c){var d=hg.range(a,b-Ig,c).concat(b);return function(a){return d.map(function(b){return[b,a]})}}function sc(a){return a.source}function tc(a){return a.target}function uc(a,b,c,d){var e=Math.cos(b),f=Math.sin(b),g=Math.cos(d),h=Math.sin(d),i=e*Math.cos(a),j=e*Math.sin(a),k=g*Math.cos(c),l=g*Math.sin(c),m=2*Math.asin(Math.sqrt(fa(d-b)+e*g*fa(c-a))),n=1/Math.sin(m),o=m?function(a){var b=Math.sin(a*=m)*n,c=Math.sin(m-a)*n,d=c*i+b*k,e=c*j+b*l,g=c*f+b*h;return[Math.atan2(e,d)*Pg,Math.atan2(g,Math.sqrt(d*d+e*e))*Pg]}:function(){return[a*Pg,b*Pg]};return o.distance=m,o}function vc(){function a(a,e){var f=Math.sin(e*=Og),g=Math.cos(e),h=rg((a*=Og)-b),i=Math.cos(h);Vh+=Math.atan2(Math.sqrt((h=g*Math.sin(h))*h+(h=d*f-c*g*i)*h),c*f+d*g*i),b=a,c=f,d=g}var b,c,d;Wh.point=function(e,f){b=e*Og,c=Math.sin(f*=Og),d=Math.cos(f),Wh.point=a},Wh.lineEnd=function(){Wh.point=Wh.lineEnd=v}}function wc(a,b){function c(b,c){var d=Math.cos(b),e=Math.cos(c),f=a(d*e);return[f*e*Math.sin(b),f*Math.sin(c)]}return c.invert=function(a,c){var d=Math.sqrt(a*a+c*c),e=b(d),f=Math.sin(e),g=Math.cos(e);return[Math.atan2(a*f,d*g),Math.asin(d&&c*f/d)]},c}function xc(a,b){function c(a,b){g>0?b<-Ng+Ig&&(b=-Ng+Ig):b>Ng-Ig&&(b=Ng-Ig);var c=g/Math.pow(e(b),f);return[c*Math.sin(f*a),g-c*Math.cos(f*a)]}var d=Math.cos(a),e=function(a){return Math.tan(Kg/4+a/2)},f=a===b?Math.sin(a):Math.log(d/Math.cos(b))/Math.log(e(b)/e(a)),g=d*Math.pow(e(a),f)/f;return f?(c.invert=function(a,b){var c=g-b,d=$(f)*Math.sqrt(a*a+c*c);return[Math.atan2(a,c)/f,2*Math.atan(Math.pow(g/d,1/f))-Ng]},c):zc}function yc(a,b){function c(a,b){var c=f-b;return[c*Math.sin(e*a),f-c*Math.cos(e*a)]}var d=Math.cos(a),e=a===b?Math.sin(a):(d-Math.cos(b))/(b-a),f=d/e+a;return rg(e)<Ig?ic:(c.invert=function(a,b){var c=f-b;return[Math.atan2(a,c)/e,f-$(e)*Math.sqrt(a*a+c*c)]},c)}function zc(a,b){return[a,Math.log(Math.tan(Kg/4+b/2))]}function Ac(a){var b,c=fc(a),d=c.scale,e=c.translate,f=c.clipExtent;return c.scale=function(){var a=d.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.translate=function(){var a=e.apply(c,arguments);return a===c?b?c.clipExtent(null):c:a},c.clipExtent=function(a){var g=f.apply(c,arguments);if(g===c){if(b=null==a){var h=Kg*d(),i=e();f([[i[0]-h,i[1]-h],[i[0]+h,i[1]+h]])}}else b&&(g=null);return g},c.clipExtent(null)}function Bc(a,b){return[Math.log(Math.tan(Kg/4+b/2)),-a]}function Cc(a){return a[0]}function Dc(a){return a[1]}function Ec(a){for(var b=a.length,c=[0,1],d=2,e=2;e<b;e++){for(;d>1&&_(a[c[d-2]],a[c[d-1]],a[e])<=0;)--d;c[d++]=e}return c.slice(0,d)}function Fc(a,b){return a[0]-b[0]||a[1]-b[1]}function Gc(a,b,c){return(c[0]-b[0])*(a[1]-b[1])<(c[1]-b[1])*(a[0]-b[0])}function Hc(a,b,c,d){var e=a[0],f=c[0],g=b[0]-e,h=d[0]-f,i=a[1],j=c[1],k=b[1]-i,l=d[1]-j,m=(h*(i-j)-l*(e-f))/(l*g-h*k);return[e+m*g,i+m*k]}function Ic(a){var b=a[0],c=a[a.length-1];return!(b[0]-c[0]||b[1]-c[1])}function Jc(){cd(this),this.edge=this.site=this.circle=null}function Kc(a){var b=gi.pop()||new Jc;return b.site=a,b}function Lc(a){Vc(a),di.remove(a),gi.push(a),cd(a)}function Mc(a){var b=a.circle,c=b.x,d=b.cy,e={x:c,y:d},f=a.P,g=a.N,h=[a];Lc(a);for(var i=f;i.circle&&rg(c-i.circle.x)<Ig&&rg(d-i.circle.cy)<Ig;)f=i.P,h.unshift(i),Lc(i),i=f;h.unshift(i),Vc(i);for(var j=g;j.circle&&rg(c-j.circle.x)<Ig&&rg(d-j.circle.cy)<Ig;)g=j.N,h.push(j),Lc(j),j=g;h.push(j),Vc(j);var k,l=h.length;for(k=1;k<l;++k)j=h[k],i=h[k-1],_c(j.edge,i.site,j.site,e);i=h[0],j=h[l-1],j.edge=Zc(i.site,j.site,null,e),Uc(i),Uc(j)}function Nc(a){for(var b,c,d,e,f=a.x,g=a.y,h=di._;h;)if(d=Oc(h,g)-f,d>Ig)h=h.L;else{if(e=f-Pc(h,g),!(e>Ig)){d>-Ig?(b=h.P,c=h):e>-Ig?(b=h,c=h.N):b=c=h;break}if(!h.R){b=h;break}h=h.R}var i=Kc(a);if(di.insert(b,i),b||c){if(b===c)return Vc(b),c=Kc(b.site),di.insert(i,c),i.edge=c.edge=Zc(b.site,i.site),Uc(b),void Uc(c);if(!c)return void(i.edge=Zc(b.site,i.site));Vc(b),Vc(c);var j=b.site,k=j.x,l=j.y,m=a.x-k,n=a.y-l,o=c.site,p=o.x-k,q=o.y-l,r=2*(m*q-n*p),s=m*m+n*n,t=p*p+q*q,u={x:(q*s-n*t)/r+k,y:(m*t-p*s)/r+l};_c(c.edge,j,o,u),i.edge=Zc(j,a,null,u),c.edge=Zc(a,o,null,u),Uc(b),Uc(c)}}function Oc(a,b){var c=a.site,d=c.x,e=c.y,f=e-b;if(!f)return d;var g=a.P;if(!g)return-(1/0);c=g.site;var h=c.x,i=c.y,j=i-b;if(!j)return h;var k=h-d,l=1/f-1/j,m=k/j;return l?(-m+Math.sqrt(m*m-2*l*(k*k/(-2*j)-i+j/2+e-f/2)))/l+d:(d+h)/2}function Pc(a,b){var c=a.N;if(c)return Oc(c,b);var d=a.site;return d.y===b?d.x:1/0}function Qc(a){this.site=a,this.edges=[]}function Rc(a){for(var b,c,d,e,f,g,h,i,j,k,l=a[0][0],m=a[1][0],n=a[0][1],o=a[1][1],p=ci,q=p.length;q--;)if(f=p[q],f&&f.prepare())for(h=f.edges,i=h.length,g=0;g<i;)k=h[g].end(),d=k.x,e=k.y,j=h[++g%i].start(),b=j.x,c=j.y,(rg(d-b)>Ig||rg(e-c)>Ig)&&(h.splice(g,0,new ad($c(f.site,k,rg(d-l)<Ig&&o-e>Ig?{x:l,y:rg(b-l)<Ig?c:o}:rg(e-o)<Ig&&m-d>Ig?{x:rg(c-o)<Ig?b:m,y:o}:rg(d-m)<Ig&&e-n>Ig?{x:m,y:rg(b-m)<Ig?c:n}:rg(e-n)<Ig&&d-l>Ig?{x:rg(c-n)<Ig?b:l,y:n}:null),f.site,null)),++i)}function Sc(a,b){return b.angle-a.angle}function Tc(){cd(this),this.x=this.y=this.arc=this.site=this.cy=null}function Uc(a){var b=a.P,c=a.N;if(b&&c){var d=b.site,e=a.site,f=c.site;if(d!==f){var g=e.x,h=e.y,i=d.x-g,j=d.y-h,k=f.x-g,l=f.y-h,m=2*(i*l-j*k);if(!(m>=-Jg)){var n=i*i+j*j,o=k*k+l*l,p=(l*n-j*o)/m,q=(i*o-k*n)/m,l=q+h,r=hi.pop()||new Tc;r.arc=a,r.site=e,r.x=p+g,r.y=l+Math.sqrt(p*p+q*q),r.cy=l,a.circle=r;for(var s=null,t=fi._;t;)if(r.y<t.y||r.y===t.y&&r.x<=t.x){if(!t.L){s=t.P;break}t=t.L}else{if(!t.R){s=t;break}t=t.R}fi.insert(s,r),s||(ei=r)}}}}function Vc(a){var b=a.circle;b&&(b.P||(ei=b.N),fi.remove(b),hi.push(b),cd(b),a.circle=null)}function Wc(a){for(var b,c=bi,d=Qb(a[0][0],a[0][1],a[1][0],a[1][1]),e=c.length;e--;)b=c[e],(!Xc(b,a)||!d(b)||rg(b.a.x-b.b.x)<Ig&&rg(b.a.y-b.b.y)<Ig)&&(b.a=b.b=null,c.splice(e,1))}function Xc(a,b){var c=a.b;if(c)return!0;var d,e,f=a.a,g=b[0][0],h=b[1][0],i=b[0][1],j=b[1][1],k=a.l,l=a.r,m=k.x,n=k.y,o=l.x,p=l.y,q=(m+o)/2,r=(n+p)/2;if(p===n){if(q<g||q>=h)return;if(m>o){if(f){if(f.y>=j)return}else f={x:q,y:i};c={x:q,y:j}}else{if(f){if(f.y<i)return}else f={x:q,y:j};c={x:q,y:i}}}else if(d=(m-o)/(p-n),e=r-d*q,d<-1||d>1)if(m>o){if(f){if(f.y>=j)return}else f={x:(i-e)/d,y:i};c={x:(j-e)/d,y:j}}else{if(f){if(f.y<i)return}else f={x:(j-e)/d,y:j};c={x:(i-e)/d,y:i}}else if(n<p){if(f){if(f.x>=h)return}else f={x:g,y:d*g+e};c={x:h,y:d*h+e}}else{if(f){if(f.x<g)return}else f={x:h,y:d*h+e};c={x:g,y:d*g+e}}return a.a=f,a.b=c,!0}function Yc(a,b){this.l=a,this.r=b,this.a=this.b=null}function Zc(a,b,c,d){var e=new Yc(a,b);return bi.push(e),c&&_c(e,a,b,c),d&&_c(e,b,a,d),ci[a.i].edges.push(new ad(e,a,b)),ci[b.i].edges.push(new ad(e,b,a)),e}function $c(a,b,c){var d=new Yc(a,null);return d.a=b,d.b=c,bi.push(d),d}function _c(a,b,c,d){a.a||a.b?a.l===c?a.b=d:a.a=d:(a.a=d,a.l=b,a.r=c)}function ad(a,b,c){var d=a.a,e=a.b;this.edge=a,this.site=b,this.angle=c?Math.atan2(c.y-b.y,c.x-b.x):a.l===b?Math.atan2(e.x-d.x,d.y-e.y):Math.atan2(d.x-e.x,e.y-d.y)}function bd(){this._=null}function cd(a){a.U=a.C=a.L=a.R=a.P=a.N=null}function dd(a,b){var c=b,d=b.R,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.R=d.L,c.R&&(c.R.U=c),d.L=c}function ed(a,b){var c=b,d=b.L,e=c.U;e?e.L===c?e.L=d:e.R=d:a._=d,d.U=e,c.U=d,c.L=d.R,c.L&&(c.L.U=c),d.R=c}function fd(a){for(;a.L;)a=a.L;return a}function gd(a,b){var c,d,e,f=a.sort(hd).pop();for(bi=[],ci=new Array(a.length),di=new bd,fi=new bd;;)if(e=ei,f&&(!e||f.y<e.y||f.y===e.y&&f.x<e.x))f.x===c&&f.y===d||(ci[f.i]=new Qc(f),Nc(f),c=f.x,d=f.y),f=a.pop();else{if(!e)break;Mc(e.arc)}b&&(Wc(b),Rc(b));var g={cells:ci,edges:bi};return di=fi=bi=ci=null,g}function hd(a,b){return b.y-a.y||b.x-a.x}function id(a,b,c){return(a.x-c.x)*(b.y-a.y)-(a.x-b.x)*(c.y-a.y)}function jd(a){return a.x}function kd(a){return a.y}function ld(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function md(a,b,c,d,e,f){if(!a(b,c,d,e,f)){var g=.5*(c+e),h=.5*(d+f),i=b.nodes;i[0]&&md(a,i[0],c,d,g,h),i[1]&&md(a,i[1],g,d,e,h),i[2]&&md(a,i[2],c,h,g,f),i[3]&&md(a,i[3],g,h,e,f)}}function nd(a,b,c,d,e,f,g){var h,i=1/0;return function a(j,k,l,m,n){if(!(k>f||l>g||m<d||n<e)){if(o=j.point){var o,p=b-j.x,q=c-j.y,r=p*p+q*q;if(r<i){var s=Math.sqrt(i=r);d=b-s,e=c-s,f=b+s,g=c+s,h=o}}for(var t=j.nodes,u=.5*(k+m),v=.5*(l+n),w=b>=u,x=c>=v,y=x<<1|w,z=y+4;y<z;++y)if(j=t[3&y])switch(3&y){case 0:a(j,k,l,u,v);break;case 1:a(j,u,l,m,v);break;case 2:a(j,k,v,u,n);break;case 3:a(j,u,v,m,n)}}}(a,d,e,f,g),h}function od(a,b){a=hg.rgb(a),b=hg.rgb(b);var c=a.r,d=a.g,e=a.b,f=b.r-c,g=b.g-d,h=b.b-e;return function(a){return"#"+ua(Math.round(c+f*a))+ua(Math.round(d+g*a))+ua(Math.round(e+h*a))}}function pd(a,b){var c,d={},e={};for(c in a)c in b?d[c]=sd(a[c],b[c]):e[c]=a[c];for(c in b)c in a||(e[c]=b[c]);return function(a){for(c in d)e[c]=d[c](a);return e}}function qd(a,b){return a=+a,b=+b,function(c){return a*(1-c)+b*c}}function rd(a,b){var c,d,e,f=ji.lastIndex=ki.lastIndex=0,g=-1,h=[],i=[];for(a+="",b+="";(c=ji.exec(a))&&(d=ki.exec(b));)(e=d.index)>f&&(e=b.slice(f,e),h[g]?h[g]+=e:h[++g]=e),(c=c[0])===(d=d[0])?h[g]?h[g]+=d:h[++g]=d:(h[++g]=null,i.push({i:g,x:qd(c,d)})),f=ki.lastIndex;return f<b.length&&(e=b.slice(f),h[g]?h[g]+=e:h[++g]=e),h.length<2?i[0]?(b=i[0].x,function(a){return b(a)+""}):function(){return b}:(b=i.length,function(a){for(var c,d=0;d<b;++d)h[(c=i[d]).i]=c.x(a);return h.join("")})}function sd(a,b){for(var c,d=hg.interpolators.length;--d>=0&&!(c=hg.interpolators[d](a,b)););return c}function td(a,b){var c,d=[],e=[],f=a.length,g=b.length,h=Math.min(a.length,b.length);for(c=0;c<h;++c)d.push(sd(a[c],b[c]));for(;c<f;++c)e[c]=a[c];for(;c<g;++c)e[c]=b[c];return function(a){for(c=0;c<h;++c)e[c]=d[c](a);return e}}function ud(a){return function(b){return b<=0?0:b>=1?1:a(b)}}function vd(a){return function(b){return 1-a(1-b)}}function wd(a){return function(b){return.5*(b<.5?a(2*b):2-a(2-2*b))}}function xd(a){return a*a}function yd(a){return a*a*a}function zd(a){if(a<=0)return 0;if(a>=1)return 1;var b=a*a,c=b*a;return 4*(a<.5?c:3*(a-b)+c-.75)}function Ad(a){return function(b){return Math.pow(b,a)}}function Bd(a){return 1-Math.cos(a*Ng)}function Cd(a){return Math.pow(2,10*(a-1))}function Dd(a){return 1-Math.sqrt(1-a*a)}function Ed(a,b){var c;return arguments.length<2&&(b=.45),arguments.length?c=b/Lg*Math.asin(1/a):(a=1,c=b/4),function(d){return 1+a*Math.pow(2,-10*d)*Math.sin((d-c)*Lg/b)}}function Fd(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}}function Gd(a){return a<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+.9375:7.5625*(a-=2.625/2.75)*a+.984375}function Hd(a,b){a=hg.hcl(a),b=hg.hcl(b);var c=a.h,d=a.c,e=a.l,f=b.h-c,g=b.c-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.c:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return ka(c+f*a,d+g*a,e+h*a)+""}}function Id(a,b){a=hg.hsl(a),b=hg.hsl(b);var c=a.h,d=a.s,e=a.l,f=b.h-c,g=b.s-d,h=b.l-e;return isNaN(g)&&(g=0,d=isNaN(d)?b.s:d),isNaN(f)?(f=0,c=isNaN(c)?b.h:c):f>180?f-=360:f<-180&&(f+=360),function(a){return ia(c+f*a,d+g*a,e+h*a)+""}}function Jd(a,b){a=hg.lab(a),b=hg.lab(b);var c=a.l,d=a.a,e=a.b,f=b.l-c,g=b.a-d,h=b.b-e;return function(a){return ma(c+f*a,d+g*a,e+h*a)+""}}function Kd(a,b){return b-=a,function(c){return Math.round(a+b*c)}}function Ld(a){var b=[a.a,a.b],c=[a.c,a.d],d=Nd(b),e=Md(b,c),f=Nd(Od(c,b,-e))||0;b[0]*c[1]<c[0]*b[1]&&(b[0]*=-1,b[1]*=-1,d*=-1,e*=-1),this.rotate=(d?Math.atan2(b[1],b[0]):Math.atan2(-c[0],c[1]))*Pg,this.translate=[a.e,a.f],this.scale=[d,f],this.skew=f?Math.atan2(e,f)*Pg:0}function Md(a,b){return a[0]*b[0]+a[1]*b[1]}function Nd(a){var b=Math.sqrt(Md(a,a));return b&&(a[0]/=b,a[1]/=b),b}function Od(a,b,c){return a[0]+=c*b[0],a[1]+=c*b[1],a}function Pd(a){return a.length?a.pop()+",":""}function Qd(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push("translate(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else(b[0]||b[1])&&c.push("translate("+b+")")}function Rd(a,b,c,d){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),d.push({i:c.push(Pd(c)+"rotate(",null,")")-2,x:qd(a,b)})):b&&c.push(Pd(c)+"rotate("+b+")")}function Sd(a,b,c,d){a!==b?d.push({i:c.push(Pd(c)+"skewX(",null,")")-2,x:qd(a,b)}):b&&c.push(Pd(c)+"skewX("+b+")")}function Td(a,b,c,d){if(a[0]!==b[0]||a[1]!==b[1]){var e=c.push(Pd(c)+"scale(",null,",",null,")");d.push({i:e-4,x:qd(a[0],b[0])},{i:e-2,x:qd(a[1],b[1])})}else 1===b[0]&&1===b[1]||c.push(Pd(c)+"scale("+b+")")}function Ud(a,b){var c=[],d=[];return a=hg.transform(a),b=hg.transform(b),Qd(a.translate,b.translate,c,d),Rd(a.rotate,b.rotate,c,d),Sd(a.skew,b.skew,c,d),Td(a.scale,b.scale,c,d),a=b=null,function(a){for(var b,e=-1,f=d.length;++e<f;)c[(b=d[e]).i]=b.x(a);return c.join("")}}function Vd(a,b){return b=(b-=a=+a)||1/b,function(c){return(c-a)/b}}function Wd(a,b){return b=(b-=a=+a)||1/b,function(c){return Math.max(0,Math.min(1,(c-a)/b))}}function Xd(a){for(var b=a.source,c=a.target,d=Zd(b,c),e=[b];b!==d;)b=b.parent,e.push(b);for(var f=e.length;c!==d;)e.splice(f,0,c),c=c.parent;return e}function Yd(a){for(var b=[],c=a.parent;null!=c;)b.push(a),a=c,c=c.parent;return b.push(a),b}function Zd(a,b){if(a===b)return a;for(var c=Yd(a),d=Yd(b),e=c.pop(),f=d.pop(),g=null;e===f;)g=e,e=c.pop(),f=d.pop();return g}function $d(a){a.fixed|=2}function _d(a){a.fixed&=-7}function ae(a){a.fixed|=4,a.px=a.x,a.py=a.y}function be(a){a.fixed&=-5}function ce(a,b,c){var d=0,e=0;if(a.charge=0,!a.leaf)for(var f,g=a.nodes,h=g.length,i=-1;++i<h;)f=g[i],null!=f&&(ce(f,b,c),a.charge+=f.charge,d+=f.charge*f.cx,e+=f.charge*f.cy);if(a.point){a.leaf||(a.point.x+=Math.random()-.5,a.point.y+=Math.random()-.5);var j=b*c[a.point.index];a.charge+=a.pointCharge=j,d+=j*a.point.x,e+=j*a.point.y}a.cx=d/a.charge,a.cy=e/a.charge}function de(a,b){return hg.rebind(a,b,"sort","children","value"),a.nodes=a,a.links=je,a}function ee(a,b){for(var c=[a];null!=(a=c.pop());)if(b(a),(e=a.children)&&(d=e.length))for(var d,e;--d>=0;)c.push(e[d])}function fe(a,b){for(var c=[a],d=[];null!=(a=c.pop());)if(d.push(a),(f=a.children)&&(e=f.length))for(var e,f,g=-1;++g<e;)c.push(f[g]);for(;null!=(a=d.pop());)b(a)}function ge(a){return a.children}function he(a){return a.value}function ie(a,b){return b.value-a.value}function je(a){return hg.merge(a.map(function(a){return(a.children||[]).map(function(b){return{source:a,target:b}})}))}function ke(a){return a.x}function le(a){return a.y}function me(a,b,c){a.y0=b,a.y=c}function ne(a){return hg.range(a.length)}function oe(a){for(var b=-1,c=a[0].length,d=[];++b<c;)d[b]=0;return d}function pe(a){for(var b,c=1,d=0,e=a[0][1],f=a.length;c<f;++c)(b=a[c][1])>e&&(d=c,e=b);return d}function qe(a){return a.reduce(re,0)}function re(a,b){return a+b[1]}function se(a,b){return te(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function te(a,b){for(var c=-1,d=+a[0],e=(a[1]-d)/b,f=[];++c<=b;)f[c]=e*c+d;return f}function ue(a){return[hg.min(a),hg.max(a)]}function ve(a,b){return a.value-b.value}function we(a,b){var c=a._pack_next;a._pack_next=b,b._pack_prev=a,b._pack_next=c,c._pack_prev=b}function xe(a,b){a._pack_next=b,b._pack_prev=a}function ye(a,b){var c=b.x-a.x,d=b.y-a.y,e=a.r+b.r;return.999*e*e>c*c+d*d}function ze(a){function b(a){k=Math.min(a.x-a.r,k),l=Math.max(a.x+a.r,l),m=Math.min(a.y-a.r,m),n=Math.max(a.y+a.r,n)}if((c=a.children)&&(j=c.length)){var c,d,e,f,g,h,i,j,k=1/0,l=-(1/0),m=1/0,n=-(1/0);if(c.forEach(Ae),d=c[0],d.x=-d.r,d.y=0,b(d),j>1&&(e=c[1],e.x=e.r,e.y=0,b(e),j>2))for(f=c[2],De(d,e,f),b(f),we(d,f),d._pack_prev=f,we(f,e),e=d._pack_next,g=3;g<j;g++){De(d,e,f=c[g]);var o=0,p=1,q=1;for(h=e._pack_next;h!==e;h=h._pack_next,p++)if(ye(h,f)){o=1;break}if(1==o)for(i=d._pack_prev;i!==h._pack_prev&&!ye(i,f);i=i._pack_prev,q++);o?(p<q||p==q&&e.r<d.r?xe(d,e=h):xe(d=i,e),g--):(we(d,f),e=f,b(f))}var r=(k+l)/2,s=(m+n)/2,t=0;for(g=0;g<j;g++)f=c[g],f.x-=r,f.y-=s,t=Math.max(t,f.r+Math.sqrt(f.x*f.x+f.y*f.y));a.r=t,c.forEach(Be)}}function Ae(a){a._pack_next=a._pack_prev=a}function Be(a){delete a._pack_next,delete a._pack_prev}function Ce(a,b,c,d){var e=a.children;if(a.x=b+=d*a.x,a.y=c+=d*a.y,a.r*=d,e)for(var f=-1,g=e.length;++f<g;)Ce(e[f],b,c,d)}function De(a,b,c){var d=a.r+c.r,e=b.x-a.x,f=b.y-a.y;if(d&&(e||f)){var g=b.r+c.r,h=e*e+f*f;g*=g,d*=d;var i=.5+(d-g)/(2*h),j=Math.sqrt(Math.max(0,2*g*(d+h)-(d-=h)*d-g*g))/(2*h);c.x=a.x+i*e+j*f,c.y=a.y+i*f-j*e}else c.x=a.x+d,c.y=a.y}function Ee(a,b){return a.parent==b.parent?1:2}function Fe(a){var b=a.children;return b.length?b[0]:a.t}function Ge(a){var b,c=a.children;return(b=c.length)?c[b-1]:a.t}function He(a,b,c){var d=c/(b.i-a.i);b.c-=d,b.s+=c,a.c+=d,b.z+=c,b.m+=c}function Ie(a){for(var b,c=0,d=0,e=a.children,f=e.length;--f>=0;)b=e[f],b.z+=c,b.m+=c,c+=b.s+(d+=b.c)}function Je(a,b,c){return a.a.parent===b.parent?a.a:c}function Ke(a){return 1+hg.max(a,function(a){return a.y})}function Le(a){return a.reduce(function(a,b){return a+b.x},0)/a.length}function Me(a){var b=a.children;return b&&b.length?Me(b[0]):a}function Ne(a){var b,c=a.children;return c&&(b=c.length)?Ne(c[b-1]):a}function Oe(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function Pe(a,b){var c=a.x+b[3],d=a.y+b[0],e=a.dx-b[1]-b[3],f=a.dy-b[0]-b[2];return e<0&&(c+=e/2,e=0),f<0&&(d+=f/2,f=0),{x:c,y:d,dx:e,dy:f}}function Qe(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function Re(a){return a.rangeExtent?a.rangeExtent():Qe(a.range())}function Se(a,b,c,d){var e=c(a[0],a[1]),f=d(b[0],b[1]);return function(a){return f(e(a))}}function Te(a,b){var c,d=0,e=a.length-1,f=a[d],g=a[e];return g<f&&(c=d,d=e,e=c,c=f,f=g,g=c),a[d]=b.floor(f),a[e]=b.ceil(g),a}function Ue(a){return a?{floor:function(b){return Math.floor(b/a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:vi}function Ve(a,b,c,d){var e=[],f=[],g=0,h=Math.min(a.length,b.length)-1;for(a[h]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++g<=h;)e.push(c(a[g-1],a[g])),f.push(d(b[g-1],b[g]));return function(b){var c=hg.bisect(a,b,1,h)-1;return f[c](e[c](b))}}function We(a,b,c,d){function e(){var e=Math.min(a.length,b.length)>2?Ve:Se,i=d?Wd:Vd;return g=e(a,b,i,c),h=e(b,a,i,sd),f}function f(a){return g(a)}var g,h;return f.invert=function(a){return h(a)},f.domain=function(b){return arguments.length?(a=b.map(Number),e()):a},f.range=function(a){return arguments.length?(b=a,e()):b},f.rangeRound=function(a){return f.range(a).interpolate(Kd)},f.clamp=function(a){return arguments.length?(d=a,e()):d},f.interpolate=function(a){return arguments.length?(c=a,e()):c},f.ticks=function(b){return $e(a,b)},f.tickFormat=function(b,c){return _e(a,b,c)},f.nice=function(b){return Ye(a,b),e()},f.copy=function(){return We(a,b,c,d)},e()}function Xe(a,b){return hg.rebind(a,b,"range","rangeRound","interpolate","clamp")}function Ye(a,b){return Te(a,Ue(Ze(a,b)[2])),Te(a,Ue(Ze(a,b)[2])),a}function Ze(a,b){null==b&&(b=10);var c=Qe(a),d=c[1]-c[0],e=Math.pow(10,Math.floor(Math.log(d/b)/Math.LN10)),f=b/d*e;return f<=.15?e*=10:f<=.35?e*=5:f<=.75&&(e*=2),c[0]=Math.ceil(c[0]/e)*e,c[1]=Math.floor(c[1]/e)*e+.5*e,c[2]=e,c}function $e(a,b){return hg.range.apply(hg,Ze(a,b))}function _e(a,b,c){var d=Ze(a,b);if(c){var e=jh.exec(c);if(e.shift(),"s"===e[8]){var f=hg.formatPrefix(Math.max(rg(d[0]),rg(d[1])));return e[7]||(e[7]="."+af(f.scale(d[2]))),e[8]="f",c=hg.format(e.join("")),function(a){return c(f.scale(a))+f.symbol}}e[7]||(e[7]="."+bf(e[8],d)),c=e.join("")}else c=",."+af(d[2])+"f";return hg.format(c)}function af(a){return-Math.floor(Math.log(a)/Math.LN10+.01)}function bf(a,b){var c=af(b[2]);return a in wi?Math.abs(c-af(Math.max(rg(b[0]),rg(b[1]))))+ +("e"!==a):c-2*("%"===a)}function cf(a,b,c,d){function e(a){return(c?Math.log(a<0?0:a):-Math.log(a>0?0:-a))/Math.log(b)}function f(a){return c?Math.pow(b,a):-Math.pow(b,-a)}function g(b){return a(e(b))}return g.invert=function(b){return f(a.invert(b))},g.domain=function(b){return arguments.length?(c=b[0]>=0,a.domain((d=b.map(Number)).map(e)),g):d},g.base=function(c){return arguments.length?(b=+c,a.domain(d.map(e)),g):b},g.nice=function(){var b=Te(d.map(e),c?Math:yi);return a.domain(b),d=b.map(f),g},g.ticks=function(){var a=Qe(d),g=[],h=a[0],i=a[1],j=Math.floor(e(h)),k=Math.ceil(e(i)),l=b%1?2:b;if(isFinite(k-j)){if(c){for(;j<k;j++)for(var m=1;m<l;m++)g.push(f(j)*m);g.push(f(j))}else for(g.push(f(j));j++<k;)for(var m=l-1;m>0;m--)g.push(f(j)*m);for(j=0;g[j]<h;j++);for(k=g.length;g[k-1]>i;k--);g=g.slice(j,k)}return g},g.tickFormat=function(a,c){if(!arguments.length)return xi;arguments.length<2?c=xi:"function"!=typeof c&&(c=hg.format(c));var d=Math.max(1,b*a/g.ticks().length);return function(a){var g=a/f(Math.round(e(a)));return g*b<b-.5&&(g*=b),g<=d?c(a):""}},g.copy=function(){return cf(a.copy(),b,c,d)},Xe(g,a)}function df(a,b,c){function d(b){return a(e(b))}var e=ef(b),f=ef(1/b);return d.invert=function(b){return f(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain((c=b.map(Number)).map(e)),d):c},d.ticks=function(a){return $e(c,a)},d.tickFormat=function(a,b){return _e(c,a,b)},d.nice=function(a){return d.domain(Ye(c,a))},d.exponent=function(g){return arguments.length?(e=ef(b=g),f=ef(1/b),a.domain(c.map(e)),d):b},d.copy=function(){return df(a.copy(),b,c)},Xe(d,a)}function ef(a){return function(b){return b<0?-Math.pow(-b,a):Math.pow(b,a)}}function ff(a,b){function c(c){return f[((e.get(c)||("range"===b.t?e.set(c,a.push(c)):NaN))-1)%f.length]}function d(b,c){return hg.range(a.length).map(function(a){return b+c*a})}var e,f,g;return c.domain=function(d){if(!arguments.length)return a;a=[],e=new j;for(var f,g=-1,h=d.length;++g<h;)e.has(f=d[g])||e.set(f,a.push(f));return c[b.t].apply(c,b.a)},c.range=function(a){return arguments.length?(f=a,g=0,b={t:"range",a:arguments},c):f},c.rangePoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=(i+j)/2,0):(j-i)/(a.length-1+h);return f=d(i+k*h/2,k),g=0,b={t:"rangePoints",a:arguments},c},c.rangeRoundPoints=function(e,h){arguments.length<2&&(h=0);var i=e[0],j=e[1],k=a.length<2?(i=j=Math.round((i+j)/2),0):(j-i)/(a.length-1+h)|0;return f=d(i+Math.round(k*h/2+(j-i-(a.length-1+h)*k)/2),k),g=0,b={t:"rangeRoundPoints",a:arguments},c},c.rangeBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=(l-k)/(a.length-h+2*i);return f=d(k+m*i,m),j&&f.reverse(),g=m*(1-h),b={t:"rangeBands",a:arguments},c},c.rangeRoundBands=function(e,h,i){arguments.length<2&&(h=0),arguments.length<3&&(i=h);var j=e[1]<e[0],k=e[j-0],l=e[1-j],m=Math.floor((l-k)/(a.length-h+2*i));return f=d(k+Math.round((l-k-(a.length-h)*m)/2),m),j&&f.reverse(),g=Math.round(m*(1-h)),b={t:"rangeRoundBands",a:arguments},c},c.rangeBand=function(){return g},c.rangeExtent=function(){return Qe(b.a[0])},c.copy=function(){return ff(a,b)},c.domain(a)}function gf(a,b){function f(){var c=0,d=b.length;for(h=[];++c<d;)h[c-1]=hg.quantile(a,c/d);return g}function g(a){if(!isNaN(a=+a))return b[hg.bisect(h,a)]}var h;return g.domain=function(b){return arguments.length?(a=b.map(d).filter(e).sort(c),f()):a},g.range=function(a){return arguments.length?(b=a,f()):b},g.quantiles=function(){return h},g.invertExtent=function(c){return c=b.indexOf(c),c<0?[NaN,NaN]:[c>0?h[c-1]:a[0],c<h.length?h[c]:a[a.length-1]]},g.copy=function(){return gf(a,b)},f()}function hf(a,b,c){function d(b){return c[Math.max(0,Math.min(g,Math.floor(f*(b-a))))]}function e(){return f=c.length/(b-a),g=c.length-1,d}var f,g;return d.domain=function(c){return arguments.length?(a=+c[0],b=+c[c.length-1],e()):[a,b]},d.range=function(a){return arguments.length?(c=a,e()):c},d.invertExtent=function(b){return b=c.indexOf(b),b=b<0?NaN:b/f+a,[b,b+1/f]},d.copy=function(){return hf(a,b,c)},e()}function jf(a,b){function c(c){if(c<=c)return b[hg.bisect(a,c)]}return c.domain=function(b){return arguments.length?(a=b,c):a},c.range=function(a){return arguments.length?(b=a,c):b},c.invertExtent=function(c){return c=b.indexOf(c),[a[c-1],a[c]]},c.copy=function(){return jf(a,b)},c}function kf(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(c){return arguments.length?(a=c.map(b),b):a},b.ticks=function(b){return $e(a,b)},b.tickFormat=function(b,c){return _e(a,b,c)},b.copy=function(){return kf(a)},b}function lf(){return 0}function mf(a){return a.innerRadius}function nf(a){return a.outerRadius}function of(a){return a.startAngle}function pf(a){return a.endAngle}function qf(a){return a&&a.padAngle}function rf(a,b,c,d){return(a-c)*b-(b-d)*a>0?0:1}function sf(a,b,c,d,e){var f=a[0]-b[0],g=a[1]-b[1],h=(e?d:-d)/Math.sqrt(f*f+g*g),i=h*g,j=-h*f,k=a[0]+i,l=a[1]+j,m=b[0]+i,n=b[1]+j,o=(k+m)/2,p=(l+n)/2,q=m-k,r=n-l,s=q*q+r*r,t=c-d,u=k*n-m*l,v=(r<0?-1:1)*Math.sqrt(Math.max(0,t*t*s-u*u)),w=(u*r-q*v)/s,x=(-u*q-r*v)/s,y=(u*r+q*v)/s,z=(-u*q+r*v)/s,A=w-o,B=x-p,C=y-o,D=z-p;return A*A+B*B>C*C+D*D&&(w=y,x=z),[[w-i,x-j],[w*c/t,x*c/t]]}function tf(a){function b(b){function g(){j.push("M",f(a(k),h))}for(var i,j=[],k=[],l=-1,m=b.length,n=Aa(c),o=Aa(d);++l<m;)e.call(this,i=b[l],l)?k.push([+n.call(this,i,l),+o.call(this,i,l)]):k.length&&(g(),k=[]);return k.length&&g(),j.length?j.join(""):null}var c=Cc,d=Dc,e=Db,f=uf,g=f.key,h=.7;return b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(g="function"==typeof a?f=a:(f=Ei.get(a)||uf).key,b):g},b.tension=function(a){return arguments.length?(h=a,b):h},b}function uf(a){return a.length>1?a.join("L"):a+"Z"}function vf(a){return a.join("L")+"Z"}function wf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d[0]+(d=a[b])[0])/2,"V",d[1]);return c>1&&e.push("H",d[0]),e.join("")}function xf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("V",(d=a[b])[1],"H",d[0]);return e.join("")}function yf(a){for(var b=0,c=a.length,d=a[0],e=[d[0],",",d[1]];++b<c;)e.push("H",(d=a[b])[0],"V",d[1]);return e.join("")}function zf(a,b){return a.length<4?uf(a):a[1]+Cf(a.slice(1,-1),Df(a,b))}function Af(a,b){return a.length<3?vf(a):a[0]+Cf((a.push(a[0]),a),Df([a[a.length-2]].concat(a,[a[1]]),b))}function Bf(a,b){return a.length<3?uf(a):a[0]+Cf(a,Df(a,b))}function Cf(a,b){if(b.length<1||a.length!=b.length&&a.length!=b.length+2)return uf(a);var c=a.length!=b.length,d="",e=a[0],f=a[1],g=b[0],h=g,i=1;if(c&&(d+="Q"+(f[0]-2*g[0]/3)+","+(f[1]-2*g[1]/3)+","+f[0]+","+f[1],e=a[1],i=2),b.length>1){h=b[1],f=a[i],i++,d+="C"+(e[0]+g[0])+","+(e[1]+g[1])+","+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1];for(var j=2;j<b.length;j++,i++)f=a[i],h=b[j],d+="S"+(f[0]-h[0])+","+(f[1]-h[1])+","+f[0]+","+f[1]}if(c){var k=a[i];d+="Q"+(f[0]+2*h[0]/3)+","+(f[1]+2*h[1]/3)+","+k[0]+","+k[1]}return d}function Df(a,b){for(var c,d=[],e=(1-b)/2,f=a[0],g=a[1],h=1,i=a.length;++h<i;)c=f,f=g,g=a[h],d.push([e*(g[0]-c[0]),e*(g[1]-c[1])]);return d}function Ef(a){if(a.length<3)return uf(a);var b=1,c=a.length,d=a[0],e=d[0],f=d[1],g=[e,e,e,(d=a[1])[0]],h=[f,f,f,d[1]],i=[e,",",f,"L",If(Hi,g),",",If(Hi,h)];for(a.push(a[c-1]);++b<=c;)d=a[b],g.shift(),g.push(d[0]),h.shift(),h.push(d[1]),Jf(i,g,h);return a.pop(),i.push("L",d),i.join("")}function Ff(a){if(a.length<4)return uf(a);for(var b,c=[],d=-1,e=a.length,f=[0],g=[0];++d<3;)b=a[d],f.push(b[0]),g.push(b[1]);for(c.push(If(Hi,f)+","+If(Hi,g)),--d;++d<e;)b=a[d],f.shift(),f.push(b[0]),g.shift(),g.push(b[1]),Jf(c,f,g);return c.join("")}function Gf(a){for(var b,c,d=-1,e=a.length,f=e+4,g=[],h=[];++d<4;)c=a[d%e],g.push(c[0]),h.push(c[1]);for(b=[If(Hi,g),",",If(Hi,h)],--d;++d<f;)c=a[d%e],g.shift(),g.push(c[0]),h.shift(),h.push(c[1]),Jf(b,g,h);return b.join("")}function Hf(a,b){var c=a.length-1;if(c)for(var d,e,f=a[0][0],g=a[0][1],h=a[c][0]-f,i=a[c][1]-g,j=-1;++j<=c;)d=a[j],e=j/c,d[0]=b*d[0]+(1-b)*(f+e*h),d[1]=b*d[1]+(1-b)*(g+e*i);return Ef(a)}function If(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Jf(a,b,c){a.push("C",If(Fi,b),",",If(Fi,c),",",If(Gi,b),",",If(Gi,c),",",If(Hi,b),",",If(Hi,c))}function Kf(a,b){return(b[1]-a[1])/(b[0]-a[0])}function Lf(a){for(var b=0,c=a.length-1,d=[],e=a[0],f=a[1],g=d[0]=Kf(e,f);++b<c;)d[b]=(g+(g=Kf(e=f,f=a[b+1])))/2;return d[b]=g,d}function Mf(a){for(var b,c,d,e,f=[],g=Lf(a),h=-1,i=a.length-1;++h<i;)b=Kf(a[h],a[h+1]),rg(b)<Ig?g[h]=g[h+1]=0:(c=g[h]/b,d=g[h+1]/b,e=c*c+d*d,e>9&&(e=3*b/Math.sqrt(e),g[h]=e*c,g[h+1]=e*d));for(h=-1;++h<=i;)e=(a[Math.min(i,h+1)][0]-a[Math.max(0,h-1)][0])/(6*(1+g[h]*g[h])),f.push([e||0,g[h]*e||0]);return f}function Nf(a){return a.length<3?uf(a):a[0]+Cf(a,Mf(a))}function Of(a){for(var b,c,d,e=-1,f=a.length;++e<f;)b=a[e],c=b[0],d=b[1]-Ng,b[0]=c*Math.cos(d),b[1]=c*Math.sin(d);return a}function Pf(a){function b(b){function i(){p.push("M",h(a(r),l),k,j(a(q.reverse()),l),"Z")}for(var m,n,o,p=[],q=[],r=[],s=-1,t=b.length,u=Aa(c),v=Aa(e),w=c===d?function(){return n}:Aa(d),x=e===f?function(){return o}:Aa(f);++s<t;)g.call(this,m=b[s],s)?(q.push([n=+u.call(this,m,s),o=+v.call(this,m,s)]),r.push([+w.call(this,m,s),+x.call(this,m,s)])):q.length&&(i(),q=[],r=[]);return q.length&&i(),p.length?p.join(""):null}var c=Cc,d=Cc,e=0,f=Dc,g=Db,h=uf,i=h.key,j=h,k="L",l=.7;return b.x=function(a){return arguments.length?(c=d=a,b):d},b.x0=function(a){return arguments.length?(c=a,b):c},b.x1=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(e=f=a,b):f},b.y0=function(a){return arguments.length?(e=a,b):e},b.y1=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(g=a,b):g},b.interpolate=function(a){return arguments.length?(i="function"==typeof a?h=a:(h=Ei.get(a)||uf).key,j=h.reverse||h,k=h.closed?"M":"L",b):i},b.tension=function(a){return arguments.length?(l=a,b):l},b}function Qf(a){return a.radius}function Rf(a){return[a.x,a.y]}function Sf(a){return function(){var b=a.apply(this,arguments),c=b[0],d=b[1]-Ng;return[c*Math.cos(d),c*Math.sin(d)]}}function Tf(){return 64}function Uf(){return"circle"}function Vf(a){var b=Math.sqrt(a/Kg);return"M0,"+b+"A"+b+","+b+" 0 1,1 0,"+-b+"A"+b+","+b+" 0 1,1 0,"+b+"Z"}function Wf(a){return function(){var b,c,d;(b=this[a])&&(d=b[c=b.active])&&(d.timer.c=null,d.timer.t=NaN,--b.count?delete b[c]:delete this[a],b.active+=.5,d.event&&d.event.interrupt.call(this,this.__data__,d.index))}}function Xf(a,b,c){return wg(a,Oi),a.namespace=b,a.id=c,a}function Yf(a,b,c,d){var e=a.id,f=a.namespace;return R(a,"function"==typeof c?function(a,g,h){a[f][e].tween.set(b,d(c.call(a,a.__data__,g,h)))}:(c=d(c),function(a){a[f][e].tween.set(b,c)}))}function Zf(a){return null==a&&(a=""),function(){this.textContent=a}}function $f(a){return null==a?"__transition__":"__transition_"+a+"__"}function _f(a,b,c,d,e){function f(a){var b=p.delay;return k.t=b+i,b<=a?g(a-b):void(k.c=g)}function g(c){var e=o.active,f=o[e];f&&(f.timer.c=null,f.timer.t=NaN,--o.count,delete o[e],f.event&&f.event.interrupt.call(a,a.__data__,f.index));for(var g in o)if(+g<d){var j=o[g];j.timer.c=null,j.timer.t=NaN,--o.count,delete o[g]}k.c=h,Fa(function(){return k.c&&h(c||1)&&(k.c=null,k.t=NaN),1},0,i),o.active=d,p.event&&p.event.start.call(a,a.__data__,b),n=[],p.tween.forEach(function(c,d){(d=d.call(a,a.__data__,b))&&n.push(d)}),m=p.ease,l=p.duration}function h(e){for(var f=e/l,g=m(f),h=n.length;h>0;)n[--h].call(a,g);if(f>=1)return p.event&&p.event.end.call(a,a.__data__,b),
    --o.count?delete o[d]:delete a[c],1}var i,k,l,m,n,o=a[c]||(a[c]={active:0,count:0}),p=o[d];p||(i=e.time,k=Fa(f,0,i),p=o[d]={tween:new j,time:i,timer:k,delay:e.delay,duration:e.duration,ease:e.ease,index:b},e=null,++o.count)}function ag(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate("+(isFinite(d)?d:c(a))+",0)"})}function bg(a,b,c){a.attr("transform",function(a){var d=b(a);return"translate(0,"+(isFinite(d)?d:c(a))+")"})}function cg(a){return a.toISOString()}function dg(a,b,c){function d(b){return a(b)}function e(a,c){var d=a[1]-a[0],e=d/c,f=hg.bisect(Xi,e);return f==Xi.length?[b.year,Ze(a.map(function(a){return a/31536e6}),c)[2]]:f?b[e/Xi[f-1]<Xi[f]/e?f-1:f]:[$i,Ze(a,c)[2]]}return d.invert=function(b){return eg(a.invert(b))},d.domain=function(b){return arguments.length?(a.domain(b),d):a.domain().map(eg)},d.nice=function(a,b){function c(c){return!isNaN(c)&&!a.range(c,eg(+c+1),b).length}var f=d.domain(),g=Qe(f),h=null==a?e(g,10):"number"==typeof a&&e(g,a);return h&&(a=h[0],b=h[1]),d.domain(Te(f,b>1?{floor:function(b){for(;c(b=a.floor(b));)b=eg(b-1);return b},ceil:function(b){for(;c(b=a.ceil(b));)b=eg(+b+1);return b}}:a))},d.ticks=function(a,b){var c=Qe(d.domain()),f=null==a?e(c,10):"number"==typeof a?e(c,a):!a.range&&[{range:a},b];return f&&(a=f[0],b=f[1]),a.range(c[0],eg(+c[1]+1),b<1?1:b)},d.tickFormat=function(){return c},d.copy=function(){return dg(a.copy(),b,c)},Xe(d,a)}function eg(a){return new Date(a)}function fg(a){return JSON.parse(a.responseText)}function gg(a){var b=kg.createRange();return b.selectNode(kg.body),b.createContextualFragment(a.responseText)}var hg={version:"3.5.17"},ig=[].slice,jg=function(a){return ig.call(a)},kg=this.document;if(kg)try{jg(kg.documentElement.childNodes)[0].nodeType}catch(a){jg=function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c}}if(Date.now||(Date.now=function(){return+new Date}),kg)try{kg.createElement("DIV").style.setProperty("opacity",0,"")}catch(a){var lg=this.Element.prototype,mg=lg.setAttribute,ng=lg.setAttributeNS,og=this.CSSStyleDeclaration.prototype,pg=og.setProperty;lg.setAttribute=function(a,b){mg.call(this,a,b+"")},lg.setAttributeNS=function(a,b,c){ng.call(this,a,b,c+"")},og.setProperty=function(a,b,c){pg.call(this,a,b+"",c)}}hg.ascending=c,hg.descending=function(a,b){return b<a?-1:b>a?1:b>=a?0:NaN},hg.min=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&c>d&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&c>d&&(c=d)}return c},hg.max=function(a,b){var c,d,e=-1,f=a.length;if(1===arguments.length){for(;++e<f;)if(null!=(d=a[e])&&d>=d){c=d;break}for(;++e<f;)null!=(d=a[e])&&d>c&&(c=d)}else{for(;++e<f;)if(null!=(d=b.call(a,a[e],e))&&d>=d){c=d;break}for(;++e<f;)null!=(d=b.call(a,a[e],e))&&d>c&&(c=d)}return c},hg.extent=function(a,b){var c,d,e,f=-1,g=a.length;if(1===arguments.length){for(;++f<g;)if(null!=(d=a[f])&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=a[f])&&(c>d&&(c=d),e<d&&(e=d))}else{for(;++f<g;)if(null!=(d=b.call(a,a[f],f))&&d>=d){c=e=d;break}for(;++f<g;)null!=(d=b.call(a,a[f],f))&&(c>d&&(c=d),e<d&&(e=d))}return[c,e]},hg.sum=function(a,b){var c,d=0,f=a.length,g=-1;if(1===arguments.length)for(;++g<f;)e(c=+a[g])&&(d+=c);else for(;++g<f;)e(c=+b.call(a,a[g],g))&&(d+=c);return d},hg.mean=function(a,b){var c,f=0,g=a.length,h=-1,i=g;if(1===arguments.length)for(;++h<g;)e(c=d(a[h]))?f+=c:--i;else for(;++h<g;)e(c=d(b.call(a,a[h],h)))?f+=c:--i;if(i)return f/i},hg.quantile=function(a,b){var c=(a.length-1)*b+1,d=Math.floor(c),e=+a[d-1],f=c-d;return f?e+f*(a[d]-e):e},hg.median=function(a,b){var f,g=[],h=a.length,i=-1;if(1===arguments.length)for(;++i<h;)e(f=d(a[i]))&&g.push(f);else for(;++i<h;)e(f=d(b.call(a,a[i],i)))&&g.push(f);if(g.length)return hg.quantile(g.sort(c),.5)},hg.variance=function(a,b){var c,f,g=a.length,h=0,i=0,j=-1,k=0;if(1===arguments.length)for(;++j<g;)e(c=d(a[j]))&&(f=c-h,h+=f/++k,i+=f*(c-h));else for(;++j<g;)e(c=d(b.call(a,a[j],j)))&&(f=c-h,h+=f/++k,i+=f*(c-h));if(k>1)return i/(k-1)},hg.deviation=function(){var a=hg.variance.apply(this,arguments);return a?Math.sqrt(a):a};var qg=f(c);hg.bisectLeft=qg.left,hg.bisect=hg.bisectRight=qg.right,hg.bisector=function(a){return f(1===a.length?function(b,d){return c(a(b),d)}:a)},hg.shuffle=function(a,b,c){(f=arguments.length)<3&&(c=a.length,f<2&&(b=0));for(var d,e,f=c-b;f;)e=Math.random()*f--|0,d=a[f+b],a[f+b]=a[e+b],a[e+b]=d;return a},hg.permute=function(a,b){for(var c=b.length,d=new Array(c);c--;)d[c]=a[b[c]];return d},hg.pairs=function(a){for(var b,c=0,d=a.length-1,e=a[0],f=new Array(d<0?0:d);c<d;)f[c]=[b=e,e=a[++c]];return f},hg.transpose=function(a){if(!(e=a.length))return[];for(var b=-1,c=hg.min(a,g),d=new Array(c);++b<c;)for(var e,f=-1,h=d[b]=new Array(e);++f<e;)h[f]=a[f][b];return d},hg.zip=function(){return hg.transpose(arguments)},hg.keys=function(a){var b=[];for(var c in a)b.push(c);return b},hg.values=function(a){var b=[];for(var c in a)b.push(a[c]);return b},hg.entries=function(a){var b=[];for(var c in a)b.push({key:c,value:a[c]});return b},hg.merge=function(a){for(var b,c,d,e=a.length,f=-1,g=0;++f<e;)g+=a[f].length;for(c=new Array(g);--e>=0;)for(d=a[e],b=d.length;--b>=0;)c[--g]=d[b];return c};var rg=Math.abs;hg.range=function(a,b,c){if(arguments.length<3&&(c=1,arguments.length<2&&(b=a,a=0)),(b-a)/c===1/0)throw new Error("infinite range");var d,e=[],f=h(rg(c)),g=-1;if(a*=f,b*=f,c*=f,c<0)for(;(d=a+c*++g)>b;)e.push(d/f);else for(;(d=a+c*++g)<b;)e.push(d/f);return e},hg.map=function(a,b){var c=new j;if(a instanceof j)a.forEach(function(a,b){c.set(a,b)});else if(Array.isArray(a)){var d,e=-1,f=a.length;if(1===arguments.length)for(;++e<f;)c.set(e,a[e]);else for(;++e<f;)c.set(b.call(a,d=a[e],e),d)}else for(var g in a)c.set(g,a[g]);return c};var sg="__proto__",tg="\0";i(j,{has:m,get:function(a){return this._[k(a)]},set:function(a,b){return this._[k(a)]=b},remove:n,keys:o,values:function(){var a=[];for(var b in this._)a.push(this._[b]);return a},entries:function(){var a=[];for(var b in this._)a.push({key:l(b),value:this._[b]});return a},size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b),this._[b])}}),hg.nest=function(){function a(b,g,h){if(h>=f.length)return d?d.call(e,g):c?g.sort(c):g;for(var i,k,l,m,n=-1,o=g.length,p=f[h++],q=new j;++n<o;)(m=q.get(i=p(k=g[n])))?m.push(k):q.set(i,[k]);return b?(k=b(),l=function(c,d){k.set(c,a(b,d,h))}):(k={},l=function(c,d){k[c]=a(b,d,h)}),q.forEach(l),k}function b(a,c){if(c>=f.length)return a;var d=[],e=g[c++];return a.forEach(function(a,e){d.push({key:a,values:b(e,c)})}),e?d.sort(function(a,b){return e(a.key,b.key)}):d}var c,d,e={},f=[],g=[];return e.map=function(b,c){return a(c,b,0)},e.entries=function(c){return b(a(hg.map,c,0),0)},e.key=function(a){return f.push(a),e},e.sortKeys=function(a){return g[f.length-1]=a,e},e.sortValues=function(a){return c=a,e},e.rollup=function(a){return d=a,e},e},hg.set=function(a){var b=new r;if(a)for(var c=0,d=a.length;c<d;++c)b.add(a[c]);return b},i(r,{has:m,add:function(a){return this._[k(a+="")]=!0,a},remove:n,values:o,size:p,empty:q,forEach:function(a){for(var b in this._)a.call(this,l(b))}}),hg.behavior={},hg.rebind=function(a,b){for(var c,d=1,e=arguments.length;++d<e;)a[c=arguments[d]]=t(a,b,b[c]);return a};var ug=["webkit","ms","moz","Moz","o","O"];hg.dispatch=function(){for(var a=new w,b=-1,c=arguments.length;++b<c;)a[arguments[b]]=x(a);return a},w.prototype.on=function(a,b){var c=a.indexOf("."),d="";if(c>=0&&(d=a.slice(c+1),a=a.slice(0,c)),a)return arguments.length<2?this[a].on(d):this[a].on(d,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(d,null);return this}},hg.event=null,hg.requote=function(a){return a.replace(vg,"\\$&")};var vg=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,wg={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var c in b)a[c]=b[c]},xg=function(a,b){return b.querySelector(a)},yg=function(a,b){return b.querySelectorAll(a)},zg=function(a,b){var c=a.matches||a[u(a,"matchesSelector")];return(zg=function(a,b){return c.call(a,b)})(a,b)};"function"==typeof Sizzle&&(xg=function(a,b){return Sizzle(a,b)[0]||null},yg=Sizzle,zg=Sizzle.matchesSelector),hg.selection=function(){return hg.select(kg.documentElement)};var Ag=hg.selection.prototype=[];Ag.select=function(a){var b,c,d,e,f=[];a=C(a);for(var g=-1,h=this.length;++g<h;){f.push(b=[]),b.parentNode=(d=this[g]).parentNode;for(var i=-1,j=d.length;++i<j;)(e=d[i])?(b.push(c=a.call(e,e.__data__,i,g)),c&&"__data__"in e&&(c.__data__=e.__data__)):b.push(null)}return B(f)},Ag.selectAll=function(a){var b,c,d=[];a=D(a);for(var e=-1,f=this.length;++e<f;)for(var g=this[e],h=-1,i=g.length;++h<i;)(c=g[h])&&(d.push(b=jg(a.call(c,c.__data__,h,e))),b.parentNode=c);return B(d)};var Bg="http://www.w3.org/1999/xhtml",Cg={svg:"http://www.w3.org/2000/svg",xhtml:Bg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};hg.ns={prefix:Cg,qualify:function(a){var b=a.indexOf(":"),c=a;return b>=0&&"xmlns"!==(c=a.slice(0,b))&&(a=a.slice(b+1)),Cg.hasOwnProperty(c)?{space:Cg[c],local:a}:a}},Ag.attr=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node();return a=hg.ns.qualify(a),a.local?c.getAttributeNS(a.space,a.local):c.getAttribute(a)}for(b in a)this.each(E(b,a[b]));return this}return this.each(E(a,b))},Ag.classed=function(a,b){if(arguments.length<2){if("string"==typeof a){var c=this.node(),d=(a=H(a)).length,e=-1;if(b=c.classList){for(;++e<d;)if(!b.contains(a[e]))return!1}else for(b=c.getAttribute("class");++e<d;)if(!G(a[e]).test(b))return!1;return!0}for(b in a)this.each(I(b,a[b]));return this}return this.each(I(a,b))},Ag.style=function(a,c,d){var e=arguments.length;if(e<3){if("string"!=typeof a){e<2&&(c="");for(d in a)this.each(K(d,a[d],c));return this}if(e<2){var f=this.node();return b(f).getComputedStyle(f,null).getPropertyValue(a)}d=""}return this.each(K(a,c,d))},Ag.property=function(a,b){if(arguments.length<2){if("string"==typeof a)return this.node()[a];for(b in a)this.each(L(b,a[b]));return this}return this.each(L(a,b))},Ag.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent},Ag.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML},Ag.append=function(a){return a=M(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})},Ag.insert=function(a,b){return a=M(a),b=C(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})},Ag.remove=function(){return this.each(N)},Ag.data=function(a,b){function c(a,c){var d,e,f,g=a.length,l=c.length,m=Math.min(g,l),n=new Array(l),o=new Array(l),p=new Array(g);if(b){var q,r=new j,s=new Array(g);for(d=-1;++d<g;)(e=a[d])&&(r.has(q=b.call(e,e.__data__,d))?p[d]=e:r.set(q,e),s[d]=q);for(d=-1;++d<l;)(e=r.get(q=b.call(c,f=c[d],d)))?e!==!0&&(n[d]=e,e.__data__=f):o[d]=O(f),r.set(q,!0);for(d=-1;++d<g;)d in s&&r.get(s[d])!==!0&&(p[d]=a[d])}else{for(d=-1;++d<m;)e=a[d],f=c[d],e?(e.__data__=f,n[d]=e):o[d]=O(f);for(;d<l;++d)o[d]=O(c[d]);for(;d<g;++d)p[d]=a[d]}o.update=n,o.parentNode=n.parentNode=p.parentNode=a.parentNode,h.push(o),i.push(n),k.push(p)}var d,e,f=-1,g=this.length;if(!arguments.length){for(a=new Array(g=(d=this[0]).length);++f<g;)(e=d[f])&&(a[f]=e.__data__);return a}var h=S([]),i=B([]),k=B([]);if("function"==typeof a)for(;++f<g;)c(d=this[f],a.call(d,d.parentNode.__data__,f));else for(;++f<g;)c(d=this[f],a);return i.enter=function(){return h},i.exit=function(){return k},i},Ag.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")},Ag.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]),b.parentNode=(c=this[f]).parentNode;for(var h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return B(e)},Ag.order=function(){for(var a=-1,b=this.length;++a<b;)for(var c,d=this[a],e=d.length-1,f=d[e];--e>=0;)(c=d[e])&&(f&&f!==c.nextSibling&&f.parentNode.insertBefore(c,f),f=c);return this},Ag.sort=function(a){a=Q.apply(this,arguments);for(var b=-1,c=this.length;++b<c;)this[b].sort(a);return this.order()},Ag.each=function(a){return R(this,function(b,c,d){a.call(b,b.__data__,c,d)})},Ag.call=function(a){var b=jg(arguments);return a.apply(b[0]=this,b),this},Ag.empty=function(){return!this.node()},Ag.node=function(){for(var a=0,b=this.length;a<b;a++)for(var c=this[a],d=0,e=c.length;d<e;d++){var f=c[d];if(f)return f}return null},Ag.size=function(){var a=0;return R(this,function(){++a}),a};var Dg=[];hg.selection.enter=S,hg.selection.enter.prototype=Dg,Dg.append=Ag.append,Dg.empty=Ag.empty,Dg.node=Ag.node,Dg.call=Ag.call,Dg.size=Ag.size,Dg.select=function(a){for(var b,c,d,e,f,g=[],h=-1,i=this.length;++h<i;){d=(e=this[h]).update,g.push(b=[]),b.parentNode=e.parentNode;for(var j=-1,k=e.length;++j<k;)(f=e[j])?(b.push(d[j]=c=a.call(e.parentNode,f.__data__,j,h)),c.__data__=f.__data__):b.push(null)}return B(g)},Dg.insert=function(a,b){return arguments.length<2&&(b=T(this)),Ag.insert.call(this,a,b)},hg.select=function(b){var c;return"string"==typeof b?(c=[xg(b,kg)],c.parentNode=kg.documentElement):(c=[b],c.parentNode=a(b)),B([c])},hg.selectAll=function(a){var b;return"string"==typeof a?(b=jg(yg(a,kg)),b.parentNode=kg.documentElement):(b=jg(a),b.parentNode=null),B([b])},Ag.on=function(a,b,c){var d=arguments.length;if(d<3){if("string"!=typeof a){d<2&&(b=!1);for(c in a)this.each(U(c,a[c],b));return this}if(d<2)return(d=this.node()["__on"+a])&&d._;c=!1}return this.each(U(a,b,c))};var Eg=hg.map({mouseenter:"mouseover",mouseleave:"mouseout"});kg&&Eg.forEach(function(a){"on"+a in kg&&Eg.remove(a)});var Fg,Gg=0;hg.mouse=function(a){return Y(a,z())};var Hg=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;hg.touch=function(a,b,c){if(arguments.length<3&&(c=b,b=z().changedTouches),b)for(var d,e=0,f=b.length;e<f;++e)if((d=b[e]).identifier===c)return Y(a,d)},hg.behavior.drag=function(){function a(){this.on("mousedown.drag",f).on("touchstart.drag",g)}function c(a,b,c,f,g){return function(){function h(){var a,c,d=b(m,p);d&&(a=d[0]-t[0],c=d[1]-t[1],o|=a|c,t=d,n({type:"drag",x:d[0]+j[0],y:d[1]+j[1],dx:a,dy:c}))}function i(){b(m,p)&&(r.on(f+q,null).on(g+q,null),s(o),n({type:"dragend"}))}var j,k=this,l=hg.event.target.correspondingElement||hg.event.target,m=k.parentNode,n=d.of(k,arguments),o=0,p=a(),q=".drag"+(null==p?"":"-"+p),r=hg.select(c(l)).on(f+q,h).on(g+q,i),s=X(l),t=b(m,p);e?(j=e.apply(k,arguments),j=[j.x-t[0],j.y-t[1]]):j=[0,0],n({type:"dragstart"})}}var d=A(a,"drag","dragstart","dragend"),e=null,f=c(v,hg.mouse,b,"mousemove","mouseup"),g=c(Z,hg.touch,s,"touchmove","touchend");return a.origin=function(b){return arguments.length?(e=b,a):e},hg.rebind(a,d,"on")},hg.touches=function(a,b){return arguments.length<2&&(b=z().touches),b?jg(b).map(function(b){var c=Y(a,b);return c.identifier=b.identifier,c}):[]};var Ig=1e-6,Jg=Ig*Ig,Kg=Math.PI,Lg=2*Kg,Mg=Lg-Ig,Ng=Kg/2,Og=Kg/180,Pg=180/Kg,Qg=Math.SQRT2,Rg=2,Sg=4;hg.interpolateZoom=function(a,b){var c,d,e=a[0],f=a[1],g=a[2],h=b[0],i=b[1],j=b[2],k=h-e,l=i-f,m=k*k+l*l;if(m<Jg)d=Math.log(j/g)/Qg,c=function(a){return[e+a*k,f+a*l,g*Math.exp(Qg*a*d)]};else{var n=Math.sqrt(m),o=(j*j-g*g+Sg*m)/(2*g*Rg*n),p=(j*j-g*g-Sg*m)/(2*j*Rg*n),q=Math.log(Math.sqrt(o*o+1)-o),r=Math.log(Math.sqrt(p*p+1)-p);d=(r-q)/Qg,c=function(a){var b=a*d,c=da(q),h=g/(Rg*n)*(c*ea(Qg*b+q)-ca(q));return[e+h*k,f+h*l,g*c/da(Qg*b+q)]}}return c.duration=1e3*d,c},hg.behavior.zoom=function(){function a(a){a.on(F,l).on(Ug+".zoom",n).on("dblclick.zoom",o).on(I,m)}function c(a){return[(a[0]-z.x)/z.k,(a[1]-z.y)/z.k]}function d(a){return[a[0]*z.k+z.x,a[1]*z.k+z.y]}function e(a){z.k=Math.max(C[0],Math.min(C[1],a))}function f(a,b){b=d(b),z.x+=a[0]-b[0],z.y+=a[1]-b[1]}function g(b,c,d,g){b.__chart__={x:z.x,y:z.y,k:z.k},e(Math.pow(2,g)),f(q=c,d),b=hg.select(b),D>0&&(b=b.transition().duration(D)),b.call(a.event)}function h(){v&&v.domain(u.range().map(function(a){return(a-z.x)/z.k}).map(u.invert)),x&&x.domain(w.range().map(function(a){return(a-z.y)/z.k}).map(w.invert))}function i(a){E++||a({type:"zoomstart"})}function j(a){h(),a({type:"zoom",scale:z.k,translate:[z.x,z.y]})}function k(a){--E||(a({type:"zoomend"}),q=null)}function l(){function a(){h=1,f(hg.mouse(e),m),j(g)}function d(){l.on(G,null).on(H,null),n(h),k(g)}var e=this,g=J.of(e,arguments),h=0,l=hg.select(b(e)).on(G,a).on(H,d),m=c(hg.mouse(e)),n=X(e);Ni.call(e),i(g)}function m(){function a(){var a=hg.touches(o);return n=z.k,a.forEach(function(a){a.identifier in q&&(q[a.identifier]=c(a))}),a}function b(){var b=hg.event.target;hg.select(b).on(u,d).on(v,h),w.push(b);for(var c=hg.event.changedTouches,e=0,f=c.length;e<f;++e)q[c[e].identifier]=null;var i=a(),j=Date.now();if(1===i.length){if(j-t<500){var k=i[0];g(o,k,q[k.identifier],Math.floor(Math.log(z.k)/Math.LN2)+1),y()}t=j}else if(i.length>1){var k=i[0],l=i[1],m=k[0]-l[0],n=k[1]-l[1];r=m*m+n*n}}function d(){var a,b,c,d,g=hg.touches(o);Ni.call(o);for(var h=0,i=g.length;h<i;++h,d=null)if(c=g[h],d=q[c.identifier]){if(b)break;a=c,b=d}if(d){var k=(k=c[0]-a[0])*k+(k=c[1]-a[1])*k,l=r&&Math.sqrt(k/r);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],b=[(b[0]+d[0])/2,(b[1]+d[1])/2],e(l*n)}t=null,f(a,b),j(p)}function h(){if(hg.event.touches.length){for(var b=hg.event.changedTouches,c=0,d=b.length;c<d;++c)delete q[b[c].identifier];for(var e in q)return void a()}hg.selectAll(w).on(s,null),x.on(F,l).on(I,m),A(),k(p)}var n,o=this,p=J.of(o,arguments),q={},r=0,s=".zoom-"+hg.event.changedTouches[0].identifier,u="touchmove"+s,v="touchend"+s,w=[],x=hg.select(o),A=X(o);b(),i(p),x.on(F,null).on(I,b)}function n(){var a=J.of(this,arguments);s?clearTimeout(s):(Ni.call(this),p=c(q=r||hg.mouse(this)),i(a)),s=setTimeout(function(){s=null,k(a)},50),y(),e(Math.pow(2,.002*Tg())*z.k),f(q,p),j(a)}function o(){var a=hg.mouse(this),b=Math.log(z.k)/Math.LN2;g(this,a,c(a),hg.event.shiftKey?Math.ceil(b)-1:Math.floor(b)+1)}var p,q,r,s,t,u,v,w,x,z={x:0,y:0,k:1},B=[960,500],C=Vg,D=250,E=0,F="mousedown.zoom",G="mousemove.zoom",H="mouseup.zoom",I="touchstart.zoom",J=A(a,"zoomstart","zoom","zoomend");return Ug||(Ug="onwheel"in kg?(Tg=function(){return-hg.event.deltaY*(hg.event.deltaMode?120:1)},"wheel"):"onmousewheel"in kg?(Tg=function(){return hg.event.wheelDelta},"mousewheel"):(Tg=function(){return-hg.event.detail},"MozMousePixelScroll")),a.event=function(a){a.each(function(){var a=J.of(this,arguments),b=z;Li?hg.select(this).transition().each("start.zoom",function(){z=this.__chart__||{x:0,y:0,k:1},i(a)}).tween("zoom:zoom",function(){var c=B[0],d=B[1],e=q?q[0]:c/2,f=q?q[1]:d/2,g=hg.interpolateZoom([(e-z.x)/z.k,(f-z.y)/z.k,c/z.k],[(e-b.x)/b.k,(f-b.y)/b.k,c/b.k]);return function(b){var d=g(b),h=c/d[2];this.__chart__=z={x:e-d[0]*h,y:f-d[1]*h,k:h},j(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=z,i(a),j(a),k(a))})},a.translate=function(b){return arguments.length?(z={x:+b[0],y:+b[1],k:z.k},h(),a):[z.x,z.y]},a.scale=function(b){return arguments.length?(z={x:z.x,y:z.y,k:null},e(+b),h(),a):z.k},a.scaleExtent=function(b){return arguments.length?(C=null==b?Vg:[+b[0],+b[1]],a):C},a.center=function(b){return arguments.length?(r=b&&[+b[0],+b[1]],a):r},a.size=function(b){return arguments.length?(B=b&&[+b[0],+b[1]],a):B},a.duration=function(b){return arguments.length?(D=+b,a):D},a.x=function(b){return arguments.length?(v=b,u=b.copy(),z={x:0,y:0,k:1},a):v},a.y=function(b){return arguments.length?(x=b,w=b.copy(),z={x:0,y:0,k:1},a):x},hg.rebind(a,J,"on")};var Tg,Ug,Vg=[0,1/0];hg.color=ga,ga.prototype.toString=function(){return this.rgb()+""},hg.hsl=ha;var Wg=ha.prototype=new ga;Wg.brighter=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,this.l/a)},Wg.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ha(this.h,this.s,a*this.l)},Wg.rgb=function(){return ia(this.h,this.s,this.l)},hg.hcl=ja;var Xg=ja.prototype=new ga;Xg.brighter=function(a){return new ja(this.h,this.c,Math.min(100,this.l+Yg*(arguments.length?a:1)))},Xg.darker=function(a){return new ja(this.h,this.c,Math.max(0,this.l-Yg*(arguments.length?a:1)))},Xg.rgb=function(){return ka(this.h,this.c,this.l).rgb()},hg.lab=la;var Yg=18,Zg=.95047,$g=1,_g=1.08883,ah=la.prototype=new ga;ah.brighter=function(a){return new la(Math.min(100,this.l+Yg*(arguments.length?a:1)),this.a,this.b)},ah.darker=function(a){return new la(Math.max(0,this.l-Yg*(arguments.length?a:1)),this.a,this.b)},ah.rgb=function(){return ma(this.l,this.a,this.b)},hg.rgb=ra;var bh=ra.prototype=new ga;bh.brighter=function(a){a=Math.pow(.7,arguments.length?a:1);var b=this.r,c=this.g,d=this.b,e=30;return b||c||d?(b&&b<e&&(b=e),c&&c<e&&(c=e),d&&d<e&&(d=e),new ra(Math.min(255,b/a),Math.min(255,c/a),Math.min(255,d/a))):new ra(e,e,e)},bh.darker=function(a){return a=Math.pow(.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)},bh.hsl=function(){return wa(this.r,this.g,this.b)},bh.toString=function(){return"#"+ua(this.r)+ua(this.g)+ua(this.b)};var ch=hg.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ch.forEach(function(a,b){ch.set(a,sa(b))}),hg.functor=Aa,hg.xhr=Ba(s),hg.dsv=function(a,b){function c(a,c,f){arguments.length<3&&(f=c,c=null);var g=Ca(a,b,null==c?d:e(c),f);return g.row=function(a){return arguments.length?g.response(null==(c=a)?d:e(a)):c},g}function d(a){return c.parse(a.responseText)}function e(a){return function(b){return c.parse(b.responseText,a)}}function f(b){return b.map(g).join(a)}function g(a){return h.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var h=new RegExp('["'+a+"\n]"),i=a.charCodeAt(0);return c.parse=function(a,b){var d;return c.parseRows(a,function(a,c){if(d)return d(a,c-1);var e=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");d=b?function(a,c){return b(e(a),c)}:e})},c.parseRows=function(a,b){function c(){if(k>=j)return g;if(e)return e=!1,f;var b=k;if(34===a.charCodeAt(b)){for(var c=b;c++<j;)if(34===a.charCodeAt(c)){if(34!==a.charCodeAt(c+1))break;++c}k=c+2;var d=a.charCodeAt(c+1);return 13===d?(e=!0,10===a.charCodeAt(c+2)&&++k):10===d&&(e=!0),a.slice(b+1,c).replace(/""/g,'"')}for(;k<j;){var d=a.charCodeAt(k++),h=1;if(10===d)e=!0;else if(13===d)e=!0,10===a.charCodeAt(k)&&(++k,++h);else if(d!==i)continue;return a.slice(b,k-h)}return a.slice(b)}for(var d,e,f={},g={},h=[],j=a.length,k=0,l=0;(d=c())!==g;){for(var m=[];d!==f&&d!==g;)m.push(d),d=c();b&&null==(m=b(m,l++))||h.push(m)}return h},c.format=function(b){if(Array.isArray(b[0]))return c.formatRows(b);var d=new r,e=[];return b.forEach(function(a){for(var b in a)d.has(b)||e.push(d.add(b))}),[e.map(g).join(a)].concat(b.map(function(b){return e.map(function(a){return g(b[a])}).join(a)})).join("\n")},c.formatRows=function(a){return a.map(f).join("\n")},c},hg.csv=hg.dsv(",","text/csv"),hg.tsv=hg.dsv("\t","text/tab-separated-values");var dh,eh,fh,gh,hh=this[u(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};hg.timer=function(){Fa.apply(this,arguments)},hg.timer.flush=function(){Ha(),Ia()},hg.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var ih=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ka);hg.formatPrefix=function(a,b){var c=0;return(a=+a)&&(a<0&&(a*=-1),b&&(a=hg.round(a,Ja(a,b))),c=1+Math.floor(1e-12+Math.log(a)/Math.LN10),c=Math.max(-24,Math.min(24,3*Math.floor((c-1)/3)))),ih[8+c/3]};var jh=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,kh=hg.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=hg.round(a,Ja(a,b))).toFixed(Math.max(0,Math.min(20,Ja(a*(1+1e-15),b))))}}),lh=hg.time={},mh=Date;Na.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){nh.setUTCDate.apply(this._,arguments)},setDay:function(){nh.setUTCDay.apply(this._,arguments)},setFullYear:function(){nh.setUTCFullYear.apply(this._,arguments)},setHours:function(){nh.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){nh.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){nh.setUTCMinutes.apply(this._,arguments)},setMonth:function(){nh.setUTCMonth.apply(this._,arguments)},setSeconds:function(){nh.setUTCSeconds.apply(this._,arguments)},setTime:function(){nh.setTime.apply(this._,arguments)}};var nh=Date.prototype;lh.year=Oa(function(a){return a=lh.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+b)},function(a){return a.getFullYear()}),lh.years=lh.year.range,lh.years.utc=lh.year.utc.range,lh.day=Oa(function(a){var b=new mh(2e3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1}),lh.days=lh.day.range,lh.days.utc=lh.day.utc.range,lh.dayOfYear=function(a){var b=lh.year(a);return Math.floor((a-b-6e4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(a,b){b=7-b;var c=lh[a]=Oa(function(a){return(a=lh.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var c=lh.year(a).getDay();return Math.floor((lh.dayOfYear(a)+(c+b)%7)/7)-(c!==b)});lh[a+"s"]=c.range,lh[a+"s"].utc=c.utc.range,lh[a+"OfYear"]=function(a){var c=lh.year(a).getDay();return Math.floor((lh.dayOfYear(a)+(c+b)%7)/7)}}),lh.week=lh.sunday,lh.weeks=lh.sunday.range,lh.weeks.utc=lh.sunday.utc.range,lh.weekOfYear=lh.sundayOfYear;var oh={"-":"",_:" ",0:"0"},ph=/^\s*\d+/,qh=/^%/;hg.locale=function(a){return{numberFormat:La(a),timeFormat:Qa(a)}};var rh=hg.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});hg.format=rh.numberFormat,hg.geo={},jb.prototype={s:0,t:0,add:function(a){kb(a,this.t,sh),kb(sh.s,this.s,this),this.s?this.t+=sh.t:this.s=sh.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var sh=new jb;hg.geo.stream=function(a,b){a&&th.hasOwnProperty(a.type)?th[a.type](a,b):lb(a,b)};var th={Feature:function(a,b){lb(a.geometry,b)},FeatureCollection:function(a,b){for(var c=a.features,d=-1,e=c.length;++d<e;)lb(c[d].geometry,b)}},uh={Sphere:function(a,b){b.sphere()},Point:function(a,b){a=a.coordinates,b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)a=c[d],b.point(a[0],a[1],a[2])},LineString:function(a,b){mb(a.coordinates,b,0)},MultiLineString:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)mb(c[d],b,0)},Polygon:function(a,b){nb(a.coordinates,b)},MultiPolygon:function(a,b){for(var c=a.coordinates,d=-1,e=c.length;++d<e;)nb(c[d],b)},GeometryCollection:function(a,b){for(var c=a.geometries,d=-1,e=c.length;++d<e;)lb(c[d],b)}};hg.geo.area=function(a){return vh=0,hg.geo.stream(a,xh),vh};var vh,wh=new jb,xh={sphere:function(){vh+=4*Kg},point:v,lineStart:v,lineEnd:v,polygonStart:function(){wh.reset(),xh.lineStart=ob},polygonEnd:function(){var a=2*wh;vh+=a<0?4*Kg+a:a,xh.lineStart=xh.lineEnd=xh.point=v}};hg.geo.bounds=function(){function a(a,b){t.push(u=[k=a,m=a]),b<l&&(l=b),b>n&&(n=b)}function b(b,c){var d=pb([b*Og,c*Og]);if(r){var e=rb(r,d),f=[e[1],-e[0],0],g=rb(f,e);ub(g),g=vb(g);var i=b-o,j=i>0?1:-1,p=g[0]*Pg*j,q=rg(i)>180;if(q^(j*o<p&&p<j*b)){var s=g[1]*Pg;s>n&&(n=s)}else if(p=(p+360)%360-180,q^(j*o<p&&p<j*b)){var s=-g[1]*Pg;s<l&&(l=s)}else c<l&&(l=c),c>n&&(n=c);q?b<o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b):m>=k?(b<k&&(k=b),b>m&&(m=b)):b>o?h(k,b)>h(k,m)&&(m=b):h(b,m)>h(k,m)&&(k=b)}else a(b,c);r=d,o=b}function c(){v.point=b}function d(){u[0]=k,u[1]=m,v.point=a,r=null}function e(a,c){if(r){var d=a-o;s+=rg(d)>180?d+(d>0?360:-360):d}else p=a,q=c;xh.point(a,c),b(a,c)}function f(){xh.lineStart()}function g(){e(p,q),xh.lineEnd(),rg(s)>Ig&&(k=-(m=180)),u[0]=k,u[1]=m,r=null}function h(a,b){return(b-=a)<0?b+360:b}function i(a,b){return a[0]-b[0]}function j(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a;
}var k,l,m,n,o,p,q,r,s,t,u,v={point:a,lineStart:c,lineEnd:d,polygonStart:function(){v.point=e,v.lineStart=f,v.lineEnd=g,s=0,xh.polygonStart()},polygonEnd:function(){xh.polygonEnd(),v.point=a,v.lineStart=c,v.lineEnd=d,wh<0?(k=-(m=180),l=-(n=90)):s>Ig?n=90:s<-Ig&&(l=-90),u[0]=k,u[1]=m}};return function(a){n=m=-(k=l=1/0),t=[],hg.geo.stream(a,v);var b=t.length;if(b){t.sort(i);for(var c,d=1,e=t[0],f=[e];d<b;++d)c=t[d],j(c[0],e)||j(c[1],e)?(h(e[0],c[1])>h(e[0],e[1])&&(e[1]=c[1]),h(c[0],e[1])>h(e[0],e[1])&&(e[0]=c[0])):f.push(e=c);for(var g,c,o=-(1/0),b=f.length-1,d=0,e=f[b];d<=b;e=c,++d)c=f[d],(g=h(e[1],c[0]))>o&&(o=g,k=c[0],m=e[1])}return t=u=null,k===1/0||l===1/0?[[NaN,NaN],[NaN,NaN]]:[[k,l],[m,n]]}}(),hg.geo.centroid=function(a){yh=zh=Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=0,hg.geo.stream(a,Jh);var b=Gh,c=Hh,d=Ih,e=b*b+c*c+d*d;return e<Jg&&(b=Dh,c=Eh,d=Fh,zh<Ig&&(b=Ah,c=Bh,d=Ch),e=b*b+c*c+d*d,e<Jg)?[NaN,NaN]:[Math.atan2(c,b)*Pg,ba(d/Math.sqrt(e))*Pg]};var yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh={sphere:v,point:xb,lineStart:zb,lineEnd:Ab,polygonStart:function(){Jh.lineStart=Bb},polygonEnd:function(){Jh.lineStart=zb}},Kh=Hb(Db,Lb,Nb,[-Kg,-Kg/2]),Lh=1e9;hg.geo.clipExtent=function(){var a,b,c,d,e,f,g={stream:function(a){return e&&(e.valid=!1),e=f(a),e.valid=!0,e},extent:function(h){return arguments.length?(f=Rb(a=+h[0][0],b=+h[0][1],c=+h[1][0],d=+h[1][1]),e&&(e.valid=!1,e=null),g):[[a,b],[c,d]]}};return g.extent([[0,0],[960,500]])},(hg.geo.conicEqualArea=function(){return Sb(Tb)}).raw=Tb,hg.geo.albers=function(){return hg.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},hg.geo.albersUsa=function(){function a(a){var f=a[0],g=a[1];return b=null,c(f,g),b||(d(f,g),b)||e(f,g),b}var b,c,d,e,f=hg.geo.albers(),g=hg.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),h=hg.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),i={point:function(a,c){b=[a,c]}};return a.invert=function(a){var b=f.scale(),c=f.translate(),d=(a[0]-c[0])/b,e=(a[1]-c[1])/b;return(e>=.12&&e<.234&&d>=-.425&&d<-.214?g:e>=.166&&e<.234&&d>=-.214&&d<-.115?h:f).invert(a)},a.stream=function(a){var b=f.stream(a),c=g.stream(a),d=h.stream(a);return{point:function(a,e){b.point(a,e),c.point(a,e),d.point(a,e)},sphere:function(){b.sphere(),c.sphere(),d.sphere()},lineStart:function(){b.lineStart(),c.lineStart(),d.lineStart()},lineEnd:function(){b.lineEnd(),c.lineEnd(),d.lineEnd()},polygonStart:function(){b.polygonStart(),c.polygonStart(),d.polygonStart()},polygonEnd:function(){b.polygonEnd(),c.polygonEnd(),d.polygonEnd()}}},a.precision=function(b){return arguments.length?(f.precision(b),g.precision(b),h.precision(b),a):f.precision()},a.scale=function(b){return arguments.length?(f.scale(b),g.scale(.35*b),h.scale(b),a.translate(f.translate())):f.scale()},a.translate=function(b){if(!arguments.length)return f.translate();var j=f.scale(),k=+b[0],l=+b[1];return c=f.translate(b).clipExtent([[k-.455*j,l-.238*j],[k+.455*j,l+.238*j]]).stream(i).point,d=g.translate([k-.307*j,l+.201*j]).clipExtent([[k-.425*j+Ig,l+.12*j+Ig],[k-.214*j-Ig,l+.234*j-Ig]]).stream(i).point,e=h.translate([k-.205*j,l+.212*j]).clipExtent([[k-.214*j+Ig,l+.166*j+Ig],[k-.115*j-Ig,l+.234*j-Ig]]).stream(i).point,a},a.scale(1070)};var Mh,Nh,Oh,Ph,Qh,Rh,Sh={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Nh=0,Sh.lineStart=Ub},polygonEnd:function(){Sh.lineStart=Sh.lineEnd=Sh.point=v,Mh+=rg(Nh/2)}},Th={point:Vb,lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v},Uh={point:Yb,lineStart:Zb,lineEnd:$b,polygonStart:function(){Uh.lineStart=_b},polygonEnd:function(){Uh.point=Yb,Uh.lineStart=Zb,Uh.lineEnd=$b}};hg.geo.path=function(){function a(a){return a&&("function"==typeof h&&f.pointRadius(+h.apply(this,arguments)),g&&g.valid||(g=e(f)),hg.geo.stream(a,g)),f.result()}function b(){return g=null,a}var c,d,e,f,g,h=4.5;return a.area=function(a){return Mh=0,hg.geo.stream(a,e(Sh)),Mh},a.centroid=function(a){return Ah=Bh=Ch=Dh=Eh=Fh=Gh=Hh=Ih=0,hg.geo.stream(a,e(Uh)),Ih?[Gh/Ih,Hh/Ih]:Fh?[Dh/Fh,Eh/Fh]:Ch?[Ah/Ch,Bh/Ch]:[NaN,NaN]},a.bounds=function(a){return Qh=Rh=-(Oh=Ph=1/0),hg.geo.stream(a,e(Th)),[[Oh,Ph],[Qh,Rh]]},a.projection=function(a){return arguments.length?(e=(c=a)?a.stream||cc(a):s,b()):c},a.context=function(a){return arguments.length?(f=null==(d=a)?new Wb:new ac(a),"function"!=typeof h&&f.pointRadius(h),b()):d},a.pointRadius=function(b){return arguments.length?(h="function"==typeof b?b:(f.pointRadius(+b),+b),a):h},a.projection(hg.geo.albersUsa()).context(null)},hg.geo.transform=function(a){return{stream:function(b){var c=new dc(b);for(var d in a)c[d]=a[d];return c}}},dc.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},hg.geo.projection=fc,hg.geo.projectionMutator=gc,(hg.geo.equirectangular=function(){return fc(ic)}).raw=ic.invert=ic,hg.geo.rotation=function(a){function b(b){return b=a(b[0]*Og,b[1]*Og),b[0]*=Pg,b[1]*=Pg,b}return a=kc(a[0]%360*Og,a[1]*Og,a.length>2?a[2]*Og:0),b.invert=function(b){return b=a.invert(b[0]*Og,b[1]*Og),b[0]*=Pg,b[1]*=Pg,b},b},jc.invert=ic,hg.geo.circle=function(){function a(){var a="function"==typeof d?d.apply(this,arguments):d,b=kc(-a[0]*Og,-a[1]*Og,0).invert,e=[];return c(null,null,1,{point:function(a,c){e.push(a=b(a,c)),a[0]*=Pg,a[1]*=Pg}}),{type:"Polygon",coordinates:[e]}}var b,c,d=[0,0],e=6;return a.origin=function(b){return arguments.length?(d=b,a):d},a.angle=function(d){return arguments.length?(c=oc((b=+d)*Og,e*Og),a):b},a.precision=function(d){return arguments.length?(c=oc(b*Og,(e=+d)*Og),a):e},a.angle(90)},hg.geo.distance=function(a,b){var c,d=(b[0]-a[0])*Og,e=a[1]*Og,f=b[1]*Og,g=Math.sin(d),h=Math.cos(d),i=Math.sin(e),j=Math.cos(e),k=Math.sin(f),l=Math.cos(f);return Math.atan2(Math.sqrt((c=l*g)*c+(c=j*k-i*l*h)*c),i*k+j*l*h)},hg.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return hg.range(Math.ceil(f/q)*q,e,q).map(m).concat(hg.range(Math.ceil(j/r)*r,i,r).map(n)).concat(hg.range(Math.ceil(d/o)*o,c,o).filter(function(a){return rg(a%q)>Ig}).map(k)).concat(hg.range(Math.ceil(h/p)*p,g,p).filter(function(a){return rg(a%r)>Ig}).map(l))}var c,d,e,f,g,h,i,j,k,l,m,n,o=10,p=o,q=90,r=360,s=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[m(f).concat(n(i).slice(1),m(e).reverse().slice(1),n(j).reverse().slice(1))]}},a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(f=+b[0][0],e=+b[1][0],j=+b[0][1],i=+b[1][1],f>e&&(b=f,f=e,e=b),j>i&&(b=j,j=i,i=b),a.precision(s)):[[f,j],[e,i]]},a.minorExtent=function(b){return arguments.length?(d=+b[0][0],c=+b[1][0],h=+b[0][1],g=+b[1][1],d>c&&(b=d,d=c,c=b),h>g&&(b=h,h=g,g=b),a.precision(s)):[[d,h],[c,g]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},a.majorStep=function(b){return arguments.length?(q=+b[0],r=+b[1],a):[q,r]},a.minorStep=function(b){return arguments.length?(o=+b[0],p=+b[1],a):[o,p]},a.precision=function(b){return arguments.length?(s=+b,k=qc(h,g,90),l=rc(d,c,s),m=qc(j,i,90),n=rc(f,e,s),a):s},a.majorExtent([[-180,-90+Ig],[180,90-Ig]]).minorExtent([[-180,-80-Ig],[180,80+Ig]])},hg.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||d.apply(this,arguments),c||e.apply(this,arguments)]}}var b,c,d=sc,e=tc;return a.distance=function(){return hg.geo.distance(b||d.apply(this,arguments),c||e.apply(this,arguments))},a.source=function(c){return arguments.length?(d=c,b="function"==typeof c?null:c,a):d},a.target=function(b){return arguments.length?(e=b,c="function"==typeof b?null:b,a):e},a.precision=function(){return arguments.length?a:0},a},hg.geo.interpolate=function(a,b){return uc(a[0]*Og,a[1]*Og,b[0]*Og,b[1]*Og)},hg.geo.length=function(a){return Vh=0,hg.geo.stream(a,Wh),Vh};var Vh,Wh={sphere:v,point:v,lineStart:vc,lineEnd:v,polygonStart:v,polygonEnd:v},Xh=wc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(hg.geo.azimuthalEqualArea=function(){return fc(Xh)}).raw=Xh;var Yh=wc(function(a){var b=Math.acos(a);return b&&b/Math.sin(b)},s);(hg.geo.azimuthalEquidistant=function(){return fc(Yh)}).raw=Yh,(hg.geo.conicConformal=function(){return Sb(xc)}).raw=xc,(hg.geo.conicEquidistant=function(){return Sb(yc)}).raw=yc;var Zh=wc(function(a){return 1/a},Math.atan);(hg.geo.gnomonic=function(){return fc(Zh)}).raw=Zh,zc.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-Ng]},(hg.geo.mercator=function(){return Ac(zc)}).raw=zc;var $h=wc(function(){return 1},Math.asin);(hg.geo.orthographic=function(){return fc($h)}).raw=$h;var _h=wc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(hg.geo.stereographic=function(){return fc(_h)}).raw=_h,Bc.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-Ng]},(hg.geo.transverseMercator=function(){var a=Ac(Bc),b=a.center,c=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?c([a[0],a[1],a.length>2?a[2]+90:90]):(a=c(),[a[0],a[1],a[2]-90])},c([0,0,90])}).raw=Bc,hg.geom={},hg.geom.hull=function(a){function b(a){if(a.length<3)return[];var b,e=Aa(c),f=Aa(d),g=a.length,h=[],i=[];for(b=0;b<g;b++)h.push([+e.call(this,a[b],b),+f.call(this,a[b],b),b]);for(h.sort(Fc),b=0;b<g;b++)i.push([h[b][0],-h[b][1]]);var j=Ec(h),k=Ec(i),l=k[0]===j[0],m=k[k.length-1]===j[j.length-1],n=[];for(b=j.length-1;b>=0;--b)n.push(a[h[j[b]][2]]);for(b=+l;b<k.length-m;++b)n.push(a[h[k[b]][2]]);return n}var c=Cc,d=Dc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(c=a,b):c},b.y=function(a){return arguments.length?(d=a,b):d},b)},hg.geom.polygon=function(a){return wg(a,ai),a};var ai=hg.geom.polygon.prototype=[];ai.area=function(){for(var a,b=-1,c=this.length,d=this[c-1],e=0;++b<c;)a=d,d=this[b],e+=a[1]*d[0]-a[0]*d[1];return.5*e},ai.centroid=function(a){var b,c,d=-1,e=this.length,f=0,g=0,h=this[e-1];for(arguments.length||(a=-1/(6*this.area()));++d<e;)b=h,h=this[d],c=b[0]*h[1]-h[0]*b[1],f+=(b[0]+h[0])*c,g+=(b[1]+h[1])*c;return[f*a,g*a]},ai.clip=function(a){for(var b,c,d,e,f,g,h=Ic(a),i=-1,j=this.length-Ic(this),k=this[j-1];++i<j;){for(b=a.slice(),a.length=0,e=this[i],f=b[(d=b.length-h)-1],c=-1;++c<d;)g=b[c],Gc(g,k,e)?(Gc(f,k,e)||a.push(Hc(f,g,k,e)),a.push(g)):Gc(f,k,e)&&a.push(Hc(f,g,k,e)),f=g;h&&a.push(a[0]),k=e}return a};var bi,ci,di,ei,fi,gi=[],hi=[];Qc.prototype.prepare=function(){for(var a,b=this.edges,c=b.length;c--;)a=b[c].edge,a.b&&a.a||b.splice(c,1);return b.sort(Sc),b.length},ad.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},bd.prototype={insert:function(a,b){var c,d,e;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;c=a}else this._?(a=fd(this._),b.P=null,b.N=a,a.P=a.L=b,c=a):(b.P=b.N=null,this._=b,c=null);for(b.L=b.R=null,b.U=c,b.C=!0,a=b;c&&c.C;)d=c.U,c===d.L?(e=d.R,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.R&&(dd(this,c),a=c,c=a.U),c.C=!1,d.C=!0,ed(this,d))):(e=d.L,e&&e.C?(c.C=e.C=!1,d.C=!0,a=d):(a===c.L&&(ed(this,c),a=c,c=a.U),c.C=!1,d.C=!0,dd(this,d))),c=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P),a.P&&(a.P.N=a.N),a.N=a.P=null;var b,c,d,e=a.U,f=a.L,g=a.R;if(c=f?g?fd(g):f:g,e?e.L===a?e.L=c:e.R=c:this._=c,f&&g?(d=c.C,c.C=a.C,c.L=f,f.U=c,c!==g?(e=c.U,c.U=a.U,a=c.R,e.L=a,c.R=g,g.U=c):(c.U=e,e=c,a=c.R)):(d=a.C,a=c),a&&(a.U=e),!d){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===e.L){if(b=e.R,b.C&&(b.C=!1,e.C=!0,dd(this,e),b=e.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,ed(this,b),b=e.R),b.C=e.C,e.C=b.R.C=!1,dd(this,e),a=this._;break}}else if(b=e.L,b.C&&(b.C=!1,e.C=!0,ed(this,e),b=e.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,dd(this,b),b=e.L),b.C=e.C,e.C=b.L.C=!1,ed(this,e),a=this._;break}b.C=!0,a=e,e=e.U}while(!a.C);a&&(a.C=!1)}}},hg.geom.voronoi=function(a){function b(a){var b=new Array(a.length),d=h[0][0],e=h[0][1],f=h[1][0],g=h[1][1];return gd(c(a),h).cells.forEach(function(c,h){var i=c.edges,j=c.site,k=b[h]=i.length?i.map(function(a){var b=a.start();return[b.x,b.y]}):j.x>=d&&j.x<=f&&j.y>=e&&j.y<=g?[[d,g],[f,g],[f,e],[d,e]]:[];k.point=a[h]}),b}function c(a){return a.map(function(a,b){return{x:Math.round(f(a,b)/Ig)*Ig,y:Math.round(g(a,b)/Ig)*Ig,i:b}})}var d=Cc,e=Dc,f=d,g=e,h=ii;return a?b(a):(b.links=function(a){return gd(c(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return gd(c(a)).cells.forEach(function(c,d){for(var e,f,g=c.site,h=c.edges.sort(Sc),i=-1,j=h.length,k=h[j-1].edge,l=k.l===g?k.r:k.l;++i<j;)e=k,f=l,k=h[i].edge,l=k.l===g?k.r:k.l,d<f.i&&d<l.i&&id(g,f,l)<0&&b.push([a[d],a[f.i],a[l.i]])}),b},b.x=function(a){return arguments.length?(f=Aa(d=a),b):d},b.y=function(a){return arguments.length?(g=Aa(e=a),b):e},b.clipExtent=function(a){return arguments.length?(h=null==a?ii:a,b):h===ii?null:h},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):h===ii?null:h&&h[1]},b)};var ii=[[-1e6,-1e6],[1e6,1e6]];hg.geom.delaunay=function(a){return hg.geom.voronoi().triangles(a)},hg.geom.quadtree=function(a,b,c,d,e){function f(a){function f(a,b,c,d,e,f,g,h){if(!isNaN(c)&&!isNaN(d))if(a.leaf){var i=a.x,k=a.y;if(null!=i)if(rg(i-c)+rg(k-d)<.01)j(a,b,c,d,e,f,g,h);else{var l=a.point;a.x=a.y=a.point=null,j(a,l,i,k,e,f,g,h),j(a,b,c,d,e,f,g,h)}else a.x=c,a.y=d,a.point=b}else j(a,b,c,d,e,f,g,h)}function j(a,b,c,d,e,g,h,i){var j=.5*(e+h),k=.5*(g+i),l=c>=j,m=d>=k,n=m<<1|l;a.leaf=!1,a=a.nodes[n]||(a.nodes[n]=ld()),l?e=j:h=j,m?g=k:i=k,f(a,b,c,d,e,g,h,i)}var k,l,m,n,o,p,q,r,s,t=Aa(h),u=Aa(i);if(null!=b)p=b,q=c,r=d,s=e;else if(r=s=-(p=q=1/0),l=[],m=[],o=a.length,g)for(n=0;n<o;++n)k=a[n],k.x<p&&(p=k.x),k.y<q&&(q=k.y),k.x>r&&(r=k.x),k.y>s&&(s=k.y),l.push(k.x),m.push(k.y);else for(n=0;n<o;++n){var v=+t(k=a[n],n),w=+u(k,n);v<p&&(p=v),w<q&&(q=w),v>r&&(r=v),w>s&&(s=w),l.push(v),m.push(w)}var x=r-p,y=s-q;x>y?s=q+x:r=p+y;var z=ld();if(z.add=function(a){f(z,a,+t(a,++n),+u(a,n),p,q,r,s)},z.visit=function(a){md(a,z,p,q,r,s)},z.find=function(a){return nd(z,a[0],a[1],p,q,r,s)},n=-1,null==b){for(;++n<o;)f(z,a[n],l[n],m[n],p,q,r,s);--n}else a.forEach(z.add);return l=m=a=k=null,z}var g,h=Cc,i=Dc;return(g=arguments.length)?(h=jd,i=kd,3===g&&(e=c,d=b,c=b=0),f(a)):(f.x=function(a){return arguments.length?(h=a,f):h},f.y=function(a){return arguments.length?(i=a,f):i},f.extent=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=+a[0][0],c=+a[0][1],d=+a[1][0],e=+a[1][1]),f):null==b?null:[[b,c],[d,e]]},f.size=function(a){return arguments.length?(null==a?b=c=d=e=null:(b=c=0,d=+a[0],e=+a[1]),f):null==b?null:[d-b,e-c]},f)},hg.interpolateRgb=od,hg.interpolateObject=pd,hg.interpolateNumber=qd,hg.interpolateString=rd;var ji=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ki=new RegExp(ji.source,"g");hg.interpolate=sd,hg.interpolators=[function(a,b){var c=typeof b;return("string"===c?ch.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?od:rd:b instanceof ga?od:Array.isArray(b)?td:"object"===c&&isNaN(b)?pd:qd)(a,b)}],hg.interpolateArray=td;var li=function(){return s},mi=hg.map({linear:li,poly:Ad,quad:function(){return xd},cubic:function(){return yd},sin:function(){return Bd},exp:function(){return Cd},circle:function(){return Dd},elastic:Ed,back:Fd,bounce:function(){return Gd}}),ni=hg.map({in:s,out:vd,"in-out":wd,"out-in":function(a){return wd(vd(a))}});hg.ease=function(a){var b=a.indexOf("-"),c=b>=0?a.slice(0,b):a,d=b>=0?a.slice(b+1):"in";return c=mi.get(c)||li,d=ni.get(d)||s,ud(d(c.apply(null,ig.call(arguments,1))))},hg.interpolateHcl=Hd,hg.interpolateHsl=Id,hg.interpolateLab=Jd,hg.interpolateRound=Kd,hg.transform=function(a){var b=kg.createElementNS(hg.ns.prefix.svg,"g");return(hg.transform=function(a){if(null!=a){b.setAttribute("transform",a);var c=b.transform.baseVal.consolidate()}return new Ld(c?c.matrix:oi)})(a)},Ld.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var oi={a:1,b:0,c:0,d:1,e:0,f:0};hg.interpolateTransform=Ud,hg.layout={},hg.layout.bundle=function(){return function(a){for(var b=[],c=-1,d=a.length;++c<d;)b.push(Xd(a[c]));return b}},hg.layout.chord=function(){function a(){var a,j,l,m,n,o={},p=[],q=hg.range(f),r=[];for(c=[],d=[],a=0,m=-1;++m<f;){for(j=0,n=-1;++n<f;)j+=e[m][n];p.push(j),r.push(hg.range(f)),a+=j}for(g&&q.sort(function(a,b){return g(p[a],p[b])}),h&&r.forEach(function(a,b){a.sort(function(a,c){return h(e[b][a],e[b][c])})}),a=(Lg-k*f)/a,j=0,m=-1;++m<f;){for(l=j,n=-1;++n<f;){var s=q[m],t=r[s][n],u=e[s][t],v=j,w=j+=u*a;o[s+"-"+t]={index:s,subindex:t,startAngle:v,endAngle:w,value:u}}d[s]={index:s,startAngle:l,endAngle:j,value:p[s]},j+=k}for(m=-1;++m<f;)for(n=m-1;++n<f;){var x=o[m+"-"+n],y=o[n+"-"+m];(x.value||y.value)&&c.push(x.value<y.value?{source:y,target:x}:{source:x,target:y})}i&&b()}function b(){c.sort(function(a,b){return i((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var c,d,e,f,g,h,i,j={},k=0;return j.matrix=function(a){return arguments.length?(f=(e=a)&&e.length,c=d=null,j):e},j.padding=function(a){return arguments.length?(k=a,c=d=null,j):k},j.sortGroups=function(a){return arguments.length?(g=a,c=d=null,j):g},j.sortSubgroups=function(a){return arguments.length?(h=a,c=null,j):h},j.sortChords=function(a){return arguments.length?(i=a,c&&b(),j):i},j.chords=function(){return c||a(),c},j.groups=function(){return d||a(),d},j},hg.layout.force=function(){function a(a){return function(b,c,d,e){if(b.point!==a){var f=b.cx-a.x,g=b.cy-a.y,h=e-c,i=f*f+g*g;if(h*h/r<i){if(i<p){var j=b.charge/i;a.px-=f*j,a.py-=g*j}return!0}if(b.point&&i&&i<p){var j=b.pointCharge/i;a.px-=f*j,a.py-=g*j}}return!b.charge}}function b(a){a.px=hg.event.x,a.py=hg.event.y,i.resume()}var c,d,e,f,g,h,i={},j=hg.dispatch("start","tick","end"),k=[1,1],l=.9,m=pi,n=qi,o=-30,p=ri,q=.1,r=.64,t=[],u=[];return i.tick=function(){if((e*=.99)<.005)return c=null,j.end({type:"end",alpha:e=0}),!0;var b,d,i,m,n,p,r,s,v,w=t.length,x=u.length;for(d=0;d<x;++d)i=u[d],m=i.source,n=i.target,s=n.x-m.x,v=n.y-m.y,(p=s*s+v*v)&&(p=e*g[d]*((p=Math.sqrt(p))-f[d])/p,s*=p,v*=p,n.x-=s*(r=m.weight+n.weight?m.weight/(m.weight+n.weight):.5),n.y-=v*r,m.x+=s*(r=1-r),m.y+=v*r);if((r=e*q)&&(s=k[0]/2,v=k[1]/2,d=-1,r))for(;++d<w;)i=t[d],i.x+=(s-i.x)*r,i.y+=(v-i.y)*r;if(o)for(ce(b=hg.geom.quadtree(t),e,h),d=-1;++d<w;)(i=t[d]).fixed||b.visit(a(i));for(d=-1;++d<w;)i=t[d],i.fixed?(i.x=i.px,i.y=i.py):(i.x-=(i.px-(i.px=i.x))*l,i.y-=(i.py-(i.py=i.y))*l);j.tick({type:"tick",alpha:e})},i.nodes=function(a){return arguments.length?(t=a,i):t},i.links=function(a){return arguments.length?(u=a,i):u},i.size=function(a){return arguments.length?(k=a,i):k},i.linkDistance=function(a){return arguments.length?(m="function"==typeof a?a:+a,i):m},i.distance=i.linkDistance,i.linkStrength=function(a){return arguments.length?(n="function"==typeof a?a:+a,i):n},i.friction=function(a){return arguments.length?(l=+a,i):l},i.charge=function(a){return arguments.length?(o="function"==typeof a?a:+a,i):o},i.chargeDistance=function(a){return arguments.length?(p=a*a,i):Math.sqrt(p)},i.gravity=function(a){return arguments.length?(q=+a,i):q},i.theta=function(a){return arguments.length?(r=a*a,i):Math.sqrt(r)},i.alpha=function(a){return arguments.length?(a=+a,e?a>0?e=a:(c.c=null,c.t=NaN,c=null,j.end({type:"end",alpha:e=0})):a>0&&(j.start({type:"start",alpha:e=a}),c=Fa(i.tick)),i):e},i.start=function(){function a(a,d){if(!c){for(c=new Array(e),i=0;i<e;++i)c[i]=[];for(i=0;i<j;++i){var f=u[i];c[f.source.index].push(f.target),c[f.target.index].push(f.source)}}for(var g,h=c[b],i=-1,k=h.length;++i<k;)if(!isNaN(g=h[i][a]))return g;return Math.random()*d}var b,c,d,e=t.length,j=u.length,l=k[0],p=k[1];for(b=0;b<e;++b)(d=t[b]).index=b,d.weight=0;for(b=0;b<j;++b)d=u[b],"number"==typeof d.source&&(d.source=t[d.source]),"number"==typeof d.target&&(d.target=t[d.target]),++d.source.weight,++d.target.weight;for(b=0;b<e;++b)d=t[b],isNaN(d.x)&&(d.x=a("x",l)),isNaN(d.y)&&(d.y=a("y",p)),isNaN(d.px)&&(d.px=d.x),isNaN(d.py)&&(d.py=d.y);if(f=[],"function"==typeof m)for(b=0;b<j;++b)f[b]=+m.call(this,u[b],b);else for(b=0;b<j;++b)f[b]=m;if(g=[],"function"==typeof n)for(b=0;b<j;++b)g[b]=+n.call(this,u[b],b);else for(b=0;b<j;++b)g[b]=n;if(h=[],"function"==typeof o)for(b=0;b<e;++b)h[b]=+o.call(this,t[b],b);else for(b=0;b<e;++b)h[b]=o;return i.resume()},i.resume=function(){return i.alpha(.1)},i.stop=function(){return i.alpha(0)},i.drag=function(){return d||(d=hg.behavior.drag().origin(s).on("dragstart.force",$d).on("drag.force",b).on("dragend.force",_d)),arguments.length?void this.on("mouseover.force",ae).on("mouseout.force",be).call(d):d},hg.rebind(i,j,"on")};var pi=20,qi=1,ri=1/0;hg.layout.hierarchy=function(){function a(e){var f,g=[e],h=[];for(e.depth=0;null!=(f=g.pop());)if(h.push(f),(j=c.call(a,f,f.depth))&&(i=j.length)){for(var i,j,k;--i>=0;)g.push(k=j[i]),k.parent=f,k.depth=f.depth+1;d&&(f.value=0),f.children=j}else d&&(f.value=+d.call(a,f,f.depth)||0),delete f.children;return fe(e,function(a){var c,e;b&&(c=a.children)&&c.sort(b),d&&(e=a.parent)&&(e.value+=a.value)}),h}var b=ie,c=ge,d=he;return a.sort=function(c){return arguments.length?(b=c,a):b},a.children=function(b){return arguments.length?(c=b,a):c},a.value=function(b){return arguments.length?(d=b,a):d},a.revalue=function(b){return d&&(ee(b,function(a){a.children&&(a.value=0)}),fe(b,function(b){var c;b.children||(b.value=+d.call(a,b,b.depth)||0),(c=b.parent)&&(c.value+=b.value)})),b},a},hg.layout.partition=function(){function a(b,c,d,e){var f=b.children;if(b.x=c,b.y=b.depth*e,b.dx=d,b.dy=e,f&&(g=f.length)){var g,h,i,j=-1;for(d=b.value?d/b.value:0;++j<g;)a(h=f[j],c,i=h.value*d,e),c+=i}}function b(a){var c=a.children,d=0;if(c&&(e=c.length))for(var e,f=-1;++f<e;)d=Math.max(d,b(c[f]));return 1+d}function c(c,f){var g=d.call(this,c,f);return a(g[0],0,e[0],e[1]/b(g[0])),g}var d=hg.layout.hierarchy(),e=[1,1];return c.size=function(a){return arguments.length?(e=a,c):e},de(c,d)},hg.layout.pie=function(){function a(g){var h,i=g.length,j=g.map(function(c,d){return+b.call(a,c,d)}),k=+("function"==typeof d?d.apply(this,arguments):d),l=("function"==typeof e?e.apply(this,arguments):e)-k,m=Math.min(Math.abs(l)/i,+("function"==typeof f?f.apply(this,arguments):f)),n=m*(l<0?-1:1),o=hg.sum(j),p=o?(l-i*n)/o:0,q=hg.range(i),r=[];return null!=c&&q.sort(c===si?function(a,b){return j[b]-j[a]}:function(a,b){return c(g[a],g[b])}),q.forEach(function(a){r[a]={data:g[a],value:h=j[a],startAngle:k,endAngle:k+=h*p+n,padAngle:m}}),r}var b=Number,c=si,d=0,e=Lg,f=0;return a.value=function(c){return arguments.length?(b=c,a):b},a.sort=function(b){return arguments.length?(c=b,a):c},a.startAngle=function(b){return arguments.length?(d=b,a):d},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(f=b,a):f},a};var si={};hg.layout.stack=function(){function a(h,i){if(!(m=h.length))return h;var j=h.map(function(c,d){return b.call(a,c,d)}),k=j.map(function(b){return b.map(function(b,c){return[f.call(a,b,c),g.call(a,b,c)]})}),l=c.call(a,k,i);j=hg.permute(j,l),k=hg.permute(k,l);var m,n,o,p,q=d.call(a,k,i),r=j[0].length;for(o=0;o<r;++o)for(e.call(a,j[0][o],p=q[o],k[0][o][1]),n=1;n<m;++n)e.call(a,j[n][o],p+=k[n-1][o][1],k[n][o][1]);return h}var b=s,c=ne,d=oe,e=me,f=ke,g=le;return a.values=function(c){return arguments.length?(b=c,a):b},a.order=function(b){return arguments.length?(c="function"==typeof b?b:ti.get(b)||ne,a):c},a.offset=function(b){return arguments.length?(d="function"==typeof b?b:ui.get(b)||oe,a):d},a.x=function(b){return arguments.length?(f=b,a):f},a.y=function(b){return arguments.length?(g=b,a):g},a.out=function(b){return arguments.length?(e=b,a):e},a};var ti=hg.map({"inside-out":function(a){var b,c,d=a.length,e=a.map(pe),f=a.map(qe),g=hg.range(d).sort(function(a,b){return e[a]-e[b]}),h=0,i=0,j=[],k=[];for(b=0;b<d;++b)c=g[b],h<i?(h+=f[c],j.push(c)):(i+=f[c],k.push(c));return k.reverse().concat(j)},reverse:function(a){return hg.range(a.length).reverse()},default:ne}),ui=hg.map({silhouette:function(a){var b,c,d,e=a.length,f=a[0].length,g=[],h=0,i=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];d>h&&(h=d),g.push(d)}for(c=0;c<f;++c)i[c]=(h-g[c])/2;return i},wiggle:function(a){var b,c,d,e,f,g,h,i,j,k=a.length,l=a[0],m=l.length,n=[];for(n[0]=i=j=0,c=1;c<m;++c){for(b=0,e=0;b<k;++b)e+=a[b][c][1];for(b=0,f=0,h=l[c][0]-l[c-1][0];b<k;++b){for(d=0,g=(a[b][c][1]-a[b][c-1][1])/(2*h);d<b;++d)g+=(a[d][c][1]-a[d][c-1][1])/h;f+=g*a[b][c][1]}n[c]=i-=e?f/e*h:0,i<j&&(j=i)}for(c=0;c<m;++c)n[c]-=j;return n},expand:function(a){var b,c,d,e=a.length,f=a[0].length,g=1/e,h=[];for(c=0;c<f;++c){for(b=0,d=0;b<e;b++)d+=a[b][c][1];if(d)for(b=0;b<e;b++)a[b][c][1]/=d;else for(b=0;b<e;b++)a[b][c][1]=g}for(c=0;c<f;++c)h[c]=0;return h},zero:oe});hg.layout.histogram=function(){function a(a,f){for(var g,h,i=[],j=a.map(c,this),k=d.call(this,j,f),l=e.call(this,k,j,f),f=-1,m=j.length,n=l.length-1,o=b?1:1/m;++f<n;)g=i[f]=[],g.dx=l[f+1]-(g.x=l[f]),g.y=0;if(n>0)for(f=-1;++f<m;)h=j[f],h>=k[0]&&h<=k[1]&&(g=i[hg.bisect(l,h,1,n)-1],g.y+=o,g.push(a[f]));return i}var b=!0,c=Number,d=ue,e=se;return a.value=function(b){return arguments.length?(c=b,a):c},a.range=function(b){return arguments.length?(d=Aa(b),a):d},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return te(a,b)}:Aa(b),a):e},a.frequency=function(c){return arguments.length?(b=!!c,a):b},a},hg.layout.pack=function(){function a(a,f){var g=c.call(this,a,f),h=g[0],i=e[0],j=e[1],k=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,fe(h,function(a){a.r=+k(a.value)}),fe(h,ze),d){var l=d*(b?1:Math.max(2*h.r/i,2*h.r/j))/2;fe(h,function(a){a.r+=l}),fe(h,ze),fe(h,function(a){a.r-=l})}return Ce(h,i/2,j/2,b?1:1/Math.max(2*h.r/i,2*h.r/j)),g}var b,c=hg.layout.hierarchy().sort(ve),d=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(c){return arguments.length?(b=null==c||"function"==typeof c?c:+c,a):b},a.padding=function(b){return arguments.length?(d=+b,a):d},de(a,c)},hg.layout.tree=function(){function a(a,e){var k=g.call(this,a,e),l=k[0],m=b(l);if(fe(m,c),m.parent.m=-m.z,ee(m,d),j)ee(l,f);else{var n=l,o=l,p=l;ee(l,function(a){a.x<n.x&&(n=a),a.x>o.x&&(o=a),a.depth>p.depth&&(p=a)});var q=h(n,o)/2-n.x,r=i[0]/(o.x+h(o,n)/2+q),s=i[1]/(p.depth||1);ee(l,function(a){a.x=(a.x+q)*r,a.y=a.depth*s})}return k}function b(a){for(var b,c={A:null,children:[a]},d=[c];null!=(b=d.pop());)for(var e,f=b.children,g=0,h=f.length;g<h;++g)d.push((f[g]=e={_:f[g],parent:b,children:(e=f[g].children)&&e.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:g}).a=e);return c.children[0]}function c(a){var b=a.children,c=a.parent.children,d=a.i?c[a.i-1]:null;if(b.length){Ie(a);var f=(b[0].z+b[b.length-1].z)/2;d?(a.z=d.z+h(a._,d._),a.m=a.z-f):a.z=f}else d&&(a.z=d.z+h(a._,d._));a.parent.A=e(a,d,a.parent.A||c[0])}function d(a){a._.x=a.z+a.parent.m,a.m+=a.parent.m}function e(a,b,c){if(b){for(var d,e=a,f=a,g=b,i=e.parent.children[0],j=e.m,k=f.m,l=g.m,m=i.m;g=Ge(g),e=Fe(e),g&&e;)i=Fe(i),f=Ge(f),f.a=a,d=g.z+l-e.z-j+h(g._,e._),d>0&&(He(Je(g,a,c),a,d),j+=d,k+=d),l+=g.m,j+=e.m,m+=i.m,k+=f.m;g&&!Ge(f)&&(f.t=g,f.m+=l-k),e&&!Fe(i)&&(i.t=e,i.m+=j-m,c=a)}return c}function f(a){a.x*=i[0],a.y=a.depth*i[1]}var g=hg.layout.hierarchy().sort(null).value(null),h=Ee,i=[1,1],j=null;return a.separation=function(b){return arguments.length?(h=b,a):h},a.size=function(b){return arguments.length?(j=null==(i=b)?f:null,a):j?null:i},a.nodeSize=function(b){return arguments.length?(j=null==(i=b)?null:f,a):j?i:null},de(a,g)},hg.layout.cluster=function(){function a(a,f){var g,h=b.call(this,a,f),i=h[0],j=0;fe(i,function(a){var b=a.children;b&&b.length?(a.x=Le(b),a.y=Ke(b)):(a.x=g?j+=c(a,g):0,a.y=0,g=a)});var k=Me(i),l=Ne(i),m=k.x-c(k,l)/2,n=l.x+c(l,k)/2;return fe(i,e?function(a){a.x=(a.x-i.x)*d[0],a.y=(i.y-a.y)*d[1]}:function(a){a.x=(a.x-m)/(n-m)*d[0],a.y=(1-(i.y?a.y/i.y:1))*d[1]}),h}var b=hg.layout.hierarchy().sort(null).value(null),c=Ee,d=[1,1],e=!1;return a.separation=function(b){return arguments.length?(c=b,a):c},a.size=function(b){return arguments.length?(e=null==(d=b),a):e?null:d},a.nodeSize=function(b){return arguments.length?(e=null!=(d=b),a):e?d:null},de(a,b)},hg.layout.treemap=function(){function a(a,b){for(var c,d,e=-1,f=a.length;++e<f;)d=(c=a[e]).value*(b<0?0:b),c.area=isNaN(d)||d<=0?0:d}function b(c){var f=c.children;if(f&&f.length){var g,h,i,j=l(c),k=[],m=f.slice(),o=1/0,p="slice"===n?j.dx:"dice"===n?j.dy:"slice-dice"===n?1&c.depth?j.dy:j.dx:Math.min(j.dx,j.dy);for(a(m,j.dx*j.dy/c.value),k.area=0;(i=m.length)>0;)k.push(g=m[i-1]),k.area+=g.area,"squarify"!==n||(h=d(k,p))<=o?(m.pop(),o=h):(k.area-=k.pop().area,e(k,p,j,!1),p=Math.min(j.dx,j.dy),k.length=k.area=0,o=1/0);k.length&&(e(k,p,j,!0),k.length=k.area=0),f.forEach(b)}}function c(b){var d=b.children;if(d&&d.length){var f,g=l(b),h=d.slice(),i=[];for(a(h,g.dx*g.dy/b.value),i.area=0;f=h.pop();)i.push(f),i.area+=f.area,null!=f.z&&(e(i,f.z?g.dx:g.dy,g,!h.length),i.length=i.area=0);d.forEach(c)}}function d(a,b){for(var c,d=a.area,e=0,f=1/0,g=-1,h=a.length;++g<h;)(c=a[g].area)&&(c<f&&(f=c),c>e&&(e=c));return d*=d,b*=b,d?Math.max(b*e*o/d,d/(b*f*o)):1/0}function e(a,b,c,d){var e,f=-1,g=a.length,h=c.x,j=c.y,k=b?i(a.area/b):0;if(b==c.dx){for((d||k>c.dy)&&(k=c.dy);++f<g;)e=a[f],e.x=h,e.y=j,e.dy=k,h+=e.dx=Math.min(c.x+c.dx-h,k?i(e.area/k):0);e.z=!0,e.dx+=c.x+c.dx-h,c.y+=k,c.dy-=k}else{for((d||k>c.dx)&&(k=c.dx);++f<g;)e=a[f],e.x=h,e.y=j,e.dx=k,j+=e.dy=Math.min(c.y+c.dy-j,k?i(e.area/k):0);e.z=!1,e.dy+=c.y+c.dy-j,c.x+=k,c.dx-=k}}function f(d){var e=g||h(d),f=e[0];return f.x=f.y=0,f.value?(f.dx=j[0],f.dy=j[1]):f.dx=f.dy=0,g&&h.revalue(f),a([f],f.dx*f.dy/f.value),(g?c:b)(f),m&&(g=e),e}var g,h=hg.layout.hierarchy(),i=Math.round,j=[1,1],k=null,l=Oe,m=!1,n="squarify",o=.5*(1+Math.sqrt(5));return f.size=function(a){return arguments.length?(j=a,f):j},f.padding=function(a){function b(b){var c=a.call(f,b,b.depth);return null==c?Oe(b):Pe(b,"number"==typeof c?[c,c,c,c]:c)}function c(b){return Pe(b,a)}if(!arguments.length)return k;var d;return l=null==(k=a)?Oe:"function"==(d=typeof a)?b:"number"===d?(a=[a,a,a,a],c):c,f},f.round=function(a){return arguments.length?(i=a?Math.round:Number,f):i!=Number},f.sticky=function(a){return arguments.length?(m=a,g=null,f):m},f.ratio=function(a){return arguments.length?(o=a,f):o},f.mode=function(a){return arguments.length?(n=a+"",f):n},de(f,h)},hg.random={normal:function(a,b){var c=arguments.length;return c<2&&(b=1),c<1&&(a=0),function(){var c,d,e;do c=2*Math.random()-1,d=2*Math.random()-1,e=c*c+d*d;while(!e||e>1);return a+b*c*Math.sqrt(-2*Math.log(e)/e)}},logNormal:function(){var a=hg.random.normal.apply(hg,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=hg.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,c=0;c<a;c++)b+=Math.random();return b}}},hg.scale={};var vi={floor:s,ceil:s};hg.scale.linear=function(){return We([0,1],[0,1],sd,!1)};var wi={s:1,g:1,p:1,r:1,e:1};hg.scale.log=function(){return cf(hg.scale.linear().domain([0,1]),10,!0,[1,10])};var xi=hg.format(".0e"),yi={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};hg.scale.pow=function(){return df(hg.scale.linear(),1,[0,1])},hg.scale.sqrt=function(){return hg.scale.pow().exponent(.5)},hg.scale.ordinal=function(){return ff([],{t:"range",a:[[]]})},hg.scale.category10=function(){return hg.scale.ordinal().range(zi)},hg.scale.category20=function(){return hg.scale.ordinal().range(Ai)},hg.scale.category20b=function(){return hg.scale.ordinal().range(Bi)},hg.scale.category20c=function(){return hg.scale.ordinal().range(Ci)};var zi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ta),Ai=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ta),Bi=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ta),Ci=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ta);
    hg.scale.quantile=function(){return gf([],[])},hg.scale.quantize=function(){return hf(0,1,[0,1])},hg.scale.threshold=function(){return jf([.5],[0,1])},hg.scale.identity=function(){return kf([0,1])},hg.svg={},hg.svg.arc=function(){function a(){var a=Math.max(0,+c.apply(this,arguments)),j=Math.max(0,+d.apply(this,arguments)),k=g.apply(this,arguments)-Ng,l=h.apply(this,arguments)-Ng,m=Math.abs(l-k),n=k>l?0:1;if(j<a&&(o=j,j=a,a=o),m>=Mg)return b(j,n)+(a?b(a,1-n):"")+"Z";var o,p,q,r,s,t,u,v,w,x,y,z,A=0,B=0,C=[];if((r=(+i.apply(this,arguments)||0)/2)&&(q=f===Di?Math.sqrt(a*a+j*j):+f.apply(this,arguments),n||(B*=-1),j&&(B=ba(q/j*Math.sin(r))),a&&(A=ba(q/a*Math.sin(r)))),j){s=j*Math.cos(k+B),t=j*Math.sin(k+B),u=j*Math.cos(l-B),v=j*Math.sin(l-B);var D=Math.abs(l-k-2*B)<=Kg?0:1;if(B&&rf(s,t,u,v)===n^D){var E=(k+l)/2;s=j*Math.cos(E),t=j*Math.sin(E),u=v=null}}else s=t=0;if(a){w=a*Math.cos(l-A),x=a*Math.sin(l-A),y=a*Math.cos(k+A),z=a*Math.sin(k+A);var F=Math.abs(k-l+2*A)<=Kg?0:1;if(A&&rf(w,x,y,z)===1-n^F){var G=(k+l)/2;w=a*Math.cos(G),x=a*Math.sin(G),y=z=null}}else w=x=0;if(m>Ig&&(o=Math.min(Math.abs(j-a)/2,+e.apply(this,arguments)))>.001){p=a<j^n?0:1;var H=o,I=o;if(m<Kg){var J=null==y?[w,x]:null==u?[s,t]:Hc([s,t],[y,z],[u,v],[w,x]),K=s-J[0],L=t-J[1],M=u-J[0],N=v-J[1],O=1/Math.sin(Math.acos((K*M+L*N)/(Math.sqrt(K*K+L*L)*Math.sqrt(M*M+N*N)))/2),P=Math.sqrt(J[0]*J[0]+J[1]*J[1]);I=Math.min(o,(a-P)/(O-1)),H=Math.min(o,(j-P)/(O+1))}if(null!=u){var Q=sf(null==y?[w,x]:[y,z],[s,t],j,H,n),R=sf([u,v],[w,x],j,H,n);o===H?C.push("M",Q[0],"A",H,",",H," 0 0,",p," ",Q[1],"A",j,",",j," 0 ",1-n^rf(Q[1][0],Q[1][1],R[1][0],R[1][1]),",",n," ",R[1],"A",H,",",H," 0 0,",p," ",R[0]):C.push("M",Q[0],"A",H,",",H," 0 1,",p," ",R[0])}else C.push("M",s,",",t);if(null!=y){var S=sf([s,t],[y,z],a,-I,n),T=sf([w,x],null==u?[s,t]:[u,v],a,-I,n);o===I?C.push("L",T[0],"A",I,",",I," 0 0,",p," ",T[1],"A",a,",",a," 0 ",n^rf(T[1][0],T[1][1],S[1][0],S[1][1]),",",1-n," ",S[1],"A",I,",",I," 0 0,",p," ",S[0]):C.push("L",T[0],"A",I,",",I," 0 0,",p," ",S[0])}else C.push("L",w,",",x)}else C.push("M",s,",",t),null!=u&&C.push("A",j,",",j," 0 ",D,",",n," ",u,",",v),C.push("L",w,",",x),null!=y&&C.push("A",a,",",a," 0 ",F,",",1-n," ",y,",",z);return C.push("Z"),C.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var c=mf,d=nf,e=lf,f=Di,g=of,h=pf,i=qf;return a.innerRadius=function(b){return arguments.length?(c=Aa(b),a):c},a.outerRadius=function(b){return arguments.length?(d=Aa(b),a):d},a.cornerRadius=function(b){return arguments.length?(e=Aa(b),a):e},a.padRadius=function(b){return arguments.length?(f=b==Di?Di:Aa(b),a):f},a.startAngle=function(b){return arguments.length?(g=Aa(b),a):g},a.endAngle=function(b){return arguments.length?(h=Aa(b),a):h},a.padAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.centroid=function(){var a=(+c.apply(this,arguments)+ +d.apply(this,arguments))/2,b=(+g.apply(this,arguments)+ +h.apply(this,arguments))/2-Ng;return[Math.cos(b)*a,Math.sin(b)*a]},a};var Di="auto";hg.svg.line=function(){return tf(s)};var Ei=hg.map({linear:uf,"linear-closed":vf,step:wf,"step-before":xf,"step-after":yf,basis:Ef,"basis-open":Ff,"basis-closed":Gf,bundle:Hf,cardinal:Bf,"cardinal-open":zf,"cardinal-closed":Af,monotone:Nf});Ei.forEach(function(a,b){b.key=a,b.closed=/-closed$/.test(a)});var Fi=[0,2/3,1/3,0],Gi=[0,1/3,2/3,0],Hi=[0,1/6,2/3,1/6];hg.svg.line.radial=function(){var a=tf(Of);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a},xf.reverse=yf,yf.reverse=xf,hg.svg.area=function(){return Pf(s)},hg.svg.area.radial=function(){var a=Pf(Of);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a},hg.svg.chord=function(){function a(a,h){var i=b(this,f,a,h),j=b(this,g,a,h);return"M"+i.p0+d(i.r,i.p1,i.a1-i.a0)+(c(i,j)?e(i.r,i.p1,i.r,i.p0):e(i.r,i.p1,j.r,j.p0)+d(j.r,j.p1,j.a1-j.a0)+e(j.r,j.p1,i.r,i.p0))+"Z"}function b(a,b,c,d){var e=b.call(a,c,d),f=h.call(a,e,d),g=i.call(a,e,d)-Ng,k=j.call(a,e,d)-Ng;return{r:f,a0:g,a1:k,p0:[f*Math.cos(g),f*Math.sin(g)],p1:[f*Math.cos(k),f*Math.sin(k)]}}function c(a,b){return a.a0==b.a0&&a.a1==b.a1}function d(a,b,c){return"A"+a+","+a+" 0 "+ +(c>Kg)+",1 "+b}function e(a,b,c,d){return"Q 0,0 "+d}var f=sc,g=tc,h=Qf,i=of,j=pf;return a.radius=function(b){return arguments.length?(h=Aa(b),a):h},a.source=function(b){return arguments.length?(f=Aa(b),a):f},a.target=function(b){return arguments.length?(g=Aa(b),a):g},a.startAngle=function(b){return arguments.length?(i=Aa(b),a):i},a.endAngle=function(b){return arguments.length?(j=Aa(b),a):j},a},hg.svg.diagonal=function(){function a(a,e){var f=b.call(this,a,e),g=c.call(this,a,e),h=(f.y+g.y)/2,i=[f,{x:f.x,y:h},{x:g.x,y:h},g];return i=i.map(d),"M"+i[0]+"C"+i[1]+" "+i[2]+" "+i[3]}var b=sc,c=tc,d=Rf;return a.source=function(c){return arguments.length?(b=Aa(c),a):b},a.target=function(b){return arguments.length?(c=Aa(b),a):c},a.projection=function(b){return arguments.length?(d=b,a):d},a},hg.svg.diagonal.radial=function(){var a=hg.svg.diagonal(),b=Rf,c=a.projection;return a.projection=function(a){return arguments.length?c(Sf(b=a)):b},a},hg.svg.symbol=function(){function a(a,d){return(Ii.get(b.call(this,a,d))||Vf)(c.call(this,a,d))}var b=Uf,c=Tf;return a.type=function(c){return arguments.length?(b=Aa(c),a):b},a.size=function(b){return arguments.length?(c=Aa(b),a):c},a};var Ii=hg.map({circle:Vf,cross:function(a){var b=Math.sqrt(a/5)/2;return"M"+-3*b+","+-b+"H"+-b+"V"+-3*b+"H"+b+"V"+-b+"H"+3*b+"V"+b+"H"+b+"V"+3*b+"H"+-b+"V"+b+"H"+-3*b+"Z"},diamond:function(a){var b=Math.sqrt(a/(2*Ki)),c=b*Ki;return"M0,"+-b+"L"+c+",0 0,"+b+" "+-c+",0Z"},square:function(a){var b=Math.sqrt(a)/2;return"M"+-b+","+-b+"L"+b+","+-b+" "+b+","+b+" "+-b+","+b+"Z"},"triangle-down":function(a){var b=Math.sqrt(a/Ji),c=b*Ji/2;return"M0,"+c+"L"+b+","+-c+" "+-b+","+-c+"Z"},"triangle-up":function(a){var b=Math.sqrt(a/Ji),c=b*Ji/2;return"M0,"+-c+"L"+b+","+c+" "+-b+","+c+"Z"}});hg.svg.symbolTypes=Ii.keys();var Ji=Math.sqrt(3),Ki=Math.tan(30*Og);Ag.transition=function(a){for(var b,c,d=Li||++Pi,e=$f(a),f=[],g=Mi||{time:Date.now(),ease:zd,delay:0,duration:250},h=-1,i=this.length;++h<i;){f.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(c=j[k])&&_f(c,k,e,d,g),b.push(c)}return Xf(f,e,d)},Ag.interrupt=function(a){return this.each(null==a?Ni:Wf($f(a)))};var Li,Mi,Ni=Wf($f()),Oi=[],Pi=0;Oi.call=Ag.call,Oi.empty=Ag.empty,Oi.node=Ag.node,Oi.size=Ag.size,hg.transition=function(a,b){return a&&a.transition?Li?a.transition(b):a:hg.selection().transition(a)},hg.transition.prototype=Oi,Oi.select=function(a){var b,c,d,e=this.id,f=this.namespace,g=[];a=C(a);for(var h=-1,i=this.length;++h<i;){g.push(b=[]);for(var j=this[h],k=-1,l=j.length;++k<l;)(d=j[k])&&(c=a.call(d,d.__data__,k,h))?("__data__"in d&&(c.__data__=d.__data__),_f(c,k,f,e,d[f][e]),b.push(c)):b.push(null)}return Xf(g,f,e)},Oi.selectAll=function(a){var b,c,d,e,f,g=this.id,h=this.namespace,i=[];a=D(a);for(var j=-1,k=this.length;++j<k;)for(var l=this[j],m=-1,n=l.length;++m<n;)if(d=l[m]){f=d[h][g],c=a.call(d,d.__data__,m,j),i.push(b=[]);for(var o=-1,p=c.length;++o<p;)(e=c[o])&&_f(e,o,h,g,f),b.push(e)}return Xf(i,h,g)},Oi.filter=function(a){var b,c,d,e=[];"function"!=typeof a&&(a=P(a));for(var f=0,g=this.length;f<g;f++){e.push(b=[]);for(var c=this[f],h=0,i=c.length;h<i;h++)(d=c[h])&&a.call(d,d.__data__,h,f)&&b.push(d)}return Xf(e,this.namespace,this.id)},Oi.tween=function(a,b){var c=this.id,d=this.namespace;return arguments.length<2?this.node()[d][c].tween.get(a):R(this,null==b?function(b){b[d][c].tween.remove(a)}:function(e){e[d][c].tween.set(a,b)})},Oi.attr=function(a,b){function c(){this.removeAttribute(h)}function d(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?c:(a+="",function(){var b,c=this.getAttribute(h);return c!==a&&(b=g(c,a),function(a){this.setAttribute(h,b(a))})})}function f(a){return null==a?d:(a+="",function(){var b,c=this.getAttributeNS(h.space,h.local);return c!==a&&(b=g(c,a),function(a){this.setAttributeNS(h.space,h.local,b(a))})})}if(arguments.length<2){for(b in a)this.attr(b,a[b]);return this}var g="transform"==a?Ud:sd,h=hg.ns.qualify(a);return Yf(this,"attr."+a,b,h.local?f:e)},Oi.attrTween=function(a,b){function c(a,c){var d=b.call(this,a,c,this.getAttribute(e));return d&&function(a){this.setAttribute(e,d(a))}}function d(a,c){var d=b.call(this,a,c,this.getAttributeNS(e.space,e.local));return d&&function(a){this.setAttributeNS(e.space,e.local,d(a))}}var e=hg.ns.qualify(a);return this.tween("attr."+a,e.local?d:c)},Oi.style=function(a,c,d){function e(){this.style.removeProperty(a)}function f(c){return null==c?e:(c+="",function(){var e,f=b(this).getComputedStyle(this,null).getPropertyValue(a);return f!==c&&(e=sd(f,c),function(b){this.style.setProperty(a,e(b),d)})})}var g=arguments.length;if(g<3){if("string"!=typeof a){g<2&&(c="");for(d in a)this.style(d,a[d],c);return this}d=""}return Yf(this,"style."+a,c,f)},Oi.styleTween=function(a,c,d){function e(e,f){var g=c.call(this,e,f,b(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}}return arguments.length<3&&(d=""),this.tween("style."+a,e)},Oi.text=function(a){return Yf(this,"text",a,Zf)},Oi.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;this[a].count<2&&(b=this.parentNode)&&b.removeChild(this)})},Oi.ease=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].ease:("function"!=typeof a&&(a=hg.ease.apply(hg,arguments)),R(this,function(d){d[c][b].ease=a}))},Oi.delay=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].delay:R(this,"function"==typeof a?function(d,e,f){d[c][b].delay=+a.call(d,d.__data__,e,f)}:(a=+a,function(d){d[c][b].delay=a}))},Oi.duration=function(a){var b=this.id,c=this.namespace;return arguments.length<1?this.node()[c][b].duration:R(this,"function"==typeof a?function(d,e,f){d[c][b].duration=Math.max(1,a.call(d,d.__data__,e,f))}:(a=Math.max(1,a),function(d){d[c][b].duration=a}))},Oi.each=function(a,b){var c=this.id,d=this.namespace;if(arguments.length<2){var e=Mi,f=Li;try{Li=c,R(this,function(b,e,f){Mi=b[d][c],a.call(b,b.__data__,e,f)})}finally{Mi=e,Li=f}}else R(this,function(e){var f=e[d][c];(f.event||(f.event=hg.dispatch("start","end","interrupt"))).on(a,b)});return this},Oi.transition=function(){for(var a,b,c,d,e=this.id,f=++Pi,g=this.namespace,h=[],i=0,j=this.length;i<j;i++){h.push(a=[]);for(var b=this[i],k=0,l=b.length;k<l;k++)(c=b[k])&&(d=c[g][e],_f(c,k,g,f,{time:d.time,ease:d.ease,delay:d.delay+d.duration,duration:d.duration})),a.push(c)}return Xf(h,g,f)},hg.svg.axis=function(){function a(a){a.each(function(){var a,j=hg.select(this),k=this.__chart__||c,l=this.__chart__=c.copy(),m=null==i?l.ticks?l.ticks.apply(l,h):l.domain():i,n=null==b?l.tickFormat?l.tickFormat.apply(l,h):s:b,o=j.selectAll(".tick").data(m,l),p=o.enter().insert("g",".domain").attr("class","tick").style("opacity",Ig),q=hg.transition(o.exit()).style("opacity",Ig).remove(),r=hg.transition(o.order()).style("opacity",1),t=Math.max(e,0)+g,u=Re(l),v=j.selectAll(".domain").data([0]),w=(v.enter().append("path").attr("class","domain"),hg.transition(v));p.append("line"),p.append("text");var x,y,z,A,B=p.select("line"),C=r.select("line"),D=o.select("text").text(n),E=p.select("text"),F=r.select("text"),G="top"===d||"left"===d?-1:1;if("bottom"===d||"top"===d?(a=ag,x="x",z="y",y="x2",A="y2",D.attr("dy",G<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+u[0]+","+G*f+"V0H"+u[1]+"V"+G*f)):(a=bg,x="y",z="x",y="y2",A="x2",D.attr("dy",".32em").style("text-anchor",G<0?"end":"start"),w.attr("d","M"+G*f+","+u[0]+"H0V"+u[1]+"H"+G*f)),B.attr(A,G*e),E.attr(z,G*t),C.attr(y,0).attr(A,G*e),F.attr(x,0).attr(z,G*t),l.rangeBand){var H=l,I=H.rangeBand()/2;k=l=function(a){return H(a)+I}}else k.rangeBand?k=l:q.call(a,l,k);p.call(a,k,l),r.call(a,l,l)})}var b,c=hg.scale.linear(),d=Qi,e=6,f=6,g=3,h=[10],i=null;return a.scale=function(b){return arguments.length?(c=b,a):c},a.orient=function(b){return arguments.length?(d=b in Ri?b+"":Qi,a):d},a.ticks=function(){return arguments.length?(h=jg(arguments),a):h},a.tickValues=function(b){return arguments.length?(i=b,a):i},a.tickFormat=function(c){return arguments.length?(b=c,a):b},a.tickSize=function(b){var c=arguments.length;return c?(e=+b,f=+arguments[c-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(f=+b,a):f},a.tickPadding=function(b){return arguments.length?(g=+b,a):g},a.tickSubdivide=function(){return arguments.length&&a},a};var Qi="bottom",Ri={top:1,right:1,bottom:1,left:1};hg.svg.brush=function(){function a(b){b.each(function(){var b=hg.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",f).on("touchstart.brush",f),g=b.selectAll(".background").data([0]);g.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),b.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var h=b.selectAll(".resize").data(p,s);h.exit().remove(),h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Si[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),h.style("display",a.empty()?"none":null);var i,l=hg.transition(b),m=hg.transition(g);j&&(i=Re(j),m.attr("x",i[0]).attr("width",i[1]-i[0]),d(l)),k&&(i=Re(k),m.attr("y",i[0]).attr("height",i[1]-i[0]),e(l)),c(l)})}function c(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+l[+/e$/.test(a)]+","+m[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",l[0]),a.selectAll(".extent,.n>rect,.s>rect").attr("width",l[1]-l[0])}function e(a){a.select(".extent").attr("y",m[0]),a.selectAll(".extent,.e>rect,.w>rect").attr("height",m[1]-m[0])}function f(){function f(){32==hg.event.keyCode&&(D||(t=null,F[0]-=l[1],F[1]-=m[1],D=2),y())}function p(){32==hg.event.keyCode&&2==D&&(F[0]+=l[1],F[1]+=m[1],D=0,y())}function q(){var a=hg.mouse(v),b=!1;u&&(a[0]+=u[0],a[1]+=u[1]),D||(hg.event.altKey?(t||(t=[(l[0]+l[1])/2,(m[0]+m[1])/2]),F[0]=l[+(a[0]<t[0])],F[1]=m[+(a[1]<t[1])]):t=null),B&&r(a,j,0)&&(d(z),b=!0),C&&r(a,k,1)&&(e(z),b=!0),b&&(c(z),x({type:"brush",mode:D?"move":"resize"}))}function r(a,b,c){var d,e,f=Re(b),i=f[0],j=f[1],k=F[c],p=c?m:l,q=p[1]-p[0];if(D&&(i-=k,j-=q+k),d=(c?o:n)?Math.max(i,Math.min(j,a[c])):a[c],D?e=(d+=k)+q:(t&&(k=Math.max(i,Math.min(j,2*t[c]-d))),k<d?(e=d,d=k):e=k),p[0]!=d||p[1]!=e)return c?h=null:g=null,p[0]=d,p[1]=e,!0}function s(){q(),z.style("pointer-events","all").selectAll(".resize").style("display",a.empty()?"none":null),hg.select("body").style("cursor",null),G.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),x({type:"brushend"})}var t,u,v=this,w=hg.select(hg.event.target),x=i.of(v,arguments),z=hg.select(v),A=w.datum(),B=!/^(n|s)$/.test(A)&&j,C=!/^(e|w)$/.test(A)&&k,D=w.classed("extent"),E=X(v),F=hg.mouse(v),G=hg.select(b(v)).on("keydown.brush",f).on("keyup.brush",p);if(hg.event.changedTouches?G.on("touchmove.brush",q).on("touchend.brush",s):G.on("mousemove.brush",q).on("mouseup.brush",s),z.interrupt().selectAll("*").interrupt(),D)F[0]=l[0]-F[0],F[1]=m[0]-F[1];else if(A){var H=+/w$/.test(A),I=+/^n/.test(A);u=[l[1-H]-F[0],m[1-I]-F[1]],F[0]=l[H],F[1]=m[I]}else hg.event.altKey&&(t=F.slice());z.style("pointer-events","none").selectAll(".resize").style("display",null),hg.select("body").style("cursor",w.style("cursor")),x({type:"brushstart"}),q()}var g,h,i=A(a,"brushstart","brush","brushend"),j=null,k=null,l=[0,0],m=[0,0],n=!0,o=!0,p=Ti[0];return a.event=function(a){a.each(function(){var a=i.of(this,arguments),b={x:l,y:m,i:g,j:h},c=this.__chart__||b;this.__chart__=b,Li?hg.select(this).transition().each("start.brush",function(){g=c.i,h=c.j,l=c.x,m=c.y,a({type:"brushstart"})}).tween("brush:brush",function(){var c=td(l,b.x),d=td(m,b.y);return g=h=null,function(e){l=b.x=c(e),m=b.y=d(e),a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i,h=b.j,a({type:"brush",mode:"resize"}),a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(j=b,p=Ti[!j<<1|!k],a):j},a.y=function(b){return arguments.length?(k=b,p=Ti[!j<<1|!k],a):k},a.clamp=function(b){return arguments.length?(j&&k?(n=!!b[0],o=!!b[1]):j?n=!!b:k&&(o=!!b),a):j&&k?[n,o]:j?n:k?o:null},a.extent=function(b){var c,d,e,f,i;return arguments.length?(j&&(c=b[0],d=b[1],k&&(c=c[0],d=d[0]),g=[c,d],j.invert&&(c=j(c),d=j(d)),d<c&&(i=c,c=d,d=i),c==l[0]&&d==l[1]||(l=[c,d])),k&&(e=b[0],f=b[1],j&&(e=e[1],f=f[1]),h=[e,f],k.invert&&(e=k(e),f=k(f)),f<e&&(i=e,e=f,f=i),e==m[0]&&f==m[1]||(m=[e,f])),a):(j&&(g?(c=g[0],d=g[1]):(c=l[0],d=l[1],j.invert&&(c=j.invert(c),d=j.invert(d)),d<c&&(i=c,c=d,d=i))),k&&(h?(e=h[0],f=h[1]):(e=m[0],f=m[1],k.invert&&(e=k.invert(e),f=k.invert(f)),f<e&&(i=e,e=f,f=i))),j&&k?[[c,e],[d,f]]:j?[c,d]:k&&[e,f])},a.clear=function(){return a.empty()||(l=[0,0],m=[0,0],g=h=null),a},a.empty=function(){return!!j&&l[0]==l[1]||!!k&&m[0]==m[1]},hg.rebind(a,i,"on")};var Si={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ti=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ui=lh.format=rh.timeFormat,Vi=Ui.utc,Wi=Vi("%Y-%m-%dT%H:%M:%S.%LZ");Ui.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?cg:Wi,cg.parse=function(a){var b=new Date(a);return isNaN(b)?null:b},cg.toString=Wi.toString,lh.second=Oa(function(a){return new mh(1e3*Math.floor(a/1e3))},function(a,b){a.setTime(a.getTime()+1e3*Math.floor(b))},function(a){return a.getSeconds()}),lh.seconds=lh.second.range,lh.seconds.utc=lh.second.utc.range,lh.minute=Oa(function(a){return new mh(6e4*Math.floor(a/6e4))},function(a,b){a.setTime(a.getTime()+6e4*Math.floor(b))},function(a){return a.getMinutes()}),lh.minutes=lh.minute.range,lh.minutes.utc=lh.minute.utc.range,lh.hour=Oa(function(a){var b=a.getTimezoneOffset()/60;return new mh(36e5*(Math.floor(a/36e5-b)+b))},function(a,b){a.setTime(a.getTime()+36e5*Math.floor(b))},function(a){return a.getHours()}),lh.hours=lh.hour.range,lh.hours.utc=lh.hour.utc.range,lh.month=Oa(function(a){return a=lh.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()}),lh.months=lh.month.range,lh.months.utc=lh.month.utc.range;var Xi=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Yi=[[lh.second,1],[lh.second,5],[lh.second,15],[lh.second,30],[lh.minute,1],[lh.minute,5],[lh.minute,15],[lh.minute,30],[lh.hour,1],[lh.hour,3],[lh.hour,6],[lh.hour,12],[lh.day,1],[lh.day,2],[lh.week,1],[lh.month,1],[lh.month,3],[lh.year,1]],Zi=Ui.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",Db]]),$i={range:function(a,b,c){return hg.range(Math.ceil(a/c)*c,+b,c).map(eg)},floor:s,ceil:s};Yi.year=lh.year,lh.scale=function(){return dg(hg.scale.linear(),Yi,Zi)};var _i=Yi.map(function(a){return[a[0].utc,a[1]]}),aj=Vi.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",Db]]);_i.year=lh.year.utc,lh.scale.utc=function(){return dg(hg.scale.linear(),_i,aj)},hg.text=Ba(function(a){return a.responseText}),hg.json=function(a,b){return Ca(a,"application/json",fg,b)},hg.html=function(a,b){return Ca(a,"text/html",gg,b)},hg.xml=Ba(function(a){return a.responseXML}),"function"==typeof define&&define.amd?(this.d3=hg,define("d3",hg)):"object"==typeof module&&module.exports?module.exports=hg:this.d3=hg}(),function(a){"use strict";function b(a){this.owner=a}function c(a,b){if(Object.create)b.prototype=Object.create(a.prototype);else{var c=function(){};c.prototype=a.prototype,b.prototype=new c}return b.prototype.constructor=b,b}function d(a){var b=this.internal=new e(this);b.loadConfig(a),b.beforeInit(a),b.init(),b.afterInit(a),function a(b,c,d){Object.keys(b).forEach(function(e){c[e]=b[e].bind(d),Object.keys(b[e]).length>0&&a(b[e],c[e],d)})}(h,this,this)}function e(b){var c=this;c.d3=a.d3?a.d3:"undefined"!=typeof require?require("d3"):void 0,c.api=b,c.config=c.getDefaultConfig(),c.data={},c.cache={},c.axes={}}function f(a){b.call(this,a)}function g(a,b){function c(a,b){a.attr("transform",function(a){return"translate("+Math.ceil(b(a)+u)+", 0)"})}function d(a,b){a.attr("transform",function(a){return"translate(0,"+Math.ceil(b(a))+")"})}function e(a){var b=a[0],c=a[a.length-1];return b<c?[b,c]:[c,b]}function f(a){var b,c,d=[];if(a.ticks)return a.ticks.apply(a,n);for(c=a.domain(),b=Math.ceil(c[0]);b<c[1];b++)d.push(b);return d.length>0&&d[0]>0&&d.unshift(d[0]-(d[1]-d[0])),d}function g(){var a,c=p.copy();return b.isCategory&&(a=p.domain(),c.domain([a[0],a[1]-1])),c}function h(a){var b=m?m(a):a;return"undefined"!=typeof b?b:""}function i(a){if(A)return A;var b={h:11.5,w:5.5};return a.select("text").text(h).each(function(a){var c=this.getBoundingClientRect(),d=h(a),e=c.height,f=d?c.width/d.length:void 0;e&&f&&(b.h=e,b.w=f)}).text(""),A=b,b}function j(c){return b.withoutTransition?c:a.transition(c)}function k(m){m.each(function(){function m(a,c){function d(a,b){f=void 0;for(var h=1;h<b.length;h++)if(" "===b.charAt(h)&&(f=h),e=b.substr(0,h+1),g=U.w*e.length,c<g)return d(a.concat(b.substr(0,f?f:h)),b.slice(f?f+1:h));return a.concat(b)}var e,f,g,i=h(a),j=[];return"[object Array]"===Object.prototype.toString.call(i)?i:((!c||c<=0)&&(c=X?95:b.isCategory?Math.ceil(F(G[1])-F(G[0]))-12:110),d(j,i+""))}function n(a,b){var c=U.h;return 0===b&&(c="left"===q||"right"===q?-((V[a.index]-1)*(U.h/2)-3):".71em"),c}function v(a){var b=p(a)+(o?0:u);return L[0]<b&&b<L[1]?r:0}function w(a){return a?a>0?"start":"end":"middle"}function x(a){return a?"rotate("+a+")":""}function y(a){return a?8*Math.sin(Math.PI*(a/180)):0}function z(a){return a?11.5-2.5*(a/15)*(a>0?1:-1):W}var A,B,C,D=k.g=a.select(this),E=this.__chart__||p,F=this.__chart__=g(),G=t?t:f(F),H=D.selectAll(".tick").data(G,F),I=H.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),J=H.exit().remove(),K=j(H).style("opacity",1),L=p.rangeExtent?p.rangeExtent():e(p.range()),M=D.selectAll(".domain").data([0]),N=(M.enter().append("path").attr("class","domain"),j(M));I.append("line"),I.append("text");var O=I.select("line"),P=K.select("line"),Q=I.select("text"),R=K.select("text");b.isCategory?(u=Math.ceil((F(1)-F(0))/2),B=o?0:u,C=o?u:0):u=B=0;var S,T,U=i(D.select(".tick")),V=[],W=Math.max(r,0)+s,X="left"===q||"right"===q;S=H.select("text"),T=S.selectAll("tspan").data(function(a,c){var d=b.tickMultiline?m(a,b.tickWidth):[].concat(h(a));return V[c]=d.length,d.map(function(a){return{index:c,splitted:a}})}),T.enter().append("tspan"),T.exit().remove(),T.text(function(a){return a.splitted});var Y=b.tickTextRotate;switch(q){case"bottom":A=c,O.attr("y2",r),Q.attr("y",W),P.attr("x1",B).attr("x2",B).attr("y2",v),R.attr("x",0).attr("y",z(Y)).style("text-anchor",w(Y)).attr("transform",x(Y)),T.attr("x",0).attr("dy",n).attr("dx",y(Y)),N.attr("d","M"+L[0]+","+l+"V0H"+L[1]+"V"+l);break;case"top":A=c,O.attr("y2",-r),Q.attr("y",-W),P.attr("x2",0).attr("y2",-r),R.attr("x",0).attr("y",-W),S.style("text-anchor","middle"),T.attr("x",0).attr("dy","0em"),N.attr("d","M"+L[0]+","+-l+"V0H"+L[1]+"V"+-l);break;case"left":A=d,O.attr("x2",-r),Q.attr("x",-W),P.attr("x2",-r).attr("y1",C).attr("y2",C),R.attr("x",-W).attr("y",u),S.style("text-anchor","end"),T.attr("x",-W).attr("dy",n),N.attr("d","M"+-l+","+L[0]+"H0V"+L[1]+"H"+-l);break;case"right":A=d,O.attr("x2",r),Q.attr("x",W),P.attr("x2",r).attr("y2",0),R.attr("x",W).attr("y",0),S.style("text-anchor","start"),T.attr("x",W).attr("dy",n),N.attr("d","M"+l+","+L[0]+"H0V"+L[1]+"H"+l)}if(F.rangeBand){var Z=F,$=Z.rangeBand()/2;E=F=function(a){return Z(a)+$}}else E.rangeBand?E=F:J.call(A,F);I.call(A,E),K.call(A,F)})}var l,m,n,o,p=a.scale.linear(),q="bottom",r=6,s=3,t=null,u=0,v=!0;return b=b||{},l=b.withOuterTick?6:0,k.scale=function(a){return arguments.length?(p=a,k):p},k.orient=function(a){return arguments.length?(q=a in{top:1,right:1,bottom:1,left:1}?a+"":"bottom",k):q},k.tickFormat=function(a){return arguments.length?(m=a,k):m},k.tickCentered=function(a){return arguments.length?(o=a,k):o},k.tickOffset=function(){return u},k.tickInterval=function(){var a,c;return b.isCategory?a=2*u:(c=k.g.select("path.domain").node().getTotalLength()-2*l,a=c/k.g.selectAll("line").size()),a===1/0?0:a},k.ticks=function(){return arguments.length?(n=arguments,k):n},k.tickCulling=function(a){return arguments.length?(v=a,k):v},k.tickValues=function(a){if("function"==typeof a)t=function(){return a(p.domain())};else{if(!arguments.length)return t;t=a}return k},k}var h,i,j,k={version:"0.4.11"};k.generate=function(a){return new d(a)},k.chart={fn:d.prototype,internal:{fn:e.prototype,axis:{fn:f.prototype}}},h=k.chart.fn,i=k.chart.internal.fn,j=k.chart.internal.axis.fn,i.beforeInit=function(){},i.afterInit=function(){},i.init=function(){var a=this,b=a.config;if(a.initParams(),b.data_url)a.convertUrlToData(b.data_url,b.data_mimeType,b.data_headers,b.data_keys,a.initWithData);else if(b.data_json)a.initWithData(a.convertJsonToData(b.data_json,b.data_keys));else if(b.data_rows)a.initWithData(a.convertRowsToData(b.data_rows));else{if(!b.data_columns)throw Error("url or json or rows or columns is required.");a.initWithData(a.convertColumnsToData(b.data_columns))}},i.initParams=function(){var a=this,b=a.d3,c=a.config;a.clipId="c3-"+ +new Date+"-clip",a.clipIdForXAxis=a.clipId+"-xaxis",a.clipIdForYAxis=a.clipId+"-yaxis",a.clipIdForGrid=a.clipId+"-grid",a.clipIdForSubchart=a.clipId+"-subchart",a.clipPath=a.getClipPath(a.clipId),a.clipPathForXAxis=a.getClipPath(a.clipIdForXAxis),a.clipPathForYAxis=a.getClipPath(a.clipIdForYAxis),a.clipPathForGrid=a.getClipPath(a.clipIdForGrid),a.clipPathForSubchart=a.getClipPath(a.clipIdForSubchart),a.dragStart=null,a.dragging=!1,a.flowing=!1,a.cancelClick=!1,a.mouseover=!1,a.transiting=!1,a.color=a.generateColor(),a.levelColor=a.generateLevelColor(),a.dataTimeFormat=c.data_xLocaltime?b.time.format:b.time.format.utc,a.axisTimeFormat=c.axis_x_localtime?b.time.format:b.time.format.utc,a.defaultAxisTimeFormat=a.axisTimeFormat.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%-m/%-d",function(a){return a.getDay()&&1!==a.getDate()}],["%-m/%-d",function(a){return 1!==a.getDate()}],["%-m/%-d",function(a){return a.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),a.hiddenTargetIds=[],a.hiddenLegendIds=[],a.focusedTargetIds=[],a.defocusedTargetIds=[],a.xOrient=c.axis_rotated?"left":"bottom",a.yOrient=c.axis_rotated?c.axis_y_inner?"top":"bottom":c.axis_y_inner?"right":"left",a.y2Orient=c.axis_rotated?c.axis_y2_inner?"bottom":"top":c.axis_y2_inner?"left":"right",a.subXOrient=c.axis_rotated?"left":"bottom",a.isLegendRight="right"===c.legend_position,a.isLegendInset="inset"===c.legend_position,a.isLegendTop="top-left"===c.legend_inset_anchor||"top-right"===c.legend_inset_anchor,a.isLegendLeft="top-left"===c.legend_inset_anchor||"bottom-left"===c.legend_inset_anchor,a.legendStep=0,a.legendItemWidth=0,a.legendItemHeight=0,a.currentMaxTickWidths={x:0,y:0,y2:0},a.rotated_padding_left=30,a.rotated_padding_right=c.axis_rotated&&!c.axis_x_show?0:30,a.rotated_padding_top=5,a.withoutFadeIn={},a.intervalForObserveInserted=void 0,a.axes.subx=b.selectAll([])},i.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},i.initWithData=function(a){var b,c,d=this,e=d.d3,g=d.config,h=!0;d.axis=new f(d),d.initPie&&d.initPie(),d.initBrush&&d.initBrush(),d.initZoom&&d.initZoom(),g.bindto?"function"==typeof g.bindto.node?d.selectChart=g.bindto:d.selectChart=e.select(g.bindto):d.selectChart=e.selectAll([]),d.selectChart.empty()&&(d.selectChart=e.select(document.createElement("div")).style("opacity",0),d.observeInserted(d.selectChart),h=!1),d.selectChart.html("").classed("c3",!0),d.data.xs={},d.data.targets=d.convertDataToTargets(a),g.data_filter&&(d.data.targets=d.data.targets.filter(g.data_filter)),g.data_hide&&d.addHiddenTargetIds(g.data_hide===!0?d.mapToIds(d.data.targets):g.data_hide),g.legend_hide&&d.addHiddenLegendIds(g.legend_hide===!0?d.mapToIds(d.data.targets):g.legend_hide),d.hasType("gauge")&&(g.legend_show=!1),d.updateSizes(),d.updateScales(),d.x.domain(e.extent(d.getXDomain(d.data.targets))),d.y.domain(d.getYDomain(d.data.targets,"y")),d.y2.domain(d.getYDomain(d.data.targets,"y2")),d.subX.domain(d.x.domain()),d.subY.domain(d.y.domain()),d.subY2.domain(d.y2.domain()),d.orgXDomain=d.x.domain(),d.brush&&d.brush.scale(d.subX),g.zoom_enabled&&d.zoom.scale(d.x),d.svg=d.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return g.onmouseover.call(d)}).on("mouseleave",function(){return g.onmouseout.call(d)}),d.config.svg_classname&&d.svg.attr("class",d.config.svg_classname),b=d.svg.append("defs"),d.clipChart=d.appendClip(b,d.clipId),d.clipXAxis=d.appendClip(b,d.clipIdForXAxis),d.clipYAxis=d.appendClip(b,d.clipIdForYAxis),d.clipGrid=d.appendClip(b,d.clipIdForGrid),d.clipSubchart=d.appendClip(b,d.clipIdForSubchart),d.updateSvgSize(),c=d.main=d.svg.append("g").attr("transform",d.getTranslate("main")),d.initSubchart&&d.initSubchart(),d.initTooltip&&d.initTooltip(),d.initLegend&&d.initLegend(),d.initTitle&&d.initTitle(),c.append("text").attr("class",l.text+" "+l.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),d.initRegion(),d.initGrid(),c.append("g").attr("clip-path",d.clipPath).attr("class",l.chart),g.grid_lines_front&&d.initGridLines(),d.initEventRect(),d.initChartElements(),c.insert("rect",g.zoom_privileged?null:"g."+l.regions).attr("class",l.zoomRect).attr("width",d.width).attr("height",d.height).style("opacity",0).on("dblclick.zoom",null),g.axis_x_extent&&d.brush.extent(d.getDefaultExtent()),d.axis.init(),d.updateTargets(d.data.targets),h&&(d.updateDimension(),d.config.oninit.call(d),d.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),d.bindResize(),d.api.element=d.selectChart.node()},i.smoothLines=function(a,b){var c=this;"grid"===b&&a.each(function(){var a=c.d3.select(this),b=a.attr("x1"),d=a.attr("x2"),e=a.attr("y1"),f=a.attr("y2");a.attr({x1:Math.ceil(b),x2:Math.ceil(d),y1:Math.ceil(e),y2:Math.ceil(f)})})},i.updateSizes=function(){var a=this,b=a.config,c=a.legend?a.getLegendHeight():0,d=a.legend?a.getLegendWidth():0,e=a.isLegendRight||a.isLegendInset?0:c,f=a.hasArcType(),g=b.axis_rotated||f?0:a.getHorizontalAxisHeight("x"),h=b.subchart_show&&!f?b.subchart_size_height+g:0;a.currentWidth=a.getCurrentWidth(),a.currentHeight=a.getCurrentHeight(),a.margin=b.axis_rotated?{top:a.getHorizontalAxisHeight("y2")+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),bottom:a.getHorizontalAxisHeight("y")+e+a.getCurrentPaddingBottom(),left:h+(f?0:a.getCurrentPaddingLeft())}:{top:4+a.getCurrentPaddingTop(),right:f?0:a.getCurrentPaddingRight(),
        bottom:g+h+e+a.getCurrentPaddingBottom(),left:f?0:a.getCurrentPaddingLeft()},a.margin2=b.axis_rotated?{top:a.margin.top,right:NaN,bottom:20+e,left:a.rotated_padding_left}:{top:a.currentHeight-h-e,right:NaN,bottom:g+e,left:a.margin.left},a.margin3={top:0,right:NaN,bottom:0,left:0},a.updateSizeForLegend&&a.updateSizeForLegend(c,d),a.width=a.currentWidth-a.margin.left-a.margin.right,a.height=a.currentHeight-a.margin.top-a.margin.bottom,a.width<0&&(a.width=0),a.height<0&&(a.height=0),a.width2=b.axis_rotated?a.margin.left-a.rotated_padding_left-a.rotated_padding_right:a.width,a.height2=b.axis_rotated?a.height:a.currentHeight-a.margin2.top-a.margin2.bottom,a.width2<0&&(a.width2=0),a.height2<0&&(a.height2=0),a.arcWidth=a.width-(a.isLegendRight?d+10:0),a.arcHeight=a.height-(a.isLegendRight?0:10),a.hasType("gauge")&&!b.gauge_fullCircle&&(a.arcHeight+=a.height-a.getGaugeLabelHeight()),a.updateRadius&&a.updateRadius(),a.isLegendRight&&f&&(a.margin3.left=a.arcWidth/2+1.1*a.radiusExpanded)},i.updateTargets=function(a){var b=this;b.updateTargetsForText(a),b.updateTargetsForBar(a),b.updateTargetsForLine(a),b.hasArcType()&&b.updateTargetsForArc&&b.updateTargetsForArc(a),b.updateTargetsForSubchart&&b.updateTargetsForSubchart(a),b.showTargets()},i.showTargets=function(){var a=this;a.svg.selectAll("."+l.target).filter(function(b){return a.isTargetToShow(b.id)}).transition().duration(a.config.transition_duration).style("opacity",1)},i.redraw=function(a,b){var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,x,y,z,A,B,C,D,E,F,G,H=this,I=H.main,J=H.d3,K=H.config,L=H.getShapeIndices(H.isAreaType),M=H.getShapeIndices(H.isBarType),N=H.getShapeIndices(H.isLineType),O=H.hasArcType(),P=H.filterTargetsToShow(H.data.targets),Q=H.xv.bind(H);if(a=a||{},c=w(a,"withY",!0),d=w(a,"withSubchart",!0),e=w(a,"withTransition",!0),h=w(a,"withTransform",!1),i=w(a,"withUpdateXDomain",!1),j=w(a,"withUpdateOrgXDomain",!1),k=w(a,"withTrimXDomain",!0),p=w(a,"withUpdateXAxis",i),m=w(a,"withLegend",!1),n=w(a,"withEventRect",!0),o=w(a,"withDimension",!0),f=w(a,"withTransitionForExit",e),g=w(a,"withTransitionForAxis",e),v=e?K.transition_duration:0,x=f?v:0,y=g?v:0,b=b||H.axis.generateTransitions(y),m&&K.legend_show?H.updateLegend(H.mapToIds(H.data.targets),a,b):o&&H.updateDimension(!0),H.isCategorized()&&0===P.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),P.length?(H.updateXDomain(P,i,j,k),K.axis_x_tick_values||(B=H.axis.updateXAxisTickValues(P))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),K.zoom_rescale&&!a.flow&&(E=H.x.orgDomain()),H.y.domain(H.getYDomain(P,"y",E)),H.y2.domain(H.getYDomain(P,"y2",E)),!K.axis_y_tick_values&&K.axis_y_tick_count&&H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(),K.axis_y_tick_count)),!K.axis_y2_tick_values&&K.axis_y2_tick_count&&H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(),K.axis_y2_tick_count)),H.axis.redraw(b,O),H.axis.updateLabels(e),(i||p)&&P.length)if(K.axis_x_tick_culling&&B){for(C=1;C<B.length;C++)if(B.length/C<K.axis_x_tick_culling_max){D=C;break}H.svg.selectAll("."+l.axisX+" .tick text").each(function(a){var b=B.indexOf(a);b>=0&&J.select(this).style("display",b%D?"none":"block")})}else H.svg.selectAll("."+l.axisX+" .tick text").style("display","block");q=H.generateDrawArea?H.generateDrawArea(L,!1):void 0,r=H.generateDrawBar?H.generateDrawBar(M):void 0,s=H.generateDrawLine?H.generateDrawLine(N,!1):void 0,t=H.generateXYForText(L,M,N,!0),u=H.generateXYForText(L,M,N,!1),c&&(H.subY.domain(H.getYDomain(P,"y")),H.subY2.domain(H.getYDomain(P,"y2"))),H.updateXgridFocus(),I.select("text."+l.text+"."+l.empty).attr("x",H.width/2).attr("y",H.height/2).text(K.data_empty_label_text).transition().style("opacity",P.length?0:1),H.updateGrid(v),H.updateRegion(v),H.updateBar(x),H.updateLine(x),H.updateArea(x),H.updateCircle(),H.hasDataLabel()&&H.updateText(x),H.redrawTitle&&H.redrawTitle(),H.redrawArc&&H.redrawArc(v,x,h),H.redrawSubchart&&H.redrawSubchart(d,b,v,x,L,M,N),I.selectAll("."+l.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),K.interaction_enabled&&!a.flow&&n&&(H.redrawEventRect(),H.updateZoom&&H.updateZoom()),H.updateCircleY(),F=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),G=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),a.flow&&(A=H.generateFlow({targets:P,flow:a.flow,duration:a.flow.duration,drawBar:r,drawLine:s,drawArea:q,cx:F,cy:G,xv:Q,xForText:t,yForText:u})),(v||A)&&H.isTabVisible()?J.transition().duration(v).each(function(){var b=[];[H.redrawBar(r,!0),H.redrawLine(s,!0),H.redrawArea(q,!0),H.redrawCircle(F,G,!0),H.redrawText(t,u,a.flow,!0),H.redrawRegion(!0),H.redrawGrid(!0)].forEach(function(a){a.forEach(function(a){b.push(a)})}),z=H.generateWait(),b.forEach(function(a){z.add(a)})}).call(z,function(){A&&A(),K.onrendered&&K.onrendered.call(H)}):(H.redrawBar(r),H.redrawLine(s),H.redrawArea(q),H.redrawCircle(F,G),H.redrawText(t,u,a.flow),H.redrawRegion(),H.redrawGrid(),K.onrendered&&K.onrendered.call(H)),H.mapToIds(H.data.targets).forEach(function(a){H.withoutFadeIn[a]=!0})},i.updateAndRedraw=function(a){var b,c=this,d=c.config;a=a||{},a.withTransition=w(a,"withTransition",!0),a.withTransform=w(a,"withTransform",!1),a.withLegend=w(a,"withLegend",!1),a.withUpdateXDomain=!0,a.withUpdateOrgXDomain=!0,a.withTransitionForExit=!1,a.withTransitionForTransform=w(a,"withTransitionForTransform",a.withTransition),c.updateSizes(),a.withLegend&&d.legend_show||(b=c.axis.generateTransitions(a.withTransitionForAxis?d.transition_duration:0),c.updateScales(),c.updateSvgSize(),c.transformAll(a.withTransitionForTransform,b)),c.redraw(a,b)},i.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},i.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},i.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},i.isCustomX=function(){var a=this,b=a.config;return!a.isTimeSeries()&&(b.data_x||v(b.data_xs))},i.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},i.getTranslate=function(a){var b,c,d=this,e=d.config;return"main"===a?(b=s(d.margin.left),c=s(d.margin.top)):"context"===a?(b=s(d.margin2.left),c=s(d.margin2.top)):"legend"===a?(b=d.margin3.left,c=d.margin3.top):"x"===a?(b=0,c=e.axis_rotated?0:d.height):"y"===a?(b=0,c=e.axis_rotated?d.height:0):"y2"===a?(b=e.axis_rotated?0:d.width,c=e.axis_rotated?1:0):"subx"===a?(b=0,c=e.axis_rotated?0:d.height2):"arc"===a&&(b=d.arcWidth/2,c=d.arcHeight/2),"translate("+b+","+c+")"},i.initialOpacity=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?1:0},i.initialOpacityForCircle=function(a){return null!==a.value&&this.withoutFadeIn[a.id]?this.opacityForCircle(a):0},i.opacityForCircle=function(a){var b=this.config.point_show?1:0;return m(a.value)?this.isScatterType(a)?.5:b:0},i.opacityForText=function(){return this.hasDataLabel()?1:0},i.xx=function(a){return a?this.x(a.x):null},i.xv=function(a){var b=this,c=a.value;return b.isTimeSeries()?c=b.parseDate(a.value):b.isCategorized()&&"string"==typeof a.value&&(c=b.config.axis_x_categories.indexOf(a.value)),Math.ceil(b.x(c))},i.yv=function(a){var b=this,c=a.axis&&"y2"===a.axis?b.y2:b.y;return Math.ceil(c(a.value))},i.subxx=function(a){return a?this.subX(a.x):null},i.transformMain=function(a,b){var c,d,e,f=this;b&&b.axisX?c=b.axisX:(c=f.main.select("."+l.axisX),a&&(c=c.transition())),b&&b.axisY?d=b.axisY:(d=f.main.select("."+l.axisY),a&&(d=d.transition())),b&&b.axisY2?e=b.axisY2:(e=f.main.select("."+l.axisY2),a&&(e=e.transition())),(a?f.main.transition():f.main).attr("transform",f.getTranslate("main")),c.attr("transform",f.getTranslate("x")),d.attr("transform",f.getTranslate("y")),e.attr("transform",f.getTranslate("y2")),f.main.select("."+l.chartArcs).attr("transform",f.getTranslate("arc"))},i.transformAll=function(a,b){var c=this;c.transformMain(a,b),c.config.subchart_show&&c.transformContext(a,b),c.legend&&c.transformLegend(a)},i.updateSvgSize=function(){var a=this,b=a.svg.select(".c3-brush .background");a.svg.attr("width",a.currentWidth).attr("height",a.currentHeight),a.svg.selectAll(["#"+a.clipId,"#"+a.clipIdForGrid]).select("rect").attr("width",a.width).attr("height",a.height),a.svg.select("#"+a.clipIdForXAxis).select("rect").attr("x",a.getXAxisClipX.bind(a)).attr("y",a.getXAxisClipY.bind(a)).attr("width",a.getXAxisClipWidth.bind(a)).attr("height",a.getXAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForYAxis).select("rect").attr("x",a.getYAxisClipX.bind(a)).attr("y",a.getYAxisClipY.bind(a)).attr("width",a.getYAxisClipWidth.bind(a)).attr("height",a.getYAxisClipHeight.bind(a)),a.svg.select("#"+a.clipIdForSubchart).select("rect").attr("width",a.width).attr("height",b.size()?b.attr("height"):0),a.svg.select("."+l.zoomRect).attr("width",a.width).attr("height",a.height),a.selectChart.style("max-height",a.currentHeight+"px")},i.updateDimension=function(a){var b=this;a||(b.config.axis_rotated?(b.axes.x.call(b.xAxis),b.axes.subx.call(b.subXAxis)):(b.axes.y.call(b.yAxis),b.axes.y2.call(b.y2Axis))),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(!1)},i.observeInserted=function(b){var c,d=this;return"undefined"==typeof MutationObserver?void a.console.error("MutationObserver not defined."):(c=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(c.disconnect(),d.intervalForObserveInserted=a.setInterval(function(){b.node().parentNode&&(a.clearInterval(d.intervalForObserveInserted),d.updateDimension(),d.brush&&d.brush.update(),d.config.oninit.call(d),d.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),b.transition().style("opacity",1))},10))})}),void c.observe(b.node(),{attributes:!0,childList:!0,characterData:!0}))},i.bindResize=function(){var b=this,c=b.config;if(b.resizeFunction=b.generateResize(),b.resizeFunction.add(function(){c.onresize.call(b)}),c.resize_auto&&b.resizeFunction.add(function(){void 0!==b.resizeTimeout&&a.clearTimeout(b.resizeTimeout),b.resizeTimeout=a.setTimeout(function(){delete b.resizeTimeout,b.api.flush()},100)}),b.resizeFunction.add(function(){c.onresized.call(b)}),a.attachEvent)a.attachEvent("onresize",b.resizeFunction);else if(a.addEventListener)a.addEventListener("resize",b.resizeFunction,!1);else{var d=a.onresize;d?d.add&&d.remove||(d=b.generateResize(),d.add(a.onresize)):d=b.generateResize(),d.add(b.resizeFunction),a.onresize=d}},i.generateResize=function(){function a(){b.forEach(function(a){a()})}var b=[];return a.add=function(a){b.push(a)},a.remove=function(a){for(var c=0;c<b.length;c++)if(b[c]===a){b.splice(c,1);break}},a},i.endall=function(a,b){var c=0;a.each(function(){++c}).each("end",function(){--c||b.apply(this,arguments)})},i.generateWait=function(){var a=[],b=function(b,c){var d=setInterval(function(){var b=0;a.forEach(function(a){if(a.empty())return void(b+=1);try{a.transition()}catch(a){b+=1}}),b===a.length&&(clearInterval(d),c&&c())},10)};return b.add=function(b){a.push(b)},b},i.parseDate=function(b){var c,d=this;return b instanceof Date?c=b:"string"==typeof b?c=d.dataTimeFormat(d.config.data_xFormat).parse(b):"number"!=typeof b||isNaN(b)||(c=new Date(+b)),c&&!isNaN(+c)||a.console.error("Failed to parse x '"+b+"' to Date object"),c},i.isTabVisible=function(){var a;return"undefined"!=typeof document.hidden?a="hidden":"undefined"!=typeof document.mozHidden?a="mozHidden":"undefined"!=typeof document.msHidden?a="msHidden":"undefined"!=typeof document.webkitHidden&&(a="webkitHidden"),!document[a]},i.getDefaultConfig=function(){var a={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(a){return a},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(a,b,c,d){return this.getTooltipContent?this.getTooltipContent(a,b,c,d):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(b){a[b]=this.additionalConfig[b]},this),a},i.additionalConfig={},i.loadConfig=function(a){function b(){var a=d.shift();return a&&c&&"object"==typeof c&&a in c?(c=c[a],b()):a?void 0:c}var c,d,e,f=this.config;Object.keys(f).forEach(function(g){c=a,d=g.split("_"),e=b(),q(e)&&(f[g]=e)})},i.getScale=function(a,b,c){return(c?this.d3.time.scale():this.d3.scale.linear()).range([a,b])},i.getX=function(a,b,c,d){var e,f=this,g=f.getScale(a,b,f.isTimeSeries()),h=c?g.domain(c):g;f.isCategorized()?(d=d||function(){return 0},g=function(a,b){var c=h(a)+d(a);return b?c:Math.ceil(c)}):g=function(a,b){var c=h(a);return b?c:Math.ceil(c)};for(e in h)g[e]=h[e];return g.orgDomain=function(){return h.domain()},f.isCategorized()&&(g.domain=function(a){return arguments.length?(h.domain(a),g):(a=this.orgDomain(),[a[0],a[1]+1])}),g},i.getY=function(a,b,c){var d=this.getScale(a,b,this.isTimeSeriesY());return c&&d.domain(c),d},i.getYScale=function(a){return"y2"===this.axis.getId(a)?this.y2:this.y},i.getSubYScale=function(a){return"y2"===this.axis.getId(a)?this.subY2:this.subY},i.updateScales=function(){var a=this,b=a.config,c=!a.x;a.xMin=b.axis_rotated?1:0,a.xMax=b.axis_rotated?a.height:a.width,a.yMin=b.axis_rotated?0:a.height,a.yMax=b.axis_rotated?a.width:1,a.subXMin=a.xMin,a.subXMax=a.xMax,a.subYMin=b.axis_rotated?0:a.height2,a.subYMax=b.axis_rotated?a.width2:1,a.x=a.getX(a.xMin,a.xMax,c?void 0:a.x.orgDomain(),function(){return a.xAxis.tickOffset()}),a.y=a.getY(a.yMin,a.yMax,c?b.axis_y_default:a.y.domain()),a.y2=a.getY(a.yMin,a.yMax,c?b.axis_y2_default:a.y2.domain()),a.subX=a.getX(a.xMin,a.xMax,a.orgXDomain,function(b){return b%1?0:a.subXAxis.tickOffset()}),a.subY=a.getY(a.subYMin,a.subYMax,c?b.axis_y_default:a.subY.domain()),a.subY2=a.getY(a.subYMin,a.subYMax,c?b.axis_y2_default:a.subY2.domain()),a.xAxisTickFormat=a.axis.getXAxisTickFormat(),a.xAxisTickValues=a.axis.getXAxisTickValues(),a.yAxisTickValues=a.axis.getYAxisTickValues(),a.y2AxisTickValues=a.axis.getY2AxisTickValues(),a.xAxis=a.axis.getXAxis(a.x,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.subXAxis=a.axis.getXAxis(a.subX,a.subXOrient,a.xAxisTickFormat,a.xAxisTickValues,b.axis_x_tick_outer),a.yAxis=a.axis.getYAxis(a.y,a.yOrient,b.axis_y_tick_format,a.yAxisTickValues,b.axis_y_tick_outer),a.y2Axis=a.axis.getYAxis(a.y2,a.y2Orient,b.axis_y2_tick_format,a.y2AxisTickValues,b.axis_y2_tick_outer),c||(a.brush&&a.brush.scale(a.subX),b.zoom_enabled&&a.zoom.scale(a.x)),a.updateArc&&a.updateArc()},i.getYDomainMin=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasNegativeValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a<0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&+a>0||(k[d][b]+=+a)});return h.d3.min(Object.keys(k).map(function(a){return h.d3.min(k[a])}))},i.getYDomainMax=function(a){var b,c,d,e,f,g,h=this,i=h.config,j=h.mapToIds(a),k=h.getValuesAsIdKeyed(a);if(i.data_groups.length>0)for(g=h.hasPositiveValueInTargets(a),b=0;b<i.data_groups.length;b++)if(e=i.data_groups[b].filter(function(a){return j.indexOf(a)>=0}),0!==e.length)for(d=e[0],g&&k[d]&&k[d].forEach(function(a,b){k[d][b]=a>0?a:0}),c=1;c<e.length;c++)f=e[c],k[f]&&k[f].forEach(function(a,b){h.axis.getId(f)!==h.axis.getId(d)||!k[d]||g&&+a<0||(k[d][b]+=+a)});return h.d3.max(Object.keys(k).map(function(a){return h.d3.max(k[a])}))},i.getYDomain=function(a,b,c){var d,e,f,g,h,i,j,k,l,n,o,p=this,q=p.config,r=a.filter(function(a){return p.axis.getId(a.id)===b}),s=c?p.filterByXDomain(r,c):r,u="y2"===b?q.axis_y2_min:q.axis_y_min,w="y2"===b?q.axis_y2_max:q.axis_y_max,x=p.getYDomainMin(s),y=p.getYDomainMax(s),z="y2"===b?q.axis_y2_center:q.axis_y_center,A=p.hasType("bar",s)&&q.bar_zerobased||p.hasType("area",s)&&q.area_zerobased,B="y2"===b?q.axis_y2_inverted:q.axis_y_inverted,C=p.hasDataLabel()&&q.axis_rotated,D=p.hasDataLabel()&&!q.axis_rotated;return x=m(u)?u:m(w)?x<w?x:w-10:x,y=m(w)?w:m(u)?u<y?y:u+10:y,0===s.length?"y2"===b?p.y2.domain():p.y.domain():(isNaN(x)&&(x=0),isNaN(y)&&(y=x),x===y&&(x<0?y=0:x=0),n=x>=0&&y>=0,o=x<=0&&y<=0,(m(u)&&n||m(w)&&o)&&(A=!1),A&&(n&&(x=0),o&&(y=0)),e=Math.abs(y-x),f=g=h=.1*e,"undefined"!=typeof z&&(i=Math.max(Math.abs(x),Math.abs(y)),y=z+i,x=z-i),C?(j=p.getDataLabelLength(x,y,"width"),k=t(p.y.range()),l=[j[0]/k,j[1]/k],g+=e*(l[1]/(1-l[0]-l[1])),h+=e*(l[0]/(1-l[0]-l[1]))):D&&(j=p.getDataLabelLength(x,y,"height"),g+=p.axis.convertPixelsToAxisPadding(j[1],e),h+=p.axis.convertPixelsToAxisPadding(j[0],e)),"y"===b&&v(q.axis_y_padding)&&(g=p.axis.getPadding(q.axis_y_padding,"top",g,e),h=p.axis.getPadding(q.axis_y_padding,"bottom",h,e)),"y2"===b&&v(q.axis_y2_padding)&&(g=p.axis.getPadding(q.axis_y2_padding,"top",g,e),h=p.axis.getPadding(q.axis_y2_padding,"bottom",h,e)),A&&(n&&(h=x),o&&(g=-y)),d=[x-h,y+g],B?d.reverse():d)},i.getXDomainMin=function(a){var b=this,c=b.config;return q(c.axis_x_min)?b.isTimeSeries()?this.parseDate(c.axis_x_min):c.axis_x_min:b.d3.min(a,function(a){return b.d3.min(a.values,function(a){return a.x})})},i.getXDomainMax=function(a){var b=this,c=b.config;return q(c.axis_x_max)?b.isTimeSeries()?this.parseDate(c.axis_x_max):c.axis_x_max:b.d3.max(a,function(a){return b.d3.max(a.values,function(a){return a.x})})},i.getXDomainPadding=function(a){var b,c,d,e,f=this,g=f.config,h=a[1]-a[0];return f.isCategorized()?c=0:f.hasType("bar")?(b=f.getMaxDataCount(),c=b>1?h/(b-1)/2:.5):c=.01*h,"object"==typeof g.axis_x_padding&&v(g.axis_x_padding)?(d=m(g.axis_x_padding.left)?g.axis_x_padding.left:c,e=m(g.axis_x_padding.right)?g.axis_x_padding.right:c):d=e="number"==typeof g.axis_x_padding?g.axis_x_padding:c,{left:d,right:e}},i.getXDomain=function(a){var b=this,c=[b.getXDomainMin(a),b.getXDomainMax(a)],d=c[0],e=c[1],f=b.getXDomainPadding(c),g=0,h=0;return d-e!==0||b.isCategorized()||(b.isTimeSeries()?(d=new Date(.5*d.getTime()),e=new Date(1.5*e.getTime())):(d=0===d?1:.5*d,e=0===e?-1:1.5*e)),(d||0===d)&&(g=b.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left),(e||0===e)&&(h=b.isTimeSeries()?new Date(e.getTime()+f.right):e+f.right),[g,h]},i.updateXDomain=function(a,b,c,d,e){var f=this,g=f.config;return c&&(f.x.domain(e?e:f.d3.extent(f.getXDomain(a))),f.orgXDomain=f.x.domain(),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent(),f.subX.domain(f.x.domain()),f.brush&&f.brush.scale(f.subX)),b&&(f.x.domain(e?e:!f.brush||f.brush.empty()?f.orgXDomain:f.brush.extent()),g.zoom_enabled&&f.zoom.scale(f.x).updateScaleExtent()),d&&f.x.domain(f.trimXDomain(f.x.orgDomain())),f.x.domain()},i.trimXDomain=function(a){var b=this.getZoomDomain(),c=b[0],d=b[1];return a[0]<=c&&(a[1]=+a[1]+(c-a[0]),a[0]=c),d<=a[1]&&(a[0]=+a[0]-(a[1]-d),a[1]=d),a},i.isX=function(a){var b=this,c=b.config;return c.data_x&&a===c.data_x||v(c.data_xs)&&x(c.data_xs,a)},i.isNotX=function(a){return!this.isX(a)},i.getXKey=function(a){var b=this,c=b.config;return c.data_x?c.data_x:v(c.data_xs)?c.data_xs[a]:null},i.getXValuesOfXKey=function(a,b){var c,d=this,e=b&&v(b)?d.mapToIds(b):[];return e.forEach(function(b){d.getXKey(b)===a&&(c=d.data.xs[b])}),c},i.getIndexByX=function(a){var b=this,c=b.filterByX(b.data.targets,a);return c.length?c[0].index:null},i.getXValue=function(a,b){var c=this;return a in c.data.xs&&c.data.xs[a]&&m(c.data.xs[a][b])?c.data.xs[a][b]:b},i.getOtherTargetXs=function(){var a=this,b=Object.keys(a.data.xs);return b.length?a.data.xs[b[0]]:null},i.getOtherTargetX=function(a){var b=this.getOtherTargetXs();return b&&a<b.length?b[a]:null},i.addXs=function(a){var b=this;Object.keys(a).forEach(function(c){b.config.data_xs[c]=a[c]})},i.hasMultipleX=function(a){return this.d3.set(Object.keys(a).map(function(b){return a[b]})).size()>1},i.isMultipleX=function(){return v(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},i.addName=function(a){var b,c=this;return a&&(b=c.config.data_names[a.id],a.name=void 0!==b?b:a.id),a},i.getValueOnIndex=function(a,b){var c=a.filter(function(a){return a.index===b});return c.length?c[0]:null},i.updateTargetX=function(a,b){var c=this;a.forEach(function(a){a.values.forEach(function(d,e){d.x=c.generateTargetX(b[e],a.id,e)}),c.data.xs[a.id]=b})},i.updateTargetXs=function(a,b){var c=this;a.forEach(function(a){b[a.id]&&c.updateTargetX([a],b[a.id])})},i.generateTargetX=function(a,b,c){var d,e=this;return d=e.isTimeSeries()?a?e.parseDate(a):e.parseDate(e.getXValue(b,c)):e.isCustomX()&&!e.isCategorized()?m(a)?+a:e.getXValue(b,c):c},i.cloneTarget=function(a){return{id:a.id,id_org:a.id_org,values:a.values.map(function(a){return{x:a.x,value:a.value,id:a.id}})}},i.updateXs=function(){var a=this;a.data.targets.length&&(a.xs=[],a.data.targets[0].values.forEach(function(b){a.xs[b.index]=b.x}))},i.getPrevX=function(a){var b=this.xs[a-1];return"undefined"!=typeof b?b:null},i.getNextX=function(a){var b=this.xs[a+1];return"undefined"!=typeof b?b:null},i.getMaxDataCount=function(){var a=this;return a.d3.max(a.data.targets,function(a){return a.values.length})},i.getMaxDataCountTarget=function(a){var b,c=a.length,d=0;return c>1?a.forEach(function(a){a.values.length>d&&(b=a,d=a.values.length)}):b=c?a[0]:null,b},i.getEdgeX=function(a){var b=this;return a.length?[b.d3.min(a,function(a){return a.values[0].x}),b.d3.max(a,function(a){return a.values[a.values.length-1].x})]:[0,0]},i.mapToIds=function(a){return a.map(function(a){return a.id})},i.mapToTargetIds=function(a){var b=this;return a?[].concat(a):b.mapToIds(b.data.targets)},i.hasTarget=function(a,b){var c,d=this.mapToIds(a);for(c=0;c<d.length;c++)if(d[c]===b)return!0;return!1},i.isTargetToShow=function(a){return this.hiddenTargetIds.indexOf(a)<0},i.isLegendToShow=function(a){return this.hiddenLegendIds.indexOf(a)<0},i.filterTargetsToShow=function(a){var b=this;return a.filter(function(a){return b.isTargetToShow(a.id)})},i.mapTargetsToUniqueXs=function(a){var b=this,c=b.d3.set(b.d3.merge(a.map(function(a){return a.values.map(function(a){return+a.x})}))).values();return c=b.isTimeSeries()?c.map(function(a){return new Date(+a)}):c.map(function(a){return+a}),c.sort(function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN})},i.addHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.concat(a)},i.removeHiddenTargetIds=function(a){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(b){return a.indexOf(b)<0})},i.addHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.concat(a)},i.removeHiddenLegendIds=function(a){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(b){return a.indexOf(b)<0})},i.getValuesAsIdKeyed=function(a){var b={};return a.forEach(function(a){b[a.id]=[],a.values.forEach(function(c){b[a.id].push(c.value)})}),b},i.checkValueInTargets=function(a,b){var c,d,e,f=Object.keys(a);for(c=0;c<f.length;c++)for(e=a[f[c]].values,d=0;d<e.length;d++)if(b(e[d].value))return!0;return!1},i.hasNegativeValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a<0})},i.hasPositiveValueInTargets=function(a){return this.checkValueInTargets(a,function(a){return a>0})},i.isOrderDesc=function(){var a=this.config;return"string"==typeof a.data_order&&"desc"===a.data_order.toLowerCase()},i.isOrderAsc=function(){var a=this.config;return"string"==typeof a.data_order&&"asc"===a.data_order.toLowerCase()},i.orderTargets=function(a){var b=this,c=b.config,d=b.isOrderAsc(),e=b.isOrderDesc();return d||e?a.sort(function(a,b){var c=function(a,b){return a+Math.abs(b.value)},e=a.values.reduce(c,0),f=b.values.reduce(c,0);return d?f-e:e-f}):n(c.data_order)&&a.sort(c.data_order),a},i.filterByX=function(a,b){return this.d3.merge(a.map(function(a){return a.values})).filter(function(a){return a.x-b===0})},i.filterRemoveNull=function(a){return a.filter(function(a){return m(a.value)})},i.filterByXDomain=function(a,b){return a.map(function(a){return{id:a.id,id_org:a.id_org,values:a.values.filter(function(a){return b[0]<=a.x&&a.x<=b[1]})}})},i.hasDataLabel=function(){var a=this.config;return!("boolean"!=typeof a.data_labels||!a.data_labels)||!("object"!=typeof a.data_labels||!v(a.data_labels))},i.getDataLabelLength=function(a,b,c){var d=this,e=[0,0],f=1.3;return d.selectChart.select("svg").selectAll(".dummy").data([a,b]).enter().append("text").text(function(a){return d.dataLabelFormat(a.id)(a)}).each(function(a,b){e[b]=this.getBoundingClientRect()[c]*f}).remove(),e},i.isNoneArc=function(a){return this.hasTarget(this.data.targets,a.id)},i.isArc=function(a){return"data"in a&&this.hasTarget(this.data.targets,a.data.id)},i.findSameXOfValues=function(a,b){var c,d=a[b].x,e=[];for(c=b-1;c>=0&&d===a[c].x;c--)e.push(a[c]);for(c=b;c<a.length&&d===a[c].x;c++)e.push(a[c]);return e},i.findClosestFromTargets=function(a,b){var c,d=this;return c=a.map(function(a){return d.findClosest(a.values,b)}),d.findClosest(c,b)},i.findClosest=function(a,b){var c,d=this,e=d.config.point_sensitivity;return a.filter(function(a){return a&&d.isBarType(a.id)}).forEach(function(a){var b=d.main.select("."+l.bars+d.getTargetSelectorSuffix(a.id)+" ."+l.bar+"-"+a.index).node();!c&&d.isWithinBar(b)&&(c=a)}),a.filter(function(a){return a&&!d.isBarType(a.id)}).forEach(function(a){var f=d.dist(a,b);f<e&&(e=f,c=a)}),c},i.dist=function(a,b){var c=this,d=c.config,e=d.axis_rotated?1:0,f=d.axis_rotated?0:1,g=c.circleY(a,a.index),h=c.x(a.x);return Math.sqrt(Math.pow(h-b[e],2)+Math.pow(g-b[f],2))},i.convertValuesToStep=function(a){var b,c=[].concat(a);if(!this.isCategorized())return a;for(b=a.length+1;0<b;b--)c[b]=c[b-1];return c[0]={x:c[0].x-1,value:c[0].value,id:c[0].id},c[a.length+1]={x:c[a.length].x+1,value:c[a.length].value,id:c[a.length].id},c},i.updateDataAttributes=function(a,b){var c=this,d=c.config,e=d["data_"+a];return"undefined"==typeof b?e:(Object.keys(b).forEach(function(a){e[a]=b[a]}),c.redraw({withLegend:!0}),e)},i.convertUrlToData=function(a,b,c,d,e){var f=this,g=b?b:"csv",h=f.d3.xhr(a);c&&Object.keys(c).forEach(function(a){h.header(a,c[a])}),h.get(function(a,b){var c;if(!b)throw new Error(a.responseURL+" "+a.status+" ("+a.statusText+")");c="json"===g?f.convertJsonToData(JSON.parse(b.response),d):"tsv"===g?f.convertTsvToData(b.response):f.convertCsvToData(b.response),e.call(f,c)})},i.convertXsvToData=function(a,b){var c,d=b.parseRows(a);return 1===d.length?(c=[{}],d[0].forEach(function(a){c[0][a]=null})):c=b.parse(a),c},i.convertCsvToData=function(a){return this.convertXsvToData(a,this.d3.csv)},i.convertTsvToData=function(a){return this.convertXsvToData(a,this.d3.tsv)},i.convertJsonToData=function(a,b){var c,d,e=this,f=[];return b?(b.x?(c=b.value.concat(b.x),e.config.data_x=b.x):c=b.value,f.push(c),a.forEach(function(a){var b=[];c.forEach(function(c){var d=e.findValueInJson(a,c);p(d)&&(d=null),b.push(d)}),f.push(b)}),d=e.convertRowsToData(f)):(Object.keys(a).forEach(function(b){f.push([b].concat(a[b]))}),d=e.convertColumnsToData(f)),d},i.findValueInJson=function(a,b){b=b.replace(/\[(\w+)\]/g,".$1"),b=b.replace(/^\./,"");for(var c=b.split("."),d=0;d<c.length;++d){var e=c[d];if(!(e in a))return;a=a[e]}return a},i.convertRowsToData=function(a){var b,c,d=a[0],e={},f=[];for(b=1;b<a.length;b++){for(e={},c=0;c<a[b].length;c++){if(p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[d[c]]=a[b][c]}f.push(e)}return f},i.convertColumnsToData=function(a){var b,c,d,e=[];for(b=0;b<a.length;b++)for(d=a[b][0],c=1;c<a[b].length;c++){if(p(e[c-1])&&(e[c-1]={}),p(a[b][c]))throw new Error("Source data is missing a component at ("+b+","+c+")!");e[c-1][d]=a[b][c]}return e},i.convertDataToTargets=function(a,b){var c,d=this,e=d.config,f=d.d3.keys(a[0]).filter(d.isNotX,d),g=d.d3.keys(a[0]).filter(d.isX,d);return f.forEach(function(c){var f=d.getXKey(c);d.isCustomX()||d.isTimeSeries()?g.indexOf(f)>=0?d.data.xs[c]=(b&&d.data.xs[c]?d.data.xs[c]:[]).concat(a.map(function(a){return a[f]}).filter(m).map(function(a,b){return d.generateTargetX(a,c,b)})):e.data_x?d.data.xs[c]=d.getOtherTargetXs():v(e.data_xs)&&(d.data.xs[c]=d.getXValuesOfXKey(f,d.data.targets)):d.data.xs[c]=a.map(function(a,b){
        return b})}),f.forEach(function(a){if(!d.data.xs[a])throw new Error('x is not defined for id = "'+a+'".')}),c=f.map(function(b,c){var f=e.data_idConverter(b);return{id:f,id_org:b,values:a.map(function(a,g){var h,i=d.getXKey(b),j=a[i],k=null===a[b]||isNaN(a[b])?null:+a[b];return d.isCustomX()&&d.isCategorized()&&0===c&&!p(j)?(0===c&&0===g&&(e.axis_x_categories=[]),h=e.axis_x_categories.indexOf(j),h===-1&&(h=e.axis_x_categories.length,e.axis_x_categories.push(j))):h=d.generateTargetX(j,b,g),(p(a[b])||d.data.xs[b].length<=g)&&(h=void 0),{x:h,value:k,id:f}}).filter(function(a){return q(a.x)})}}),c.forEach(function(a){var b;e.data_xSort&&(a.values=a.values.sort(function(a,b){var c=a.x||0===a.x?a.x:1/0,d=b.x||0===b.x?b.x:1/0;return c-d})),b=0,a.values.forEach(function(a){a.index=b++}),d.data.xs[a.id].sort(function(a,b){return a-b})}),d.hasNegativeValue=d.hasNegativeValueInTargets(c),d.hasPositiveValue=d.hasPositiveValueInTargets(c),e.data_type&&d.setTargetType(d.mapToIds(c).filter(function(a){return!(a in e.data_types)}),e.data_type),c.forEach(function(a){d.addCache(a.id_org,a)}),c},i.load=function(a,b){var c=this;a&&(b.filter&&(a=a.filter(b.filter)),(b.type||b.types)&&a.forEach(function(a){var d=b.types&&b.types[a.id]?b.types[a.id]:b.type;c.setTargetType(a.id,d)}),c.data.targets.forEach(function(b){for(var c=0;c<a.length;c++)if(b.id===a[c].id){b.values=a[c].values,a.splice(c,1);break}}),c.data.targets=c.data.targets.concat(a)),c.updateTargets(c.data.targets),c.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),b.done&&b.done()},i.loadFromArgs=function(a){var b=this;a.data?b.load(b.convertDataToTargets(a.data),a):a.url?b.convertUrlToData(a.url,a.mimeType,a.headers,a.keys,function(c){b.load(b.convertDataToTargets(c),a)}):a.json?b.load(b.convertDataToTargets(b.convertJsonToData(a.json,a.keys)),a):a.rows?b.load(b.convertDataToTargets(b.convertRowsToData(a.rows)),a):a.columns?b.load(b.convertDataToTargets(b.convertColumnsToData(a.columns)),a):b.load(null,a)},i.unload=function(a,b){var c=this;return b||(b=function(){}),a=a.filter(function(a){return c.hasTarget(c.data.targets,a)}),a&&0!==a.length?(c.svg.selectAll(a.map(function(a){return c.selectorTarget(a)})).transition().style("opacity",0).remove().call(c.endall,b),void a.forEach(function(a){c.withoutFadeIn[a]=!1,c.legend&&c.legend.selectAll("."+l.legendItem+c.getTargetSelectorSuffix(a)).remove(),c.data.targets=c.data.targets.filter(function(b){return b.id!==a})})):void b()},i.categoryName=function(a){var b=this.config;return a<b.axis_x_categories.length?b.axis_x_categories[a]:a},i.initEventRect=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.eventRects).style("fill-opacity",0)},i.redrawEventRect=function(){var a,b,c=this,d=c.config,e=c.isMultipleX(),f=c.main.select("."+l.eventRects).style("cursor",d.zoom_enabled?d.axis_rotated?"ns-resize":"ew-resize":null).classed(l.eventRectsMultiple,e).classed(l.eventRectsSingle,!e);f.selectAll("."+l.eventRect).remove(),c.eventRect=f.selectAll("."+l.eventRect),e?(a=c.eventRect.data([0]),c.generateEventRectsForMultipleXs(a.enter()),c.updateEventRect(a)):(b=c.getMaxDataCountTarget(c.data.targets),f.datum(b?b.values:[]),c.eventRect=f.selectAll("."+l.eventRect),a=c.eventRect.data(function(a){return a}),c.generateEventRectsForSingleX(a.enter()),c.updateEventRect(a),a.exit().remove())},i.updateEventRect=function(a){var b,c,d,e,f,g,h=this,i=h.config;a=a||h.eventRect.data(function(a){return a}),h.isMultipleX()?(b=0,c=0,d=h.width,e=h.height):(!h.isCustomX()&&!h.isTimeSeries()||h.isCategorized()?(f=h.getEventRectWidth(),g=function(a){return h.x(a.x)-f/2}):(h.updateXs(),f=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index);return null===b&&null===c?i.axis_rotated?h.height:h.width:(null===b&&(b=h.x.domain()[0]),null===c&&(c=h.x.domain()[1]),Math.max(0,(h.x(c)-h.x(b))/2))},g=function(a){var b=h.getPrevX(a.index),c=h.getNextX(a.index),d=h.data.xs[a.id][a.index];return null===b&&null===c?0:(null===b&&(b=h.x.domain()[0]),(h.x(d)+h.x(b))/2)}),b=i.axis_rotated?0:g,c=i.axis_rotated?g:0,d=i.axis_rotated?h.width:f,e=i.axis_rotated?f:h.height),a.attr("class",h.classEvent.bind(h)).attr("x",b).attr("y",c).attr("width",d).attr("height",e)},i.generateEventRectsForSingleX=function(a){var b=this,c=b.d3,d=b.config;a.append("rect").attr("class",b.classEvent.bind(b)).style("cursor",d.data_selection_enabled&&d.data_selection_grouped?"pointer":null).on("mouseover",function(a){var c=a.index;b.dragging||b.flowing||b.hasArcType()||(d.point_focus_expand_enabled&&b.expandCircles(c,null,!0),b.expandBars(c,null,!0),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseover.call(b.api,a)}))}).on("mouseout",function(a){var c=a.index;b.config&&(b.hasArcType()||(b.hideXGridFocus(),b.hideTooltip(),b.unexpandCircles(),b.unexpandBars(),b.main.selectAll("."+l.shape+"-"+c).each(function(a){d.data_onmouseout.call(b.api,a)})))}).on("mousemove",function(a){var e,f=a.index,g=b.svg.select("."+l.eventRect+"-"+f);b.dragging||b.flowing||b.hasArcType()||(b.isStepType(a)&&"step-after"===b.config.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,f))&&(f-=1),e=b.filterTargetsToShow(b.data.targets).map(function(a){return b.addName(b.getValueOnIndex(a.values,f))}),d.tooltip_grouped&&(b.showTooltip(e,this),b.showXGridFocus(e)),(!d.tooltip_grouped||d.data_selection_enabled&&!d.data_selection_grouped)&&b.main.selectAll("."+l.shape+"-"+f).each(function(){c.select(this).classed(l.EXPANDED,!0),d.data_selection_enabled&&g.style("cursor",d.data_selection_grouped?"pointer":null),d.tooltip_grouped||(b.hideXGridFocus(),b.hideTooltip(),d.data_selection_grouped||(b.unexpandCircles(f),b.unexpandBars(f)))}).filter(function(a){return b.isWithinShape(this,a)}).each(function(a){d.data_selection_enabled&&(d.data_selection_grouped||d.data_selection_isselectable(a))&&g.style("cursor","pointer"),d.tooltip_grouped||(b.showTooltip([a],this),b.showXGridFocus([a]),d.point_focus_expand_enabled&&b.expandCircles(f,a.id,!0),b.expandBars(f,a.id,!0))}))}).on("click",function(a){var e=a.index;if(!b.hasArcType()&&b.toggleShape){if(b.cancelClick)return void(b.cancelClick=!1);b.isStepType(a)&&"step-after"===d.line_step_type&&c.mouse(this)[0]<b.x(b.getXValue(a.id,e))&&(e-=1),b.main.selectAll("."+l.shape+"-"+e).each(function(a){(d.data_selection_grouped||b.isWithinShape(this,a))&&(b.toggleShape(this,a,e),b.config.data_onclick.call(b.api,a,this))})}}).call(d.data_selection_draggable&&b.drag?c.behavior.drag().origin(Object).on("drag",function(){b.drag(c.mouse(this))}).on("dragstart",function(){b.dragstart(c.mouse(this))}).on("dragend",function(){b.dragend()}):function(){})},i.generateEventRectsForMultipleXs=function(a){function b(){c.svg.select("."+l.eventRect).style("cursor",null),c.hideXGridFocus(),c.hideTooltip(),c.unexpandCircles(),c.unexpandBars()}var c=this,d=c.d3,e=c.config;a.append("rect").attr("x",0).attr("y",0).attr("width",c.width).attr("height",c.height).attr("class",l.eventRect).on("mouseout",function(){c.config&&(c.hasArcType()||b())}).on("mousemove",function(){var a,f,g,h,i=c.filterTargetsToShow(c.data.targets);if(!c.dragging&&!c.hasArcType(i)){if(a=d.mouse(this),f=c.findClosestFromTargets(i,a),!c.mouseover||f&&f.id===c.mouseover.id||(e.data_onmouseout.call(c.api,c.mouseover),c.mouseover=void 0),!f)return void b();g=c.isScatterType(f)||!e.tooltip_grouped?[f]:c.filterByX(i,f.x),h=g.map(function(a){return c.addName(a)}),c.showTooltip(h,this),e.point_focus_expand_enabled&&c.expandCircles(f.index,f.id,!0),c.expandBars(f.index,f.id,!0),c.showXGridFocus(h),(c.isBarType(f.id)||c.dist(f,a)<e.point_sensitivity)&&(c.svg.select("."+l.eventRect).style("cursor","pointer"),c.mouseover||(e.data_onmouseover.call(c.api,f),c.mouseover=f))}}).on("click",function(){var a,b,f=c.filterTargetsToShow(c.data.targets);c.hasArcType(f)||(a=d.mouse(this),b=c.findClosestFromTargets(f,a),b&&(c.isBarType(b.id)||c.dist(b,a)<e.point_sensitivity)&&c.main.selectAll("."+l.shapes+c.getTargetSelectorSuffix(b.id)).selectAll("."+l.shape+"-"+b.index).each(function(){(e.data_selection_grouped||c.isWithinShape(this,b))&&(c.toggleShape(this,b,b.index),c.config.data_onclick.call(c.api,b,this))}))}).call(e.data_selection_draggable&&c.drag?d.behavior.drag().origin(Object).on("drag",function(){c.drag(d.mouse(this))}).on("dragstart",function(){c.dragstart(d.mouse(this))}).on("dragend",function(){c.dragend()}):function(){})},i.dispatchEvent=function(b,c,d){var e=this,f="."+l.eventRect+(e.isMultipleX()?"":"-"+c),g=e.main.select(f).node(),h=g.getBoundingClientRect(),i=h.left+(d?d[0]:0),j=h.top+(d?d[1]:0),k=document.createEvent("MouseEvents");k.initMouseEvent(b,!0,!0,a,0,i,j,i,j,!1,!1,!1,!1,0,null),g.dispatchEvent(k)},i.getCurrentWidth=function(){var a=this,b=a.config;return b.size_width?b.size_width:a.getParentWidth()},i.getCurrentHeight=function(){var a=this,b=a.config,c=b.size_height?b.size_height:a.getParentHeight();return c>0?c:320/(a.hasType("gauge")&&!b.gauge_fullCircle?2:1)},i.getCurrentPaddingTop=function(){var a=this,b=a.config,c=m(b.padding_top)?b.padding_top:0;return a.title&&a.title.node()&&(c+=a.getTitlePadding()),c},i.getCurrentPaddingBottom=function(){var a=this.config;return m(a.padding_bottom)?a.padding_bottom:0},i.getCurrentPaddingLeft=function(a){var b=this,c=b.config;return m(c.padding_left)?c.padding_left:c.axis_rotated?c.axis_x_show?Math.max(r(b.getAxisWidthByAxisId("x",a)),40):1:!c.axis_y_show||c.axis_y_inner?b.axis.getYAxisLabelPosition().isOuter?30:1:r(b.getAxisWidthByAxisId("y",a))},i.getCurrentPaddingRight=function(){var a=this,b=a.config,c=10,d=a.isLegendRight?a.getLegendWidth()+20:0;return m(b.padding_right)?b.padding_right+1:b.axis_rotated?c+d:!b.axis_y2_show||b.axis_y2_inner?2+d+(a.axis.getY2AxisLabelPosition().isOuter?20:0):r(a.getAxisWidthByAxisId("y2"))+d},i.getParentRectValue=function(a){for(var b,c=this.selectChart.node();c&&"BODY"!==c.tagName;){try{b=c.getBoundingClientRect()[a]}catch(d){"width"===a&&(b=c.offsetWidth)}if(b)break;c=c.parentNode}return b},i.getParentWidth=function(){return this.getParentRectValue("width")},i.getParentHeight=function(){var a=this.selectChart.style("height");return a.indexOf("px")>0?+a.replace("px",""):0},i.getSvgLeft=function(a){var b=this,c=b.config,d=c.axis_rotated||!c.axis_rotated&&!c.axis_y_inner,e=c.axis_rotated?l.axisX:l.axisY,f=b.main.select("."+e).node(),g=f&&d?f.getBoundingClientRect():{right:0},h=b.selectChart.node().getBoundingClientRect(),i=b.hasArcType(),j=g.right-h.left-(i?0:b.getCurrentPaddingLeft(a));return j>0?j:0},i.getAxisWidthByAxisId=function(a,b){var c=this,d=c.axis.getLabelPositionById(a);return c.axis.getMaxTickWidth(a,b)+(d.isInner?20:40)},i.getHorizontalAxisHeight=function(a){var b=this,c=b.config,d=30;return"x"!==a||c.axis_x_show?"x"===a&&c.axis_x_height?c.axis_x_height:"y"!==a||c.axis_y_show?"y2"!==a||c.axis_y2_show?("x"===a&&!c.axis_rotated&&c.axis_x_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_x_tick_rotate)/180)),"y"===a&&c.axis_rotated&&c.axis_y_tick_rotate&&(d=30+b.axis.getMaxTickWidth(a)*Math.cos(Math.PI*(90-c.axis_y_tick_rotate)/180)),d+(b.axis.getLabelPositionById(a).isInner?0:10)+("y2"===a?-10:0)):b.rotated_padding_top:!c.legend_show||b.isLegendRight||b.isLegendInset?1:10:8},i.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},i.getShapeIndices=function(a){var b,c,d=this,e=d.config,f={},g=0;return d.filterTargetsToShow(d.data.targets.filter(a,d)).forEach(function(a){for(b=0;b<e.data_groups.length;b++)if(!(e.data_groups[b].indexOf(a.id)<0))for(c=0;c<e.data_groups[b].length;c++)if(e.data_groups[b][c]in f){f[a.id]=f[e.data_groups[b][c]];break}p(f[a.id])&&(f[a.id]=g++)}),f.__max__=g-1,f},i.getShapeX=function(a,b,c,d){var e=this,f=d?e.subX:e.x;return function(d){var e=d.id in c?c[d.id]:0;return d.x||0===d.x?f(d.x)-a*(b/2-e):0}},i.getShapeY=function(a){var b=this;return function(c){var d=a?b.getSubYScale(c.id):b.getYScale(c.id);return d(c.value)}},i.getShapeOffset=function(a,b,c){var d=this,e=d.orderTargets(d.filterTargetsToShow(d.data.targets.filter(a,d))),f=e.map(function(a){return a.id});return function(a,g){var h=c?d.getSubYScale(a.id):d.getYScale(a.id),i=h(0),j=i;return e.forEach(function(c){var e=d.isStepType(a)?d.convertValuesToStep(c.values):c.values;c.id!==a.id&&b[c.id]===b[a.id]&&f.indexOf(c.id)<f.indexOf(a.id)&&("undefined"!=typeof e[g]&&+e[g].x===+a.x||(g=-1,e.forEach(function(b,c){b.x===a.x&&(g=c)})),g in e&&e[g].value*a.value>=0&&(j+=h(e[g].value)-i))}),j}},i.isWithinShape=function(a,b){var c,d=this,e=d.d3.select(a);return d.isTargetToShow(b.id)?"circle"===a.nodeName?c=d.isStepType(b)?d.isWithinStep(a,d.getYScale(b.id)(b.value)):d.isWithinCircle(a,1.5*d.pointSelectR(b)):"path"===a.nodeName&&(c=!e.classed(l.bar)||d.isWithinBar(a)):c=!1,c},i.getInterpolate=function(a){var b=this,c=b.isInterpolationType(b.config.spline_interpolation_type)?b.config.spline_interpolation_type:"cardinal";return b.isSplineType(a)?c:b.isStepType(a)?b.config.line_step_type:"linear"},i.initLine=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartLines)},i.updateTargetsForLine=function(a){var b,c,d=this,e=d.config,f=d.classChartLine.bind(d),g=d.classLines.bind(d),h=d.classAreas.bind(d),i=d.classCircles.bind(d),j=d.classFocus.bind(d);b=d.main.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",function(a){return f(a)+j(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g),c.append("g").attr("class",h),c.append("g").attr("class",function(a){return d.generateClass(l.selectedCircles,a.id)}),c.append("g").attr("class",i).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null}),a.forEach(function(a){d.main.selectAll("."+l.selectedCircles+d.getTargetSelectorSuffix(a.id)).selectAll("."+l.selectedCircle).each(function(b){b.value=a.values[b.index].value})})},i.updateLine=function(a){var b=this;b.mainLine=b.main.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.mainLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.mainLine.style("opacity",b.initialOpacity.bind(b)).style("shape-rendering",function(a){return b.isStepType(a)?"crispEdges":""}).attr("transform",null),b.mainLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLine=function(a,b){return[(b?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",a).style("stroke",this.color).style("opacity",1)]},i.generateDrawLine=function(a,b){var c=this,d=c.config,e=c.d3.svg.line(),f=c.generateGetLinePoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x(i).y(h):e.x(h).y(i),d.line_connectNull||(e=e.defined(function(a){return null!=a.value})),function(a){var f,h=d.line_connectNull?c.filterRemoveNull(a.values):a.values,i=b?c.x:c.subX,j=g.call(c,a.id),k=0,l=0;return c.isLineType(a)?d.data_regions[a.id]?f=c.lineWithRegions(h,i,j,d.data_regions[a.id]):(c.isStepType(a)&&(h=c.convertValuesToStep(h)),f=e.interpolate(c.getInterpolate(a))(h)):(h[0]&&(k=i(h[0].x),l=j(h[0].value)),f=d.axis_rotated?"M "+l+" "+k:"M "+k+" "+l),f?f:"M 0 0"}},i.generateGetLinePoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isLineType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&l<e||a.value<0&&e<l)&&(l=e),[[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)],[k,l-(e-j)]]}},i.lineWithRegions=function(a,b,c,d){function e(a,b){var c;for(c=0;c<b.length;c++)if(b[c].start<a&&a<=b[c].end)return!0;return!1}function f(a){return"M"+a[0][0]+" "+a[0][1]+" "+a[1][0]+" "+a[1][1]}var g,h,i,j,k,l,m,n,o,r,s,t,u=this,v=u.config,w=-1,x="M",y=u.isCategorized()?.5:0,z=[];if(q(d))for(g=0;g<d.length;g++)z[g]={},p(d[g].start)?z[g].start=a[0].x:z[g].start=u.isTimeSeries()?u.parseDate(d[g].start):d[g].start,p(d[g].end)?z[g].end=a[a.length-1].x:z[g].end=u.isTimeSeries()?u.parseDate(d[g].end):d[g].end;for(s=v.axis_rotated?function(a){return c(a.value)}:function(a){return b(a.x)},t=v.axis_rotated?function(a){return b(a.x)}:function(a){return c(a.value)},i=u.isTimeSeries()?function(a,d,e,g){var h,i=a.x.getTime(),j=d.x-a.x,l=new Date(i+j*e),m=new Date(i+j*(e+g));return h=v.axis_rotated?[[c(k(e)),b(l)],[c(k(e+g)),b(m)]]:[[b(l),c(k(e))],[b(m),c(k(e+g))]],f(h)}:function(a,d,e,g){var h;return h=v.axis_rotated?[[c(k(e),!0),b(j(e))],[c(k(e+g),!0),b(j(e+g))]]:[[b(j(e),!0),c(k(e))],[b(j(e+g),!0),c(k(e+g))]],f(h)},g=0;g<a.length;g++){if(p(z)||!e(a[g].x,z))x+=" "+s(a[g])+" "+t(a[g]);else for(j=u.getScale(a[g-1].x+y,a[g].x+y,u.isTimeSeries()),k=u.getScale(a[g-1].value,a[g].value),l=b(a[g].x)-b(a[g-1].x),m=c(a[g].value)-c(a[g-1].value),n=Math.sqrt(Math.pow(l,2)+Math.pow(m,2)),o=2/n,r=2*o,h=o;h<=1;h+=r)x+=i(a[g-1],a[g],h,o);w=a[g].x}return x},i.updateArea=function(a){var b=this,c=b.d3;b.mainArea=b.main.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.mainArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.mainArea.style("opacity",b.orgAreaOpacity),b.mainArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawArea=function(a,b){return[(b?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},i.generateDrawArea=function(a,b){var c=this,d=c.config,e=c.d3.svg.area(),f=c.generateGetAreaPoints(a,b),g=b?c.getSubYScale:c.getYScale,h=function(a){return(b?c.subxx:c.xx).call(c,a)},i=function(a,b){return d.data_groups.length>0?f(a,b)[0][1]:g.call(c,a.id)(c.getAreaBaseValue(a.id))},j=function(a,b){return d.data_groups.length>0?f(a,b)[1][1]:g.call(c,a.id)(a.value)};return e=d.axis_rotated?e.x0(i).x1(j).y(h):e.x(h).y0(d.area_above?0:i).y1(j),d.line_connectNull||(e=e.defined(function(a){return null!==a.value})),function(a){var b,f=d.line_connectNull?c.filterRemoveNull(a.values):a.values,g=0,h=0;return c.isAreaType(a)?(c.isStepType(a)&&(f=c.convertValuesToStep(f)),b=e.interpolate(c.getInterpolate(a))(f)):(f[0]&&(g=c.x(f[0].x),h=c.getYScale(a.id)(f[0].value)),b=d.axis_rotated?"M "+h+" "+g:"M "+g+" "+h),b?b:"M 0 0"}},i.getAreaBaseValue=function(){return 0},i.generateGetAreaPoints=function(a,b){var c=this,d=c.config,e=a.__max__+1,f=c.getShapeX(0,e,a,!!b),g=c.getShapeY(!!b),h=c.getShapeOffset(c.isAreaType,a,!!b),i=b?c.getSubYScale:c.getYScale;return function(a,b){var e=i.call(c,a.id)(0),j=h(a,b)||e,k=f(a),l=g(a);return d.axis_rotated&&(0<a.value&&l<e||a.value<0&&e<l)&&(l=e),[[k,j],[k,l-(e-j)],[k,l-(e-j)],[k,j]]}},i.updateCircle=function(){var a=this;a.mainCircle=a.main.selectAll("."+l.circles).selectAll("."+l.circle).data(a.lineOrScatterData.bind(a)),a.mainCircle.enter().append("circle").attr("class",a.classCircle.bind(a)).attr("r",a.pointR.bind(a)).style("fill",a.color),a.mainCircle.style("opacity",a.initialOpacityForCircle.bind(a)),a.mainCircle.exit().remove()},i.redrawCircle=function(a,b,c){var d=this.main.selectAll("."+l.selectedCircle);return[(c?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",a).attr("cy",b),(c?d.transition(Math.random().toString()):d).attr("cx",a).attr("cy",b)]},i.circleX=function(a){return a.x||0===a.x?this.x(a.x):null},i.updateCircleY=function(){var a,b,c=this;c.config.data_groups.length>0?(a=c.getShapeIndices(c.isLineType),b=c.generateGetLinePoints(a),c.circleY=function(a,c){return b(a,c)[0][1]}):c.circleY=function(a){return c.getYScale(a.id)(a.value)}},i.getCircles=function(a,b){var c=this;return(b?c.main.selectAll("."+l.circles+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.circle+(m(a)?"-"+a:""))},i.expandCircles=function(a,b,c){var d=this,e=d.pointExpandedR.bind(d);c&&d.unexpandCircles(),d.getCircles(a,b).classed(l.EXPANDED,!0).attr("r",e)},i.unexpandCircles=function(a){var b=this,c=b.pointR.bind(b);b.getCircles(a).filter(function(){return b.d3.select(this).classed(l.EXPANDED)}).classed(l.EXPANDED,!1).attr("r",c)},i.pointR=function(a){var b=this,c=b.config;return b.isStepType(a)?0:n(c.point_r)?c.point_r(a):c.point_r},i.pointExpandedR=function(a){var b=this,c=b.config;return c.point_focus_expand_enabled?c.point_focus_expand_r?c.point_focus_expand_r:1.75*b.pointR(a):b.pointR(a)},i.pointSelectR=function(a){var b=this,c=b.config;return n(c.point_select_r)?c.point_select_r(a):c.point_select_r?c.point_select_r:4*b.pointR(a)},i.isWithinCircle=function(a,b){var c=this.d3,d=c.mouse(a),e=c.select(a),f=+e.attr("cx"),g=+e.attr("cy");return Math.sqrt(Math.pow(f-d[0],2)+Math.pow(g-d[1],2))<b},i.isWithinStep=function(a,b){return Math.abs(b-this.d3.mouse(a)[1])<30},i.initBar=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartBars)},i.updateTargetsForBar=function(a){var b,c,d=this,e=d.config,f=d.classChartBar.bind(d),g=d.classBars.bind(d),h=d.classFocus.bind(d);b=d.main.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",function(a){return f(a)+h(a)}),c=b.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",g).style("cursor",function(a){return e.data_selection_isselectable(a)?"pointer":null})},i.updateBar=function(a){var b=this,c=b.barData.bind(b),d=b.classBar.bind(b),e=b.initialOpacity.bind(b),f=function(a){return b.color(a.id)};b.mainBar=b.main.selectAll("."+l.bars).selectAll("."+l.bar).data(c),b.mainBar.enter().append("path").attr("class",d).style("stroke",f).style("fill",f),b.mainBar.style("opacity",e),b.mainBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBar=function(a,b){return[(b?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",a).style("fill",this.color).style("opacity",1)]},i.getBarW=function(a,b){var c=this,d=c.config,e="number"==typeof d.bar_width?d.bar_width:b?a.tickInterval()*d.bar_width_ratio/b:0;return d.bar_width_max&&e>d.bar_width_max?d.bar_width_max:e},i.getBars=function(a,b){var c=this;return(b?c.main.selectAll("."+l.bars+c.getTargetSelectorSuffix(b)):c.main).selectAll("."+l.bar+(m(a)?"-"+a:""))},i.expandBars=function(a,b,c){var d=this;c&&d.unexpandBars(),d.getBars(a,b).classed(l.EXPANDED,!0)},i.unexpandBars=function(a){var b=this;b.getBars(a).classed(l.EXPANDED,!1)},i.generateDrawBar=function(a,b){var c=this,d=c.config,e=c.generateGetBarPoints(a,b);return function(a,b){var c=e(a,b),f=d.axis_rotated?1:0,g=d.axis_rotated?0:1,h="M "+c[0][f]+","+c[0][g]+" L"+c[1][f]+","+c[1][g]+" L"+c[2][f]+","+c[2][g]+" L"+c[3][f]+","+c[3][g]+" z";return h}},i.generateGetBarPoints=function(a,b){var c=this,d=b?c.subXAxis:c.xAxis,e=a.__max__+1,f=c.getBarW(d,e),g=c.getShapeX(f,e,a,!!b),h=c.getShapeY(!!b),i=c.getShapeOffset(c.isBarType,a,!!b),j=b?c.getSubYScale:c.getYScale;return function(a,b){var d=j.call(c,a.id)(0),e=i(a,b)||d,k=g(a),l=h(a);return c.config.axis_rotated&&(0<a.value&&l<d||a.value<0&&d<l)&&(l=d),[[k,e],[k,l-(d-e)],[k+f,l-(d-e)],[k+f,e]]}},i.isWithinBar=function(a){var b=this.d3.mouse(a),c=a.getBoundingClientRect(),d=a.pathSegList.getItem(0),e=a.pathSegList.getItem(1),f=Math.min(d.x,e.x),g=Math.min(d.y,e.y),h=c.width,i=c.height,j=2,k=f-j,l=f+h+j,m=g+i+j,n=g-j;return k<b[0]&&b[0]<l&&n<b[1]&&b[1]<m},i.initText=function(){var a=this;a.main.select("."+l.chart).append("g").attr("class",l.chartTexts),a.mainText=a.d3.selectAll([])},i.updateTargetsForText=function(a){var b,c,d=this,e=d.classChartText.bind(d),f=d.classTexts.bind(d),g=d.classFocus.bind(d);b=d.main.select("."+l.chartTexts).selectAll("."+l.chartText).data(a).attr("class",function(a){return e(a)+g(a)}),c=b.enter().append("g").attr("class",e).style("opacity",0).style("pointer-events","none"),c.append("g").attr("class",f)},i.updateText=function(a){var b=this,c=b.config,d=b.barOrLineData.bind(b),e=b.classText.bind(b);b.mainText=b.main.selectAll("."+l.texts).selectAll("."+l.text).data(d),b.mainText.enter().append("text").attr("class",e).attr("text-anchor",function(a){return c.axis_rotated?a.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(a){return b.color(a)}).style("fill-opacity",0),b.mainText.text(function(a,c,d){return b.dataLabelFormat(a.id)(a.value,a.id,c,d)}),b.mainText.exit().transition().duration(a).style("fill-opacity",0).remove()},i.redrawText=function(a,b,c,d){return[(d?this.mainText.transition():this.mainText).attr("x",a).attr("y",b).style("fill",this.color).style("fill-opacity",c?0:this.opacityForText.bind(this))]},i.getTextRect=function(a,b,c){var d,e=this.d3.select("body").append("div").classed("c3",!0),f=e.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g=this.d3.select(c).style("font");return f.selectAll(".dummy").data([a]).enter().append("text").classed(b?b:"",!0).style("font",g).text(a).each(function(){d=this.getBoundingClientRect()}),e.remove(),d},i.generateXYForText=function(a,b,c,d){var e=this,f=e.generateGetAreaPoints(a,!1),g=e.generateGetBarPoints(b,!1),h=e.generateGetLinePoints(c,!1),i=d?e.getXForText:e.getYForText;return function(a,b){var c=e.isAreaType(a)?f:e.isBarType(a)?g:h;return i.call(e,c(a,b),a,this)}},i.getXForText=function(a,b,c){var d,e,f=this,g=c.getBoundingClientRect();return f.config.axis_rotated?(e=f.isBarType(b)?4:6,d=a[2][1]+e*(b.value<0?-1:1)):d=f.hasType("bar")?(a[2][0]+a[0][0])/2:a[0][0],null===b.value&&(d>f.width?d=f.width-g.width:d<0&&(d=4)),d},i.getYForText=function(a,b,c){var d,e=this,f=c.getBoundingClientRect();return e.config.axis_rotated?d=(a[0][0]+a[2][0]+.6*f.height)/2:(d=a[2][1],b.value<0||0===b.value&&!e.hasPositiveValue?(d+=f.height,e.isBarType(b)&&e.isSafari()?d-=3:!e.isBarType(b)&&e.isChrome()&&(d+=3)):d+=e.isBarType(b)?-3:-6),null!==b.value||e.config.axis_rotated||(d<f.height?d=f.height:d>this.height&&(d=this.height-4)),d},i.setTargetType=function(a,b){var c=this,d=c.config;c.mapToTargetIds(a).forEach(function(a){c.withoutFadeIn[a]=b===d.data_types[a],d.data_types[a]=b}),a||(d.data_type=b)},i.hasType=function(a,b){var c=this,d=c.config.data_types,e=!1;return b=b||c.data.targets,b&&b.length?b.forEach(function(b){var c=d[b.id];(c&&c.indexOf(a)>=0||!c&&"line"===a)&&(e=!0)}):Object.keys(d).length?Object.keys(d).forEach(function(b){d[b]===a&&(e=!0)}):e=c.config.data_type===a,e},i.hasArcType=function(a){return this.hasType("pie",a)||this.hasType("donut",a)||this.hasType("gauge",a)},i.isLineType=function(a){var b=this.config,c=o(a)?a:a.id;return!b.data_types[c]||["line","spline","area","area-spline","step","area-step"].indexOf(b.data_types[c])>=0},i.isStepType=function(a){var b=o(a)?a:a.id;return["step","area-step"].indexOf(this.config.data_types[b])>=0},i.isSplineType=function(a){var b=o(a)?a:a.id;return["spline","area-spline"].indexOf(this.config.data_types[b])>=0},i.isAreaType=function(a){var b=o(a)?a:a.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[b])>=0},i.isBarType=function(a){var b=o(a)?a:a.id;return"bar"===this.config.data_types[b]},i.isScatterType=function(a){var b=o(a)?a:a.id;return"scatter"===this.config.data_types[b]},i.isPieType=function(a){var b=o(a)?a:a.id;return"pie"===this.config.data_types[b]},i.isGaugeType=function(a){var b=o(a)?a:a.id;return"gauge"===this.config.data_types[b]},i.isDonutType=function(a){var b=o(a)?a:a.id;return"donut"===this.config.data_types[b]},i.isArcType=function(a){return this.isPieType(a)||this.isDonutType(a)||this.isGaugeType(a)},i.lineData=function(a){return this.isLineType(a)?[a]:[]},i.arcData=function(a){return this.isArcType(a.data)?[a]:[]},i.barData=function(a){return this.isBarType(a)?a.values:[]},i.lineOrScatterData=function(a){return this.isLineType(a)||this.isScatterType(a)?a.values:[]},i.barOrLineData=function(a){return this.isBarType(a)||this.isLineType(a)?a.values:[]},i.isInterpolationType=function(a){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(a)>=0},i.initGrid=function(){var a=this,b=a.config,c=a.d3;a.grid=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid),b.grid_x_show&&a.grid.append("g").attr("class",l.xgrids),b.grid_y_show&&a.grid.append("g").attr("class",l.ygrids),b.grid_focus_show&&a.grid.append("g").attr("class",l.xgridFocus).append("line").attr("class",l.xgridFocus),a.xgrid=c.selectAll([]),b.grid_lines_front||a.initGridLines()},i.initGridLines=function(){var a=this,b=a.d3;a.gridLines=a.main.append("g").attr("clip-path",a.clipPathForGrid).attr("class",l.grid+" "+l.gridLines),a.gridLines.append("g").attr("class",l.xgridLines),a.gridLines.append("g").attr("class",l.ygridLines),a.xgridLines=b.selectAll([])},i.updateXGrid=function(a){var b=this,c=b.config,d=b.d3,e=b.generateGridData(c.grid_x_type,b.x),f=b.isCategorized()?b.xAxis.tickOffset():0;b.xgridAttr=c.axis_rotated?{x1:0,x2:b.width,y1:function(a){return b.x(a)-f},y2:function(a){return b.x(a)-f}}:{x1:function(a){return b.x(a)+f},x2:function(a){return b.x(a)+f},y1:0,y2:b.height},b.xgrid=b.main.select("."+l.xgrids).selectAll("."+l.xgrid).data(e),b.xgrid.enter().append("line").attr("class",l.xgrid),a||b.xgrid.attr(b.xgridAttr).style("opacity",function(){return+d.select(this).attr(c.axis_rotated?"y1":"x1")===(c.axis_rotated?b.height:0)?0:1}),b.xgrid.exit().remove()},i.updateYGrid=function(){var a=this,b=a.config,c=a.yAxis.tickValues()||a.y.ticks(b.grid_y_ticks);a.ygrid=a.main.select("."+l.ygrids).selectAll("."+l.ygrid).data(c),a.ygrid.enter().append("line").attr("class",l.ygrid),a.ygrid.attr("x1",b.axis_rotated?a.y:0).attr("x2",b.axis_rotated?a.y:a.width).attr("y1",b.axis_rotated?0:a.y).attr("y2",b.axis_rotated?a.height:a.y),a.ygrid.exit().remove(),a.smoothLines(a.ygrid,"grid")},i.gridTextAnchor=function(a){return a.position?a.position:"end"},i.gridTextDx=function(a){return"start"===a.position?4:"middle"===a.position?0:-4},i.xGridTextX=function(a){return"start"===a.position?-this.height:"middle"===a.position?-this.height/2:0},i.yGridTextX=function(a){return"start"===a.position?0:"middle"===a.position?this.width/2:this.width},i.updateGrid=function(a){var b,c,d,e=this,f=e.main,g=e.config;e.grid.style("visibility",e.hasArcType()?"hidden":"visible"),f.select("line."+l.xgridFocus).style("visibility","hidden"),g.grid_x_show&&e.updateXGrid(),e.xgridLines=f.select("."+l.xgridLines).selectAll("."+l.xgridLine).data(g.grid_x_lines),b=e.xgridLines.enter().append("g").attr("class",function(a){return l.xgridLine+(a.class?" "+a.class:"")}),b.append("line").style("opacity",0),b.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"":"rotate(-90)").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),e.xgridLines.exit().transition().duration(a).style("opacity",0).remove(),g.grid_y_show&&e.updateYGrid(),e.ygridLines=f.select("."+l.ygridLines).selectAll("."+l.ygridLine).data(g.grid_y_lines),c=e.ygridLines.enter().append("g").attr("class",function(a){return l.ygridLine+(a.class?" "+a.class:"")}),c.append("line").style("opacity",0),c.append("text").attr("text-anchor",e.gridTextAnchor).attr("transform",g.axis_rotated?"rotate(-90)":"").attr("dx",e.gridTextDx).attr("dy",-5).style("opacity",0),d=e.yv.bind(e),e.ygridLines.select("line").transition().duration(a).attr("x1",g.axis_rotated?d:0).attr("x2",g.axis_rotated?d:e.width).attr("y1",g.axis_rotated?0:d).attr("y2",g.axis_rotated?e.height:d).style("opacity",1),e.ygridLines.select("text").transition().duration(a).attr("x",g.axis_rotated?e.xGridTextX.bind(e):e.yGridTextX.bind(e)).attr("y",d).text(function(a){return a.text}).style("opacity",1),e.ygridLines.exit().transition().duration(a).style("opacity",0).remove()},i.redrawGrid=function(a){var b=this,c=b.config,d=b.xv.bind(b),e=b.xgridLines.select("line"),f=b.xgridLines.select("text");
    return[(a?e.transition():e).attr("x1",c.axis_rotated?0:d).attr("x2",c.axis_rotated?b.width:d).attr("y1",c.axis_rotated?d:0).attr("y2",c.axis_rotated?d:b.height).style("opacity",1),(a?f.transition():f).attr("x",c.axis_rotated?b.yGridTextX.bind(b):b.xGridTextX.bind(b)).attr("y",d).text(function(a){return a.text}).style("opacity",1)]},i.showXGridFocus=function(a){var b=this,c=b.config,d=a.filter(function(a){return a&&m(a.value)}),e=b.main.selectAll("line."+l.xgridFocus),f=b.xx.bind(b);c.tooltip_show&&(b.hasType("scatter")||b.hasArcType()||(e.style("visibility","visible").data([d[0]]).attr(c.axis_rotated?"y1":"x1",f).attr(c.axis_rotated?"y2":"x2",f),b.smoothLines(e,"grid")))},i.hideXGridFocus=function(){this.main.select("line."+l.xgridFocus).style("visibility","hidden")},i.updateXgridFocus=function(){var a=this,b=a.config;a.main.select("line."+l.xgridFocus).attr("x1",b.axis_rotated?0:-10).attr("x2",b.axis_rotated?a.width:-10).attr("y1",b.axis_rotated?-10:0).attr("y2",b.axis_rotated?-10:a.height)},i.generateGridData=function(a,b){var c,d,e,f,g=this,h=[],i=g.main.select("."+l.axisX).selectAll(".tick").size();if("year"===a)for(c=g.getXDomain(),d=c[0].getFullYear(),e=c[1].getFullYear(),f=d;f<=e;f++)h.push(new Date(f+"-01-01 00:00:00"));else h=b.ticks(10),h.length>i&&(h=h.filter(function(a){return(""+a).indexOf(".")<0}));return h},i.getGridFilterToRemove=function(a){return a?function(b){var c=!1;return[].concat(a).forEach(function(a){("value"in a&&b.value===a.value||"class"in a&&b.class===a.class)&&(c=!0)}),c}:function(){return!0}},i.removeGridLines=function(a,b){var c=this,d=c.config,e=c.getGridFilterToRemove(a),f=function(a){return!e(a)},g=b?l.xgridLines:l.ygridLines,h=b?l.xgridLine:l.ygridLine;c.main.select("."+g).selectAll("."+h).filter(e).transition().duration(d.transition_duration).style("opacity",0).remove(),b?d.grid_x_lines=d.grid_x_lines.filter(f):d.grid_y_lines=d.grid_y_lines.filter(f)},i.initTooltip=function(){var a,b=this,c=b.config;if(b.tooltip=b.selectChart.style("position","relative").append("div").attr("class",l.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),c.tooltip_init_show){if(b.isTimeSeries()&&o(c.tooltip_init_x)){for(c.tooltip_init_x=b.parseDate(c.tooltip_init_x),a=0;a<b.data.targets[0].values.length&&b.data.targets[0].values[a].x-c.tooltip_init_x!==0;a++);c.tooltip_init_x=a}b.tooltip.html(c.tooltip_contents.call(b,b.data.targets.map(function(a){return b.addName(a.values[c.tooltip_init_x])}),b.axis.getXAxisTickFormat(),b.getYFormat(b.hasArcType()),b.color)),b.tooltip.style("top",c.tooltip_init_position.top).style("left",c.tooltip_init_position.left).style("display","block")}},i.getTooltipContent=function(a,b,c,d){var e,f,g,h,i,j,k=this,l=k.config,m=l.tooltip_format_title||b,n=l.tooltip_format_name||function(a){return a},o=l.tooltip_format_value||c,p=k.isOrderAsc();if(0===l.data_groups.length)a.sort(function(a,b){var c=a?a.value:null,d=b?b.value:null;return p?c-d:d-c});else{var q=k.orderTargets(k.data.targets).map(function(a){return a.id});a.sort(function(a,b){var c=a?a.value:null,d=b?b.value:null;return c>0&&d>0&&(c=a?q.indexOf(a.id):null,d=b?q.indexOf(b.id):null),p?c-d:d-c})}for(f=0;f<a.length;f++)if(a[f]&&(a[f].value||0===a[f].value)&&(e||(g=y(m?m(a[f].x):a[f].x),e="<table class='"+k.CLASS.tooltip+"'>"+(g||0===g?"<tr><th colspan='2'>"+g+"</th></tr>":"")),h=y(o(a[f].value,a[f].ratio,a[f].id,a[f].index,a)),void 0!==h)){if(null===a[f].name)continue;i=y(n(a[f].name,a[f].ratio,a[f].id,a[f].index)),j=k.levelColor?k.levelColor(a[f].value):d(a[f].id),e+="<tr class='"+k.CLASS.tooltipName+"-"+k.getTargetSelectorSuffix(a[f].id)+"'>",e+="<td class='name'><span style='background-color:"+j+"'></span>"+i+"</td>",e+="<td class='value'>"+h+"</td>",e+="</tr>"}return e+"</table>"},i.tooltipPosition=function(a,b,c,d){var e,f,g,h,i,j=this,k=j.config,l=j.d3,m=j.hasArcType(),n=l.mouse(d);return m?(f=(j.width-(j.isLegendRight?j.getLegendWidth():0))/2+n[0],h=j.height/2+n[1]+20):(e=j.getSvgLeft(!0),k.axis_rotated?(f=e+n[0]+100,g=f+b,i=j.currentWidth-j.getCurrentPaddingRight(),h=j.x(a[0].x)+20):(f=e+j.getCurrentPaddingLeft(!0)+j.x(a[0].x)+20,g=f+b,i=e+j.currentWidth-j.getCurrentPaddingRight(),h=n[1]+15),g>i&&(f-=g-i+20),h+c>j.currentHeight&&(h-=c+30)),h<0&&(h=0),{top:h,left:f}},i.showTooltip=function(a,b){var c,d,e,f=this,g=f.config,h=f.hasArcType(),j=a.filter(function(a){return a&&m(a.value)}),k=g.tooltip_position||i.tooltipPosition;0!==j.length&&g.tooltip_show&&(f.tooltip.html(g.tooltip_contents.call(f,a,f.axis.getXAxisTickFormat(),f.getYFormat(h),f.color)).style("display","block"),c=f.tooltip.property("offsetWidth"),d=f.tooltip.property("offsetHeight"),e=k.call(this,j,c,d,b),f.tooltip.style("top",e.top+"px").style("left",e.left+"px"))},i.hideTooltip=function(){this.tooltip.style("display","none")},i.initLegend=function(){var a=this;return a.legendItemTextBox={},a.legendHasRendered=!1,a.legend=a.svg.append("g").attr("transform",a.getTranslate("legend")),a.config.legend_show?void a.updateLegendWithDefaults():(a.legend.style("visibility","hidden"),void(a.hiddenLegendIds=a.mapToIds(a.data.targets)))},i.updateLegendWithDefaults=function(){var a=this;a.updateLegend(a.mapToIds(a.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},i.updateSizeForLegend=function(a,b){var c=this,d=c.config,e={top:c.isLegendTop?c.getCurrentPaddingTop()+d.legend_inset_y+5.5:c.currentHeight-a-c.getCurrentPaddingBottom()-d.legend_inset_y,left:c.isLegendLeft?c.getCurrentPaddingLeft()+d.legend_inset_x+.5:c.currentWidth-b-c.getCurrentPaddingRight()-d.legend_inset_x+.5};c.margin3={top:c.isLegendRight?0:c.isLegendInset?e.top:c.currentHeight-a,right:NaN,bottom:0,left:c.isLegendRight?c.currentWidth-b:c.isLegendInset?e.left:0}},i.transformLegend=function(a){var b=this;(a?b.legend.transition():b.legend).attr("transform",b.getTranslate("legend"))},i.updateLegendStep=function(a){this.legendStep=a},i.updateLegendItemWidth=function(a){this.legendItemWidth=a},i.updateLegendItemHeight=function(a){this.legendItemHeight=a},i.getLegendWidth=function(){var a=this;return a.config.legend_show?a.isLegendRight||a.isLegendInset?a.legendItemWidth*(a.legendStep+1):a.currentWidth:0},i.getLegendHeight=function(){var a=this,b=0;return a.config.legend_show&&(b=a.isLegendRight?a.currentHeight:Math.max(20,a.legendItemHeight)*(a.legendStep+1)),b},i.opacityForLegend=function(a){return a.classed(l.legendItemHidden)?null:1},i.opacityForUnfocusedLegend=function(a){return a.classed(l.legendItemHidden)?null:.3},i.toggleFocusLegend=function(a,b){var c=this;a=c.mapToTargetIds(a),c.legend.selectAll("."+l.legendItem).filter(function(b){return a.indexOf(b)>=0}).classed(l.legendItemFocused,b).transition().duration(100).style("opacity",function(){var a=b?c.opacityForLegend:c.opacityForUnfocusedLegend;return a.call(c,c.d3.select(this))})},i.revertLegend=function(){var a=this,b=a.d3;a.legend.selectAll("."+l.legendItem).classed(l.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return a.opacityForLegend(b.select(this))})},i.showLegend=function(a){var b=this,c=b.config;c.legend_show||(c.legend_show=!0,b.legend.style("visibility","visible"),b.legendHasRendered||b.updateLegendWithDefaults()),b.removeHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("visibility","visible").transition().style("opacity",function(){return b.opacityForLegend(b.d3.select(this))})},i.hideLegend=function(a){var b=this,c=b.config;c.legend_show&&u(a)&&(c.legend_show=!1,b.legend.style("visibility","hidden")),b.addHiddenLegendIds(a),b.legend.selectAll(b.selectorLegends(a)).style("opacity",0).style("visibility","hidden")},i.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},i.updateLegend=function(a,b,c){function d(a,b){return y.legendItemTextBox[b]||(y.legendItemTextBox[b]=y.getTextRect(a.textContent,l.legendItem,a)),y.legendItemTextBox[b]}function e(b,c,e){function f(a,b){b||(g=(o-G-n)/2,g<E&&(g=(o-n)/2,G=0,M++)),L[a]=M,K[M]=y.isLegendInset?10:g,H[a]=G,G+=n}var g,h,i=0===e,j=e===a.length-1,k=d(b,c),l=k.width+F+(!j||y.isLegendRight||y.isLegendInset?B:0)+z.legend_padding,m=k.height+A,n=y.isLegendRight||y.isLegendInset?m:l,o=y.isLegendRight||y.isLegendInset?y.getLegendHeight():y.getLegendWidth();return i&&(G=0,M=0,C=0,D=0),z.legend_show&&!y.isLegendToShow(c)?void(I[c]=J[c]=L[c]=H[c]=0):(I[c]=l,J[c]=m,(!C||l>=C)&&(C=l),(!D||m>=D)&&(D=m),h=y.isLegendRight||y.isLegendInset?D:C,void(z.legend_equally?(Object.keys(I).forEach(function(a){I[a]=C}),Object.keys(J).forEach(function(a){J[a]=D}),g=(o-h*a.length)/2,g<E?(G=0,M=0,a.forEach(function(a){f(a)})):f(c,!0)):f(c)))}var f,g,h,i,j,k,m,n,o,p,r,s,t,u,v,x,y=this,z=y.config,A=4,B=10,C=0,D=0,E=10,F=z.legend_item_tile_width+5,G=0,H={},I={},J={},K=[0],L={},M=0;a=a.filter(function(a){return!q(z.data_names[a])||null!==z.data_names[a]}),b=b||{},r=w(b,"withTransition",!0),s=w(b,"withTransitionForTransform",!0),y.isLegendInset&&(M=z.legend_inset_step?z.legend_inset_step:a.length,y.updateLegendStep(M)),y.isLegendRight?(f=function(a){return C*L[a]},i=function(a){return K[L[a]]+H[a]}):y.isLegendInset?(f=function(a){return C*L[a]+10},i=function(a){return K[L[a]]+H[a]}):(f=function(a){return K[L[a]]+H[a]},i=function(a){return D*L[a]}),g=function(a,b){return f(a,b)+4+z.legend_item_tile_width},j=function(a,b){return i(a,b)+9},h=function(a,b){return f(a,b)},k=function(a,b){return i(a,b)-5},m=function(a,b){return f(a,b)-2},n=function(a,b){return f(a,b)-2+z.legend_item_tile_width},o=function(a,b){return i(a,b)+4},p=y.legend.selectAll("."+l.legendItem).data(a).enter().append("g").attr("class",function(a){return y.generateClass(l.legendItem,a)}).style("visibility",function(a){return y.isLegendToShow(a)?"visible":"hidden"}).style("cursor","pointer").on("click",function(a){z.legend_item_onclick?z.legend_item_onclick.call(y,a):y.d3.event.altKey?(y.api.hide(),y.api.show(a)):(y.api.toggle(a),y.isTargetToShow(a)?y.api.focus(a):y.api.revert())}).on("mouseover",function(a){z.legend_item_onmouseover?z.legend_item_onmouseover.call(y,a):(y.d3.select(this).classed(l.legendItemFocused,!0),!y.transiting&&y.isTargetToShow(a)&&y.api.focus(a))}).on("mouseout",function(a){z.legend_item_onmouseout?z.legend_item_onmouseout.call(y,a):(y.d3.select(this).classed(l.legendItemFocused,!1),y.api.revert())}),p.append("text").text(function(a){return q(z.data_names[a])?z.data_names[a]:a}).each(function(a,b){e(this,a,b)}).style("pointer-events","none").attr("x",y.isLegendRight||y.isLegendInset?g:-200).attr("y",y.isLegendRight||y.isLegendInset?-200:j),p.append("rect").attr("class",l.legendItemEvent).style("fill-opacity",0).attr("x",y.isLegendRight||y.isLegendInset?h:-200).attr("y",y.isLegendRight||y.isLegendInset?-200:k),p.append("line").attr("class",l.legendItemTile).style("stroke",y.color).style("pointer-events","none").attr("x1",y.isLegendRight||y.isLegendInset?m:-200).attr("y1",y.isLegendRight||y.isLegendInset?-200:o).attr("x2",y.isLegendRight||y.isLegendInset?n:-200).attr("y2",y.isLegendRight||y.isLegendInset?-200:o).attr("stroke-width",z.legend_item_tile_height),x=y.legend.select("."+l.legendBackground+" rect"),y.isLegendInset&&C>0&&0===x.size()&&(x=y.legend.insert("g","."+l.legendItem).attr("class",l.legendBackground).append("rect")),t=y.legend.selectAll("text").data(a).text(function(a){return q(z.data_names[a])?z.data_names[a]:a}).each(function(a,b){e(this,a,b)}),(r?t.transition():t).attr("x",g).attr("y",j),u=y.legend.selectAll("rect."+l.legendItemEvent).data(a),(r?u.transition():u).attr("width",function(a){return I[a]}).attr("height",function(a){return J[a]}).attr("x",h).attr("y",k),v=y.legend.selectAll("line."+l.legendItemTile).data(a),(r?v.transition():v).style("stroke",y.color).attr("x1",m).attr("y1",o).attr("x2",n).attr("y2",o),x&&(r?x.transition():x).attr("height",y.getLegendHeight()-12).attr("width",C*(M+1)+10),y.legend.selectAll("."+l.legendItem).classed(l.legendItemHidden,function(a){return!y.isTargetToShow(a)}),y.updateLegendItemWidth(C),y.updateLegendItemHeight(D),y.updateLegendStep(M),y.updateSizes(),y.updateScales(),y.updateSvgSize(),y.transformAll(s,c),y.legendHasRendered=!0},i.initTitle=function(){var a=this;a.title=a.svg.append("text").text(a.config.title_text).attr("class",a.CLASS.title)},i.redrawTitle=function(){var a=this;a.title.attr("x",a.xForTitle.bind(a)).attr("y",a.yForTitle.bind(a))},i.xForTitle=function(){var a,b=this,c=b.config,d=c.title_position||"left";return a=d.indexOf("right")>=0?b.currentWidth-b.getTextRect(b.title.node().textContent,b.CLASS.title,b.title.node()).width-c.title_padding.right:d.indexOf("center")>=0?(b.currentWidth-b.getTextRect(b.title.node().textContent,b.CLASS.title,b.title.node()).width)/2:c.title_padding.left},i.yForTitle=function(){var a=this;return a.config.title_padding.top+a.getTextRect(a.title.node().textContent,a.CLASS.title,a.title.node()).height},i.getTitlePadding=function(){var a=this;return a.yForTitle()+a.config.title_padding.bottom},c(b,f),f.prototype.init=function(){var a=this.owner,b=a.config,c=a.main;a.axes.x=c.append("g").attr("class",l.axis+" "+l.axisX).attr("clip-path",a.clipPathForXAxis).attr("transform",a.getTranslate("x")).style("visibility",b.axis_x_show?"visible":"hidden"),a.axes.x.append("text").attr("class",l.axisXLabel).attr("transform",b.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),a.axes.y=c.append("g").attr("class",l.axis+" "+l.axisY).attr("clip-path",b.axis_y_inner?"":a.clipPathForYAxis).attr("transform",a.getTranslate("y")).style("visibility",b.axis_y_show?"visible":"hidden"),a.axes.y.append("text").attr("class",l.axisYLabel).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),a.axes.y2=c.append("g").attr("class",l.axis+" "+l.axisY2).attr("transform",a.getTranslate("y2")).style("visibility",b.axis_y2_show?"visible":"hidden"),a.axes.y2.append("text").attr("class",l.axisY2Label).attr("transform",b.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},f.prototype.getXAxis=function(a,b,c,d,e,f,h){var i=this.owner,j=i.config,k={isCategory:i.isCategorized(),withOuterTick:e,tickMultiline:j.axis_x_tick_multiline,tickWidth:j.axis_x_tick_width,tickTextRotate:h?0:j.axis_x_tick_rotate,withoutTransition:f},l=g(i.d3,k).scale(a).orient(b);return i.isTimeSeries()&&d&&"function"!=typeof d&&(d=d.map(function(a){return i.parseDate(a)})),l.tickFormat(c).tickValues(d),i.isCategorized()&&(l.tickCentered(j.axis_x_tick_centered),u(j.axis_x_tick_culling)&&(j.axis_x_tick_culling=!1)),l},f.prototype.updateXAxisTickValues=function(a,b){var c,d=this.owner,e=d.config;return(e.axis_x_tick_fit||e.axis_x_tick_count)&&(c=this.generateTickValues(d.mapTargetsToUniqueXs(a),e.axis_x_tick_count,d.isTimeSeries())),b?b.tickValues(c):(d.xAxis.tickValues(c),d.subXAxis.tickValues(c)),c},f.prototype.getYAxis=function(a,b,c,d,e,f,h){var i=this.owner,j=i.config,k={withOuterTick:e,withoutTransition:f,tickTextRotate:h?0:j.axis_y_tick_rotate},l=g(i.d3,k).scale(a).orient(b).tickFormat(c);return i.isTimeSeriesY()?l.ticks(i.d3.time[j.axis_y_tick_time_value],j.axis_y_tick_time_interval):l.tickValues(d),l},f.prototype.getId=function(a){var b=this.owner.config;return a in b.data_axes?b.data_axes[a]:"y"},f.prototype.getXAxisTickFormat=function(){var a=this.owner,b=a.config,c=a.isTimeSeries()?a.defaultAxisTimeFormat:a.isCategorized()?a.categoryName:function(a){return a<0?a.toFixed(0):a};return b.axis_x_tick_format&&(n(b.axis_x_tick_format)?c=b.axis_x_tick_format:a.isTimeSeries()&&(c=function(c){return c?a.axisTimeFormat(b.axis_x_tick_format)(c):""})),n(c)?function(b){return c.call(a,b)}:c},f.prototype.getTickValues=function(a,b){return a?a:b?b.tickValues():void 0},f.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},f.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},f.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},f.prototype.getLabelOptionByAxisId=function(a){var b,c=this.owner,d=c.config;return"y"===a?b=d.axis_y_label:"y2"===a?b=d.axis_y2_label:"x"===a&&(b=d.axis_x_label),b},f.prototype.getLabelText=function(a){var b=this.getLabelOptionByAxisId(a);return o(b)?b:b?b.text:null},f.prototype.setLabelText=function(a,b){var c=this.owner,d=c.config,e=this.getLabelOptionByAxisId(a);o(e)?"y"===a?d.axis_y_label=b:"y2"===a?d.axis_y2_label=b:"x"===a&&(d.axis_x_label=b):e&&(e.text=b)},f.prototype.getLabelPosition=function(a,b){var c=this.getLabelOptionByAxisId(a),d=c&&"object"==typeof c&&c.position?c.position:b;return{isInner:d.indexOf("inner")>=0,isOuter:d.indexOf("outer")>=0,isLeft:d.indexOf("left")>=0,isCenter:d.indexOf("center")>=0,isRight:d.indexOf("right")>=0,isTop:d.indexOf("top")>=0,isMiddle:d.indexOf("middle")>=0,isBottom:d.indexOf("bottom")>=0}},f.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},f.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},f.prototype.getLabelPositionById=function(a){return"y2"===a?this.getY2AxisLabelPosition():"y"===a?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},f.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},f.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},f.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},f.prototype.xForAxisLabel=function(a,b){var c=this.owner;return a?b.isLeft?0:b.isCenter?c.width/2:c.width:b.isBottom?-c.height:b.isMiddle?-c.height/2:0},f.prototype.dxForAxisLabel=function(a,b){return a?b.isLeft?"0.5em":b.isRight?"-0.5em":"0":b.isTop?"-0.5em":b.isBottom?"0.5em":"0"},f.prototype.textAnchorForAxisLabel=function(a,b){return a?b.isLeft?"start":b.isCenter?"middle":"end":b.isBottom?"start":b.isMiddle?"middle":"end"},f.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.dyForXAxisLabel=function(){var a=this.owner,b=a.config,c=this.getXAxisLabelPosition();return b.axis_rotated?c.isInner?"1.2em":-25-this.getMaxTickWidth("x"):c.isInner?"-0.5em":b.axis_x_height?b.axis_x_height-10:"3em"},f.prototype.dyForYAxisLabel=function(){var a=this.owner,b=this.getYAxisLabelPosition();return a.config.axis_rotated?b.isInner?"-0.5em":"3em":b.isInner?"1.2em":-10-(a.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},f.prototype.dyForY2AxisLabel=function(){var a=this.owner,b=this.getY2AxisLabelPosition();return a.config.axis_rotated?b.isInner?"1.2em":"-2.2em":b.isInner?"-0.5em":15+(a.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},f.prototype.textAnchorForXAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(!a.config.axis_rotated,this.getXAxisLabelPosition())},f.prototype.textAnchorForYAxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getYAxisLabelPosition())},f.prototype.textAnchorForY2AxisLabel=function(){var a=this.owner;return this.textAnchorForAxisLabel(a.config.axis_rotated,this.getY2AxisLabelPosition())},f.prototype.getMaxTickWidth=function(a,b){var c,d,e,f,g,h=this.owner,i=h.config,j=0;return b&&h.currentMaxTickWidths[a]?h.currentMaxTickWidths[a]:(h.svg&&(c=h.filterTargetsToShow(h.data.targets),"y"===a?(d=h.y.copy().domain(h.getYDomain(c,"y")),e=this.getYAxis(d,h.yOrient,i.axis_y_tick_format,h.yAxisTickValues,!1,!0,!0)):"y2"===a?(d=h.y2.copy().domain(h.getYDomain(c,"y2")),e=this.getYAxis(d,h.y2Orient,i.axis_y2_tick_format,h.y2AxisTickValues,!1,!0,!0)):(d=h.x.copy().domain(h.getXDomain(c)),e=this.getXAxis(d,h.xOrient,h.xAxisTickFormat,h.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(c,e)),f=h.d3.select("body").append("div").classed("c3",!0),g=f.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),g.append("g").call(e).each(function(){h.d3.select(this).selectAll("text").each(function(){var a=this.getBoundingClientRect();j<a.width&&(j=a.width)}),f.remove()})),h.currentMaxTickWidths[a]=j<=0?h.currentMaxTickWidths[a]:j,h.currentMaxTickWidths[a])},f.prototype.updateLabels=function(a){var b=this.owner,c=b.main.select("."+l.axisX+" ."+l.axisXLabel),d=b.main.select("."+l.axisY+" ."+l.axisYLabel),e=b.main.select("."+l.axisY2+" ."+l.axisY2Label);(a?c.transition():c).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(a?d.transition():d).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(a?e.transition():e).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},f.prototype.getPadding=function(a,b,c,d){var e="number"==typeof a?a:a[b];return m(e)?"ratio"===a.unit?a[b]*d:this.convertPixelsToAxisPadding(e,d):c},f.prototype.convertPixelsToAxisPadding=function(a,b){var c=this.owner,d=c.config.axis_rotated?c.width:c.height;return b*(a/d)},f.prototype.generateTickValues=function(a,b,c){var d,e,f,g,h,i,j,k=a;if(b)if(d=n(b)?b():b,1===d)k=[a[0]];else if(2===d)k=[a[0],a[a.length-1]];else if(d>2){for(g=d-2,e=a[0],f=a[a.length-1],h=(f-e)/(g+1),k=[e],i=0;i<g;i++)j=+e+h*(i+1),k.push(c?new Date(j):j);k.push(f)}return c||(k=k.sort(function(a,b){return a-b})),k},f.prototype.generateTransitions=function(a){var b=this.owner,c=b.axes;return{axisX:a?c.x.transition().duration(a):c.x,axisY:a?c.y.transition().duration(a):c.y,axisY2:a?c.y2.transition().duration(a):c.y2,axisSubX:a?c.subx.transition().duration(a):c.subx}},f.prototype.redraw=function(a,b){var c=this.owner;c.axes.x.style("opacity",b?0:1),c.axes.y.style("opacity",b?0:1),c.axes.y2.style("opacity",b?0:1),c.axes.subx.style("opacity",b?0:1),a.axisX.call(c.xAxis),a.axisY.call(c.yAxis),a.axisY2.call(c.y2Axis),a.axisSubX.call(c.subXAxis)},i.getClipPath=function(b){var c=a.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(c?"":document.URL.split("#")[0])+"#"+b+")"},i.appendClip=function(a,b){return a.append("clipPath").attr("id",b).append("rect")},i.getAxisClipX=function(a){var b=Math.max(30,this.margin.left);return a?-(1+b):-(b-1)},i.getAxisClipY=function(a){return a?-20:-this.margin.top},i.getXAxisClipX=function(){var a=this;return a.getAxisClipX(!a.config.axis_rotated)},i.getXAxisClipY=function(){var a=this;return a.getAxisClipY(!a.config.axis_rotated)},i.getYAxisClipX=function(){var a=this;return a.config.axis_y_inner?-1:a.getAxisClipX(a.config.axis_rotated)},i.getYAxisClipY=function(){var a=this;return a.getAxisClipY(a.config.axis_rotated)},i.getAxisClipWidth=function(a){var b=this,c=Math.max(30,b.margin.left),d=Math.max(30,b.margin.right);return a?b.width+2+c+d:b.margin.left+20},i.getAxisClipHeight=function(a){return(a?this.margin.bottom:this.margin.top+this.height)+20},i.getXAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(!a.config.axis_rotated)},i.getXAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(!a.config.axis_rotated)},i.getYAxisClipWidth=function(){var a=this;return a.getAxisClipWidth(a.config.axis_rotated)+(a.config.axis_y_inner?20:0)},i.getYAxisClipHeight=function(){var a=this;return a.getAxisClipHeight(a.config.axis_rotated)},i.initPie=function(){var a=this,b=a.d3,c=a.config;a.pie=b.layout.pie().value(function(a){return a.values.reduce(function(a,b){return a+b.value},0)}),c.data_order||a.pie.sort(null)},i.updateRadius=function(){var a=this,b=a.config,c=b.gauge_width||b.donut_width;a.radiusExpanded=Math.min(a.arcWidth,a.arcHeight)/2,a.radius=.95*a.radiusExpanded,a.innerRadiusRatio=c?(a.radius-c)/a.radius:.6,a.innerRadius=a.hasType("donut")||a.hasType("gauge")?a.radius*a.innerRadiusRatio:0},i.updateArc=function(){var a=this;a.svgArc=a.getSvgArc(),a.svgArcExpanded=a.getSvgArcExpanded(),a.svgArcExpandedSub=a.getSvgArcExpanded(.98)},i.updateAngle=function(a){var b,c,d,e,f=this,g=f.config,h=!1,i=0;return g?(f.pie(f.filterTargetsToShow(f.data.targets)).forEach(function(b){h||b.data.id!==a.data.id||(h=!0,a=b,a.index=i),i++}),isNaN(a.startAngle)&&(a.startAngle=0),isNaN(a.endAngle)&&(a.endAngle=a.startAngle),f.isGaugeType(a.data)&&(b=g.gauge_min,c=g.gauge_max,d=Math.PI*(g.gauge_fullCircle?2:1)/(c-b),e=a.value<b?0:a.value<c?a.value-b:c-b,a.startAngle=g.gauge_startingAngle,a.endAngle=a.startAngle+d*e),h?a:null):null},i.getSvgArc=function(){var a=this,b=a.d3.svg.arc().outerRadius(a.radius).innerRadius(a.innerRadius),c=function(c,d){var e;return d?b(c):(e=a.updateAngle(c),e?b(e):"M 0 0")};return c.centroid=b.centroid,c},i.getSvgArcExpanded=function(a){var b=this,c=b.d3.svg.arc().outerRadius(b.radiusExpanded*(a?a:1)).innerRadius(b.innerRadius);return function(a){var d=b.updateAngle(a);return d?c(d):"M 0 0"}},i.getArc=function(a,b,c){return c||this.isArcType(a.data)?this.svgArc(a,b):"M 0 0"},i.transformForArcLabel=function(a){var b,c,d,e,f,g=this,h=g.config,i=g.updateAngle(a),j="";return i&&!g.hasType("gauge")&&(b=this.svgArc.centroid(i),c=isNaN(b[0])?0:b[0],d=isNaN(b[1])?0:b[1],e=Math.sqrt(c*c+d*d),f=g.hasType("donut")&&h.donut_label_ratio?n(h.donut_label_ratio)?h.donut_label_ratio(a,g.radius,e):h.donut_label_ratio:g.hasType("pie")&&h.pie_label_ratio?n(h.pie_label_ratio)?h.pie_label_ratio(a,g.radius,e):h.pie_label_ratio:g.radius&&e?(36/g.radius>.375?1.175-36/g.radius:.8)*g.radius/e:0,j="translate("+c*f+","+d*f+")"),j},i.getArcRatio=function(a){var b=this,c=b.config,d=Math.PI*(b.hasType("gauge")&&!c.gauge_fullCircle?1:2);return a?(a.endAngle-a.startAngle)/d:null},i.convertToArcData=function(a){return this.addName({id:a.data.id,value:a.value,ratio:this.getArcRatio(a),index:a.index})},i.textForArcLabel=function(a){var b,c,d,e,f,g=this;return g.shouldShowArcLabel()?(b=g.updateAngle(a),c=b?b.value:null,d=g.getArcRatio(b),e=a.data.id,g.hasType("gauge")||g.meetsArcLabelThreshold(d)?(f=g.getArcLabelFormat(),f?f(c,d,e):g.defaultArcValueFormat(c,d)):""):""},i.expandArc=function(b){var c,d=this;return d.transiting?void(c=a.setInterval(function(){d.transiting||(a.clearInterval(c),d.legend.selectAll(".c3-legend-item-focused").size()>0&&d.expandArc(b))},10)):(b=d.mapToTargetIds(b),void d.svg.selectAll(d.selectorTargets(b,"."+l.chartArc)).each(function(a){d.shouldExpand(a.data.id)&&d.d3.select(this).selectAll("path").transition().duration(d.expandDuration(a.data.id)).attr("d",d.svgArcExpanded).transition().duration(2*d.expandDuration(a.data.id)).attr("d",d.svgArcExpandedSub).each(function(a){d.isDonutType(a.data)})}))},i.unexpandArc=function(a){var b=this;b.transiting||(a=b.mapToTargetIds(a),b.svg.selectAll(b.selectorTargets(a,"."+l.chartArc)).selectAll("path").transition().duration(function(a){return b.expandDuration(a.data.id)}).attr("d",b.svgArc),b.svg.selectAll("."+l.arc).style("opacity",1))},i.expandDuration=function(a){var b=this,c=b.config;return b.isDonutType(a)?c.donut_expand_duration:b.isGaugeType(a)?c.gauge_expand_duration:b.isPieType(a)?c.pie_expand_duration:50},i.shouldExpand=function(a){var b=this,c=b.config;return b.isDonutType(a)&&c.donut_expand||b.isGaugeType(a)&&c.gauge_expand||b.isPieType(a)&&c.pie_expand},i.shouldShowArcLabel=function(){var a=this,b=a.config,c=!0;return a.hasType("donut")?c=b.donut_label_show:a.hasType("pie")&&(c=b.pie_label_show),c},i.meetsArcLabelThreshold=function(a){var b=this,c=b.config,d=b.hasType("donut")?c.donut_label_threshold:c.pie_label_threshold;return a>=d},i.getArcLabelFormat=function(){var a=this,b=a.config,c=b.pie_label_format;return a.hasType("gauge")?c=b.gauge_label_format:a.hasType("donut")&&(c=b.donut_label_format),c},i.getArcTitle=function(){var a=this;return a.hasType("donut")?a.config.donut_title:""},i.updateTargetsForArc=function(a){var b,c,d=this,e=d.main,f=d.classChartArc.bind(d),g=d.classArcs.bind(d),h=d.classFocus.bind(d);b=e.select("."+l.chartArcs).selectAll("."+l.chartArc).data(d.pie(a)).attr("class",function(a){return f(a)+h(a.data)}),c=b.enter().append("g").attr("class",f),c.append("g").attr("class",g),c.append("text").attr("dy",d.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},i.initArc=function(){var a=this;a.arcs=a.main.select("."+l.chart).append("g").attr("class",l.chartArcs).attr("transform",a.getTranslate("arc")),a.arcs.append("text").attr("class",l.chartArcsTitle).style("text-anchor","middle").text(a.getArcTitle())},i.redrawArc=function(a,b,c){var d,e=this,f=e.d3,g=e.config,h=e.main;d=h.selectAll("."+l.arcs).selectAll("."+l.arc).data(e.arcData.bind(e)),d.enter().append("path").attr("class",e.classArc.bind(e)).style("fill",function(a){return e.color(a.data)}).style("cursor",function(a){return g.interaction_enabled&&g.data_selection_isselectable(a)?"pointer":null}).style("opacity",0).each(function(a){e.isGaugeType(a.data)&&(a.startAngle=a.endAngle=g.gauge_startingAngle),this._current=a}),d.attr("transform",function(a){return!e.isGaugeType(a.data)&&c?"scale(0)":""}).style("opacity",function(a){return a===this._current?0:1}).on("mouseover",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),b&&(c=e.convertToArcData(b),e.expandArc(b.data.id),e.api.focus(b.data.id),e.toggleFocusLegend(b.data.id,!0),e.config.data_onmouseover(c,this)))}:null).on("mousemove",g.interaction_enabled?function(a){var b,c,d=e.updateAngle(a);d&&(b=e.convertToArcData(d),c=[b],e.showTooltip(c,this))}:null).on("mouseout",g.interaction_enabled?function(a){var b,c;e.transiting||(b=e.updateAngle(a),b&&(c=e.convertToArcData(b),e.unexpandArc(b.data.id),e.api.revert(),e.revertLegend(),e.hideTooltip(),e.config.data_onmouseout(c,this)))}:null).on("click",g.interaction_enabled?function(a,b){var c,d=e.updateAngle(a);d&&(c=e.convertToArcData(d),e.toggleShape&&e.toggleShape(this,c,b),e.config.data_onclick.call(e.api,c,this))}:null).each(function(){e.transiting=!0}).transition().duration(a).attrTween("d",function(a){var b,c=e.updateAngle(a);return c?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),b=f.interpolate(this._current,c),this._current=b(0),function(c){var d=b(c);return d.data=a.data,e.getArc(d,!0)}):function(){return"M 0 0"}}).attr("transform",c?"scale(1)":"").style("fill",function(a){return e.levelColor?e.levelColor(a.data.values[0].value):e.color(a.data.id)}).style("opacity",1).call(e.endall,function(){e.transiting=!1}),d.exit().transition().duration(b).style("opacity",0).remove(),h.selectAll("."+l.chartArc).select("text").style("opacity",0).attr("class",function(a){return e.isGaugeType(a.data)?l.gaugeValue:""}).text(e.textForArcLabel.bind(e)).attr("transform",e.transformForArcLabel.bind(e)).style("font-size",function(a){return e.isGaugeType(a.data)?Math.round(e.radius/5)+"px":""}).transition().duration(a).style("opacity",function(a){return e.isTargetToShow(a.data.id)&&e.isArcType(a.data)?1:0}),h.select("."+l.chartArcsTitle).style("opacity",e.hasType("donut")||e.hasType("gauge")?1:0),
e.hasType("gauge")&&(e.arcs.select("."+l.chartArcsBackground).attr("d",function(){var a={data:[{value:g.gauge_max}],startAngle:g.gauge_startingAngle,endAngle:-1*g.gauge_startingAngle};return e.getArc(a,!0,!0)}),e.arcs.select("."+l.chartArcsGaugeUnit).attr("dy",".75em").text(g.gauge_label_show?g.gauge_units:""),e.arcs.select("."+l.chartArcsGaugeMin).attr("dx",-1*(e.innerRadius+(e.radius-e.innerRadius)/(g.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_min:""),e.arcs.select("."+l.chartArcsGaugeMax).attr("dx",e.innerRadius+(e.radius-e.innerRadius)/(g.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(g.gauge_label_show?g.gauge_max:""))},i.initGauge=function(){var a=this.arcs;this.hasType("gauge")&&(a.append("path").attr("class",l.chartArcsBackground),a.append("text").attr("class",l.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),a.append("text").attr("class",l.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},i.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},i.initRegion=function(){var a=this;a.region=a.main.append("g").attr("clip-path",a.clipPath).attr("class",l.regions)},i.updateRegion=function(a){var b=this,c=b.config;b.region.style("visibility",b.hasArcType()?"hidden":"visible"),b.mainRegion=b.main.select("."+l.regions).selectAll("."+l.region).data(c.regions),b.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),b.mainRegion.attr("class",b.classRegion.bind(b)),b.mainRegion.exit().transition().duration(a).style("opacity",0).remove()},i.redrawRegion=function(a){var b=this,c=b.mainRegion.selectAll("rect").each(function(){var a=b.d3.select(this.parentNode).datum();b.d3.select(this).datum(a)}),d=b.regionX.bind(b),e=b.regionY.bind(b),f=b.regionWidth.bind(b),g=b.regionHeight.bind(b);return[(a?c.transition():c).attr("x",d).attr("y",e).attr("width",f).attr("height",g).style("fill-opacity",function(a){return m(a.opacity)?a.opacity:.1})]},i.regionX=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"start"in a?e(a.start):0:d.axis_rotated?0:"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionY=function(a){var b,c=this,d=c.config,e="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?0:"end"in a?e(a.end):0:d.axis_rotated&&"start"in a?c.x(c.isTimeSeries()?c.parseDate(a.start):a.start):0},i.regionWidth=function(a){var b,c=this,d=c.config,e=c.regionX(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated&&"end"in a?f(a.end):c.width:d.axis_rotated?c.width:"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.width,b<e?0:b-e},i.regionHeight=function(a){var b,c=this,d=c.config,e=this.regionY(a),f="y"===a.axis?c.y:c.y2;return b="y"===a.axis||"y2"===a.axis?d.axis_rotated?c.height:"start"in a?f(a.start):c.height:d.axis_rotated&&"end"in a?c.x(c.isTimeSeries()?c.parseDate(a.end):a.end):c.height,b<e?0:b-e},i.isRegionOnX=function(a){return!a.axis||"x"===a.axis},i.drag=function(a){var b,c,d,e,f,g,h,i,j=this,k=j.config,m=j.main,n=j.d3;j.hasArcType()||k.data_selection_enabled&&(k.zoom_enabled&&!j.zoom.altDomain||k.data_selection_multiple&&(b=j.dragStart[0],c=j.dragStart[1],d=a[0],e=a[1],f=Math.min(b,d),g=Math.max(b,d),h=k.data_selection_grouped?j.margin.top:Math.min(c,e),i=k.data_selection_grouped?j.height:Math.max(c,e),m.select("."+l.dragarea).attr("x",f).attr("y",h).attr("width",g-f).attr("height",i-h),m.selectAll("."+l.shapes).selectAll("."+l.shape).filter(function(a){return k.data_selection_isselectable(a)}).each(function(a,b){var c,d,e,k,m,o,p=n.select(this),q=p.classed(l.SELECTED),r=p.classed(l.INCLUDED),s=!1;if(p.classed(l.circle))c=1*p.attr("cx"),d=1*p.attr("cy"),m=j.togglePoint,s=f<c&&c<g&&h<d&&d<i;else{if(!p.classed(l.bar))return;o=z(this),c=o.x,d=o.y,e=o.width,k=o.height,m=j.togglePath,s=!(g<c||c+e<f||i<d||d+k<h)}s^r&&(p.classed(l.INCLUDED,!r),p.classed(l.SELECTED,!q),m.call(j,!q,p,a,b))})))},i.dragstart=function(a){var b=this,c=b.config;b.hasArcType()||c.data_selection_enabled&&(b.dragStart=a,b.main.select("."+l.chart).append("rect").attr("class",l.dragarea).style("opacity",.1),b.dragging=!0)},i.dragend=function(){var a=this,b=a.config;a.hasArcType()||b.data_selection_enabled&&(a.main.select("."+l.dragarea).transition().duration(100).style("opacity",0).remove(),a.main.selectAll("."+l.shape).classed(l.INCLUDED,!1),a.dragging=!1)},i.selectPoint=function(a,b,c){var d=this,e=d.config,f=(e.axis_rotated?d.circleY:d.circleX).bind(d),g=(e.axis_rotated?d.circleX:d.circleY).bind(d),h=d.pointSelectR.bind(d);e.data_onselected.call(d.api,b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).data([b]).enter().append("circle").attr("class",function(){return d.generateClass(l.selectedCircle,c)}).attr("cx",f).attr("cy",g).attr("stroke",function(){return d.color(b)}).attr("r",function(a){return 1.4*d.pointSelectR(a)}).transition().duration(100).attr("r",h)},i.unselectPoint=function(a,b,c){var d=this;d.config.data_onunselected.call(d.api,b,a.node()),d.main.select("."+l.selectedCircles+d.getTargetSelectorSuffix(b.id)).selectAll("."+l.selectedCircle+"-"+c).transition().duration(100).attr("r",0).remove()},i.togglePoint=function(a,b,c,d){a?this.selectPoint(b,c,d):this.unselectPoint(b,c,d)},i.selectPath=function(a,b){var c=this;c.config.data_onselected.call(c,b,a.node()),c.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return c.d3.rgb(c.color(b)).brighter(.75)})},i.unselectPath=function(a,b){var c=this;c.config.data_onunselected.call(c,b,a.node()),c.config.interaction_brighten&&a.transition().duration(100).style("fill",function(){return c.color(b)})},i.togglePath=function(a,b,c,d){a?this.selectPath(b,c,d):this.unselectPath(b,c,d)},i.getToggle=function(a,b){var c,d=this;return"circle"===a.nodeName?c=d.isStepType(b)?function(){}:d.togglePoint:"path"===a.nodeName&&(c=d.togglePath),c},i.toggleShape=function(a,b,c){var d=this,e=d.d3,f=d.config,g=e.select(a),h=g.classed(l.SELECTED),i=d.getToggle(a,b).bind(d);f.data_selection_enabled&&f.data_selection_isselectable(b)&&(f.data_selection_multiple||d.main.selectAll("."+l.shapes+(f.data_selection_grouped?d.getTargetSelectorSuffix(b.id):"")).selectAll("."+l.shape).each(function(a,b){var c=e.select(this);c.classed(l.SELECTED)&&i(!1,c.classed(l.SELECTED,!1),a,b)}),g.classed(l.SELECTED,!h),i(!h,g,b,c))},i.initBrush=function(){var a=this,b=a.d3;a.brush=b.svg.brush().on("brush",function(){a.redrawForBrush()}),a.brush.update=function(){return a.context&&a.context.select("."+l.brush).call(this),this},a.brush.scale=function(b){return a.config.axis_rotated?this.y(b):this.x(b)}},i.initSubchart=function(){var a=this,b=a.config,c=a.context=a.svg.append("g").attr("transform",a.getTranslate("context")),d=b.subchart_show?"visible":"hidden";c.style("visibility",d),c.append("g").attr("clip-path",a.clipPathForSubchart).attr("class",l.chart),c.select("."+l.chart).append("g").attr("class",l.chartBars),c.select("."+l.chart).append("g").attr("class",l.chartLines),c.append("g").attr("clip-path",a.clipPath).attr("class",l.brush).call(a.brush),a.axes.subx=c.append("g").attr("class",l.axisX).attr("transform",a.getTranslate("subx")).attr("clip-path",b.axis_rotated?"":a.clipPathForXAxis).style("visibility",b.subchart_axis_x_show?d:"hidden")},i.updateTargetsForSubchart=function(a){var b,c,d,e,f=this,g=f.context,h=f.config,i=f.classChartBar.bind(f),j=f.classBars.bind(f),k=f.classChartLine.bind(f),m=f.classLines.bind(f),n=f.classAreas.bind(f);h.subchart_show&&(e=g.select("."+l.chartBars).selectAll("."+l.chartBar).data(a).attr("class",i),d=e.enter().append("g").style("opacity",0).attr("class",i),d.append("g").attr("class",j),c=g.select("."+l.chartLines).selectAll("."+l.chartLine).data(a).attr("class",k),b=c.enter().append("g").style("opacity",0).attr("class",k),b.append("g").attr("class",m),b.append("g").attr("class",n),g.selectAll("."+l.brush+" rect").attr(h.axis_rotated?"width":"height",h.axis_rotated?f.width2:f.height2))},i.updateBarForSubchart=function(a){var b=this;b.contextBar=b.context.selectAll("."+l.bars).selectAll("."+l.bar).data(b.barData.bind(b)),b.contextBar.enter().append("path").attr("class",b.classBar.bind(b)).style("stroke","none").style("fill",b.color),b.contextBar.style("opacity",b.initialOpacity.bind(b)),b.contextBar.exit().transition().duration(a).style("opacity",0).remove()},i.redrawBarForSubchart=function(a,b,c){(b?this.contextBar.transition(Math.random().toString()).duration(c):this.contextBar).attr("d",a).style("opacity",1)},i.updateLineForSubchart=function(a){var b=this;b.contextLine=b.context.selectAll("."+l.lines).selectAll("."+l.line).data(b.lineData.bind(b)),b.contextLine.enter().append("path").attr("class",b.classLine.bind(b)).style("stroke",b.color),b.contextLine.style("opacity",b.initialOpacity.bind(b)),b.contextLine.exit().transition().duration(a).style("opacity",0).remove()},i.redrawLineForSubchart=function(a,b,c){(b?this.contextLine.transition(Math.random().toString()).duration(c):this.contextLine).attr("d",a).style("opacity",1)},i.updateAreaForSubchart=function(a){var b=this,c=b.d3;b.contextArea=b.context.selectAll("."+l.areas).selectAll("."+l.area).data(b.lineData.bind(b)),b.contextArea.enter().append("path").attr("class",b.classArea.bind(b)).style("fill",b.color).style("opacity",function(){return b.orgAreaOpacity=+c.select(this).style("opacity"),0}),b.contextArea.style("opacity",0),b.contextArea.exit().transition().duration(a).style("opacity",0).remove()},i.redrawAreaForSubchart=function(a,b,c){(b?this.contextArea.transition(Math.random().toString()).duration(c):this.contextArea).attr("d",a).style("fill",this.color).style("opacity",this.orgAreaOpacity)},i.redrawSubchart=function(a,b,c,d,e,f,g){var h,i,j,k=this,l=k.d3,m=k.config;k.context.style("visibility",m.subchart_show?"visible":"hidden"),m.subchart_show&&(l.event&&"zoom"===l.event.type&&k.brush.extent(k.x.orgDomain()).update(),a&&(k.brush.empty()||k.brush.extent(k.x.orgDomain()).update(),h=k.generateDrawArea(e,!0),i=k.generateDrawBar(f,!0),j=k.generateDrawLine(g,!0),k.updateBarForSubchart(c),k.updateLineForSubchart(c),k.updateAreaForSubchart(c),k.redrawBarForSubchart(i,c,c),k.redrawLineForSubchart(j,c,c),k.redrawAreaForSubchart(h,c,c)))},i.redrawForBrush=function(){var a=this,b=a.x;a.redraw({withTransition:!1,withY:a.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),a.config.subchart_onbrush.call(a.api,b.orgDomain())},i.transformContext=function(a,b){var c,d=this;b&&b.axisSubX?c=b.axisSubX:(c=d.context.select("."+l.axisX),a&&(c=c.transition())),d.context.attr("transform",d.getTranslate("context")),c.attr("transform",d.getTranslate("subx"))},i.getDefaultExtent=function(){var a=this,b=a.config,c=n(b.axis_x_extent)?b.axis_x_extent(a.getXDomain(a.data.targets)):b.axis_x_extent;return a.isTimeSeries()&&(c=[a.parseDate(c[0]),a.parseDate(c[1])]),c},i.initZoom=function(){var a,b=this,c=b.d3,d=b.config;b.zoom=c.behavior.zoom().on("zoomstart",function(){a=c.event.sourceEvent,b.zoom.altDomain=c.event.sourceEvent.altKey?b.x.orgDomain():null,d.zoom_onzoomstart.call(b.api,c.event.sourceEvent)}).on("zoom",function(){b.redrawForZoom.call(b)}).on("zoomend",function(){var e=c.event.sourceEvent;e&&a.clientX===e.clientX&&a.clientY===e.clientY||(b.redrawEventRect(),b.updateZoom(),d.zoom_onzoomend.call(b.api,b.x.orgDomain()))}),b.zoom.scale=function(a){return d.axis_rotated?this.y(a):this.x(a)},b.zoom.orgScaleExtent=function(){var a=d.zoom_extent?d.zoom_extent:[1,10];return[a[0],Math.max(b.getMaxDataCount()/a[1],a[1])]},b.zoom.updateScaleExtent=function(){var a=t(b.x.orgDomain())/t(b.getZoomDomain()),c=this.orgScaleExtent();return this.scaleExtent([c[0]*a,c[1]*a]),this}},i.getZoomDomain=function(){var a=this,b=a.config,c=a.d3,d=c.min([a.orgXDomain[0],b.zoom_x_min]),e=c.max([a.orgXDomain[1],b.zoom_x_max]);return[d,e]},i.updateZoom=function(){var a=this,b=a.config.zoom_enabled?a.zoom:function(){};a.main.select("."+l.zoomRect).call(b).on("dblclick.zoom",null),a.main.selectAll("."+l.eventRect).call(b).on("dblclick.zoom",null)},i.redrawForZoom=function(){var a=this,b=a.d3,c=a.config,d=a.zoom,e=a.x;if(c.zoom_enabled&&0!==a.filterTargetsToShow(a.data.targets).length){if("mousemove"===b.event.sourceEvent.type&&d.altDomain)return e.domain(d.altDomain),void d.scale(e).updateScaleExtent();a.isCategorized()&&e.orgDomain()[0]===a.orgXDomain[0]&&e.domain([a.orgXDomain[0]-1e-10,e.orgDomain()[1]]),a.redraw({withTransition:!1,withY:c.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===b.event.sourceEvent.type&&(a.cancelClick=!0),c.zoom_onzoom.call(a.api,e.orgDomain())}},i.generateColor=function(){var a=this,b=a.config,c=a.d3,d=b.data_colors,e=v(b.color_pattern)?b.color_pattern:c.scale.category10().range(),f=b.data_color,g=[];return function(a){var b,c=a.id||a.data&&a.data.id||a;return d[c]instanceof Function?b=d[c](a):d[c]?b=d[c]:(g.indexOf(c)<0&&g.push(c),b=e[g.indexOf(c)%e.length],d[c]=b),f instanceof Function?f(b,a):b}},i.generateLevelColor=function(){var a=this,b=a.config,c=b.color_pattern,d=b.color_threshold,e="value"===d.unit,f=d.values&&d.values.length?d.values:[],g=d.max||100;return v(b.color_threshold)?function(a){var b,d,h=c[c.length-1];for(b=0;b<f.length;b++)if(d=e?a:100*a/g,d<f[b]){h=c[b];break}return h}:null},i.getYFormat=function(a){var b=this,c=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.yFormat,d=a&&!b.hasType("gauge")?b.defaultArcValueFormat:b.y2Format;return function(a,e,f){var g="y2"===b.axis.getId(f)?d:c;return g.call(b,a,e)}},i.yFormat=function(a){var b=this,c=b.config,d=c.axis_y_tick_format?c.axis_y_tick_format:b.defaultValueFormat;return d(a)},i.y2Format=function(a){var b=this,c=b.config,d=c.axis_y2_tick_format?c.axis_y2_tick_format:b.defaultValueFormat;return d(a)},i.defaultValueFormat=function(a){return m(a)?+a:""},i.defaultArcValueFormat=function(a,b){return(100*b).toFixed(1)+"%"},i.dataLabelFormat=function(a){var b,c=this,d=c.config.data_labels,e=function(a){return m(a)?+a:""};return b="function"==typeof d.format?d.format:"object"==typeof d.format?d.format[a]?d.format[a]===!0?e:d.format[a]:function(){return""}:e},i.hasCaches=function(a){for(var b=0;b<a.length;b++)if(!(a[b]in this.cache))return!1;return!0},i.addCache=function(a,b){this.cache[a]=this.cloneTarget(b)},i.getCaches=function(a){var b,c=[];for(b=0;b<a.length;b++)a[b]in this.cache&&c.push(this.cloneTarget(this.cache[a[b]]));return c};var l=i.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};i.generateClass=function(a,b){return" "+a+" "+a+this.getTargetSelectorSuffix(b)},i.classText=function(a){return this.generateClass(l.text,a.index)},i.classTexts=function(a){return this.generateClass(l.texts,a.id)},i.classShape=function(a){return this.generateClass(l.shape,a.index)},i.classShapes=function(a){return this.generateClass(l.shapes,a.id)},i.classLine=function(a){return this.classShape(a)+this.generateClass(l.line,a.id)},i.classLines=function(a){return this.classShapes(a)+this.generateClass(l.lines,a.id)},i.classCircle=function(a){return this.classShape(a)+this.generateClass(l.circle,a.index)},i.classCircles=function(a){return this.classShapes(a)+this.generateClass(l.circles,a.id)},i.classBar=function(a){return this.classShape(a)+this.generateClass(l.bar,a.index)},i.classBars=function(a){return this.classShapes(a)+this.generateClass(l.bars,a.id)},i.classArc=function(a){return this.classShape(a.data)+this.generateClass(l.arc,a.data.id)},i.classArcs=function(a){return this.classShapes(a.data)+this.generateClass(l.arcs,a.data.id)},i.classArea=function(a){return this.classShape(a)+this.generateClass(l.area,a.id)},i.classAreas=function(a){return this.classShapes(a)+this.generateClass(l.areas,a.id)},i.classRegion=function(a,b){return this.generateClass(l.region,b)+" "+("class"in a?a.class:"")},i.classEvent=function(a){return this.generateClass(l.eventRect,a.index)},i.classTarget=function(a){var b=this,c=b.config.data_classes[a],d="";return c&&(d=" "+l.target+"-"+c),b.generateClass(l.target,a)+d},i.classFocus=function(a){return this.classFocused(a)+this.classDefocused(a)},i.classFocused=function(a){return" "+(this.focusedTargetIds.indexOf(a.id)>=0?l.focused:"")},i.classDefocused=function(a){return" "+(this.defocusedTargetIds.indexOf(a.id)>=0?l.defocused:"")},i.classChartText=function(a){return l.chartText+this.classTarget(a.id)},i.classChartLine=function(a){return l.chartLine+this.classTarget(a.id)},i.classChartBar=function(a){return l.chartBar+this.classTarget(a.id)},i.classChartArc=function(a){return l.chartArc+this.classTarget(a.data.id)},i.getTargetSelectorSuffix=function(a){return a||0===a?("-"+a).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},i.selectorTarget=function(a,b){return(b||"")+"."+l.target+this.getTargetSelectorSuffix(a)},i.selectorTargets=function(a,b){var c=this;return a=a||[],a.length?a.map(function(a){return c.selectorTarget(a,b)}):null},i.selectorLegend=function(a){return"."+l.legendItem+this.getTargetSelectorSuffix(a)},i.selectorLegends=function(a){var b=this;return a&&a.length?a.map(function(a){return b.selectorLegend(a)}):null};var m=i.isValue=function(a){return a||0===a},n=i.isFunction=function(a){return"function"==typeof a},o=i.isString=function(a){return"string"==typeof a},p=i.isUndefined=function(a){return"undefined"==typeof a},q=i.isDefined=function(a){return"undefined"!=typeof a},r=i.ceil10=function(a){return 10*Math.ceil(a/10)},s=i.asHalfPixel=function(a){return Math.ceil(a)+.5},t=i.diffDomain=function(a){return a[1]-a[0]},u=i.isEmpty=function(a){return"undefined"==typeof a||null===a||o(a)&&0===a.length||"object"==typeof a&&0===Object.keys(a).length},v=i.notEmpty=function(a){return!i.isEmpty(a)},w=i.getOption=function(a,b,c){return q(a[b])?a[b]:c},x=i.hasValue=function(a,b){var c=!1;return Object.keys(a).forEach(function(d){a[d]===b&&(c=!0)}),c},y=i.sanitise=function(a){return"string"==typeof a?a.replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},z=i.getPathBox=function(a){var b=a.getBoundingClientRect(),c=[a.pathSegList.getItem(0),a.pathSegList.getItem(1)],d=c[0].x,e=Math.min(c[0].y,c[1].y);return{x:d,y:e,width:b.width,height:b.height}};h.focus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),this.revert(),this.defocus(),b.classed(l.focused,!0).classed(l.defocused,!1),c.hasArcType()&&c.expandArc(a),c.toggleFocusLegend(a,!0),c.focusedTargetIds=a,c.defocusedTargetIds=c.defocusedTargetIds.filter(function(b){return a.indexOf(b)<0})},h.defocus=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a.filter(c.isTargetToShow,c))),b.classed(l.focused,!1).classed(l.defocused,!0),c.hasArcType()&&c.unexpandArc(a),c.toggleFocusLegend(a,!1),c.focusedTargetIds=c.focusedTargetIds.filter(function(b){return a.indexOf(b)<0}),c.defocusedTargetIds=a},h.revert=function(a){var b,c=this.internal;a=c.mapToTargetIds(a),b=c.svg.selectAll(c.selectorTargets(a)),b.classed(l.focused,!1).classed(l.defocused,!1),c.hasArcType()&&c.unexpandArc(a),c.config.legend_show&&(c.showLegend(a.filter(c.isLegendToShow.bind(c))),c.legend.selectAll(c.selectorLegends(a)).filter(function(){return c.d3.select(this).classed(l.legendItemFocused)}).classed(l.legendItemFocused,!1)),c.focusedTargetIds=[],c.defocusedTargetIds=[]},h.show=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.removeHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",1,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",1)}),b.withLegend&&d.showLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.hide=function(a,b){var c,d=this.internal;a=d.mapToTargetIds(a),b=b||{},d.addHiddenTargetIds(a),c=d.svg.selectAll(d.selectorTargets(a)),c.transition().style("opacity",0,"important").call(d.endall,function(){c.style("opacity",null).style("opacity",0)}),b.withLegend&&d.hideLegend(a),d.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},h.toggle=function(a,b){var c=this,d=this.internal;d.mapToTargetIds(a).forEach(function(a){d.isTargetToShow(a)?c.hide(a,b):c.show(a,b)})},h.zoom=function(a){var b=this.internal;return a&&(b.isTimeSeries()&&(a=a.map(function(a){return b.parseDate(a)})),b.brush.extent(a),b.redraw({withUpdateXDomain:!0,withY:b.config.zoom_rescale}),b.config.zoom_onzoom.call(this,b.x.orgDomain())),b.brush.extent()},h.zoom.enable=function(a){var b=this.internal;b.config.zoom_enabled=a,b.updateAndRedraw()},h.unzoom=function(){var a=this.internal;a.brush.clear().update(),a.redraw({withUpdateXDomain:!0})},h.zoom.max=function(a){var b=this.internal,c=b.config,d=b.d3;return 0===a||a?void(c.zoom_x_max=d.max([b.orgXDomain[1],a])):c.zoom_x_max},h.zoom.min=function(a){var b=this.internal,c=b.config,d=b.d3;return 0===a||a?void(c.zoom_x_min=d.min([b.orgXDomain[0],a])):c.zoom_x_min},h.zoom.range=function(a){return arguments.length?(q(a.max)&&this.domain.max(a.max),void(q(a.min)&&this.domain.min(a.min))):{max:this.domain.max(),min:this.domain.min()}},h.load=function(a){var b=this.internal,c=b.config;return a.xs&&b.addXs(a.xs),"names"in a&&h.data.names.bind(this)(a.names),"classes"in a&&Object.keys(a.classes).forEach(function(b){c.data_classes[b]=a.classes[b]}),"categories"in a&&b.isCategorized()&&(c.axis_x_categories=a.categories),"axes"in a&&Object.keys(a.axes).forEach(function(b){c.data_axes[b]=a.axes[b]}),"colors"in a&&Object.keys(a.colors).forEach(function(b){c.data_colors[b]=a.colors[b]}),"cacheIds"in a&&b.hasCaches(a.cacheIds)?void b.load(b.getCaches(a.cacheIds),a.done):void("unload"in a?b.unload(b.mapToTargetIds("boolean"==typeof a.unload&&a.unload?null:a.unload),function(){b.loadFromArgs(a)}):b.loadFromArgs(a))},h.unload=function(a){var b=this.internal;a=a||{},a instanceof Array?a={ids:a}:"string"==typeof a&&(a={ids:[a]}),b.unload(b.mapToTargetIds(a.ids),function(){b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),a.done&&a.done()})},h.flow=function(a){var b,c,d,e,f,g,h,i,j=this.internal,k=[],l=j.getMaxDataCount(),n=0,o=0;if(a.json)c=j.convertJsonToData(a.json,a.keys);else if(a.rows)c=j.convertRowsToData(a.rows);else{if(!a.columns)return;c=j.convertColumnsToData(a.columns)}b=j.convertDataToTargets(c,!0),j.data.targets.forEach(function(a){var c,d,e=!1;for(c=0;c<b.length;c++)if(a.id===b[c].id){for(e=!0,a.values[a.values.length-1]&&(o=a.values[a.values.length-1].index+1),n=b[c].values.length,d=0;d<n;d++)b[c].values[d].index=o+d,j.isTimeSeries()||(b[c].values[d].x=o+d);a.values=a.values.concat(b[c].values),b.splice(c,1);break}e||k.push(a.id)}),j.data.targets.forEach(function(a){var b,c;for(b=0;b<k.length;b++)if(a.id===k[b])for(o=a.values[a.values.length-1].index+1,c=0;c<n;c++)a.values.push({id:a.id,index:o+c,x:j.isTimeSeries()?j.getOtherTargetX(o+c):o+c,value:null})}),j.data.targets.length&&b.forEach(function(a){var b,c=[];for(b=j.data.targets[0].values[0].index;b<o;b++)c.push({id:a.id,index:b,x:j.isTimeSeries()?j.getOtherTargetX(b):b,value:null});a.values.forEach(function(a){a.index+=o,j.isTimeSeries()||(a.x+=o)}),a.values=c.concat(a.values)}),j.data.targets=j.data.targets.concat(b),d=j.getMaxDataCount(),f=j.data.targets[0],g=f.values[0],q(a.to)?(n=0,i=j.isTimeSeries()?j.parseDate(a.to):a.to,f.values.forEach(function(a){a.x<i&&n++})):q(a.length)&&(n=a.length),l?1===l&&j.isTimeSeries()&&(h=(f.values[f.values.length-1].x-g.x)/2,e=[new Date(+g.x-h),new Date(+g.x+h)],j.updateXDomain(null,!0,!0,!1,e)):(h=j.isTimeSeries()?f.values.length>1?f.values[f.values.length-1].x-g.x:g.x-j.getXDomain(j.data.targets)[0]:1,e=[g.x-h,g.x],j.updateXDomain(null,!0,!0,!1,e)),j.updateTargets(j.data.targets),j.redraw({flow:{index:g.index,length:n,duration:m(a.duration)?a.duration:j.config.transition_duration,done:a.done,orgDataCount:l},withLegend:!0,withTransition:l>1,withTrimXDomain:!1,withUpdateXAxis:!0})},i.generateFlow=function(a){var b=this,c=b.config,d=b.d3;return function(){var e,f,g,h=a.targets,i=a.flow,j=a.drawBar,k=a.drawLine,m=a.drawArea,n=a.cx,o=a.cy,p=a.xv,q=a.xForText,r=a.yForText,s=a.duration,u=1,v=i.index,w=i.length,x=b.getValueOnIndex(b.data.targets[0].values,v),y=b.getValueOnIndex(b.data.targets[0].values,v+w),z=b.x.domain(),A=i.duration||s,B=i.done||function(){},C=b.generateWait(),D=b.xgrid||d.selectAll([]),E=b.xgridLines||d.selectAll([]),F=b.mainRegion||d.selectAll([]),G=b.mainText||d.selectAll([]),H=b.mainBar||d.selectAll([]),I=b.mainLine||d.selectAll([]),J=b.mainArea||d.selectAll([]),K=b.mainCircle||d.selectAll([]);b.flowing=!0,b.data.targets.forEach(function(a){a.values.splice(0,w)}),g=b.updateXDomain(h,!0,!0),b.updateXGrid&&b.updateXGrid(!0),i.orgDataCount?e=1===i.orgDataCount||(x&&x.x)===(y&&y.x)?b.x(z[0])-b.x(g[0]):b.isTimeSeries()?b.x(z[0])-b.x(g[0]):b.x(x.x)-b.x(y.x):1!==b.data.targets[0].values.length?e=b.x(z[0])-b.x(g[0]):b.isTimeSeries()?(x=b.getValueOnIndex(b.data.targets[0].values,0),y=b.getValueOnIndex(b.data.targets[0].values,b.data.targets[0].values.length-1),e=b.x(x.x)-b.x(y.x)):e=t(g)/2,u=t(z)/t(g),f="translate("+e+",0) scale("+u+",1)",b.hideXGridFocus(),d.transition().ease("linear").duration(A).each(function(){C.add(b.axes.x.transition().call(b.xAxis)),C.add(H.transition().attr("transform",f)),C.add(I.transition().attr("transform",f)),C.add(J.transition().attr("transform",f)),C.add(K.transition().attr("transform",f)),C.add(G.transition().attr("transform",f)),C.add(F.filter(b.isRegionOnX).transition().attr("transform",f)),C.add(D.transition().attr("transform",f)),C.add(E.transition().attr("transform",f))}).call(C,function(){var a,d=[],e=[],f=[];if(w){for(a=0;a<w;a++)d.push("."+l.shape+"-"+(v+a)),e.push("."+l.text+"-"+(v+a)),f.push("."+l.eventRect+"-"+(v+a));b.svg.selectAll("."+l.shapes).selectAll(d).remove(),b.svg.selectAll("."+l.texts).selectAll(e).remove(),b.svg.selectAll("."+l.eventRects).selectAll(f).remove(),b.svg.select("."+l.xgrid).remove()}D.attr("transform",null).attr(b.xgridAttr),E.attr("transform",null),E.select("line").attr("x1",c.axis_rotated?0:p).attr("x2",c.axis_rotated?b.width:p),E.select("text").attr("x",c.axis_rotated?b.width:0).attr("y",p),H.attr("transform",null).attr("d",j),I.attr("transform",null).attr("d",k),J.attr("transform",null).attr("d",m),K.attr("transform",null).attr("cx",n).attr("cy",o),G.attr("transform",null).attr("x",q).attr("y",r).style("fill-opacity",b.opacityForText.bind(b)),F.attr("transform",null),F.select("rect").filter(b.isRegionOnX).attr("x",b.regionX.bind(b)).attr("width",b.regionWidth.bind(b)),c.interaction_enabled&&b.redrawEventRect(),B(),b.flowing=!1})}},h.selected=function(a){var b=this.internal,c=b.d3;return c.merge(b.main.selectAll("."+l.shapes+b.getTargetSelectorSuffix(a)).selectAll("."+l.shape).filter(function(){return c.select(this).classed(l.SELECTED)}).map(function(a){return a.map(function(a){var b=a.__data__;return b.data?b.data:b})}))},h.select=function(a,b,c){var d=this.internal,e=d.d3,f=d.config;f.data_selection_enabled&&d.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(g,h){var i=e.select(this),j=g.data?g.data.id:g.id,k=d.getToggle(this,g).bind(d),m=f.data_selection_grouped||!a||a.indexOf(j)>=0,n=!b||b.indexOf(h)>=0,o=i.classed(l.SELECTED);i.classed(l.line)||i.classed(l.area)||(m&&n?f.data_selection_isselectable(g)&&!o&&k(!0,i.classed(l.SELECTED,!0),g,h):q(c)&&c&&o&&k(!1,i.classed(l.SELECTED,!1),g,h))})},h.unselect=function(a,b){var c=this.internal,d=c.d3,e=c.config;e.data_selection_enabled&&c.main.selectAll("."+l.shapes).selectAll("."+l.shape).each(function(f,g){var h=d.select(this),i=f.data?f.data.id:f.id,j=c.getToggle(this,f).bind(c),k=e.data_selection_grouped||!a||a.indexOf(i)>=0,m=!b||b.indexOf(g)>=0,n=h.classed(l.SELECTED);h.classed(l.line)||h.classed(l.area)||k&&m&&e.data_selection_isselectable(f)&&n&&j(!1,h.classed(l.SELECTED,!1),f,g)})},h.transform=function(a,b){var c=this.internal,d=["pie","donut"].indexOf(a)>=0?{withTransform:!0}:null;c.transformTo(b,a,d)},i.transformTo=function(a,b,c){var d=this,e=!d.hasArcType(),f=c||{withTransitionForAxis:e};f.withTransitionForTransform=!1,d.transiting=!1,d.setTargetType(a,b),d.updateTargets(d.data.targets),d.updateAndRedraw(f)},h.groups=function(a){var b=this.internal,c=b.config;return p(a)?c.data_groups:(c.data_groups=a,b.redraw(),c.data_groups)},h.xgrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_x_lines=a,b.redrawWithoutRescale(),c.grid_x_lines):c.grid_x_lines},h.xgrids.add=function(a){var b=this.internal;return this.xgrids(b.config.grid_x_lines.concat(a?a:[]))},h.xgrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!0)},h.ygrids=function(a){var b=this.internal,c=b.config;return a?(c.grid_y_lines=a,b.redrawWithoutRescale(),c.grid_y_lines):c.grid_y_lines},h.ygrids.add=function(a){var b=this.internal;return this.ygrids(b.config.grid_y_lines.concat(a?a:[]))},h.ygrids.remove=function(a){var b=this.internal;b.removeGridLines(a,!1)},h.regions=function(a){var b=this.internal,c=b.config;return a?(c.regions=a,b.redrawWithoutRescale(),c.regions):c.regions},h.regions.add=function(a){var b=this.internal,c=b.config;return a?(c.regions=c.regions.concat(a),b.redrawWithoutRescale(),c.regions):c.regions},h.regions.remove=function(a){var b,c,d,e=this.internal,f=e.config;return a=a||{},b=e.getOption(a,"duration",f.transition_duration),c=e.getOption(a,"classes",[l.region]),d=e.main.select("."+l.regions).selectAll(c.map(function(a){return"."+a})),(b?d.transition().duration(b):d).style("opacity",0).remove(),f.regions=f.regions.filter(function(a){var b=!1;return!a.class||(a.class.split(" ").forEach(function(a){c.indexOf(a)>=0&&(b=!0)}),!b)}),f.regions},h.data=function(a){var b=this.internal.data.targets;return"undefined"==typeof a?b:b.filter(function(b){return[].concat(a).indexOf(b.id)>=0})},h.data.shown=function(a){return this.internal.filterTargetsToShow(this.data(a))},h.data.values=function(a){var b,c=null;return a&&(b=this.data(a),c=b[0]?b[0].values.map(function(a){
        return a.value}):null),c},h.data.names=function(a){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",a)},h.data.colors=function(a){return this.internal.updateDataAttributes("colors",a)},h.data.axes=function(a){return this.internal.updateDataAttributes("axes",a)},h.category=function(a,b){var c=this.internal,d=c.config;return arguments.length>1&&(d.axis_x_categories[a]=b,c.redraw()),d.axis_x_categories[a]},h.categories=function(a){var b=this.internal,c=b.config;return arguments.length?(c.axis_x_categories=a,b.redraw(),c.axis_x_categories):c.axis_x_categories},h.color=function(a){var b=this.internal;return b.color(a)},h.x=function(a){var b=this.internal;return arguments.length&&(b.updateTargetX(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.xs=function(a){var b=this.internal;return arguments.length&&(b.updateTargetXs(b.data.targets,a),b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),b.data.xs},h.axis=function(){},h.axis.labels=function(a){var b=this.internal;arguments.length&&(Object.keys(a).forEach(function(c){b.axis.setLabelText(c,a[c])}),b.axis.updateLabels())},h.axis.max=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_max=a.x),m(a.y)&&(c.axis_y_max=a.y),m(a.y2)&&(c.axis_y2_max=a.y2)):c.axis_y_max=c.axis_y2_max=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_max,y:c.axis_y_max,y2:c.axis_y2_max}},h.axis.min=function(a){var b=this.internal,c=b.config;return arguments.length?("object"==typeof a?(m(a.x)&&(c.axis_x_min=a.x),m(a.y)&&(c.axis_y_min=a.y),m(a.y2)&&(c.axis_y2_min=a.y2)):c.axis_y_min=c.axis_y2_min=a,void b.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:c.axis_x_min,y:c.axis_y_min,y2:c.axis_y2_min}},h.axis.range=function(a){return arguments.length?(q(a.max)&&this.axis.max(a.max),void(q(a.min)&&this.axis.min(a.min))):{max:this.axis.max(),min:this.axis.min()}},h.legend=function(){},h.legend.show=function(a){var b=this.internal;b.showLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.legend.hide=function(a){var b=this.internal;b.hideLegend(b.mapToTargetIds(a)),b.updateAndRedraw({withLegend:!0})},h.resize=function(a){var b=this.internal,c=b.config;c.size_width=a?a.width:null,c.size_height=a?a.height:null,this.flush()},h.flush=function(){var a=this.internal;a.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},h.destroy=function(){var b=this.internal;if(a.clearInterval(b.intervalForObserveInserted),void 0!==b.resizeTimeout&&a.clearTimeout(b.resizeTimeout),a.detachEvent)a.detachEvent("onresize",b.resizeFunction);else if(a.removeEventListener)a.removeEventListener("resize",b.resizeFunction);else{var c=a.onresize;c&&c.add&&c.remove&&c.remove(b.resizeFunction)}return b.selectChart.classed("c3",!1).html(""),Object.keys(b).forEach(function(a){b[a]=null}),null},h.tooltip=function(){},h.tooltip.show=function(a){var b,c,d=this.internal;a.mouse&&(c=a.mouse),a.data?d.isMultipleX()?(c=[d.x(a.data.x),d.getYScale(a.data.id)(a.data.value)],b=null):b=m(a.data.index)?a.data.index:d.getIndexByX(a.data.x):"undefined"!=typeof a.x?b=d.getIndexByX(a.x):"undefined"!=typeof a.index&&(b=a.index),d.dispatchEvent("mouseover",b,c),d.dispatchEvent("mousemove",b,c),d.config.tooltip_onshow.call(d,a.data)},h.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var A;i.isSafari=function(){var b=a.navigator.userAgent;return b.indexOf("Safari")>=0&&b.indexOf("Chrome")<0},i.isChrome=function(){var b=a.navigator.userAgent;return b.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e}),function(){"SVGPathSeg"in a||(a.SVGPathSeg=function(a,b,c){this.pathSegType=a,this.pathSegTypeAsLetter=b,this._owningPathSegList=c},SVGPathSeg.PATHSEG_UNKNOWN=0,SVGPathSeg.PATHSEG_CLOSEPATH=1,SVGPathSeg.PATHSEG_MOVETO_ABS=2,SVGPathSeg.PATHSEG_MOVETO_REL=3,SVGPathSeg.PATHSEG_LINETO_ABS=4,SVGPathSeg.PATHSEG_LINETO_REL=5,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,SVGPathSeg.PATHSEG_ARC_ABS=10,SVGPathSeg.PATHSEG_ARC_REL=11,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},a.SVGPathSegClosePath=function(a){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CLOSEPATH,"z",a)},SVGPathSegClosePath.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},SVGPathSegClosePath.prototype.clone=function(){return new SVGPathSegClosePath(void 0)},a.SVGPathSegMovetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_ABS,"M",a),this._x=b,this._y=c},SVGPathSegMovetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoAbs.prototype.clone=function(){return new SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegMovetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_MOVETO_REL,"m",a),this._x=b,this._y=c},SVGPathSegMovetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegMovetoRel.prototype.clone=function(){return new SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_ABS,"L",a),this._x=b,this._y=c},SVGPathSegLinetoAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoAbs.prototype.clone=function(){return new SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_REL,"l",a),this._x=b,this._y=c},SVGPathSegLinetoRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegLinetoRel.prototype.clone=function(){return new SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f,g){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",a),this._x=b,this._y=c,this._x1=d,this._y1=e,this._x2=f,this._y2=g},SVGPathSegCurvetoCubicRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",a),this._x=b,this._y=c,this._x1=d,this._y1=e},SVGPathSegCurvetoQuadraticRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(a){this._x1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(a){this._y1=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegArcAbs=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_ABS,"A",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcAbs.prototype.clone=function(){return new SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegArcRel=function(a,b,c,d,e,f,g,h){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_ARC_REL,"a",a),this._x=b,this._y=c,this._r1=d,this._r2=e,this._angle=f,this._largeArcFlag=g,this._sweepFlag=h},SVGPathSegArcRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},SVGPathSegArcRel.prototype.clone=function(){return new SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(a){this._r1=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(a){this._r2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(a){this._angle=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(a){this._largeArcFlag=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(a){this._sweepFlag=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoHorizontalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",a),this._x=b},SVGPathSegLinetoHorizontalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoHorizontalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",a),this._x=b},SVGPathSegLinetoHorizontalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoVerticalAbs=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",a),this._y=b},SVGPathSegLinetoVerticalAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegLinetoVerticalRel=function(a,b){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",a),this._y=b},SVGPathSegLinetoVerticalRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d,e){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",a),this._x=b,this._y=c,this._x2=d,this._y2=e},SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(a){this._x2=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(a){this._y2=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticSmoothAbs=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),a.SVGPathSegCurvetoQuadraticSmoothRel=function(a,b,c){SVGPathSeg.call(this,SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",a),this._x=b,this._y=c},SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(SVGPathSeg.prototype),SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(a){this._x=a,this._segmentChanged()},enumerable:!0}),Object.defineProperty(SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(a){this._y=a,this._segmentChanged()},enumerable:!0}),SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new SVGPathSegClosePath(void 0)},SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(a,b){return new SVGPathSegMovetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegMovetoRel=function(a,b){return new SVGPathSegMovetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(a,b){return new SVGPathSegLinetoAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegLinetoRel=function(a,b){return new SVGPathSegLinetoRel(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicAbs(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(a,b,c,d,e,f){return new SVGPathSegCurvetoCubicRel(void 0,a,b,c,d,e,f)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(a,b,c,d){return new SVGPathSegCurvetoQuadraticRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegArcAbs=function(a,b,c,d,e,f,g){return new SVGPathSegArcAbs(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegArcRel=function(a,b,c,d,e,f,g){return new SVGPathSegArcRel(void 0,a,b,c,d,e,f,g)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(a){return new SVGPathSegLinetoHorizontalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(a){return new SVGPathSegLinetoHorizontalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(a){return new SVGPathSegLinetoVerticalAbs(void 0,a)},SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(a){return new SVGPathSegLinetoVerticalRel(void 0,a)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothAbs(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(a,b,c,d){return new SVGPathSegCurvetoCubicSmoothRel(void 0,a,b,c,d)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothAbs(void 0,a,b)},SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(a,b){return new SVGPathSegCurvetoQuadraticSmoothRel(void 0,a,b)}),"SVGPathSegList"in a||(a.SVGPathSegList=function(a){this._pathElement=a,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},Object.defineProperty(SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},SVGPathSegList.prototype._updateListFromPathMutations=function(a){if(this._pathElement){var b=!1;a.forEach(function(a){"d"==a.attributeName&&(b=!0)}),b&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},SVGPathSegList.prototype.segmentChanged=function(a){this._writeListToPath()},SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(a){a._owningPathSegList=null}),this._list=[],this._writeListToPath()},SVGPathSegList.prototype.initialize=function(a){return this._checkPathSynchronizedToList(),this._list=[a],a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype._checkValidIndex=function(a){if(isNaN(a)||a<0||a>=this.numberOfItems)throw"INDEX_SIZE_ERR"},SVGPathSegList.prototype.getItem=function(a){return this._checkPathSynchronizedToList(),this._checkValidIndex(a),this._list[a]},SVGPathSegList.prototype.insertItemBefore=function(a,b){return this._checkPathSynchronizedToList(),b>this.numberOfItems&&(b=this.numberOfItems),a._owningPathSegList&&(a=a.clone()),this._list.splice(b,0,a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.replaceItem=function(a,b){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._checkValidIndex(b),this._list[b]=a,a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList.prototype.removeItem=function(a){this._checkPathSynchronizedToList(),this._checkValidIndex(a);var b=this._list[a];return this._list.splice(a,1),this._writeListToPath(),b},SVGPathSegList.prototype.appendItem=function(a){return this._checkPathSynchronizedToList(),a._owningPathSegList&&(a=a.clone()),this._list.push(a),a._owningPathSegList=this,this._writeListToPath(),a},SVGPathSegList._pathSegArrayAsString=function(a){var b="",c=!0;return a.forEach(function(a){c?(c=!1,b+=a._asPathString()):b+=" "+a._asPathString()}),b},SVGPathSegList.prototype._parsePath=function(a){if(!a||0==a.length)return[];var b=this,c=function(){this.pathSegList=[]};c.prototype.appendSegment=function(a){this.pathSegList.push(a)};var d=function(a){this._string=a,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};d.prototype._isCurrentSpace=function(){var a=this._string[this._currentIndex];return a<=" "&&(" "==a||"\n"==a||"\t"==a||"\r"==a||"\f"==a)},d.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;
    return this._currentIndex<this._endIndex},d.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},d.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},d.prototype.peekSegmentType=function(){var a=this._string[this._currentIndex];return this._pathSegTypeFromChar(a)},d.prototype._pathSegTypeFromChar=function(a){switch(a){case"Z":case"z":return SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return SVGPathSeg.PATHSEG_LINETO_REL;case"C":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return SVGPathSeg.PATHSEG_ARC_ABS;case"a":return SVGPathSeg.PATHSEG_ARC_REL;case"H":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return SVGPathSeg.PATHSEG_UNKNOWN}},d.prototype._nextCommandHelper=function(a,b){return("+"==a||"-"==a||"."==a||a>="0"&&a<="9")&&b!=SVGPathSeg.PATHSEG_CLOSEPATH?b==SVGPathSeg.PATHSEG_MOVETO_ABS?SVGPathSeg.PATHSEG_LINETO_ABS:b==SVGPathSeg.PATHSEG_MOVETO_REL?SVGPathSeg.PATHSEG_LINETO_REL:b:SVGPathSeg.PATHSEG_UNKNOWN},d.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var a=this.peekSegmentType();return a==SVGPathSeg.PATHSEG_MOVETO_ABS||a==SVGPathSeg.PATHSEG_MOVETO_REL},d.prototype._parseNumber=function(){var a=0,b=0,c=1,d=0,e=1,f=1,g=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,e=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var h=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=h)for(var i=this._currentIndex-1,j=1;i>=h;)b+=j*(this._string.charAt(i--)-"0"),j*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)d+=(this._string.charAt(this._currentIndex++)-"0")*(c*=.1)}if(this._currentIndex!=g&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,f=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)a*=10,a+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var k=b+d;if(k*=e,a&&(k*=Math.pow(10,f*a)),g!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),k}},d.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var a=!1,b=this._string.charAt(this._currentIndex++);if("0"==b)a=!1;else{if("1"!=b)return;a=!0}return this._skipOptionalSpacesOrDelimiter(),a}},d.prototype.parseSegment=function(){var a=this._string[this._currentIndex],c=this._pathSegTypeFromChar(a);if(c==SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==SVGPathSeg.PATHSEG_UNKNOWN)return null;if(c=this._nextCommandHelper(a,this._previousCommand),c==SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=c,c){case SVGPathSeg.PATHSEG_MOVETO_REL:return new SVGPathSegMovetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_MOVETO_ABS:return new SVGPathSegMovetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_REL:return new SVGPathSegLinetoRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_ABS:return new SVGPathSegLinetoAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new SVGPathSegLinetoHorizontalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new SVGPathSegLinetoHorizontalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new SVGPathSegLinetoVerticalRel(b,this._parseNumber());case SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new SVGPathSegLinetoVerticalAbs(b,this._parseNumber());case SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new SVGPathSegClosePath(b);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicRel(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicAbs(b,d.x,d.y,d.x1,d.y1,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothRel(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:var d={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoCubicSmoothAbs(b,d.x,d.y,d.x2,d.y2);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticRel(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegCurvetoQuadraticAbs(b,d.x,d.y,d.x1,d.y1);case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new SVGPathSegCurvetoQuadraticSmoothRel(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new SVGPathSegCurvetoQuadraticSmoothAbs(b,this._parseNumber(),this._parseNumber());case SVGPathSeg.PATHSEG_ARC_REL:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcRel(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);case SVGPathSeg.PATHSEG_ARC_ABS:var d={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()};return new SVGPathSegArcAbs(b,d.x,d.y,d.x1,d.y1,d.arcAngle,d.arcLarge,d.arcSweep);default:throw"Unknown path seg type."}};var e=new c,f=new d(a);if(!f.initialCommandIsMoveTo())return[];for(;f.hasMoreData();){var g=f.parseSegment();if(!g)return[];e.appendSegment(g)}return e.pathSegList})}(),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return k}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=k:a.c3=k}(window),function(a){"use strict";function b(a){var b,c,d,e;if(!a)return a;for(c=arguments.length,b=1;b<c;b++)if(d=arguments[b])for(e in d)a[e]=d[e];return a}var c=a.d3,d=Object.hasOwnProperty,e=function(a,b){if(!a)throw new Error("[d3.chart] "+b)};e(c,"d3.js is required"),e("string"==typeof c.version&&c.version.match(/^3/),"d3.js version 3 is required");var f=/^(enter|update|merge|exit)(:transition)?$/,g=function(a){e(a,"Layers must be initialized with a base."),this._base=a,this._handlers={}};g.prototype.dataBind=function(){e(!1,"Layers must specify a `dataBind` method.")},g.prototype.insert=function(){e(!1,"Layers must specify an `insert` method.")},g.prototype.on=function(a,b,c){return c=c||{},e(f.test(a),"Unrecognized lifecycle event name specified to `Layer#on`: '"+a+"'."),a in this._handlers||(this._handlers[a]=[]),this._handlers[a].push({callback:b,chart:c.chart||null}),this._base},g.prototype.off=function(a,b){var c,d=this._handlers[a];if(e(f.test(a),"Unrecognized lifecycle event name specified to `Layer#off`: '"+a+"'."),!d)return this._base;if(1===arguments.length)return d.length=0,this._base;for(c=d.length-1;c>-1;--c)d[c].callback===b&&d.splice(c,1);return this._base},g.prototype.draw=function(a){var b,d,f,g,h,i,j,k;b=this.dataBind.call(this._base,a),e(b&&b.call===c.selection.prototype.call,"Invalid selection defined by `Layer#dataBind` method."),e(b.enter,"Layer selection not properly bound."),d=b.enter(),d._chart=this._base._chart,f=[{name:"update",selection:b},{name:"enter",selection:this.insert.bind(d)},{name:"merge",selection:b},{name:"exit",selection:b.exit.bind(b)}];for(var l=0,m=f.length;l<m;++l)if(i=f[l].name,g=f[l].selection,"function"==typeof g&&(g=g()),!g.empty()){if(e(g&&g.call===c.selection.prototype.call,"Invalid selection defined for '"+i+"' lifecycle event."),h=this._handlers[i])for(j=0,k=h.length;j<k;++j)g._chart=h[j].chart||this._base._chart,g.call(h[j].callback);if(h=this._handlers[i+":transition"],h&&h.length)for(g=g.transition(),j=0,k=h.length;j<k;++j)g._chart=h[j].chart||this._base._chart,g.call(h[j].callback)}},c.selection.prototype.layer=function(a){var b,c=new g(this);if(c.dataBind=a.dataBind,c.insert=a.insert,"events"in a)for(b in a.events)c.on(b,a.events[b]);return this.on=function(){return c.on.apply(c,arguments)},this.off=function(){return c.off.apply(c,arguments)},this.draw=function(){return c.draw.apply(c,arguments)},this};var h=function(a,b){var c=this.constructor,e=c.__super__;e&&h.call(e,a,b),d.call(c.prototype,"initialize")&&this.initialize.apply(a,b)},i=function(a,b){var c=this.constructor,e=c.__super__;return this===a&&d.call(this,"transform")&&(b=this.transform(b)),d.call(c.prototype,"transform")&&(b=c.prototype.transform.call(a,b)),e&&(b=i.call(e,a,b)),b},j=function(a,b){this.base=a,this._layers={},this._attached={},this._events={},b&&b.transform&&(this.transform=b.transform),h.call(this,this,[b])};j.prototype.initialize=function(){},j.prototype.unlayer=function(a){var b=this.layer(a);return delete this._layers[a],delete b._chart,b},j.prototype.layer=function(a,b,c){var d;if(1===arguments.length)return this._layers[a];if(2===arguments.length){if("function"==typeof b.draw)return b._chart=this,this._layers[a]=b,this._layers[a];e(!1,"When reattaching a layer, the second argument must be a d3.chart layer")}return d=b.layer(c),this._layers[a]=d,b._chart=this,d},j.prototype.attach=function(a,b){return 1===arguments.length?this._attached[a]:(this._attached[a]=b,b)},j.prototype.draw=function(a){var b,c,d;a=i.call(this,this,a);for(b in this._layers)this._layers[b].draw(a);for(c in this._attached)d=this.demux?this.demux(c,a):a,this._attached[c].draw(d)},j.prototype.on=function(a,b,c){var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c||this,_chart:this}),this},j.prototype.once=function(a,b,c){var d=this,e=function(){d.off(a,e),b.apply(this,arguments)};return this.on(a,e,c)},j.prototype.off=function(a,b,c){var d,e,f,g,h,i;if(0===arguments.length){for(a in this._events)this._events[a].length=0;return this}if(1===arguments.length)return f=this._events[a],f&&(f.length=0),this;for(d=a?[a]:Object.keys(this._events),h=0;h<d.length;h++)for(e=d[h],f=this._events[e],i=f.length;i--;)g=f[i],(b&&b===g.callback||c&&c===g.context)&&f.splice(i,1);return this},j.prototype.trigger=function(a){var b,c,d=Array.prototype.slice.call(arguments,1),e=this._events[a];if(void 0!==e)for(b=0;b<e.length;b++)c=e[b],c.callback.apply(c.context,d);return this},j.extend=function(a,c,e){var f,g=this;f=c&&d.call(c,"constructor")?c.constructor:function(){return g.apply(this,arguments)},b(f,g,e);var h=function(){this.constructor=f};return h.prototype=g.prototype,f.prototype=new h,c&&b(f.prototype,c),f.__super__=g.prototype,j[a]=f,f},c.chart=function(a){return 0===arguments.length?j:1===arguments.length?j[a]:j.extend.apply(j,arguments)},c.selection.prototype.chart=function(a,b){if(0===arguments.length)return this._chart;var c=j[a];return e(c,"No chart registered with name '"+a+"'"),new c(this,b)},c.selection.enter.prototype.chart=function(){return this._chart},c.transition.prototype.chart=c.selection.enter.prototype.chart}(this),define("d3.chart",["d3"],function(a){return function(){var b;return b||a.d3.chart}}(this)),function(a,b){if("object"==typeof exports){var c=require("underscore"),d=require("anglebrackets"),e=require("ironclad"),f=require("d3"),g=require("c3"),h=require("d3.chart");module.exports=b(c,d,e,f,g,h)}else"function"==typeof define&&define.amd&&define("anglebrackets-charts",["underscore","anglebrackets","ironclad","d3","c3","d3.chart"],b)}(this,function(a,b,c,d,e,f){var c=function(a,b,c,d,f,g){"use strict";var h=c.Charts={};h.$=c.$,h.version="0.3.3",f.chart("StandardBar",{initialize:function(a){chart=this,this.id=a.id||"barChart-"+parseInt(1e4*Math.random()),this.w=a.width||250,this.h=a.height||250,this.margin=a.margin||{top:10,right:10,left:10,bottom:20},this.colors=a.colors||["#DB524B","#E68A86","#999","#DDD"],this.numCategories=a.numCategories||4,this.categorySwap=a.categorySwap||{},this.altColor=a.altColor||{},this.rowSpacing=a.rowSpacing||0,this.extraSpacing=a.extraSpacing||0,this.suggestedMax=a.suggestedMax||0,this.minNum=1e8,this.maxNum=-1e7,this.xScale=f.scale.linear().domain([0,Math.max(this.maxNum,this.suggestedMax)]).range([0,this.w-this.margin.left-this.margin.right]),this.parentID="#"+$(this.base[0]).parent().prop("id"),this.legendTable=f.select(this.parentID+" .chart-legend").append("table").append("tbody"),f.select(this.parentID+" svg").attr("id",this.id),$(this.base[0]).attr("height",this.h+"px"),$(this.base[0]).attr("width",this.w+"px");var b=this.base.append("g").classed("all-points",!0),c=this.base.append("defs").append("pattern").attr({id:"pattern1",patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10,patternTransform:"rotate(30)"}),d=c.append("g");d.append("rect").attr({x:"0",width:"5",height:"10",y:"0",fill:"#f0f0f0"}),d.append("rect").attr({x:"5",width:"5",height:"10",y:"0",fill:"#f4f4f4"}),this.layer("all-points",b,{dataBind:function(a){for(var b in a)a[b].number>chart.maxNum&&(chart.maxNum=a[b].number),a[b].number<chart.minNum&&(chart.minNum=a[b].number);return chart.updateScales(),this.selectAll(chart.parentID+" .all-points>.point").remove(),chart.legendTR=chart.legendTable.selectAll("tr").data(a).enter().append("tr").style("height",function(a,b){return(chart.h-chart.margin.top-chart.margin.bottom)/chart.numCategories-2+"px"}),this.selectAll(".all-points").data(a)},insert:function(){chart.legendTR.append("td").attr("class",function(a,b){return 0==arguments[0].number?"legend-label disabled text-muted":"legend-label js-legend-label"}).attr("data-category",function(a,b){return a.category}).attr("data-value",function(a,b){return a.value}).text(function(a,b){return void 0!=chart.categorySwap[a.name]?chart.categorySwap[a.name]:a.name}).on("click",function(a,b){arguments[0].number>0&&($(this).toggleClass("click-activated"),$(chart).trigger("chartElementClicked",[{riskLevel:a.name,riskLevelAlias:chart.categorySwap[a.name],componentCount:a.number,chartID:chart.id,barColor:chart.getColor(a,b),barOpacity:chart.getOpacity(a,b),isActive:$(this).hasClass("click-activated")}]))}),chart.legendTR.append("td").attr("class","legend-count").attr("data-category",function(a,b){return a.category}).attr("data-value",function(a,b){return a.value}).text(function(a,b){return a.number}).style("text-align","right").style("padding","0px");var a=this.append("rect").attr("data-category",function(a,b){return a.category}).attr("data-value",function(a,b){return a.value}).attr("x",chart.margin.left).attr("y",function(a,b){return chart.margin.top/2+b*chart.rowSpacing+b*(chart.h-chart.margin.top-chart.margin.bottom)/chart.numCategories}).attr("width",1).attr("height",(chart.h-chart.margin.top-chart.margin.bottom)/chart.numCategories).attr("fill-opacity",chart.getOpacity).attr("stroke",function(){return"#9b9b9b"}).attr("stroke-width",function(a,b){return 0}).attr("fill",chart.getColor).on("click",function(a,b){if(arguments[0].number>0){var c=$("#"+chart.id+' td.legend-label[data-name = "'+a.name+'"]');c.toggleClass("click-activated"),$(chart).trigger("chartElementClicked",[{riskLevel:a.name,riskLevelAlias:chart.categorySwap[a.name],componentCount:a.number,chartID:chart.id,barColor:chart.getColor(a,b),barOpacity:chart.getOpacity(a,b),isActive:c.hasClass("click-activated")}])}});return a},events:{enter:function(){return this.transition().duration(575).attr("width",function(a,b){return Math.max(chart.getWidth(a,b),1)})},exit:function(){return this.remove()}}})},redraw:function(){b.defer(b.bind(function(){this.width($(this.parentID).width()-$(this.parentID+" .chart-legend").width()-10),this.updateThePoints()},this))},width:function(a){return 0===arguments.length?this.w:(this.w=a,$(this.base[0]).attr("width",this.w+"px"),this.updateScales(),this.updateThePoints(),this)},height:function(a){return 0===arguments.length?this.h:(this.h=a,this.updateScales(),this.updateThePoints(),$(this.base[0]).attr("height",this.h),this)},updateScales:function(){this.xScale=f.scale.linear().domain([0,Math.max(this.maxNum,this.suggestedMax)]).range([0,this.w-this.margin.left-this.margin.right]),chart.xScale=f.scale.linear().domain([0,Math.max(this.maxNum,this.suggestedMax)]).range([0,this.w-this.margin.left-this.margin.right])},updateThePoints:function(){f.selectAll("#"+this.id+" .all-points rect").transition().duration(175).attr("width",function(a,b){return chart.getWidth(a,b)})},updateAll:function(){this.updateScales(),this.updateThePoints()},getOpacity:function(a,b){return 1},getColor:function(a,b){return chart.colors[b]},getWidth:function(a,b){return Math.max(this.xScale(a.number),1)}});h.StandardBarChart=d.ItemView.extend({template:"#d3charts-bar-chart",initialize:function(){d.requireOptions(this,"template","id"),this.template=this.options.template,this.id=this.options.id,d.ItemView.prototype.initialize.apply(this,arguments),this.on("close",this.cleanupEvents)},cleanupEvents:function(){this.riskChart&&$(window).off("resize",this.resizeChart)},render:function(){d.ItemView.prototype.render.apply(this,arguments),b.defer(b.bind(this.drawChart,this))},resizeChart:function(a){a.data.redraw()},getData:function(){},drawChart:function(){var a=this.getData(),b=$("#"+this.id).width()-100;this.riskChart=f.select("#"+this.id).append("svg").attr("class","bar-chart").attr("display","inline-block").chart("StandardBar",{width:b,height:100,numCategories:4,rowSpacing:4,extraSpacing:0,suggestedMax:5,margin:{top:10,right:10,left:10,bottom:10}}),this.riskChart.draw(a),this.riskChart.redraw(),$(window).on("resize",this.riskChart,this.resizeChart)}}),h.C3Chart=d.ItemView.extend({template:"#c3charts-c3-chart",initialize:function(a){this.defaults={bindto:"#c3-chart",data:{columns:this.getC3Data(),type:"bar"}},this.chartOptions&&(this.chartOptions.data.columns=this.getC3Data()),d.ItemView.prototype.initialize.apply(this,arguments),this.on("close",this.cleanupEvents)},cleanupEvents:function(){this.chart&&$(window).off("resize",this.resizeChart)},render:function(){d.ItemView.prototype.render.apply(this,arguments),b.defer(b.bind(this.drawChart,this))},resizeChart:function(a){a.data.flush()},getC3Data:function(){return[]},drawChart:function(){this.chart=e.generate(this.chartOptions||this.defaults),$(window).on("resize",this.chart,this.resizeChart)}});return h}(this,a,b,c,d,e,f);return b.Charts}),define("modules/mixins/file-icon",["require","exports","module","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g={fileIcon:function(a){var b={DIRECTORY:{name:"folder",description:f.get("app.modules.common.files.type.folder")},ARCHIVE:{name:"file-archive-o",description:f.get("app.modules.common.files.type.archive")},FILE:{name:"file-o",description:f.get("app.modules.common.files.type.file")},UNKNOWN:{name:"file-unknown",description:f.get("app.modules.common.files.type.unknown")},DECLARED_COMPONENT:{name:"file-dependency",description:f.get("app.modules.common.files.type.dependency")},PLACEHOLDER:{name:"file-o",description:f.get("app.modules.common.files.type.file")}};return $("<span>").attr("title",b[a].description).addClass("fa fa-"+b[a].name)[0].outerHTML}};d.extend(e.templateHelpers,g),c.exports=g}),define("modules/mixins/license-label-class",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f={getLicenseClassName:function(a){switch(a){case"PERMISSIVE":return"label-success";case"RECIPROCAL":return"label-danger";case"RECIPROCAL_AGPL":return"label-danger";case"WEAK_RECIPROCAL":return"label-warning";default:return"label-default"}}};d.extend(e.templateHelpers,f),c.exports=f});var c="undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{},d=function(){var a=/\blang(?:uage)?-(\w+)\b/i,b=0,d=c.Prism={util:{encode:function(a){return a instanceof e?new e(a.type,d.util.encode(a.content),a.alias):"Array"===d.util.type(a)?a.map(d.util.encode):a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},objId:function(a){return a.__id||Object.defineProperty(a,"__id",{value:++b}),a.__id},clone:function(a){var b=d.util.type(a);switch(b){case"Object":var c={};for(var e in a)a.hasOwnProperty(e)&&(c[e]=d.util.clone(a[e]));return c;case"Array":return a.map&&a.map(function(a){return d.util.clone(a)})}return a}},languages:{extend:function(a,b){var c=d.util.clone(d.languages[a]);for(var e in b)c[e]=b[e];return c},insertBefore:function(a,b,c,e){e=e||d.languages;var f=e[a];if(2==arguments.length){c=arguments[1];for(var g in c)c.hasOwnProperty(g)&&(f[g]=c[g]);return f}var h={};for(var i in f)if(f.hasOwnProperty(i)){if(i==b)for(var g in c)c.hasOwnProperty(g)&&(h[g]=c[g]);h[i]=f[i]}return d.languages.DFS(d.languages,function(b,c){c===e[a]&&b!=a&&(this[b]=h)}),e[a]=h},DFS:function(a,b,c,e){e=e||{};for(var f in a)a.hasOwnProperty(f)&&(b.call(a,f,a[f],c||f),"Object"!==d.util.type(a[f])||e[d.util.objId(a[f])]?"Array"!==d.util.type(a[f])||e[d.util.objId(a[f])]||(e[d.util.objId(a[f])]=!0,d.languages.DFS(a[f],b,f,e)):(e[d.util.objId(a[f])]=!0,d.languages.DFS(a[f],b,null,e)))}},plugins:{},highlightAll:function(a,b){var c={callback:b,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};d.hooks.run("before-highlightall",c);for(var e,f=c.elements||document.querySelectorAll(c.selector),g=0;e=f[g++];)d.highlightElement(e,a===!0,c.callback)},highlightElement:function(b,e,f){for(var g,h,i=b;i&&!a.test(i.className);)i=i.parentNode;i&&(g=(i.className.match(a)||[,""])[1].toLowerCase(),h=d.languages[g]),b.className=b.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=b.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var j=b.textContent,k={element:b,language:g,grammar:h,code:j};if(d.hooks.run("before-sanity-check",k),!k.code||!k.grammar)return k.code&&(k.element.textContent=k.code),void d.hooks.run("complete",k);if(d.hooks.run("before-highlight",k),e&&c.Worker){var l=new Worker(d.filename);l.onmessage=function(a){k.highlightedCode=a.data,d.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),d.hooks.run("after-highlight",k),d.hooks.run("complete",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else k.highlightedCode=d.highlight(k.code,k.grammar,k.language),d.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,f&&f.call(b),d.hooks.run("after-highlight",k),d.hooks.run("complete",k)},highlight:function(a,b,c){var f=d.tokenize(a,b);return e.stringify(d.util.encode(f),c)},tokenize:function(a,b,c){var e=d.Token,f=[a],g=b.rest;if(g){for(var h in g)b[h]=g[h];delete b.rest}a:for(var h in b)if(b.hasOwnProperty(h)&&b[h]){var i=b[h];i="Array"===d.util.type(i)?i:[i];for(var j=0;j<i.length;++j){var k=i[j],l=k.inside,m=!!k.lookbehind,n=!!k.greedy,o=0,p=k.alias;if(n&&!k.pattern.global){var q=k.pattern.toString().match(/[imuy]*$/)[0];k.pattern=RegExp(k.pattern.source,q+"g")}k=k.pattern||k;for(var r=0,s=0;r<f.length;s+=f[r].length,++r){var t=f[r];if(f.length>a.length)break a;if(!(t instanceof e)){k.lastIndex=0;var u=k.exec(t),v=1;if(!u&&n&&r!=f.length-1){if(k.lastIndex=s,u=k.exec(a),!u)break;for(var w=u.index+(m?u[1].length:0),x=u.index+u[0].length,y=r,z=s,A=f.length;y<A&&z<x;++y)z+=f[y].length,w>=z&&(++r,s=z);if(f[r]instanceof e||f[y-1].greedy)continue;v=y-r,t=a.slice(s,z),u.index-=s}if(u){m&&(o=u[1].length);var w=u.index+o,u=u[0].slice(o),x=w+u.length,B=t.slice(0,w),C=t.slice(x),D=[r,v];B&&D.push(B);var E=new e(h,l?d.tokenize(u,l):u,p,u,n);D.push(E),C&&D.push(C),Array.prototype.splice.apply(f,D)}}}}}return f},hooks:{all:{},add:function(a,b){var c=d.hooks.all;c[a]=c[a]||[],c[a].push(b)},run:function(a,b){var c=d.hooks.all[a];if(c&&c.length)for(var e,f=0;e=c[f++];)e(b)}}},e=d.Token=function(a,b,c,d,e){this.type=a,this.content=b,this.alias=c,this.length=0|(d||"").length,this.greedy=!!e};if(e.stringify=function(a,b,c){if("string"==typeof a)return a;if("Array"===d.util.type(a))return a.map(function(c){return e.stringify(c,b,a)}).join("");var f={type:a.type,content:e.stringify(a.content,b,c),tag:"span",classes:["token",a.type],attributes:{},language:b,parent:c};if("comment"==f.type&&(f.attributes.spellcheck="true"),a.alias){var g="Array"===d.util.type(a.alias)?a.alias:[a.alias];Array.prototype.push.apply(f.classes,g)}d.hooks.run("wrap",f);var h=Object.keys(f.attributes).map(function(a){return a+'="'+(f.attributes[a]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+f.tag+' class="'+f.classes.join(" ")+'"'+(h?" "+h:"")+">"+f.content+"</"+f.tag+">"},!c.document)return c.addEventListener?(c.addEventListener("message",function(a){var b=JSON.parse(a.data),e=b.language,f=b.code,g=b.immediateClose;c.postMessage(d.highlight(f,d.languages[e],e)),g&&c.close()},!1),c.Prism):c.Prism;var f=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return f&&(d.filename=f.src,document.addEventListener&&!f.hasAttribute("data-manual")&&("loading"!==document.readyState?window.requestAnimationFrame?window.requestAnimationFrame(d.highlightAll):window.setTimeout(d.highlightAll,16):document.addEventListener("DOMContentLoaded",d.highlightAll))),c.Prism}();if("undefined"!=typeof module&&module.exports&&(module.exports=d),"undefined"!=typeof global&&(global.Prism=d),d.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/i,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},d.hooks.add("wrap",function(a){"entity"===a.type&&(a.attributes.title=a.content.replace(/&amp;/,"&"))}),d.languages.xml=d.languages.markup,d.languages.html=d.languages.markup,d.languages.mathml=d.languages.markup,d.languages.svg=d.languages.markup,d.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,greedy:!0},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},d.languages.css.atrule.inside.rest=d.util.clone(d.languages.css),d.languages.markup&&(d.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\w\W]*?>)[\w\W]*?(?=<\/style>)/i,lookbehind:!0,inside:d.languages.css,alias:"language-css"}}),d.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:d.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:d.languages.css}},alias:"language-css"}},d.languages.markup.tag)),d.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},d.languages.javascript=d.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*\*?|\/|~|\^|%|\.{3}/}),d.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^\/])\/(?!\/)(\[.+?]|\\.|[^\/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}}),d.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:!0,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:d.languages.javascript}},string:/[\s\S]+/}}}),d.languages.markup&&d.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\w\W]*?>)[\w\W]*?(?=<\/script>)/i,lookbehind:!0,inside:d.languages.javascript,alias:"language-javascript"}}),d.languages.js=d.languages.javascript,function(){"undefined"!=typeof self&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(){var a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.forEach&&Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(b){
        for(var c,e=b.getAttribute("data-src"),f=b,g=/\blang(?:uage)?-(?!\*)(\w+)\b/i;f&&!g.test(f.className);)f=f.parentNode;if(f&&(c=(b.className.match(g)||[,""])[1]),!c){var h=(e.match(/\.(\w+)$/)||[,""])[1];c=a[h]||h}var i=document.createElement("code");i.className="language-"+c,b.textContent="",i.textContent="Loading",b.appendChild(i);var j=new XMLHttpRequest;j.open("GET",e,!0),j.onreadystatechange=function(){4==j.readyState&&(j.status<400&&j.responseText?(i.textContent=j.responseText,d.highlightElement(i)):j.status>=400?i.textContent=" Error "+j.status+" while fetching file: "+j.statusText:i.textContent=" Error: File does not exist or is empty")},j.send(null)})},document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight))}(),define("prism",function(){}),require(["jquery","underscore","backbone","marionette","ironclad","anglebrackets","bootstrap-datetimepicker","backbone-validation","backbone.paginator","modules/i18n/main","dropzone","backgrid","numeral","numeral-languages","moment","jquery.spinjs","modules/format-number/main","modules/primary-langs/main","modules/format-date/main","modules/numeral/main","anglebrackets-charts","modules/mixins/file-icon","modules/mixins/license-label-class","prism"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(a){return function(){q=!0,a.apply(c.history,arguments)}}function o(a){if(window.bdsHubProxyPrefix&&window.bdsHubProxyPrefix.length>0){if(0===a.indexOf("/api/"))return window.bdsHubProxyPrefix+a;if(0===a.indexOf("api/"))return window.bdsHubProxyPrefix+"/"+a}return a}a.ajaxSettings.timeout=6e4,a.ajaxSettings.cache=!1,a.ajaxSettings.traditional=!0;var p=[],q=!1;window.bdsHubProxyPrefix=window.bdsHubProxyPrefix||"",c.history.loadUrl=n(c.history.loadUrl),c.history.navigate=n(c.history.navigate),c.history.getHash=function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?this.decodeFragment(b[1]):""};var r=c.sync;c.sync=function(a,b,c){var d=r(a,b,c);return d.persistAjaxOnNavigate=b.persistAjaxOnNavigate,d},a.ajaxSetup({beforeSend:function(a,b){if(b.url=o(b.url),q){var c=p.length;if(c>0)for(;c-- >0;)p[c]&&p[c].abort&&!p[c].persistAjaxOnNavigate&&(p[c].abort(),p.splice(c,1));q=!1}p.push(a)},complete:function(a){for(var b=p.length;b-- >0;)if(p[b]===a){p.splice(b,1);break}}}),c.Model.prototype._fetch=c.Model.prototype.fetch,c.Model.prototype.fetch=function(a){return a=a||{},a.data=a.data||{},this.inline&&(a.data.inline=this.inline),a.cache=!1,c.Model.prototype._fetch.apply(this,[a])},c.Collection.prototype._fetch=c.Collection.prototype.fetch,c.Collection.prototype.fetch=function(a){return a=a||{},a.data=a.data||{},this.inline&&(a.data.inline=this.inline),a.cache=!1,c.Collection.prototype._fetch.apply(this,[a])},b.extend(c.Validation.patterns,{url:/^(\w+):\/\/\S+/i}),f.Table.defaultGridOptions.emptyText=j.get("app.modules.search.noResultsFound"),f.Table.defaultPaginationOptions.controls={rewind:{label:'<span class="fa fa-angle-double-left"><span class="sr-only">'+j.get("app.modules.common.paging.first")+"</span></span>",title:j.get("app.modules.common.paging.first")},back:{label:'<span class="fa fa-angle-left"><span class="sr-only">'+j.get("app.modules.common.paging.previous")+"</span></span>",title:j.get("app.modules.common.paging.previous")},forward:{label:'<span class="fa fa-angle-right"><span class="sr-only">'+j.get("app.modules.common.paging.next")+"</span></span>",title:j.get("app.modules.common.paging.next")},fastForward:{label:'<span class="fa fa-angle-double-right"><span class="sr-only">'+j.get("app.modules.common.paging.last")+"</span></span>",title:j.get("app.modules.common.paging.last")}},f.Table.defaultPaginationOptions.paginationCountTemplate="#common-pagination-counts",f.Filter.prototype.template=function(a){var c="ab-filter-"+b.uniqueId(),d=a.placeholder||j.get("app.modules.common.filterTableInput.label");return'<span class="search">&nbsp;</span><label class="sr-only" for="'+c+'">'+d+'</label><input id="'+c+'" type="search" '+(a.placeholder?'placeholder="'+a.placeholder+'"':"")+' name="'+a.name+'" '+(a.value?'value="'+a.value+'"':"")+'/><a class="clear" data-backgrid-action="clear" href="#">&times;</a>'},k.prototype.defaultOptions.autoDiscover=!1,k.prototype.defaultOptions.maxFilesize=20480,document.documentElement.setAttribute("data-useragent",navigator.userAgent),b.extend(c.Validation.messages,{required:j.get("app.modules.common.validation.message.required"),acceptance:j.get("app.modules.common.validation.message.acceptance"),min:j.get("app.modules.common.validation.message.min"),max:j.get("app.modules.common.validation.message.max"),range:j.get("app.modules.common.validation.message.range"),length:j.get("app.modules.common.validation.message.length"),minLength:j.get("app.modules.common.validation.message.minLength"),maxLength:j.get("app.modules.common.validation.message.maxLength"),rangeLength:j.get("app.modules.common.validation.message.rangeLength"),oneOf:j.get("app.modules.common.validation.message.oneOf"),equalTo:j.get("app.modules.common.validation.message.equalTo"),digits:j.get("app.modules.common.validation.message.digits"),number:j.get("app.modules.common.validation.message.number"),email:j.get("app.modules.common.validation.message.email"),url:j.get("app.modules.common.validation.message.url"),inlinePattern:j.get("app.modules.common.validation.message.inlinePattern")}),b.extend(c.Validation.labelFormatters,{i18nFormatter:function(a){return j.get("app.modules.labels."+a)}}),c.Validation.configure({labelFormatter:"i18nFormatter"}),window.moment&&window.moment.locale(window.Hub.config.language),m.language(window.Hub.config.language),a.fn.datetimepicker.defaults.locale=window.Hub.config.language,a.fn.datetimepicker.defaults.icons={time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-angle-up",down:"fa fa-angle-down",previous:"fa fa-angle-left",next:"fa fa-angle-right",today:"fa fa-dot-circle-o",clear:"fa fa-trash",close:"fa fa-times"},a.fn.spin.presets={tiny:{zIndex:900,lines:8,length:2,width:2,radius:3,background:!1,className:"spinner spinner-tiny"},small:{zIndex:900,lines:8,length:4,width:3,radius:5,background:!1,className:"spinner spinner-small"},large:{zIndex:900,lines:10,length:8,width:4,radius:8,background:!0,className:"spinner spinner-large"}};var s=e.defaultErrorHandler,t=function(a,c){return 0!==c.status&&"timeout"!==c||(c=b.extend({},c,{responseJSON:{errorMessage:j.get("app.modules.common.timeout.message")}})),s.apply(this,arguments)};e.defaultErrorHandler=t;var u={parse:function(a){return a&&a._meta&&(this._meta=a._meta),a},hasAllowMeta:function(a){var c=this._meta||this.get("_meta");return!!(c&&c.allow&&b.contains(c.allow,a))||(!c||!c.allow)&&void 0},canCreate:function(){return this.hasAllowMeta("POST")},canUpdate:function(){return this.hasAllowMeta("PUT")},canDelete:function(){return this.hasAllowMeta("DELETE")},canRead:function(){return this.hasAllowMeta("GET")},getLink:function(a){var c=this._meta||this.get("_meta");if(c&&b.isArray(c.links)){var d=b.findWhere(c.links,{rel:a})||{};return d.href}},url:function(){var a=this.get("_meta");if(a&&a.href)return a.href;var c=b.result(this,"urlRoot")||b.result(this.collection,"url");if(!c)throw new Error('A "url" property or function must be specified');if(this.isNew())return c;var d=this.get(this.idAttribute);return c.replace(/[^\/]$/,"$&/")+encodeURIComponent(d)},isNew:function(){var a=!this.has(this.idAttribute);return!(a&&this.has("_meta")&&this.get("_meta").href)&&a}};l.Extension.Paginator.prototype._calculateWindow=function(){var a=this.collection.state,b=a.firstPage-1,c=a.lastPage,d=a.currentPage,e=9,f=d-Math.max(5,e-(c-d)),g=d+Math.max(4,e-d);return[f<=b?b:f,g>=c?c:g]},b.extend(c.Model.prototype,u),b.extend(c.Collection.prototype,u)}),define("setup",function(){}),define("views/app-layout",["require","exports","module","jquery","underscore","ironclad","marionette"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=a("ironclad"),g=a("marionette");c.exports=f.ViewContainer.extend({template:"#app-layout",regions:{content:{selector:"#appContent",regionClass:g.Region.extend({initialize:function(){e.bindAll(this,"setTopMargin"),this.resizeMargin=e.debounce(this.setTopMargin,200)},onShow:function(){this.setTopMargin(),d(window).on("resize",this.resizeMargin)},onEmpty:function(){d(window).off("resize",this.resizeMargin)},setTopMargin:function(){var a=this.$el.find(".page-header").first();a&&this.$el.css("margin-top",a.outerHeight()+15+"px")}})},modals:"#appModals"},options:{containerId:"appLayout",containerSelector:".js-app-layout-container"}})}),define("app",["require","exports","module","ironclad","views/app-layout"],function(a,b,c){var d=a("ironclad"),e=a("views/app-layout"),f=d.Application.extend({onStart:function(){this.appLayout=new e,this.rootRegion.show(this.appLayout)}});c.exports=new f}),define("modules/router/models/history",["require","exports","module","backbone","ironclad"],function(a,b,c){var d=a("backbone"),e=a("ironclad");c.exports=e.Model.extend({defaults:{previousHash:"",currentHash:""},pushHash:function(a){this.set("previousHash",this.get("currentHash")),this.set("currentHash",a)},moveToPreviousHash:function(a,b){a=a||!1,b=b||!1,this.get("previousHash")?(d.history.navigate("#"+this.get("previousHash"),{trigger:a,replace:b}),a||this.pushHash(this.get("previousHash"))):d.history.history.length>2?d.history.history.back():d.history.navigate("#home",{trigger:!0,replace:b})}})}),define("modules/router/router-history",["require","exports","module","./models/history"],function(a,b,c){var d=a("./models/history");c.exports=new d}),define("modules/router/main",["require","exports","module","backbone","ironclad","modules/router/router-history","modules/i18n/main"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=a("modules/router/router-history"),g=a("modules/i18n/main"),h=e.MessageBus;c.exports=e.AppRouter.extend({pageTitles:{},initialize:function(){e.AppRouter.prototype.initialize.apply(this,arguments),this.setupFiltersController()},execute:function(){this.restorePersistedFilters(),e.AppRouter.prototype.execute.apply(this,arguments)},onRoute:function(){h.vent.trigger("app:modal:close"),this.setPageTitle(arguments[1]),f.pushHash(d.history.fragment)},setPageTitle:function(a){var b=this.pageTitles[a]||this.pageTitles["*"]||"";b?document.title=g.get("app.modules.common.product")+" | "+b:document.title=g.get("app.modules.common.product")},setupFiltersController:function(){this.filtersController||(this.filtersController=h.reqres.request("hub:filters:controller"))},restorePersistedFilters:function(){this.setupFiltersController(),this.filtersController&&this.filtersController.restoreFilters()}})}),!function(){"use strict";function a(a){if(a)l[0]=l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0,this.blocks=l,this.buffer8=d;else if(g){var b=new ArrayBuffer(68);this.buffer8=new Uint8Array(b),this.blocks=new Uint32Array(b)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}var b="object"==typeof window?window:{},c=!b.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;c&&(b=global);var d,e=!b.JS_MD5_NO_COMMON_JS&&"object"==typeof module&&module.exports,f="function"==typeof define&&define.amd,g=!b.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),i=[128,32768,8388608,-2147483648],j=[0,8,16,24],k=["hex","array","digest","buffer","arrayBuffer"],l=[];if(g){var m=new ArrayBuffer(68);d=new Uint8Array(m),l=new Uint32Array(m)}var n=function(b){return function(c){return new a(!0).update(c)[b]()}},o=function(){var b=n("hex");c&&(b=p(b)),b.create=function(){return new a},b.update=function(a){return b.create().update(a)};for(var d=0;d<k.length;++d){var e=k[d];b[e]=n(e)}return b},p=function(a){var b=require("crypto"),c=require("buffer").Buffer,d=function(d){if("string"==typeof d)return b.createHash("md5").update(d,"utf8").digest("hex");if(d.constructor===ArrayBuffer)d=new Uint8Array(d);else if(void 0===d.length)return a(d);return b.createHash("md5").update(new c(d)).digest("hex")};return d};a.prototype.update=function(a){if(!this.finalized){var c="string"!=typeof a;c&&a.constructor==b.ArrayBuffer&&(a=new Uint8Array(a));for(var d,e,f=0,h=a.length||0,i=this.blocks,k=this.buffer8;h>f;){if(this.hashed&&(this.hashed=!1,i[0]=i[16],i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),c)if(g)for(e=this.start;h>f&&64>e;++f)k[e++]=a[f];else for(e=this.start;h>f&&64>e;++f)i[e>>2]|=a[f]<<j[3&e++];else if(g)for(e=this.start;h>f&&64>e;++f)d=a.charCodeAt(f),128>d?k[e++]=d:2048>d?(k[e++]=192|d>>6,k[e++]=128|63&d):55296>d||d>=57344?(k[e++]=224|d>>12,k[e++]=128|d>>6&63,k[e++]=128|63&d):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++f)),k[e++]=240|d>>18,k[e++]=128|d>>12&63,k[e++]=128|d>>6&63,k[e++]=128|63&d);else for(e=this.start;h>f&&64>e;++f)d=a.charCodeAt(f),128>d?i[e>>2]|=d<<j[3&e++]:2048>d?(i[e>>2]|=(192|d>>6)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]):55296>d||d>=57344?(i[e>>2]|=(224|d>>12)<<j[3&e++],i[e>>2]|=(128|d>>6&63)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++f)),i[e>>2]|=(240|d>>18)<<j[3&e++],i[e>>2]|=(128|d>>12&63)<<j[3&e++],i[e>>2]|=(128|d>>6&63)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this}},a.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex;a[b>>2]|=i[3&b],b>=56&&(this.hashed||this.hash(),a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),a[14]=this.bytes<<3,this.hash()}},a.prototype.hash=function(){var a,b,c,d,e,f,g=this.blocks;this.first?(a=g[0]-680876937,a=(a<<7|a>>>25)-271733879<<0,d=(-1732584194^2004318071&a)+g[1]-117830708,d=(d<<12|d>>>20)+a<<0,c=(-271733879^d&(-271733879^a))+g[2]-1126478375,c=(c<<17|c>>>15)+d<<0,b=(a^c&(d^a))+g[3]-1316259209,b=(b<<22|b>>>10)+c<<0):(a=this.h0,b=this.h1,c=this.h2,d=this.h3,a+=(d^b&(c^d))+g[0]-680876936,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+g[1]-389564586,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+g[2]+606105819,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+g[3]-1044525330,b=(b<<22|b>>>10)+c<<0),a+=(d^b&(c^d))+g[4]-176418897,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+g[5]+1200080426,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+g[6]-1473231341,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+g[7]-45705983,b=(b<<22|b>>>10)+c<<0,a+=(d^b&(c^d))+g[8]+1770035416,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+g[9]-1958414417,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+g[10]-42063,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+g[11]-1990404162,b=(b<<22|b>>>10)+c<<0,a+=(d^b&(c^d))+g[12]+1804603682,a=(a<<7|a>>>25)+b<<0,d+=(c^a&(b^c))+g[13]-40341101,d=(d<<12|d>>>20)+a<<0,c+=(b^d&(a^b))+g[14]-1502002290,c=(c<<17|c>>>15)+d<<0,b+=(a^c&(d^a))+g[15]+1236535329,b=(b<<22|b>>>10)+c<<0,a+=(c^d&(b^c))+g[1]-165796510,a=(a<<5|a>>>27)+b<<0,d+=(b^c&(a^b))+g[6]-1069501632,d=(d<<9|d>>>23)+a<<0,c+=(a^b&(d^a))+g[11]+643717713,c=(c<<14|c>>>18)+d<<0,b+=(d^a&(c^d))+g[0]-373897302,b=(b<<20|b>>>12)+c<<0,a+=(c^d&(b^c))+g[5]-701558691,a=(a<<5|a>>>27)+b<<0,d+=(b^c&(a^b))+g[10]+38016083,d=(d<<9|d>>>23)+a<<0,c+=(a^b&(d^a))+g[15]-660478335,c=(c<<14|c>>>18)+d<<0,b+=(d^a&(c^d))+g[4]-405537848,b=(b<<20|b>>>12)+c<<0,a+=(c^d&(b^c))+g[9]+568446438,a=(a<<5|a>>>27)+b<<0,d+=(b^c&(a^b))+g[14]-1019803690,d=(d<<9|d>>>23)+a<<0,c+=(a^b&(d^a))+g[3]-187363961,c=(c<<14|c>>>18)+d<<0,b+=(d^a&(c^d))+g[8]+1163531501,b=(b<<20|b>>>12)+c<<0,a+=(c^d&(b^c))+g[13]-1444681467,a=(a<<5|a>>>27)+b<<0,d+=(b^c&(a^b))+g[2]-51403784,d=(d<<9|d>>>23)+a<<0,c+=(a^b&(d^a))+g[7]+1735328473,c=(c<<14|c>>>18)+d<<0,b+=(d^a&(c^d))+g[12]-1926607734,b=(b<<20|b>>>12)+c<<0,e=b^c,a+=(e^d)+g[5]-378558,a=(a<<4|a>>>28)+b<<0,d+=(e^a)+g[8]-2022574463,d=(d<<11|d>>>21)+a<<0,f=d^a,c+=(f^b)+g[11]+1839030562,c=(c<<16|c>>>16)+d<<0,b+=(f^c)+g[14]-35309556,b=(b<<23|b>>>9)+c<<0,e=b^c,a+=(e^d)+g[1]-1530992060,a=(a<<4|a>>>28)+b<<0,d+=(e^a)+g[4]+1272893353,d=(d<<11|d>>>21)+a<<0,f=d^a,c+=(f^b)+g[7]-155497632,c=(c<<16|c>>>16)+d<<0,b+=(f^c)+g[10]-1094730640,b=(b<<23|b>>>9)+c<<0,e=b^c,a+=(e^d)+g[13]+681279174,a=(a<<4|a>>>28)+b<<0,d+=(e^a)+g[0]-358537222,d=(d<<11|d>>>21)+a<<0,f=d^a,c+=(f^b)+g[3]-722521979,c=(c<<16|c>>>16)+d<<0,b+=(f^c)+g[6]+76029189,b=(b<<23|b>>>9)+c<<0,e=b^c,a+=(e^d)+g[9]-640364487,a=(a<<4|a>>>28)+b<<0,d+=(e^a)+g[12]-421815835,d=(d<<11|d>>>21)+a<<0,f=d^a,c+=(f^b)+g[15]+530742520,c=(c<<16|c>>>16)+d<<0,b+=(f^c)+g[2]-995338651,b=(b<<23|b>>>9)+c<<0,a+=(c^(b|~d))+g[0]-198630844,a=(a<<6|a>>>26)+b<<0,d+=(b^(a|~c))+g[7]+1126891415,d=(d<<10|d>>>22)+a<<0,c+=(a^(d|~b))+g[14]-1416354905,c=(c<<15|c>>>17)+d<<0,b+=(d^(c|~a))+g[5]-57434055,b=(b<<21|b>>>11)+c<<0,a+=(c^(b|~d))+g[12]+1700485571,a=(a<<6|a>>>26)+b<<0,d+=(b^(a|~c))+g[3]-1894986606,d=(d<<10|d>>>22)+a<<0,c+=(a^(d|~b))+g[10]-1051523,c=(c<<15|c>>>17)+d<<0,b+=(d^(c|~a))+g[1]-2054922799,b=(b<<21|b>>>11)+c<<0,a+=(c^(b|~d))+g[8]+1873313359,a=(a<<6|a>>>26)+b<<0,d+=(b^(a|~c))+g[15]-30611744,d=(d<<10|d>>>22)+a<<0,c+=(a^(d|~b))+g[6]-1560198380,c=(c<<15|c>>>17)+d<<0,b+=(d^(c|~a))+g[13]+1309151649,b=(b<<21|b>>>11)+c<<0,a+=(c^(b|~d))+g[4]-145523070,a=(a<<6|a>>>26)+b<<0,d+=(b^(a|~c))+g[11]-1120210379,d=(d<<10|d>>>22)+a<<0,c+=(a^(d|~b))+g[2]+718787259,c=(c<<15|c>>>17)+d<<0,b+=(d^(c|~a))+g[9]-343485551,b=(b<<21|b>>>11)+c<<0,this.first?(this.h0=a+1732584193<<0,this.h1=b-271733879<<0,this.h2=c-1732584194<<0,this.h3=d+271733878<<0,this.first=!1):(this.h0=this.h0+a<<0,this.h1=this.h1+b<<0,this.h2=this.h2+c<<0,this.h3=this.h3+d<<0)},a.prototype.hex=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3;return h[a>>4&15]+h[15&a]+h[a>>12&15]+h[a>>8&15]+h[a>>20&15]+h[a>>16&15]+h[a>>28&15]+h[a>>24&15]+h[b>>4&15]+h[15&b]+h[b>>12&15]+h[b>>8&15]+h[b>>20&15]+h[b>>16&15]+h[b>>28&15]+h[b>>24&15]+h[c>>4&15]+h[15&c]+h[c>>12&15]+h[c>>8&15]+h[c>>20&15]+h[c>>16&15]+h[c>>28&15]+h[c>>24&15]+h[d>>4&15]+h[15&d]+h[d>>12&15]+h[d>>8&15]+h[d>>20&15]+h[d>>16&15]+h[d>>28&15]+h[d>>24&15]},a.prototype.toString=a.prototype.hex,a.prototype.digest=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3;return[255&a,a>>8&255,a>>16&255,a>>24&255,255&b,b>>8&255,b>>16&255,b>>24&255,255&c,c>>8&255,c>>16&255,c>>24&255,255&d,d>>8&255,d>>16&255,d>>24&255]},a.prototype.array=a.prototype.digest,a.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(16),b=new Uint32Array(a);return b[0]=this.h0,b[1]=this.h1,b[2]=this.h2,b[3]=this.h3,a},a.prototype.buffer=a.prototype.arrayBuffer;var q=o();e?module.exports=q:(b.md5=q,f&&define("md5",[],function(){return q}))}(),define("modules/gravatar/controllers/gravatar",["require","exports","module","underscore","md5"],function(a,b,c){var d=a("underscore"),e=a("md5");c.exports={defaultGravatarUrl:"https://secure.gravatar.com/avatar/0?r=g&d=mm",getGravatarUrl:function(a,b){if(d.isUndefined(a)||d.isNull(a)||!a.length)return this.defaultGravatarUrl+"&s="+b;var c=e(a);return this.getGravatarUrlFromHash(c,b)},getGravatarUrlFromHash:function(a,b){return b=b||24,d.isUndefined(a)||d.isNull(a)||null===a?this.defaultGravatarUrl+"&s="+b:"https://secure.gravatar.com/avatar/"+a+"?r=g&d=mm&s="+b}}}),define("modules/session/models/user",["require","exports","module","underscore","ironclad","modules/gravatar/controllers/gravatar"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/gravatar/controllers/gravatar"),g=e.Model.extend({url:"/api/v1/currentuser",defaults:{gravatarUrl:f.defaultGravatarUrl},getPerson:function(){return new e.Model({url:this.get("personUrl")})},parse:function(a){return d.extend(a,{gravatarUrl:f.getGravatarUrl(a.email,24)})},isAnonymous:function(){var a=this.get("anonymous");return!!d.isUndefined(a)||a}});c.exports=new g}),define("modules/suite-nav/views/footer",["require","exports","module","underscore","ironclad","modules/session/models/user"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/session/models/user");c.exports=e.ViewContainer.extend({template:"#suite-nav-footer",tagName:"footer",className:"footer",id:"suiteFooter",options:{containerId:"suiteFooter",containerSelector:".js-suite-footer"},templateHelpers:d.extend({isPublic:function(){return"undefined"==typeof f.id}},this.templateHelpers)})}),define("modules/session/views/login",["require","exports","module","ironclad","underscore","app","modules/i18n/main","./../models/user"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=(a("app"),a("modules/i18n/main"),a("./../models/user"));c.exports=d.ItemView.extend({template:"#session-login",className:"login-box clearfix",events:{"submit @ui.$form":"submit","click @ui.$submitBtn":"submit"},ui:{$alert:".login-alert",$form:"form",$username:"#username",$password:"#password",$submitBtn:".submit-login",$panelLogin:".panel-login"},initialize:function(){e.bindAll(this,"apiError","loginUser","repositionLoginBox","showLogin"),this.model=f,$(window).on("resize",e.debounce(this.repositionLoginBox,250))},repositionLoginBox:function(){var a=this.$(".panel"),b=($(window).height()-a.outerHeight())/2,c=($(window).width()-a.outerWidth())/2;this.$el.css({position:"absolute",left:c,top:b})},showLogin:function(){this.repositionLoginBox(),this.ui.$panelLogin.removeClass("invisible")},onAttach:function(){this.$("[autofocus]").first().focus(),e.defer(this.showLogin,0)},onDestroy:function(){$(window).off("resize")},submit:function(a){a.preventDefault();var b=this.options.loginUrl||window.bdsHubProxyPrefix+"/j_spring_security_check";this.ui.$submitBtn.attr("disabled",!0).spin("tiny");var c=$.post(b,this.getCredentials());return c.fail(this.apiError),c.done(this.loginUser),c},getCredentials:function(){return{j_username:this.ui.$username.val(),j_password:this.ui.$password.val()}},loginUser:function(){this.ui.$submitBtn.removeClass("btn-primary").addClass("btn-success"),this.ui.$alert.addClass("hidden"),f.fetch().done(function(){f.trigger("login",!0)}).error(this.apiError)},apiError:function(){var a=[f].concat(e.values(arguments));this.$el.removeClass("view-has-error"),this.$el.find(".view-server-error").remove(),d.defaultErrorHandler.apply(this,a),this.ui.$submitBtn.removeAttr("disabled").spin(!1)}})}),define("modules/session/models/registration",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/format-date/main","./user"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/format-date/main"),h=a("./user"),i={VALID:"app.modules.admin.registration.statusText.valid",NOT_SET:"app.modules.admin.registration.statusText.notSet",NETWORK_FAILURE:"app.modules.admin.registration.statusText.networkFailure",INVALID:"app.modules.admin.registration.statusText.otherNoExpire",INCOMPLETE_INSTALL:"app.modules.admin.registration.statusText.otherNoExpire",DEFAULT:"app.modules.admin.registration.statusText.other"};c.exports=e.Model.extend({url:"/api/v1/registrations",validation:{registrationId:{required:!0}},initialize:function(){this.on("sync",this.validateResponse),this.on("error",this.registrationError),this.on("change",this.registrationChanged)},hasFeature:function(a){a=a.toUpperCase();var b=this.get("registrationFeatures");return b&&b.hasOwnProperty(a)&&!!b[a].valid},getValidFeatures:function(){var a=this.get("registrationFeatures"),b=this;return d.compact(d.map(d.keys(a),function(c){return b.hasFeature(c)&&a[c]}))},parse:function(a){var b=i[a.state]||i.DEFAULT;return"VALID"!==a.state||a.expirationDate||(b+="NoExpire"),a.warnings&&a.warnings.length>0&&(a.warningHtml=f.get("app.modules.admin.registration.warningText",a)),a.expirationHtml=a.expirationDate?g.formatDateTime(a.expirationDate):"-",a.statusHtml=f.get(b,a),a},refresh:function(){return this.set("id",1),this.save.apply(this,arguments)},validateResponse:function(){"VALID"!==this.get("state")&&(h&&!h.isAnonymous()?this.trigger("registration:invalid"):this.trigger("registration:invalid:anonymous"))},registrationError:function(a,b){400===b.status&&this.trigger("registration:error")},isValid:function(){return"VALID"===this.get("state")},registrationChanged:function(){var a=this.previousAttributes().registrationFeatures;a&&this.hasChanged("registrationFeatures")&&window.location.reload()}})}),define("modules/session/models/current-registration",["require","exports","module","./registration"],function(a,b,c){var d=a("./registration");c.exports=new d}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){if(a(b.target).is(this))return b.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.7",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a("#"===f?[]:f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.7",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c).prop(c,!0)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c).prop(c,!1))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")?(c.prop("checked")&&(a=!1),b.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==c.prop("type")&&(c.prop("checked")!==this.$element.hasClass("active")&&(a=!1),this.$element.toggleClass("active")),c.prop("checked",this.$element.hasClass("active")),a&&c.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target).closest(".btn");b.call(d,"toggle"),a(c.target).is('input[type="radio"], input[type="checkbox"]')||(c.preventDefault(),d.is("input,button")?d.trigger("focus"):d.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(a>this.$items.length-1||a<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){if(!this.sliding)return this.slide("next")},c.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));
    if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.7",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass("open")&&(c&&"click"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event("hide.bs.dropdown",f)),c.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger(a.Event("hidden.bs.dropdown",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.7",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=b(e),g=f.hasClass("open");if(c(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",c);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger(a.Event("shown.bs.dropdown",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(".disabled, :disabled")){var e=b(d),g=e.hasClass("open");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find(".dropdown-menu"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",c).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.7",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in"),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){document===a.target||this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+e).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",a,b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusin"==b.type?"focus":"hover"]=!0),c.tip().hasClass("in")||"in"==c.hoverState?void(c.hoverState="in"):(clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);if(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),b instanceof a.Event&&(c.inState["focusout"==b.type?"focus":"hover"]=!1),!c.isInStateTrue())return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h="bottom"==h&&k.bottom+m>o.bottom?"top":"top"==h&&k.top-m<o.top?"bottom":"right"==h&&k.right+l>o.width?"left":"left"==h&&k.left-l<o.left?"right":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element&&e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);if(this.$element.trigger(g),!g.isDefaultPrevented())return f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=window.SVGElement&&c instanceof window.SVGElement,g=d?{top:0,left:0}:f?null:b.offset(),h={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},i=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,h,i,g)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null,a.$element=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;!e&&/destroy|hide/.test(b)||(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.7",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.7",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.7",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return e<c&&"top";if("bottom"==this.affixed)return null!=c?!(e+this.unpin<=f.top)&&"bottom":!(e+g<=a-d)&&"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&e<=c?"top":null!=d&&i+j>=a-d&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),define("bootstrap",["jquery"],function(a){return function(){var b;return b||a.jQuery}}(this)),define("modules/form/behaviors/form-cancel-modal",["require","exports","module","underscore","marionette"],function(a,b,c){var d=a("underscore"),e=a("marionette");c.exports=e.Behavior.extend({events:{"click @ui.$cancel":"cancel",keydown:"keyPressAction"},cancel:function(a){d.isFunction(this.view.onCancel)&&this.view.onCancel.apply(this.view,arguments),d.isFunction(this.view.cancelModal)?this.view.cancelModal(a):this.view.closeModal(a)},keyPressAction:function(a){27===a.keyCode&&this.cancel(a,!0)}})}),define("modules/form/behaviors/form-tab-modal",["require","exports","module","underscore","marionette"],function(a,b,c){var d=a("underscore"),e=a("marionette");c.exports=e.Behavior.extend({initialize:function(){d.bindAll(this,"tabKeyHandler"),$(window).on("keydown",this.tabKeyHandler)},onDestroy:function(){$(window).off("keydown",this.tabKeyHandler)},inModal:function(a){return 1===$(a).parents(".modal").length},tabKeyHandler:function(a){var b=$(a.target);if(9===a.keyCode){var c=this.view.$el.find(":input").not(".selectized");if(this.inModal(b)){var d=c.index(b);a.shiftKey&&0===d?this._selectElement(c.last(),a):a.shiftKey||d!==c.size()-1||this._selectElement(c.first(),a)}else a.shiftKey?this._selectElement(c.last(),a):this._selectElement(c.first(),a)}},_selectElement:function(a,b){b.preventDefault(),b.stopPropagation(),a.focus()}})}),define("modules/modals/views/layout-view",["require","exports","module","underscore","ironclad","bootstrap","modules/router/router-history","modules/i18n/main","modules/form/behaviors/form-cancel-modal","modules/form/behaviors/form-tab-modal"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("bootstrap"),g=a("modules/router/router-history"),h=a("modules/i18n/main"),i=a("modules/form/behaviors/form-cancel-modal"),j=a("modules/form/behaviors/form-tab-modal");c.exports=e.Layout.extend({template:"#modals-layout-view",className:"modal fade",options:{redirect:!0,showOnRender:!0,large:!1},ui:{$cancel:".js-btn-cancel",$ok:".js-btn-ok",$generalError:".js-server-error-container"},modelEvents:{error:"genericActiveStateHandler"},collectionEvents:{error:"genericActiveStateHandler"},events:{"click @ui.$ok":"beforeOk"},behaviors:{Cancel:{behaviorClass:i},TabControl:{behaviorClass:j}},onRender:function(){var a=this;a.options.large&&a.$(".modal-dialog").addClass("modal-lg"),this.$el.on("hidden.modal.bs",function(){a.destroy()}),a.$el.on("shown.bs.modal",function(){var b=a.$el.find(":input:visible").not(".selectized").first();b.focus(),b.hasClass("js-btn-cancel")&&b.next(".js-btn-ok").focus(),a.listenTo(e.MessageBus.vent,"app:modal:close",a.closeModal);
}),a.options.showOnRender&&f(a.$el).modal({show:!0,keyboard:!0,backdrop:"static"}),a.waitingOkLabel=a.ui.$ok.data("waiting-label")||h.get("app.modules.common.saving"),a.initialOkLabel=a.ui.$ok.text(),a.listenTo(a,"state:waiting",a.genericWaitingStateHandler),a.listenTo(a,"state:active",a.genericActiveStateHandler)},errorHandler:function(a,b){b&&403===b.status&&this.closeModal(),this.handleApiErrors(a,b)},redirect:function(a){this.options.redirect&&g.moveToPreviousHash(a,!0)},beforeOk:function(a){a.preventDefault(),a.stopPropagation(),this.clearErrors(),this.ok(a)},ok:function(a){"function"==typeof this.closeModal&&this.closeModal(a)},genericWaitingStateHandler:function(){this.disableModalControls(),this.setLoadingStateOnOk()},genericActiveStateHandler:function(){this.unsetLoadingStateOnOk(),this.enableModalControls()},handleApiErrors:function(a,b){var c=this.constructErrorWrapperFromApiResponse(a,b);this.renderErrorWrapper(c)},constructErrorWrapperFromApiResponse:function(a,b){var c=b.responseJSON?b.responseJSON:JSON.parse(b.responseText),e=d.extend.apply(d,[{}].concat(d.map(c.errors,function(a){var b={};return b[a.arguments.fieldName]=a.errorMessage,b})));return{validationError:e}},renderErrorWrapper:function(a){this.trigger("state:active");var b=a.validationError;for(var c in b)"undefined"!=typeof b[c]&&this.renderError(c,b[c])},renderGeneralError:function(a){this.ui.$generalError.addClass("alert alert-danger").html(a)},renderError:function(a,b){var c=this.$("[name="+a+"]"),d=c.parents(".form-group").addClass("has-error");d.find(".help-block").remove();var e=$("<span />",{class:"help-block",text:b});c.hasClass("selectized")?d.find(".selectize-input").after(e):c.after(e)},cleanFieldErrors:function(){this.$el.find(".form-group .help-block").remove(),this.$el.find(".form-group").removeClass("has-error")},showSpinner:function(){$(this.ui.$ok).spin("tiny")},stopSpinner:function(){$(this.ui.$ok).spin(!1)},clearErrors:function(){this.$(".help-block").hide(),this.ui.$generalError.removeClass("alert alert-danger").empty()},disableModalControls:function(){this.domElementExists(this.ui.$ok)&&this.ui.$ok.attr("disabled","disabled")},enableModalControls:function(){this.domElementExists(this.ui.$ok)&&this.ui.$ok.removeAttr("disabled")},domElementExists:function(a){var b=$(a);return b.size()>0},setLoadingStateOnOk:function(){var a=this.waitingOkLabel;"undefined"!=typeof a&&null!==a||(a=this.initialOkLabel),this.ui.$ok.html(a),this.showSpinner()},unsetLoadingStateOnOk:function(){this.stopSpinner();var a=this.initialOkLabel;"undefined"!=typeof a&&this.ui.$ok.html(a)},onDestroy:function(){this.$el.off("hidden.modal.bs"),this.$el.off("shown.bs.modal")},cancelModal:function(a){this.stopSpinner(),this.trigger("state:active"),f(this.$el).modal("hide"),this.stopListening()},closeModal:function(a){this.cancelModal(a),this.redirect(!0)}})}),define("modules/form/behaviors/error-render",["require","exports","module","marionette"],function(a,b,c){var d=a("marionette");c.exports=d.Behavior.extend({clearErrors:function(){this.$(".help-block, .form-control-feedback").remove(),this.$(".form-group").removeClass("has-error")},renderFormError:function(a,b){var c=d.TemplateCache.get("#form-field-error")({message:b});this.$('[name="'+a+'"]').parent().append(c).parents(".form-group").addClass("has-error")}})}),define("modules/form/behaviors/model-api-error",["require","exports","module","underscore","./error-render"],function(a,b,c){var d=a("underscore"),e=a("./error-render");c.exports=e.extend({modelEvents:{error:"apiError"},apiError:function(a,b){var c=this;d.defer(function(){c.clearErrors();var a=b&&b.responseJSON?b.responseJSON.errors:"";d.each(a,function(a){c.renderFormError(a.arguments.fieldName,a.errorMessage)})})}})}),define("modules/form/behaviors/model-validation-error",["require","exports","module","underscore","./error-render"],function(a,b,c){var d=a("underscore"),e=a("./error-render");c.exports=e.extend({modelEvents:{"validated:invalid":"invalidModel","validated:valid":"clearErrors"},invalidModel:function(a,b){var c=this;this.clearErrors(),d.each(b,function(a,b){c.renderFormError(b,a)})}})}),define("modules/modals/views/layout-form",["require","exports","module","underscore","./layout-view","modules/form/behaviors/form-cancel-modal","modules/form/behaviors/model-api-error","modules/form/behaviors/model-validation-error","modules/form/behaviors/form-tab-modal"],function(a,b,c){var d=a("underscore"),e=a("./layout-view"),f=a("modules/form/behaviors/form-cancel-modal"),g=a("modules/form/behaviors/model-api-error"),h=a("modules/form/behaviors/model-validation-error"),i=a("modules/form/behaviors/form-tab-modal");c.exports=e.extend({template:"#modals-layout-form",ui:d.extend({},e.prototype.ui,{$submit:'button[type="submit"]',$form:"form, .form-group"}),modelEvents:d.extend({},e.prototype.modelEvents,{invalid:"renderErrorWrapper"}),events:d.extend({},e.prototype.events,{"submit @ui.$submit":"submitOnEnter"}),behaviors:{Cancel:{behaviorClass:f},TabControl:{behaviorClass:i},ModelApiError:{behaviorClass:g},ModelValidationError:{behaviorClass:h}},submitOnEnter:function(a){this.beforeOk(a)},genericWaitingStateHandler:function(){e.prototype.genericWaitingStateHandler.apply(this,arguments),this.renderAllValid()},clearErrors:function(){this.$(".help-block").hide(),this.ui.$form.removeClass("has-error"),this.ui.$generalError.removeClass("alert alert-danger").empty()},renderAllValid:function(){this.ui.$form.addClass("has-success")}})}),define("modules/registration/views/modal",["require","exports","module","underscore","backbone","modules/modals/views/layout-form"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("modules/modals/views/layout-form");c.exports=f.extend({template:"#registration-modal",modelEvents:d.extend({},f.prototype.modelEvents,{sync:"success"}),ui:d.extend({registrationId:"[name=registrationId]"},f.prototype.ui),success:function(){this.closeModal()},ok:function(){this.trigger("state:waiting"),this.model.set("registrationId",this.ui.registrationId.val()),this.model.save()},redirect:function(){return window.location.reload(),!1},onCancel:function(){$.get(window.bdsHubProxyPrefix+"/j_spring_security_logout").always(function(){e.history.stop(),window.location.replace("/")})}})}),define("modules/registration/views/error",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=a("underscore");c.exports=d.ItemView.extend({className:"login-box",template:"#registration-error",initialize:function(a){e.bindAll(this,"repositionLoginBox"),$(window).on("resize",e.debounce(this.repositionLoginBox,250))},repositionLoginBox:function(){var a=this.$(".panel"),b=($(window).height()-a.outerHeight())/2,c=($(window).width()-a.outerWidth())/2;this.$el.css({position:"absolute",left:c,top:b})},onAttach:function(){e.defer(this.repositionLoginBox,0)},onDestroy:function(){$(window).off("resize")}})}),define("modules/registration/main",["require","exports","module","app","../session/models/current-registration","./views/modal","./views/error"],function(a,b,c){var d=a("app"),e=a("../session/models/current-registration"),f=a("./views/modal"),g=a("./views/error");e.on("registration:invalid",function(){d.appLayout.modals.show(new f({model:this}))}),e.on("registration:error",function(){d.appLayout.content.show(new g)})}),define("modules/session/controllers/route-controller",["require","exports","module","jquery","underscore","backbone","app","modules/i18n/main","ironclad","modules/suite-nav/views/footer","../views/login","../models/current-registration","modules/registration/main"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=a("backbone"),g=a("app"),h=a("modules/i18n/main"),i=a("ironclad"),j=a("modules/suite-nav/views/footer"),k=a("../views/login"),l=a("../models/current-registration");a("modules/registration/main"),c.exports={create:function(){g.rootRegion.$el.addClass("login anonymous"),l.isNew()?l.once("change",this.showLandingPage):this.showLandingPage(),i.WeightedStore.addItem("appLayout",new j({isPublic:!0}),1,"SuiteFooter"),document.title=h.get("app.modules.common.product")},fourOhFour:function(){var a=i.MessageBus.reqres.request("error:view",404);a&&g.appLayout.content.show(a)},showLandingPage:function(){var a=new k;g.appLayout.content.show(a),a.on("destroy",function(){g.rootRegion.$el.removeClass("login")})},destroy:function(){d.get(window.bdsHubProxyPrefix+"/j_spring_security_logout").always(function(){f.history.stop(),window.location.hash="",window.location.reload()})},redirectToDefaultRoute:function(){var a=e.first(i.WeightedStore.getItems("defaultControllers"));if(!e.isUndefined(a)){if(e.isUndefined(a.data.default))throw new Error('Default controller set, but no "default" action exists!');e.isFunction(a.data.default)?a.data.default():window.location.replace("#"+a.data.default)}}}}),define("modules/session/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=(a("modules/i18n/main"),d.extend({controller:e,appRoutes:{"session(/)":"create","logout(/)":"destroy","dashboard(/)":"redirectToDefaultRoute","(/)":"redirectToDefaultRoute","*path":"fourOhFour"}}));c.exports=new f}),define("modules/session/views/not-authorized",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#session-not-authorized"})}),define("modules/session/models/permissions",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e=d.Model.extend({url:"/api/v1/currentuser/permissions"});c.exports=new e}),define("modules/session/models/user-roles",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.Collection.extend({model:e.Model,parse:function(a){return a.items},getRoles:function(){return this.pluck("roleKey")},getUniqueRoles:function(){var a=d.unique(this.models,function(a){return a.get("role")});return new e.Collection(a)}});c.exports=new f}),define("modules/link-nav/registry",["require","exports","module","marionette","ironclad","underscore"],function(a,b,c){var d=a("marionette"),e=a("ironclad"),f=a("underscore"),g={},h=d.Object.extend({addMenuItem:function(a,b,c,d,e){g.hasOwnProperty(a)||(g[a]=[]),g[a].push({template:b,data:c,weight:d,checkRender:e}),this.trigger("change:"+a)},hasMenuItems:function(a){return!!g.hasOwnProperty(a)&&g[a].length>0},getMenuItems:function(a){if(!g[a])return"";var b=f.sortBy(g[a],"weight"),c=f.map(b,function(a){var b=f.result(a,"data"),c=f.result(a,"template"),g=new e.ItemView;return b=g.mixinTemplateHelpers(b),a.checkRender&&!a.checkRender()?"":(c=/^#/.test(c)?d.TemplateCache.get(c):f.template(c))(b)});return c.join("\n")}});c.exports=new h}),define("modules/session/controllers/flow-controller",["require","exports","module","underscore","jquery","backbone","marionette","ironclad","app","../views/not-authorized","./../models/permissions","./../models/current-registration","./../models/user","../models/user-roles","modules/link-nav/registry"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("backbone"),g=a("marionette"),h=a("ironclad"),i=a("app"),j=a("../views/not-authorized"),k=(a("./../models/permissions"),a("./../models/current-registration")),l=a("./../models/user"),m=a("../models/user-roles"),n=a("modules/link-nav/registry");c.exports=g.Object.extend({initialize:function(){d.bindAll(this,"notLoggedIn","loggedIn","ready","loadAnonymousModules"),this.listenTo(l,"login",this.loggedIn),l.isNew()&&this.loadSession()},loadSession:function(){l.fetch().fail(this.notLoggedIn).done(this.loggedIn)},notLoggedIn:function(){var a=this;e.when(k.fetch({data:e.param({summary:!0})})).then(function(){a.loadAnonymousModules()}),this.trigger("authenticate")},fourOhFour:function(){if(!l.isAnonymous()){var a=h.MessageBus.reqres.request("error:view",404);i.appLayout.content.show(a)}},unAuthorized:function(){i.appLayout.content.show(new j)},unAuthenticated:function(){document.location.reload(!0)},loggedIn:function(a){l.get("preAuthenticated")||n.addMenuItem("user-profile-menu","#session-logout-menu-link",{},100);var b=this;i.rootRegion.$el.removeClass("anonymous"),m.url=l.get("roleAssignmentsUrl"),e.when(k.fetch({data:e.param({summary:!0})}),m.fetch({data:e.param({inherited:!0})})).then(function(){b.ready(a===!0)})},loadAnonymousModules:function(){f.History.started||f.history.start(),this.trigger("anonymous")},ready:function(a){k.isValid()&&this.trigger("ready",a)}})}),define("modules/session/main",["require","exports","module","jquery","./router","./controllers/flow-controller","./models/user"],function(a,b,c){var d=a("jquery"),e=a("./router"),f=a("./controllers/flow-controller"),g=a("./models/user"),h=c.exports=new f;h.on("authenticate",function(){e.controller.create()}),d(document).ajaxError(function(a,b,c,d){404===b.status&&h.fourOhFour(),403===b.status?h.unAuthorized(a,b,c,d):401!==b.status||g.isAnonymous()||h.unAuthenticated(a,b,c,d)})}),define("modules/loader/config",["require","exports","module"],function(a,b,c){c.exports={default:[{license:"*",path:"modules/data-rendered-at/main"},{license:"*",path:"modules/gravatar/main"},{license:"*",path:"modules/link-helper/main"},{license:"*",path:"modules/link-user/main"},{license:"*",path:"modules/modals/main"},{license:"*",path:"modules/suite-nav/main"},{license:"*",path:"modules/user-profile-menu/main"},{license:"*",path:"modules/errors/main"},{license:"*",path:"modules/comments/main"},{license:"*",path:"modules/search/main"},{license:"*",path:"modules/search-all/main"},{license:"*",path:"modules/search-header-input/main"},{license:"RISK_MANAGEMENT",path:"modules/create-menu/main"},{license:"RISK_MANAGEMENT",path:"modules/home/main"},{license:"RISK_MANAGEMENT",path:"modules/home-projects/main"},{license:"RISK_MANAGEMENT",path:"modules/home-components/main"},{license:"RISK_MANAGEMENT",path:"modules/search-projects/main"},{license:"RISK_MANAGEMENT",path:"modules/projects/main"},{license:"RISK_MANAGEMENT",path:"modules/projects-basics/main"},{license:"RISK_MANAGEMENT",path:"modules/projects-versions/main"},{license:"RISK_MANAGEMENT",path:"modules/projects-settings/main"},{license:"RISK_MANAGEMENT",path:"modules/projects-myprojects/main"},{license:"RISK_MANAGEMENT",path:"modules/projects-group/main"},{license:"RISK_MANAGEMENT",path:"modules/project-members/main"},{license:"RISK_MANAGEMENT",path:"modules/versions/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-basics/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-overview/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-bom/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-settings/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-files/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-files-browse/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-reports/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-reports-notices/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-scanlocations/main"},{license:"RISK_MANAGEMENT",path:"modules/versions-vuln/main"},{license:"RISK_MANAGEMENT",path:"modules/search-vulnerability/main"},{license:"RISK_MANAGEMENT",path:"modules/licenses/main"},{license:"RISK_MANAGEMENT",path:"modules/licenses-preview/main"},{license:"*",path:"modules/admin/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-exts/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-groups/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-jobs/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-ldap/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-registration/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-settings/main",roles:["sysadmin"]},{license:"*",path:"modules/admin-users/main",roles:["sysadmin"]},{license:"*",path:"modules/help/main"},{license:"*",path:"modules/tools/main"},{license:"*",path:"modules/users/main"},{license:"*",path:"modules/user-profile/main"},{license:"*",path:"modules/user-exts/main"},{license:"*",path:"modules/filters/main"},{license:"*",path:"modules/recent-item/main"},{license:"NOTIFICATIONS",path:"modules/notifications/main"},{license:"NOTIFICATIONS",path:"modules/notifications-view/main"},{license:"RISK_MANAGEMENT",path:"modules/security-dashboard/main"},{license:"RISK_MANAGEMENT",path:"modules/vulnerabilities/main"},{license:"RISK_MANAGEMENT",path:"modules/reports/main"},{license:"*",path:"modules/code-locations/main",roles:["sysadmin","codescanner"]},{license:"ISCAN",path:"modules/code-locations-bdio/main"},{license:"ISCAN",path:"modules/code-locations-bom/main"},{license:"ISCAN",path:"modules/code-locations-fs/main"},{license:"POLICY_MANAGEMENT",path:"modules/policy-management/main",roles:["policyman"]},{license:"POLICY_MANAGEMENT",path:"modules/policy-rules/main"},{license:"*",path:"modules/rest-api-doc/main"},{license:"OSS_ATTRIBUTION",path:"modules/licenses-edit/main"}],anonymous:[{license:"*",path:"modules/errors/main"}]}}),define("modules/loader/main",["require","exports","module","underscore","ironclad","modules/session/models/user-roles","modules/session/models/current-registration","./config"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/session/models/user-roles"),g=a("modules/session/models/current-registration"),h=a("./config");c.exports={load:function(a,b){var c=new e.FeatureList(h[a]),i=new e.ModuleLoader({config:c});b&&i.on("modules:loaded",b),i.loadModules(f.getRoles(),d.pluck(g.getValidFeatures(),"feature"))}}}),window.Hub=window.Hub||{},window.Hub.config=window.Hub.config||{},require(["config","setup"],function(){require(["app","underscore","ironclad","modules/i18n/main","modules/session/main","modules/loader/main"],function(a,b,c,d,e,f){a.start({history:!1,jst:function(){return window.JST}}),e.on("ready",function(a){a===!0?window.location.reload():f.load("default",function(){if(Backbone.history.start(),!Backbone.history.getHash()){var a=b.first(c.WeightedStore.getItems("defaultControllers"));if(!a||!a.data.default)throw new Error('default router set, but no "default" action exists!');b.isFunction(a.data.default)?a.data.default():window.location.replace("#"+a.data.default)}})}),e.on("anonymous",function(){f.load("anonymous")})})}),define("main",function(){}),define("modules/common/models/pageable-collection",["require","exports","module","underscore","backbone","backbone.paginator","ironclad"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("backbone.paginator"),g=a("ironclad").MessageBus;c.exports=f.extend({_state:{firstLoad:!0,currentPage:1,pageSize:100,order:"-1",resetPageOnSort:!0},_queryParams:{pageSize:"limit",sortKey:"sortField",order:"ascending",directions:{"-1":"true",1:"false"},offset:function(){return this.state.currentPage?(this.state.currentPage-1)*this.state.pageSize:0},totalPages:null,currentPage:null,totalRecords:null},_persistence:{active:!1,persistBeforeRequest:!1,persistBaseParams:!0,filtersToPersist:["sortField","ascending","offset","q","rql"],filtersMappings:{limit:function(a){a&&(this.state.pageSize=parseInt(a,10))},sortField:function(a){a&&(this.state.sortKey=a)},ascending:function(a){this.state.order="true"===a?-1:1},offset:function(a){a&&a>=this.state.pageSize&&(this.state.currentPage=Math.floor(a/this.state.pageSize)+1)}}},initialize:function(a){d.extend(this,a),this._setDefaults(),this.filtersController&&this.persistence&&this.persistence.active&&(this._applyActiveFilters(),this.persistence.persistBeforeRequest?this.sync=this.syncWithPrePersistence:this.listenTo(this,"sync",this._persistFetchParams))},syncWithPrePersistence:function(a,b,c){"read"===a&&this._persistParameters(c.data),f.prototype.sync.apply(this,arguments)},parseState:function(a){var b={totalRecords:a.totalCount},c=this.checkPaginationLimits(a.totalCount);return c?this.state.outOfBounds=!1:d.extend(b,{currentPage:1,outOfBounds:!0}),b},checkPaginationLimits:function(a){return(this.state.currentPage-1)*this.state.pageSize<a},parseRecords:function(a){return a.items},_setDefaults:function(){this.state===e.PageableCollection.prototype.state&&(this.state={}),this.queryParams===e.PageableCollection.prototype.queryParams&&(this.queryParams={}),this.state=d.extend({},this._state,this.state),this.queryParams=d.extend({},this._queryParams,this.queryParams),this.filtersController||(this.filtersController=g.reqres.request("hub:filters:controller")),this._setDefaultsForPersistence()},_setDefaultsForPersistence:function(){if(this.persistence?this.persistence=d.extend({},this._persistence,this.persistence):this.persistence=d.clone(this._persistence),this.persistence.persistBaseParams){var a=this._persistence.filtersToPersist.concat(this.persistence.filtersToPersist);this.persistence.filtersToPersist=d.compact(a),this.persistence.filtersMappings=d.extend({},this._persistence.filtersMappings,this.persistence.filtersMappings)}},_applyActiveFilters:function(){var a=this;d.each(this.persistence.filtersToPersist,function(b){var c={key:b};a.persistence.filtersContext&&(c.context=a.persistence.filtersContext);var e=a.filtersController.getFilter(c);d.isUndefined(a.persistence.filtersMappings[b])?a._updateParamFromFilters(e,b):a._updateParamFromFiltersMapping(e,b)})},_updateParamFromFilters:function(a,b){a&&(this.queryParams[b]=a.get("value"))},_updateParamFromFiltersMapping:function(a,b){var c=this.persistence.filtersMappings[b];"function"==typeof c&&a&&c.apply(this,[a.get("value")])},_persistFetchParams:function(a,b,c){!this.state.firstLoad&&this.persistence.active&&this.persistence.filtersToPersist.length>0&&c.data&&this._persistParameters(c.data),this.state.firstLoad=!1},_persistParameters:function(a){var b=[],c=this;d.each(this.persistence.filtersToPersist,function(e){var f=a[e];d.isObject(f)&&1===f.length&&(f=f[0]),b.push({key:e,value:f,context:c.persistence.filtersContext})}),this.filtersController.updateFilters(b)},parse:function(){return e.Collection.prototype.parse.apply(this,arguments),f.prototype.parse.apply(this,arguments)}})}),define("modules/admin-exts/models/extension",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Model.extend({urlRoot:"api/externalextensions",validation:{infoUrl:{required:!0}},getAuthUrl:function(){var a=d.findWhere(this.get("_meta").links,{rel:"authenticate"}),b=this.get("_meta").href;return a.href+"?next="+encodeURIComponent(b)}})}),define("modules/admin-exts/models/extensions",["require","exports","module","modules/common/models/pageable-collection","./extension"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./extension");c.exports=d.extend({model:e,url:"/api/externalextensions",persistence:{active:!0},state:{sortKey:"name"}})}),define("modules/mixins/shared-data",["require","exports","module"],function(a,b,c){var d={numericConstants:{summaryLength:250,descriptionLength:500},EntityTypes:{PROJECT:"PJ",RELEASE:"RL",LICENSE:"LI"},ownershipIcons:{0:"custom-icon-internal",1:"custom-icon-kb"},colors:{languages:{unknown:{background:"#E01B6A",foreground:"#FFFFFF"},other:{background:"#000000",foreground:"#FFFFFF"},actionscript:{background:"#e3491a",foreground:"#FFFFFF"},ada:{background:"#FAE028",foreground:"#000000"},assembler:{background:"#333333",foreground:"#FFFFFF"},assembly:{background:"#333333",foreground:"#FFFFFF"},augeas:{background:"#CCCCCC",foreground:"#000000"},autoconf:{background:"#666666",foreground:"#FFFFFF"},automake:{background:"#666666",foreground:"#FFFFFF"},awk:{background:"#4D8D94",foreground:"#FFFFFF"},bat:{background:"#AAAAAA",foreground:"#000000"},bfpp:{background:"#666666",foreground:"#FFFFFF"},blitzmax:{background:"#666666",foreground:"#FFFFFF"},boo:{background:"#FCF050",foreground:"#000000"},brainfuck:{background:"#666666",foreground:"#FFFFFF"},c:{background:"#FF8F00",foreground:"#000000"},chaiscript:{background:"#666666",foreground:"#FFFFFF"},classic_basic:{background:"#666666",foreground:"#FFFFFF"},clearsilver:{background:"#26A491",foreground:"#FFFFFF"},clojure:{background:"#db5855",foreground:"#FFFFFF"},cmake:{background:"#666666",foreground:"#FFFFFF"},cncpp:{background:"#FF8F00",foreground:"#000000"},cobol:{background:"#CCCCCC",foreground:"#000000"},coldfusion:{background:"#ed2cd6",foreground:"#000000"},coffeescript:{background:"#244776",foreground:"#FFFFFF"},coq:{background:"#CCCCCC",foreground:"#000000"},cpp:{background:"#F35F1F",foreground:"#FFFFFF"},csharp:{background:"#4096EE",foreground:"#FFFFFF"},css:{background:"#FF1A00",foreground:"#FFFFFF"},cuda:{background:"#666666",foreground:"#FFFFFF"},d:{background:"#fcd46d",foreground:"#FFFFFF"},dcl:{background:"#666666",foreground:"#FFFFFF"},dmd:{background:"#EC2E24",foreground:"#FFFFFF"},dylan:{background:"#822C2C",foreground:"#FFFFFF"},ebuild:{background:"#666666",foreground:"#FFFFFF"},ec:{background:"#CCCCCC",foreground:"#000000"},eiffel:{background:"#946d57",foreground:"#FFFFFF"},emacslisp:{background:"#2B6B24",foreground:"#FFFFFF"},erlang:{background:"#6A2CC7",foreground:"#FFFFFF"},exheres:{background:"#666666",foreground:"#FFFFFF"},factor:{background:"#636746",foreground:"#FFFFFF"},forth:{background:"#341708",foreground:"#FFFFFF"},fortranfixed:{background:"#4d41b1",foreground:"#FFFFFF"},fortranfree:{background:"#4d41b1",foreground:"#FFFFFF"},fsharp:{background:"#b845fc",foreground:"#FFFFFF"},genie:{background:"#666666",foreground:"#FFFFFF"},glsl:{background:"#666666",foreground:"#FFFFFF"},golang:{background:"#8d04eb",foreground:"#FFFFFF"},groovy:{background:"#C72C2C",foreground:"#FFFFFF"},haml:{background:"#666666",foreground:"#FFFFFF"},haskell:{background:"#007B7C",foreground:"#FFFFFF"},haxe:{background:"#346d51",foreground:"#FFFFFF"},html:{background:"#47A400",foreground:"#000000"},idl_pvwave:{background:"#666666",foreground:"#FFFFFF"},jam:{background:"#666666",foreground:"#FFFFFF"},java:{background:"#9A63AD",foreground:"#FFFFFF"},javascript:{background:"#A4007E",foreground:"#FFFFFF"},jsp:{background:"#CCCCCC",foreground:"#000000"},limbo:{background:"#666666",foreground:"#FFFFFF"},lisp:{background:"#93D290",foreground:"#000000"},logtalk:{background:"#CCCCCC",foreground:"#000000"},lua:{background:"#A42E00",foreground:"#FFFFFF"},make:{background:"#666666",foreground:"#FFFFFF"},matlab:{background:"#A46400",foreground:"#FFFFFF"},mathematica:{background:"#CCCCCC",foreground:"#000000"},metafont:{background:"#666666",foreground:"#FFFFFF"},metapost:{background:"#666666",foreground:"#FFFFFF"},modula2:{background:"#666666",foreground:"#FFFFFF"},modula3:{background:"#666666",foreground:"#FFFFFF"},mxml:{background:"#666666",foreground:"#FFFFFF"},nix:{background:"#666666",foreground:"#FFFFFF"},nsis:{background:"#666666",foreground:"#FFFFFF"},oberon:{background:"#666666",foreground:"#FFFFFF"},objective_c:{background:"#C7932C",foreground:"#000000"},objective_j:{background:"#ff0c5a",foreground:"#FFFFFF"},ocaml:{background:"#3be133",foreground:"#000000"},octave:{background:"#666666",foreground:"#FFFFFF"},pascal:{background:"#D15600",foreground:"#FFFFFF"},perl:{background:"#D2C690",foreground:"#000000"},php:{background:"#356AA0",foreground:"#FFFFFF"},pike:{background:"#066ab2",foreground:"#FFFFFF"},prolog:{background:"#666666",foreground:"#FFFFFF"},puppet:{background:"#cc5555",foreground:"#FFFFFF"},python:{background:"#4A246B",foreground:"#FFFFFF"},pvwave:{background:"#CCCCCC",foreground:"#000000"},qml:{background:"#666666",foreground:"#FFFFFF"},r:{background:"#198ce7",foreground:"#000000"},racket:{background:"#ae17ff",foreground:"#FFFFFF"},rebol:{background:"#358a5b",foreground:"#FFFFFF"},rexx:{background:"#00A44B",foreground:"#FFFFFF"},ruby:{background:"#A40011",foreground:"#FFFFFF"},scala:{background:"#7dd3b0",foreground:"#000000"},scheme:{background:"#90C0D2",foreground:"#000000"},scilab:{background:"#CCCCCC",foreground:"#000000"},shell:{background:"#777777",foreground:"#FFFFFF"},smalltalk:{background:"#596706",foreground:"#FFFFFF"},sql:{background:"#493625",foreground:"#FFFFFF"},stratego:{background:"#666666",foreground:"#FFFFFF"},structured_basic:{background:"#666666",foreground:"#FFFFFF"},tcl:{background:"#D290A8",foreground:"#000000"},tex:{background:"#000080",foreground:"#FFFFFF"},tex_dtx:{background:"#666666",foreground:"#FFFFFF"},vala:{background:"#729FCF",foreground:"#000000"},vhdl:{background:"#543978",foreground:"#FFFFFF"},vim:{background:"#199c4b",foreground:"#FFFFFF"},visualbasic:{background:"#2C5DC7",foreground:"#FFFFFF"},vbscript:{background:"#CCCCCC",foreground:"#000000"},xaml:{background:"#666666",foreground:"#FFFFFF"},xml:{background:"#555555",foreground:"#FFFFFF"},xmlschema:{background:"#556677",foreground:"#FFFFFF"},xslt:{background:"#556655",foreground:"#FFFFFF"}}},screen:{xs:480,sm:768,md:992,lg:1200,xl:1930}};c.exports={contextPath:window.contextPath,constants:d}}),define("modules/tables/behaviors/sticky-headers",["require","exports","module","ironclad","underscore","marionette","modules/mixins/shared-data"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore"),g=a("marionette"),h=a("modules/mixins/shared-data");c.exports=g.Behavior.extend({ui:{$tableAction:".sticky-action-bar",$table:".sticky-table"},events:{"click th.sortable":"toTop","click .backgrid-paginator button":"toTop","click @ui.$table .dropdown-menu-right a":"watchUpdate","click @ui.$table button":"watchUpdate","click @ui.$tableAction button":"watchUpdate"},initialize:function(){f.bindAll(this,"resizing","scrolling"),$(window).resize(this.resizing),$(window).scroll(this.scrolling),this.hasScrolled=!1,this.hasResized=!1,this.listenTo(e.vent,"window:resize",this.resizeTable)},calculateScroll:function(){var a=$(".page-header").first().outerHeight()+$("#suiteTopNavCollapse").height()+15;this.ui.$tableAction.children().size()>0?this.scroll=this.ui.$tableAction.offset().top-a:this.scroll=this.ui.$table.position().top},resizing:function(){$(window).scrollTop()>this.scroll&&(this.makeSticky(!1),this.resetResize(),this.resize(),this.makeSticky(!0))},scrolling:function(){this.ui.$table.find("table.backgrid").size()>0&&(f.isUndefined(this.scroll)&&this.calculateScroll(),$(window).scrollTop()>this.scroll&&$(window).width()>h.constants.screen.md?(0==this.hasResized&&(this.resize(),this.hasResized=!0),0==this.hasScrolled&&(this.makeSticky(!0),this.hasScrolled=!0)):this.removeSticky())},makeSticky:function(a){var b=this.ui.$tableAction,c=this.ui.$table;b.toggleClass("make-sticky",a),c.toggleClass("make-sticky-table",a),a?b.closest(".make-sticky").css("top",$(".page-header").first().outerHeight()+$("#suiteTopNavCollapse").height()+"px"):b.css("top",""),c.find("table thead").toggleClass("sticky-table-header",a),c.find(".sticky-table-header").css("top",b.position().top+b.outerHeight()+"px"),c.closest(".make-sticky-table").find("table").toggleClass("no-action",0===b.children().size()),15!==Math.round(c.offset().left)&&(c.find(".sticky-table-header").css("left",c.offset().left),b.css("left",c.offset().left),b.width(c.width())),c.find(".sticky-table-header").outerWidth(c.find("table").outerWidth())},resize:function(){var a=this.ui.$table;a.find("thead > tr > *").each(function(b){if(a.find("tbody").find("tr").hasClass("empty"))$(this).innerWidth($(this).innerWidth());else{var c=a.find("tbody").find("td").eq(b).innerWidth();$(this).innerWidth(c),a.find("tbody").find("td").eq(b).innerWidth(c)}})},resetResize:function(){var a=this.ui.$table;a.find("thead > tr > *").each(function(b){$(this).css("width",""),a.find("tbody").find("td").eq(b).css("width","")})},removeSticky:function(){this.makeSticky(!1),this.resetResize(),this.hasScrolled=!1,this.hasResized=!1,0===$(window).scrollTop()&&(this.ui.$table.find(".sticky-table-header").css("left",""),this.ui.$tableAction.css("left",""),this.ui.$tableAction.css("width",""))},onDestroy:function(){$(window).off("resize",this.resizing),$(window).off("scroll",this.scrolling)},toTop:function(){var a=this;$("html, body").animate({
    scrollTop:0},"slow",function(){a.removeSticky()})},watchUpdate:function(){var a=this;f.find(this.view.regionManager._regions,function(b){b.$el.hasClass("sticky-table")&&b.currentView&&a.listenToOnce(b.currentView.collection,"sync",a.resizing)})},onRecalculateScroll:function(){this.toTop(),this.hasScrolled=!1,this.scroll=void 0,this.makeSticky(!1)},resizeTable:function(){var a=this.ui.$table,b=this.ui.$tableAction;if($(window).width()>h.constants.screen.md){if(a){a.find("thead > tr > *").each(function(b){var c=a.find("tbody").find("td").eq(b).innerWidth();$(this).innerWidth(c)}),b.width(a.width()),a.find(".sticky-table-header").width(a.width()),b.css("left",a.offset().left),a.find(".sticky-table-header").css("left",a.offset().left);var c=a.find("tbody");c.size()>0&&(b.outerWidth(a.find("tbody").outerWidth()+1),a.find(".sticky-table-header").outerWidth(a.find("tbody").outerWidth()+1))}}else b.css("width","")}})}),define("modules/admin-exts/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-exts-header"})}),define("modules/admin-exts/controllers/extensions-actions",["require","exports","module","ironclad","anglebrackets"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets");c.exports=e.TableCell.extend({template:"#admin-exts-extensions-actions",events:{"click li.authenticate-ext":"handleAuthenticationBtnClick","click li.delete-ext":"handleDeleteBtnClick"},onRender:function(){this.model.get("authenticated")||this.$("li.authenticate-ext").removeClass("hidden")},handleDeleteBtnClick:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"extensions",view:"delete"},this.model)},handleAuthenticationBtnClick:function(){var a=new d.Model;a.url=this.model.getAuthUrl(),a.save().done(function(){window.location.href=a.url})}})}),define("modules/admin-exts/views/extensions-list",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/extensions-actions"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.Table.extend({options:{description:e.get("app.modules.admin.extensions.list.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{name:"name",label:"Name",cell:d.TableCell,template:"#admin-exts-extension-name-cell",editable:!1,sortable:!0},{name:"description",label:"Description",cell:"string",editable:!1,sortable:!0},{name:"infoUrl",label:"Url",cell:"string",editable:!1,sortable:!0},{name:"authenticated",label:"Authenticated",cell:d.TableCell,template:"#admin-exts-authorized-cell",editable:!1,sortable:!0},{name:"extensionAction",cell:a("../controllers/extensions-actions"),label:"",editable:!1,sortable:!1}]}}})}),define("modules/admin-exts/views/create-header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-exts-create-header"})}),define("modules/form/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.MessageView.extend({tagName:"h3",message:""})}),function(a){"function"==typeof define&&define.amd?define("backbone.stickit",["underscore","backbone","exports"],a):"object"==typeof exports?a(require("underscore"),require("backbone"),exports):a(_,Backbone,{})}(function(a,b,c){b.Stickit=c,c._handlers=[],c.addHandler=function(b){b=a.map(a.flatten([b]),function(b){return a.defaults({},b,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(b)},c.ViewMixin={_modelBindings:null,unstickit:function(b,c){if(a.isObject(c))return void a.each(c,function(a,c){this.unstickit(b,c)},this);var d=[],e=[];this._modelBindings=a.reject(this._modelBindings,function(a){if(!(b&&a.model!==b||c&&a.config.selector!=c))return a.model.off(a.event,a.fn),e.push(a.config._destroy),d.push(a.model),!0}),a.invoke(a.uniq(d),"trigger","stickit:unstuck",this.cid),a.each(a.uniq(e),function(a){a.call(this)},this),this.$el.off(".stickit"+(b?"."+b.cid:""),c)},stickit:function(b,c){var d=b||this.model,e=c||a.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(d,e);var f=this.remove;return f.stickitWrapped||(this.remove=function(){var a=this;return this.unstickit(),f&&(a=f.apply(this,arguments)),a}),this.remove.stickitWrapped=!0,this},addBinding:function(b,c,e){var p=b||this.model,q=".stickit."+p.cid;if(e=e||{},a.isObject(c)){var r=c;return void a.each(r,function(a,b){this.addBinding(p,b,a)},this)}var s=":el"===c?this.$el:this.$(c);if(this.unstickit(p,c),s.length){a.isString(e)&&(e={observe:e}),a.isFunction(e.observe)&&(e.observe=e.observe.call(this));var t=k(s,e),u=t.observe;t.selector=c,t.view=this;var v=t.bindId=a.uniqueId(),w=a.extend({stickitChange:t},t.setOptions);if(t._destroy=function(){f.call(this,t.destroy,s,p,t)},l(s,t,p,u),n(s,t,p,u),m(s,t,p,u),u){a.each(t.events,function(b){var e=b+q,h=function(a){var b=f.call(this,t.getVal,s,a,t,d.call(arguments,1)),c=g(t.updateModel,b,a,t);c&&i(p,u,b,w,t)},j=":el"===c?"":c;this.$el.on(e,j,a.bind(h,this))},this),a.each(a.flatten([u]),function(a){h(p,"change:"+a,t,function(a,b,c){var d=c&&c.stickitChange&&c.stickitChange.bindId;if(d!==v){var e=j(p,u,t);o(s,t,e,p)}})});var x=j(p,u,t);o(s,t,x,p,!0)}f.call(this,t.initialize,s,p,t)}}},a.extend(b.View.prototype,c.ViewMixin);var d=[].slice,e=function(b,c){var d=(c||"").split("."),e=a.reduce(d,function(a,b){return a[b]},b);return null==e?b:e},f=function(b){if(b=a.isString(b)?e(this,b):b)return b.apply(this,d.call(arguments,1))},g=function(b,c,d){if(a.isBoolean(b))return b;if(a.isFunction(b)||a.isString(b)){var e=a.last(arguments).view;return f.apply(e,arguments)}return!1},h=function(a,b,c,d){var e=c.view;a.on(b,d,e),e._modelBindings.push({model:a,event:b,fn:d,config:c})},i=function(b,c,d,e,g){var h={},i=g.view;g.onSet&&(d=f.call(i,g.onSet,d,g)),g.set?f.call(i,g.set,c,d,e,g):(h[c]=d,a.isArray(c)&&a.isArray(d)&&(h=a.reduce(c,function(b,c,e){return b[c]=a.has(d,e)?d[e]:null,b},{})),b.set(h,e))},j=function(b,c,d){var e=d.view,g=function(a){return b[d.escape?"escape":"get"](a)},h=function(a){return null==a?"":a},i=a.isArray(c)?a.map(c,g):g(c);return d.onGet&&(i=f.call(e,d.onGet,i,d)),a.isArray(i)?a.map(i,h):h(i)},k=c.getConfiguration=function(b,d){var e=[{updateModel:!1,updateMethod:"text",update:function(a,b,c,d){a[d.updateMethod]&&a[d.updateMethod](b)},getVal:function(a,b,c){return a[c.updateMethod]()}}];e=e.concat(a.filter(c._handlers,function(a){return b.is(a.selector)})),e.push(d);var f=a.extend.apply(a,e);return a.has(f,"updateView")||(f.updateView=!f.visible),f},l=function(b,c,d,e){var f=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],g=c.view;a.each(c.attributes||[],function(i){i=a.clone(i),i.view=g;var k="",l=i.observe||(i.observe=e),m=function(){var c=a.contains(f,i.name)?"prop":"attr",e=j(d,l,i);"class"===i.name?(b.removeClass(k).addClass(e),k=e):b[c](i.name,e)};a.each(a.flatten([l]),function(a){h(d,"change:"+a,c,m)}),m()})},m=function(b,c,d,e){a.each(c.classes||[],function(e,f){a.isString(e)&&(e={observe:e}),e.view=c.view;var g=e.observe,i=function(){var a=j(d,g,e);b.toggleClass(f,!!a)};a.each(a.flatten([g]),function(a){h(d,"change:"+a,c,i)}),i()})},n=function(b,c,d,e){if(null!=c.visible){var g=c.view,i=function(){var h=c.visible,i=c.visibleFn,k=j(d,e,c),l=!!k;(a.isFunction(h)||a.isString(h))&&(l=!!f.call(g,h,k,c)),i?f.call(g,i,b,l,c):b.toggle(l)};a.each(a.flatten([e]),function(a){h(d,"change:"+a,c,i)}),i()}},o=function(a,b,c,d,e){var h=b.view;g(b.updateView,c,b)&&(f.call(h,b.update,a,c,d,b),e||f.call(h,b.afterUpdate,a,c,b))};return c.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(a,b){a.val(b)},getVal:function(a){return a.val()}},{selector:'input[type="radio"]',events:["change"],update:function(a,b){a.filter('[value="'+b+'"]').prop("checked",!0)},getVal:function(a){return a.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(c,d,e,f){if(c.length>1)d||(d=[]),c.each(function(c,e){var f=b.$(e),g=a.contains(d,f.val());f.prop("checked",g)});else{var g=a.isBoolean(d)?d:d===c.val();c.prop("checked",g)}},getVal:function(c){var d;if(c.length>1)d=a.reduce(c,function(a,c){var d=b.$(c);return d.prop("checked")&&a.push(d.val()),a},[]);else{d=c.prop("checked");var e=c.val();"on"!==e&&null!=e&&(d=d?c.val():null)}return d}},{selector:"select",events:["change"],update:function(c,d,g,h){var i,k=h.selectOptions,l=k&&k.collection||void 0,m=c.prop("multiple");if(!k){k={};var n=function(a){return a.map(function(a,c){var d=b.$(c).data("stickit-bind-val");return{value:void 0!==d?d:c.value,label:c.text}}).get()};c.find("optgroup").length?(l={opt_labels:[]},c.find("> option").length&&(l.opt_labels.push(void 0),a.each(c.find("> option"),function(a){l[void 0]=n(b.$(a))})),a.each(c.find("optgroup"),function(a){var c=b.$(a).attr("label");l.opt_labels.push(c),l[c]=n(b.$(a).find("option"))})):l=n(c.find("option"))}k.valuePath=k.valuePath||"value",k.labelPath=k.labelPath||"label",k.disabledPath=k.disabledPath||"disabled";var o=function(c,d,f){a.each(c,function(c){var g,h,i,j=b.$("<option/>"),l=c,n=function(b,c,d){j.text(b),l=c,j.data("stickit-bind-val",l),a.isArray(l)||a.isObject(l)||j.val(l),d===!0&&j.prop("disabled","disabled")};"__default__"===c?(g=f.label,h=f.value,i=f.disabled):(g=e(c,k.labelPath),h=e(c,k.valuePath),i=e(c,k.disabledPath)),n(g,h,i);var o=function(){return!m&&null!=l&&null!=f&&l===f||!(!a.isObject(f)||!a.isEqual(l,f))};o()?j.prop("selected",!0):m&&a.isArray(f)&&a.each(f,function(b){a.isObject(b)&&(b=e(b,k.valuePath)),(b===l||a.isObject(b)&&a.isEqual(l,b))&&j.prop("selected",!0)}),d.append(j)})};if(c.find("*").remove(),a.isString(l)){var p=window;0===l.indexOf("this.")&&(p=this),l=l.replace(/^[a-z]*\.(.+)$/,"$1"),i=e(p,l)}else i=a.isFunction(l)?f.call(this,l,c,h):l;if(i instanceof b.Collection){var q=i,r=function(){var a=j(g,h.observe,h);f.call(this,h.update,c,a,g,h)},s=function(){q.off("add remove reset sort",r)},t=function(){s(),q.off("stickit:selectRefresh"),g.off("stickit:selectRefresh")};q.trigger("stickit:selectRefresh"),q.once("stickit:selectRefresh",s,this),q.on("add remove reset sort",r,this),g.trigger("stickit:selectRefresh"),g.once("stickit:selectRefresh",function(){g.off("stickit:unstuck",t)}),g.once("stickit:unstuck",t,this),i=i.toJSON()}if(k.defaultOption){var u=a.isFunction(k.defaultOption)?k.defaultOption.call(this,c,h):k.defaultOption;o(["__default__"],c,u)}if(a.isArray(i))o(i,c,d);else if(i.opt_labels)a.each(i.opt_labels,function(a){var e=b.$("<optgroup/>").attr("label",a);o(i[a],e,d),c.append(e)});else{var v,w=[];for(var x in i)v={},v[k.valuePath]=x,v[k.labelPath]=i[x],w.push(v);w=a.sortBy(w,k.comparator||k.labelPath),o(w,c,d)}},getVal:function(c){var d=c.find("option:selected");return c.prop("multiple")?a.map(d,function(a){return b.$(a).data("stickit-bind-val")}):d.data("stickit-bind-val")}}]),c}),define("modules/form/models/field",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({initialize:function(a){if(!a.modelData.get(a.name)){var b=a.modelData.validation&&a.modelData.validation[a.name];b&&b.required&&a.modelData.set(a.name,"")}}})}),define("modules/form/models/fields",["require","exports","module","underscore","ironclad","./field"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./field");c.exports=e.Collection.extend({addFields:function(a,b){var c=this,e=d.keys(a);d.each(e,function(d){var e=new f({name:d,fieldData:a[d],modelData:b});c.add(e,{silent:!0})})}})}),define("modules/form/views/field",["require","exports","module","underscore","ironclad","backbone.stickit"],function(a,b,c){var d=a("underscore"),e=a("ironclad");a("backbone.stickit"),c.exports=e.ItemView.extend({className:function(){return"form-group field-"+this.model.get("name")},getBinding:function(){var a={observe:this.model.get("name")};return this.model.get("fieldData").binding&&d.extend(a,this.model.get("fieldData").binding),a},onRender:function(){var a=this.model.get("fieldData");a.autofocus&&this.$("input").attr("autofocus",!0),a.autocomplete&&this.$("input").attr("autocomplete",a.autocomplete),this.addBinding(this.model.get("modelData"),'[name="'+this.model.get("name")+'"]',this.getBinding()),this.stickit()},templateHelpers:function(){return{requiredClass:function(){var a=this.name,b=this.modelData.validation;return b&&b[a]&&b[a].required?"required":""}}}})}),define("modules/form/views/field-text",["require","exports","module","./field"],function(a,b,c){var d=a("./field");c.exports=d.extend({template:"#form-input-text"})}),define("modules/form/views/field-password",["require","exports","module","./field"],function(a,b,c){var d=a("./field");c.exports=d.extend({template:"#form-input-password"})}),define("modules/form/views/field-date",["require","exports","module","underscore","./field","ironclad","bootstrap-datetimepicker"],function(a,b,c){var d=a("underscore"),e=a("./field"),f=a("ironclad"),g=f.MessageBus;a("bootstrap-datetimepicker"),c.exports=e.extend({template:"#form-input-date",ui:{$dateTimePicker:".js-datetimepicker",$dateInput:"input"},onRender:function(){e.prototype.onRender.apply(this,arguments);var a=d.extend({format:"L"},this.model.get("fieldData").options),b=this,c=this.model.get("name"),f=this.model.get("modelData");this.listenTo(g.vent,"datetime:close",this.closeDatepicker),this.ui.$dateTimePicker.datetimepicker(a).on("dp.change",function(){b.ui.$dateInput.trigger("date:changed")}).click(function(a){$(this).data("DateTimePicker").show(a)}).on("dp.show",function(){g.vent.trigger("datetime:close",this)});var h=f.get(c);h&&this.ui.$dateTimePicker.data("DateTimePicker").date(h)},closeDatepicker:function(a){d.isEqual(this.ui.$dateTimePicker[0],a)||this.ui.$dateTimePicker.data("DateTimePicker").hide()},getBinding:function(){var a=e.prototype.getBinding.apply(this,arguments);return d.extend(a,{onSet:function(a){return Date.parse(a)},onGet:function(a){return a?new Date(a).toLocaleDateString():""},events:["change","date:changed"]}),a},onDestroy:function(){this.ui.$dateTimePicker.data("DateTimePicker").destroy()}})}),function(a,b){"function"==typeof define&&define.amd?define("sifter",b):"object"==typeof exports?module.exports=b():a.Sifter=b()}(this,function(){var a=function(a,b){this.items=a,this.settings=b||{diacritics:!0}};a.prototype.tokenize=function(a){if(a=e(String(a||"").toLowerCase()),!a||!a.length)return[];var b,c,d,g,i=[],j=a.split(/ +/);for(b=0,c=j.length;b<c;b++){if(d=f(j[b]),this.settings.diacritics)for(g in h)h.hasOwnProperty(g)&&(d=d.replace(new RegExp(g,"g"),h[g]));i.push({string:j[b],regex:new RegExp(d,"i")})}return i},a.prototype.iterator=function(a,b){var c;c=g(a)?Array.prototype.forEach||function(a){for(var b=0,c=this.length;b<c;b++)a(this[b],b,this)}:function(a){for(var b in this)this.hasOwnProperty(b)&&a(this[b],b,this)},c.apply(a,[b])},a.prototype.getScoreFunction=function(a,b){var c,e,f,g,h;c=this,a=c.prepareSearch(a,b),f=a.tokens,e=a.options.fields,g=f.length,h=a.options.nesting;var i=function(a,b){var c,d;return a?(a=String(a||""),d=a.search(b.regex),d===-1?0:(c=b.string.length/a.length,0===d&&(c+=.5),c)):0},j=function(){var a=e.length;return a?1===a?function(a,b){return i(d(b,e[0],h),a)}:function(b,c){for(var f=0,g=0;f<a;f++)g+=i(d(c,e[f],h),b);return g/a}:function(){return 0}}();return g?1===g?function(a){return j(f[0],a)}:"and"===a.options.conjunction?function(a){for(var b,c=0,d=0;c<g;c++){if(b=j(f[c],a),b<=0)return 0;d+=b}return d/g}:function(a){for(var b=0,c=0;b<g;b++)c+=j(f[b],a);return c/g}:function(){return 0}},a.prototype.getSortFunction=function(a,c){var e,f,g,h,i,j,k,l,m,n,o;if(g=this,a=g.prepareSearch(a,c),o=!a.query&&c.sort_empty||c.sort,m=function(a,b){return"$score"===a?b.score:d(g.items[b.id],a,c.nesting)},i=[],o)for(e=0,f=o.length;e<f;e++)(a.query||"$score"!==o[e].field)&&i.push(o[e]);if(a.query){for(n=!0,e=0,f=i.length;e<f;e++)if("$score"===i[e].field){n=!1;break}n&&i.unshift({field:"$score",direction:"desc"})}else for(e=0,f=i.length;e<f;e++)if("$score"===i[e].field){i.splice(e,1);break}for(l=[],e=0,f=i.length;e<f;e++)l.push("desc"===i[e].direction?-1:1);return j=i.length,j?1===j?(h=i[0].field,k=l[0],function(a,c){return k*b(m(h,a),m(h,c))}):function(a,c){var d,e,f;for(d=0;d<j;d++)if(f=i[d].field,e=l[d]*b(m(f,a),m(f,c)))return e;return 0}:null},a.prototype.prepareSearch=function(a,b){if("object"==typeof a)return a;b=c({},b);var d=b.fields,e=b.sort,f=b.sort_empty;return d&&!g(d)&&(b.fields=[d]),e&&!g(e)&&(b.sort=[e]),f&&!g(f)&&(b.sort_empty=[f]),{options:b,query:String(a||"").toLowerCase(),tokens:this.tokenize(a),total:0,items:[]}},a.prototype.search=function(a,b){var c,d,e,f,g=this;return d=this.prepareSearch(a,b),b=d.options,a=d.query,f=b.score||g.getScoreFunction(d),a.length?g.iterator(g.items,function(a,e){c=f(a),(b.filter===!1||c>0)&&d.items.push({score:c,id:e})}):g.iterator(g.items,function(a,b){d.items.push({score:1,id:b})}),e=g.getSortFunction(d,b),e&&d.items.sort(e),d.total=d.items.length,"number"==typeof b.limit&&(d.items=d.items.slice(0,b.limit)),d};var b=function(a,b){return"number"==typeof a&&"number"==typeof b?a>b?1:a<b?-1:0:(a=i(String(a||"")),b=i(String(b||"")),a>b?1:b>a?-1:0)},c=function(a,b){var c,d,e,f;for(c=1,d=arguments.length;c<d;c++)if(f=arguments[c])for(e in f)f.hasOwnProperty(e)&&(a[e]=f[e]);return a},d=function(a,b,c){if(a&&b){if(!c)return a[b];for(var d=b.split(".");d.length&&(a=a[d.shift()]););return a}},e=function(a){return(a+"").replace(/^\s+|\s+$|/g,"")},f=function(a){return(a+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},g=Array.isArray||"undefined"!=typeof $&&$.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},h={a:"[a]",b:"[bB]",c:"[cCc]",d:"[dDd]",e:"[e]",f:"[f]",g:"[g]",h:"[h]",i:"[iiI]",j:"[j]",k:"[k]",l:"[l]",n:"[nNn]",o:"[o]",p:"[p]",q:"[qq]",r:"[r]",s:"[sSs]",t:"[t]",u:"[u]",v:"[v]",w:"[w]",x:"[x]",y:"[y]",z:"[z]"},i=function(){var a,b,c,d,e="",f={};for(c in h)if(h.hasOwnProperty(c))for(d=h[c].substring(2,h[c].length-1),e+=d,a=0,b=d.length;a<b;a++)f[d.charAt(a)]=c;var g=new RegExp("["+e+"]","g");return function(a){return a.replace(g,function(a){return f[a]}).toLowerCase()}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("microplugin",b):"object"==typeof exports?module.exports=b():a.MicroPlugin=b()}(this,function(){var a={};a.mixin=function(a){a.plugins={},a.prototype.initializePlugins=function(a){var c,d,e,f=this,g=[];if(f.plugins={names:[],settings:{},requested:{},loaded:{}},b.isArray(a))for(c=0,d=a.length;c<d;c++)"string"==typeof a[c]?g.push(a[c]):(f.plugins.settings[a[c].name]=a[c].options,g.push(a[c].name));else if(a)for(e in a)a.hasOwnProperty(e)&&(f.plugins.settings[e]=a[e],g.push(e));for(;g.length;)f.require(g.shift())},a.prototype.loadPlugin=function(b){var c=this,d=c.plugins,e=a.plugins[b];if(!a.plugins.hasOwnProperty(b))throw new Error('Unable to find "'+b+'" plugin');d.requested[b]=!0,d.loaded[b]=e.fn.apply(c,[c.plugins.settings[b]||{}]),d.names.push(b)},a.prototype.require=function(a){var b=this,c=b.plugins;if(!b.plugins.loaded.hasOwnProperty(a)){if(c.requested[a])throw new Error('Plugin has circular dependency ("'+a+'")');b.loadPlugin(a)}return c.loaded[a]},a.define=function(b,c){a.plugins[b]={name:b,fn:c}}};var b={isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}};return a}),function(a,b){"function"==typeof define&&define.amd?define("selectize",["jquery","sifter","microplugin"],b):"object"==typeof exports?module.exports=b(require("jquery"),require("sifter"),require("microplugin")):a.Selectize=b(a.jQuery,a.Sifter,a.MicroPlugin)}(this,function(a,b,c){"use strict";var d=function(a,b){if("string"!=typeof b||b.length){var c="string"==typeof b?new RegExp(b,"i"):b,d=function(a){var b=0;if(3===a.nodeType){var e=a.data.search(c);if(e>=0&&a.data.length>0){var f=a.data.match(c),g=document.createElement("span");g.className="highlight";var h=a.splitText(e),i=(h.splitText(f[0].length),h.cloneNode(!0));g.appendChild(i),h.parentNode.replaceChild(g,h),b=1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName))for(var j=0;j<a.childNodes.length;++j)j+=d(a.childNodes[j]);return b};return a.each(function(){d(this)})}};a.fn.removeHighlight=function(){return this.find("span.highlight").each(function(){this.parentNode.firstChild.nodeName;var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()};var e=function(){};e.prototype={on:function(a,b){this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)},off:function(a,b){var c=arguments.length;return 0===c?delete this._events:1===c?delete this._events[a]:(this._events=this._events||{},void(a in this._events!=!1&&this._events[a].splice(this._events[a].indexOf(b),1)))},trigger:function(a){if(this._events=this._events||{},a in this._events!=!1)for(var b=0;b<this._events[a].length;b++)this._events[a][b].apply(this,Array.prototype.slice.call(arguments,1))}},e.mixin=function(a){for(var b=["on","off","trigger"],c=0;c<b.length;c++)a.prototype[b[c]]=e.prototype[b[c]]};var f=/Mac/.test(navigator.userAgent),g=65,h=13,i=27,j=37,k=38,l=80,m=39,n=40,o=78,p=8,q=46,r=16,s=f?91:17,t=f?18:17,u=9,v=1,w=2,x=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("input").validity,y=function(a){return"undefined"!=typeof a},z=function(a){return"undefined"==typeof a||null===a?null:"boolean"==typeof a?a?"1":"0":a+""},A=function(a){return(a+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},B={};B.before=function(a,b,c){var d=a[b];a[b]=function(){return c.apply(a,arguments),d.apply(a,arguments)}},B.after=function(a,b,c){var d=a[b];a[b]=function(){var b=d.apply(a,arguments);return c.apply(a,arguments),b}};var C=function(a){var b=!1;return function(){b||(b=!0,a.apply(this,arguments))}},D=function(a,b){var c;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}},E=function(a,b,c){var d,e=a.trigger,f={};a.trigger=function(){var c=arguments[0];return b.indexOf(c)===-1?e.apply(a,arguments):void(f[c]=arguments)},c.apply(a,[]),a.trigger=e;for(d in f)f.hasOwnProperty(d)&&e.apply(a,f[d])},F=function(a,b,c,d){a.on(b,c,function(b){for(var c=b.target;c&&c.parentNode!==a[0];)c=c.parentNode;return b.currentTarget=c,d.apply(this,[b])})},G=function(a){var b={};if("selectionStart"in a)b.start=a.selectionStart,b.length=a.selectionEnd-b.start;else if(document.selection){a.focus();var c=document.selection.createRange(),d=document.selection.createRange().text.length;c.moveStart("character",-a.value.length),b.start=c.text.length-d,b.length=d}return b},H=function(a,b,c){var d,e,f={};if(c)for(d=0,e=c.length;d<e;d++)f[c[d]]=a.css(c[d]);else f=a.css();b.css(f)},I=function(b,c){if(!b)return 0;var d=a("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(b).appendTo("body");H(c,d,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var e=d.width();return d.remove(),e},J=function(a){var b=null,c=function(c,d){var e,f,g,h,i,j,k,l;c=c||window.event||{},d=d||{},c.metaKey||c.altKey||(d.force||a.data("grow")!==!1)&&(e=a.val(),c.type&&"keydown"===c.type.toLowerCase()&&(f=c.keyCode,g=f>=97&&f<=122||f>=65&&f<=90||f>=48&&f<=57||32===f,f===q||f===p?(l=G(a[0]),l.length?e=e.substring(0,l.start)+e.substring(l.start+l.length):f===p&&l.start?e=e.substring(0,l.start-1)+e.substring(l.start+1):f===q&&"undefined"!=typeof l.start&&(e=e.substring(0,l.start)+e.substring(l.start+1))):g&&(j=c.shiftKey,k=String.fromCharCode(c.keyCode),k=j?k.toUpperCase():k.toLowerCase(),e+=k)),h=a.attr("placeholder"),!e&&h&&(e=h),i=I(e,a)+4,i!==b&&(b=i,a.width(i),a.triggerHandler("resize")))};a.on("keydown keyup update blur",c),c()},K=function(a){var b=document.createElement("div");return b.appendChild(a.cloneNode(!0)),b.innerHTML},L=function(a,b){b||(b={});b.explanation&&(console.group,console.group)},M=function(c,d){var e,f,g,h,i=this;h=c[0],h.selectize=i;var j=window.getComputedStyle&&window.getComputedStyle(h,null);if(g=j?j.getPropertyValue("direction"):h.currentStyle&&h.currentStyle.direction,g=g||c.parents("[dir]:first").attr("dir")||"",a.extend(i,{order:0,settings:d,$input:c,tabIndex:c.attr("tabindex")||"",tagType:"select"===h.tagName.toLowerCase()?v:w,rtl:/rtl/i.test(g),eventNS:".selectize"+ ++M.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:c.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===d.loadThrottle?i.onSearchChange:D(i.onSearchChange,d.loadThrottle)}),i.sifter=new b(this.options,{diacritics:d.diacritics}),i.settings.options){for(e=0,f=i.settings.options.length;e<f;e++)i.registerOption(i.settings.options[e]);delete i.settings.options}if(i.settings.optgroups){for(e=0,f=i.settings.optgroups.length;e<f;e++)i.registerOptionGroup(i.settings.optgroups[e]);delete i.settings.optgroups}i.settings.mode=i.settings.mode||(1===i.settings.maxItems?"single":"multi"),"boolean"!=typeof i.settings.hideSelected&&(i.settings.hideSelected="multi"===i.settings.mode),i.initializePlugins(i.settings.plugins),i.setupCallbacks(),i.setupTemplates(),i.setup()};return e.mixin(M),"undefined"!=typeof c?c.mixin(M):L("Dependency MicroPlugin is missing",{explanation:'Make sure you either: (1) are using the "standalone" version of Selectize, or (2) require MicroPlugin before you load Selectize.'}),a.extend(M.prototype,{setup:function(){var b,c,d,e,g,h,i,j,k,l,m=this,n=m.settings,o=m.eventNS,p=a(window),q=a(document),u=m.$input;if(i=m.settings.mode,j=u.attr("class")||"",b=a("<div>").addClass(n.wrapperClass).addClass(j).addClass(i),c=a("<div>").addClass(n.inputClass).addClass("items").appendTo(b),d=a('<input type="text" autocomplete="off" />').appendTo(c).attr("tabindex",u.is(":disabled")?"-1":m.tabIndex),h=a(n.dropdownParent||b),e=a("<div>").addClass(n.dropdownClass).addClass(i).hide().appendTo(h),g=a("<div>").addClass(n.dropdownContentClass).appendTo(e),(l=u.attr("id"))&&(d.attr("id",l+"-selectized"),a("label[for='"+l+"']").attr("for",l+"-selectized")),m.settings.copyClassesToDropdown&&e.addClass(j),b.css({width:u[0].style.width}),m.plugins.names.length&&(k="plugin-"+m.plugins.names.join(" plugin-"),b.addClass(k),e.addClass(k)),(null===n.maxItems||n.maxItems>1)&&m.tagType===v&&u.attr("multiple","multiple"),m.settings.placeholder&&d.attr("placeholder",n.placeholder),!m.settings.splitOn&&m.settings.delimiter){var w=m.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");m.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}u.attr("autocorrect")&&d.attr("autocorrect",u.attr("autocorrect")),u.attr("autocapitalize")&&d.attr("autocapitalize",u.attr("autocapitalize")),m.$wrapper=b,m.$control=c,m.$control_input=d,m.$dropdown=e,m.$dropdown_content=g,e.on("mouseenter","[data-selectable]",function(){return m.onOptionHover.apply(m,arguments)}),e.on("mousedown click","[data-selectable]",function(){return m.onOptionSelect.apply(m,arguments)}),F(c,"mousedown","*:not(input)",function(){return m.onItemSelect.apply(m,arguments)}),J(d),c.on({mousedown:function(){return m.onMouseDown.apply(m,arguments)},click:function(){return m.onClick.apply(m,arguments)}}),d.on({mousedown:function(a){a.stopPropagation()},keydown:function(){return m.onKeyDown.apply(m,arguments)},keyup:function(){return m.onKeyUp.apply(m,arguments)},keypress:function(){return m.onKeyPress.apply(m,arguments)},resize:function(){m.positionDropdown.apply(m,[])},blur:function(){return m.onBlur.apply(m,arguments)},focus:function(){return m.ignoreBlur=!1,m.onFocus.apply(m,arguments)},paste:function(){return m.onPaste.apply(m,arguments)}}),q.on("keydown"+o,function(a){m.isCmdDown=a[f?"metaKey":"ctrlKey"],m.isCtrlDown=a[f?"altKey":"ctrlKey"],m.isShiftDown=a.shiftKey}),q.on("keyup"+o,function(a){a.keyCode===t&&(m.isCtrlDown=!1),a.keyCode===r&&(m.isShiftDown=!1),a.keyCode===s&&(m.isCmdDown=!1)}),q.on("mousedown"+o,function(a){if(m.isFocused){if(a.target===m.$dropdown[0]||a.target.parentNode===m.$dropdown[0])return!1;m.$control.has(a.target).length||a.target===m.$control[0]||m.blur(a.target)}}),p.on(["scroll"+o,"resize"+o].join(" "),function(){m.isOpen&&m.positionDropdown.apply(m,arguments)}),p.on("mousemove"+o,function(){m.ignoreHover=!1}),this.revertSettings={$children:u.children().detach(),tabindex:u.attr("tabindex")},u.attr("tabindex",-1).hide().after(m.$wrapper),a.isArray(n.items)&&(m.setValue(n.items),delete n.items),x&&u.on("invalid"+o,function(a){a.preventDefault(),m.isInvalid=!0,m.refreshState()}),m.updateOriginalInput(),m.refreshItems(),m.refreshState(),m.updatePlaceholder(),m.isSetup=!0,u.is(":disabled")&&m.disable(),m.on("change",this.onChange),u.data("selectize",m),u.addClass("selectized"),m.trigger("initialize"),n.preload===!0&&m.onSearchChange("")},setupTemplates:function(){var b=this,c=b.settings.labelField,d=b.settings.optgroupLabelField,e={optgroup:function(a){return'<div class="optgroup">'+a.html+"</div>"},optgroup_header:function(a,b){return'<div class="optgroup-header">'+b(a[d])+"</div>"},option:function(a,b){return'<div class="option">'+b(a[c])+"</div>"},item:function(a,b){return'<div class="item">'+b(a[c])+"</div>"},option_create:function(a,b){return'<div class="create">Add <strong>'+b(a.input)+"</strong>&hellip;</div>"}};b.settings.render=a.extend({},e,b.settings.render)},setupCallbacks:function(){var a,b,c={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(a in c)c.hasOwnProperty(a)&&(b=this.settings[c[a]],b&&this.on(a,b))},onClick:function(a){var b=this;b.isFocused||(b.focus(),a.preventDefault())},onMouseDown:function(b){var c=this,d=b.isDefaultPrevented();a(b.target);if(c.isFocused){if(b.target!==c.$control_input[0])return"single"===c.settings.mode?c.isOpen?c.close():c.open():d||c.setActiveItem(null),!1}else d||window.setTimeout(function(){c.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(b){var c=this;return c.isFull()||c.isInputHidden||c.isLocked?void b.preventDefault():void(c.settings.splitOn&&setTimeout(function(){var b=c.$control_input.val();if(b.match(c.settings.splitOn))for(var d=a.trim(b).split(c.settings.splitOn),e=0,f=d.length;e<f;e++)c.createItem(d[e])},0))},onKeyPress:function(a){if(this.isLocked)return a&&a.preventDefault();var b=String.fromCharCode(a.keyCode||a.which);return this.settings.create&&"multi"===this.settings.mode&&b===this.settings.delimiter?(this.createItem(),a.preventDefault(),!1):void 0},
    onKeyDown:function(a){var b=(a.target===this.$control_input[0],this);if(b.isLocked)return void(a.keyCode!==u&&a.preventDefault());switch(a.keyCode){case g:if(b.isCmdDown)return void b.selectAll();break;case i:return void(b.isOpen&&(a.preventDefault(),a.stopPropagation(),b.close()));case o:if(!a.ctrlKey||a.altKey)break;case n:if(!b.isOpen&&b.hasOptions)b.open();else if(b.$activeOption){b.ignoreHover=!0;var c=b.getAdjacentOption(b.$activeOption,1);c.length&&b.setActiveOption(c,!0,!0)}return void a.preventDefault();case l:if(!a.ctrlKey||a.altKey)break;case k:if(b.$activeOption){b.ignoreHover=!0;var d=b.getAdjacentOption(b.$activeOption,-1);d.length&&b.setActiveOption(d,!0,!0)}return void a.preventDefault();case h:return void(b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),a.preventDefault()));case j:return void b.advanceSelection(-1,a);case m:return void b.advanceSelection(1,a);case u:return b.settings.selectOnTab&&b.isOpen&&b.$activeOption&&(b.onOptionSelect({currentTarget:b.$activeOption}),b.isFull()||a.preventDefault()),void(b.settings.create&&b.createItem()&&a.preventDefault());case p:case q:return void b.deleteSelection(a)}return!b.isFull()&&!b.isInputHidden||(f?a.metaKey:a.ctrlKey)?void 0:void a.preventDefault()},onKeyUp:function(a){var b=this;if(b.isLocked)return a&&a.preventDefault();var c=b.$control_input.val()||"";b.lastValue!==c&&(b.lastValue=c,b.onSearchChange(c),b.refreshOptions(),b.trigger("type",c))},onSearchChange:function(a){var b=this,c=b.settings.load;c&&(b.loadedSearches.hasOwnProperty(a)||(b.loadedSearches[a]=!0,b.load(function(d){c.apply(b,[a,d])})))},onFocus:function(a){var b=this,c=b.isFocused;return b.isDisabled?(b.blur(),a&&a.preventDefault(),!1):void(b.ignoreFocus||(b.isFocused=!0,"focus"===b.settings.preload&&b.onSearchChange(""),c||b.trigger("focus"),b.$activeItems.length||(b.showInput(),b.setActiveItem(null),b.refreshOptions(!!b.settings.openOnFocus)),b.refreshState()))},onBlur:function(a,b){var c=this;if(c.isFocused&&(c.isFocused=!1,!c.ignoreFocus)){if(!c.ignoreBlur&&document.activeElement===c.$dropdown_content[0])return c.ignoreBlur=!0,void c.onFocus(a);var d=function(){c.close(),c.setTextboxValue(""),c.setActiveItem(null),c.setActiveOption(null),c.setCaret(c.items.length),c.refreshState(),b&&b.focus&&b.focus(),c.ignoreFocus=!1,c.trigger("blur")};c.ignoreFocus=!0,c.settings.create&&c.settings.createOnBlur?c.createItem(null,!1,d):d()}},onOptionHover:function(a){this.ignoreHover||this.setActiveOption(a.currentTarget,!1)},onOptionSelect:function(b){var c,d,e=this;b.preventDefault&&(b.preventDefault(),b.stopPropagation()),d=a(b.currentTarget),d.hasClass("create")?e.createItem(null,function(){e.settings.closeAfterSelect&&e.close()}):(c=d.attr("data-value"),"undefined"!=typeof c&&(e.lastQuery=null,e.setTextboxValue(""),e.addItem(c),e.settings.closeAfterSelect?e.close():!e.settings.hideSelected&&b.type&&/mouse/.test(b.type)&&e.setActiveOption(e.getOption(c))))},onItemSelect:function(a){var b=this;b.isLocked||"multi"===b.settings.mode&&(a.preventDefault(),b.setActiveItem(a.currentTarget,a))},load:function(a){var b=this,c=b.$wrapper.addClass(b.settings.loadingClass);b.loading++,a.apply(b,[function(a){b.loading=Math.max(b.loading-1,0),a&&a.length&&(b.addOption(a),b.refreshOptions(b.isFocused&&!b.isInputHidden)),b.loading||c.removeClass(b.settings.loadingClass),b.trigger("load",a)}])},setTextboxValue:function(a){var b=this.$control_input,c=b.val()!==a;c&&(b.val(a).triggerHandler("update"),this.lastValue=a)},getValue:function(){return this.tagType===v&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(a,b){var c=b?[]:["change"];E(this,c,function(){this.clear(b),this.addItems(a,b)})},setActiveItem:function(b,c){var d,e,f,g,h,i,j,k,l=this;if("single"!==l.settings.mode){if(b=a(b),!b.length)return a(l.$activeItems).removeClass("active"),l.$activeItems=[],void(l.isFocused&&l.showInput());if(d=c&&c.type.toLowerCase(),"mousedown"===d&&l.isShiftDown&&l.$activeItems.length){for(k=l.$control.children(".active:last"),g=Array.prototype.indexOf.apply(l.$control[0].childNodes,[k[0]]),h=Array.prototype.indexOf.apply(l.$control[0].childNodes,[b[0]]),g>h&&(j=g,g=h,h=j),e=g;e<=h;e++)i=l.$control[0].childNodes[e],l.$activeItems.indexOf(i)===-1&&(a(i).addClass("active"),l.$activeItems.push(i));c.preventDefault()}else"mousedown"===d&&l.isCtrlDown||"keydown"===d&&this.isShiftDown?b.hasClass("active")?(f=l.$activeItems.indexOf(b[0]),l.$activeItems.splice(f,1),b.removeClass("active")):l.$activeItems.push(b.addClass("active")[0]):(a(l.$activeItems).removeClass("active"),l.$activeItems=[b.addClass("active")[0]]);l.hideInput(),this.isFocused||l.focus()}},setActiveOption:function(b,c,d){var e,f,g,h,i,j=this;j.$activeOption&&j.$activeOption.removeClass("active"),j.$activeOption=null,b=a(b),b.length&&(j.$activeOption=b.addClass("active"),!c&&y(c)||(e=j.$dropdown_content.height(),f=j.$activeOption.outerHeight(!0),c=j.$dropdown_content.scrollTop()||0,g=j.$activeOption.offset().top-j.$dropdown_content.offset().top+c,h=g,i=g-e+f,g+f>e+c?j.$dropdown_content.stop().animate({scrollTop:i},d?j.settings.scrollDuration:0):g<c&&j.$dropdown_content.stop().animate({scrollTop:h},d?j.settings.scrollDuration:0)))},selectAll:function(){var a=this;"single"!==a.settings.mode&&(a.$activeItems=Array.prototype.slice.apply(a.$control.children(":not(input)").addClass("active")),a.$activeItems.length&&(a.hideInput(),a.close()),a.focus())},hideInput:function(){var a=this;a.setTextboxValue(""),a.$control_input.css({opacity:0,position:"absolute",left:a.rtl?1e4:-1e4}),a.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var a=this;a.isDisabled||(a.ignoreFocus=!0,a.$control_input[0].focus(),window.setTimeout(function(){a.ignoreFocus=!1,a.onFocus()},0))},blur:function(a){this.$control_input[0].blur(),this.onBlur(null,a)},getScoreFunction:function(a){return this.sifter.getScoreFunction(a,this.getSearchOptions())},getSearchOptions:function(){var a=this.settings,b=a.sortField;return"string"==typeof b&&(b=[{field:b}]),{fields:a.searchField,conjunction:a.searchConjunction,sort:b}},search:function(b){var c,d,e,f=this,g=f.settings,h=this.getSearchOptions();if(g.score&&(e=f.settings.score.apply(this,[b]),"function"!=typeof e))throw new Error('Selectize "score" setting must be a function that returns a function');if(b!==f.lastQuery?(f.lastQuery=b,d=f.sifter.search(b,a.extend(h,{score:e})),f.currentResults=d):d=a.extend(!0,{},f.currentResults),g.hideSelected)for(c=d.items.length-1;c>=0;c--)f.items.indexOf(z(d.items[c].id))!==-1&&d.items.splice(c,1);return d},refreshOptions:function(b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;"undefined"==typeof b&&(b=!0);var t=this,u=a.trim(t.$control_input.val()),v=t.search(u),w=t.$dropdown_content,x=t.$activeOption&&z(t.$activeOption.attr("data-value"));for(g=v.items.length,"number"==typeof t.settings.maxOptions&&(g=Math.min(g,t.settings.maxOptions)),h={},i=[],c=0;c<g;c++)for(j=t.options[v.items[c].id],k=t.render("option",j),l=j[t.settings.optgroupField]||"",m=a.isArray(l)?l:[l],e=0,f=m&&m.length;e<f;e++)l=m[e],t.optgroups.hasOwnProperty(l)||(l=""),h.hasOwnProperty(l)||(h[l]=document.createDocumentFragment(),i.push(l)),h[l].appendChild(k);for(this.settings.lockOptgroupOrder&&i.sort(function(a,b){var c=t.optgroups[a].$order||0,d=t.optgroups[b].$order||0;return c-d}),n=document.createDocumentFragment(),c=0,g=i.length;c<g;c++)l=i[c],t.optgroups.hasOwnProperty(l)&&h[l].childNodes.length?(o=document.createDocumentFragment(),o.appendChild(t.render("optgroup_header",t.optgroups[l])),o.appendChild(h[l]),n.appendChild(t.render("optgroup",a.extend({},t.optgroups[l],{html:K(o),dom:o})))):n.appendChild(h[l]);if(w.html(n),t.settings.highlight&&v.query.length&&v.tokens.length)for(w.removeHighlight(),c=0,g=v.tokens.length;c<g;c++)d(w,v.tokens[c].regex);if(!t.settings.hideSelected)for(c=0,g=t.items.length;c<g;c++)t.getOption(t.items[c]).addClass("selected");p=t.canCreate(u),p&&(w.prepend(t.render("option_create",{input:u})),s=a(w[0].childNodes[0])),t.hasOptions=v.items.length>0||p,t.hasOptions?(v.items.length>0?(r=x&&t.getOption(x),r&&r.length?q=r:"single"===t.settings.mode&&t.items.length&&(q=t.getOption(t.items[0])),q&&q.length||(q=s&&!t.settings.addPrecedence?t.getAdjacentOption(s,1):w.find("[data-selectable]:first"))):q=s,t.setActiveOption(q),b&&!t.isOpen&&t.open()):(t.setActiveOption(null),b&&t.isOpen&&t.close())},addOption:function(b){var c,d,e,f=this;if(a.isArray(b))for(c=0,d=b.length;c<d;c++)f.addOption(b[c]);else(e=f.registerOption(b))&&(f.userOptions[e]=!0,f.lastQuery=null,f.trigger("option_add",e,b))},registerOption:function(a){var b=z(a[this.settings.valueField]);return"undefined"!=typeof b&&null!==b&&!this.options.hasOwnProperty(b)&&(a.$order=a.$order||++this.order,this.options[b]=a,b)},registerOptionGroup:function(a){var b=z(a[this.settings.optgroupValueField]);return!!b&&(a.$order=a.$order||++this.order,this.optgroups[b]=a,b)},addOptionGroup:function(a,b){b[this.settings.optgroupValueField]=a,(a=this.registerOptionGroup(b))&&this.trigger("optgroup_add",a,b)},removeOptionGroup:function(a){this.optgroups.hasOwnProperty(a)&&(delete this.optgroups[a],this.renderCache={},this.trigger("optgroup_remove",a))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(b,c){var d,e,f,g,h,i,j,k=this;if(b=z(b),f=z(c[k.settings.valueField]),null!==b&&k.options.hasOwnProperty(b)){if("string"!=typeof f)throw new Error("Value must be set in option data");j=k.options[b].$order,f!==b&&(delete k.options[b],g=k.items.indexOf(b),g!==-1&&k.items.splice(g,1,f)),c.$order=c.$order||j,k.options[f]=c,h=k.renderCache.item,i=k.renderCache.option,h&&(delete h[b],delete h[f]),i&&(delete i[b],delete i[f]),k.items.indexOf(f)!==-1&&(d=k.getItem(b),e=a(k.render("item",c)),d.hasClass("active")&&e.addClass("active"),d.replaceWith(e)),k.lastQuery=null,k.isOpen&&k.refreshOptions(!1)}},removeOption:function(a,b){var c=this;a=z(a);var d=c.renderCache.item,e=c.renderCache.option;d&&delete d[a],e&&delete e[a],delete c.userOptions[a],delete c.options[a],c.lastQuery=null,c.trigger("option_remove",a),c.removeItem(a,b)},clearOptions:function(){var a=this;a.loadedSearches={},a.userOptions={},a.renderCache={},a.options=a.sifter.items={},a.lastQuery=null,a.trigger("option_clear"),a.clear()},getOption:function(a){return this.getElementWithValue(a,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(b,c){var d=this.$dropdown.find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},getElementWithValue:function(b,c){if(b=z(b),"undefined"!=typeof b&&null!==b)for(var d=0,e=c.length;d<e;d++)if(c[d].getAttribute("data-value")===b)return a(c[d]);return a()},getItem:function(a){return this.getElementWithValue(a,this.$control.children())},addItems:function(b,c){for(var d=a.isArray(b)?b:[b],e=0,f=d.length;e<f;e++)this.isPending=e<f-1,this.addItem(d[e],c)},addItem:function(b,c){var d=c?[]:["change"];E(this,d,function(){var d,e,f,g,h,i=this,j=i.settings.mode;return b=z(b),i.items.indexOf(b)!==-1?void("single"===j&&i.close()):void(i.options.hasOwnProperty(b)&&("single"===j&&i.clear(c),"multi"===j&&i.isFull()||(d=a(i.render("item",i.options[b])),h=i.isFull(),i.items.splice(i.caretPos,0,b),i.insertAtCaret(d),(!i.isPending||!h&&i.isFull())&&i.refreshState(),i.isSetup&&(f=i.$dropdown_content.find("[data-selectable]"),i.isPending||(e=i.getOption(b),g=i.getAdjacentOption(e,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==j),g&&i.setActiveOption(i.getOption(g))),!f.length||i.isFull()?i.close():i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",b,d),i.updateOriginalInput({silent:c})))))})},removeItem:function(b,c){var d,e,f,g=this;d=b instanceof a?b:g.getItem(b),b=z(d.attr("data-value")),e=g.items.indexOf(b),e!==-1&&(d.remove(),d.hasClass("active")&&(f=g.$activeItems.indexOf(d[0]),g.$activeItems.splice(f,1)),g.items.splice(e,1),g.lastQuery=null,!g.settings.persist&&g.userOptions.hasOwnProperty(b)&&g.removeOption(b,c),e<g.caretPos&&g.setCaret(g.caretPos-1),g.refreshState(),g.updatePlaceholder(),g.updateOriginalInput({silent:c}),g.positionDropdown(),g.trigger("item_remove",b,d))},createItem:function(b,c){var d=this,e=d.caretPos;b=b||a.trim(d.$control_input.val()||"");var f=arguments[arguments.length-1];if("function"!=typeof f&&(f=function(){}),"boolean"!=typeof c&&(c=!0),!d.canCreate(b))return f(),!1;d.lock();var g="function"==typeof d.settings.create?this.settings.create:function(a){var b={};return b[d.settings.labelField]=a,b[d.settings.valueField]=a,b},h=C(function(a){if(d.unlock(),!a||"object"!=typeof a)return f();var b=z(a[d.settings.valueField]);return"string"!=typeof b?f():(d.setTextboxValue(""),d.addOption(a),d.setCaret(e),d.addItem(b),d.refreshOptions(c&&"single"!==d.settings.mode),void f(a))}),i=g.apply(this,[b,h]);return"undefined"!=typeof i&&h(i),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.refreshValidityState(),this.refreshClasses()},refreshValidityState:function(){if(!this.isRequired)return!1;var a=!this.items.length;this.isInvalid=a,this.$control_input.prop("required",a),this.$input.prop("required",!a)},refreshClasses:function(){var b=this,c=b.isFull(),d=b.isLocked;b.$wrapper.toggleClass("rtl",b.rtl),b.$control.toggleClass("focus",b.isFocused).toggleClass("disabled",b.isDisabled).toggleClass("required",b.isRequired).toggleClass("invalid",b.isInvalid).toggleClass("locked",d).toggleClass("full",c).toggleClass("not-full",!c).toggleClass("input-active",b.isFocused&&!b.isInputHidden).toggleClass("dropdown-active",b.isOpen).toggleClass("has-options",!a.isEmptyObject(b.options)).toggleClass("has-items",b.items.length>0),b.$control_input.data("grow",!c&&!d)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(a){var b,c,d,e,f=this;if(a=a||{},f.tagType===v){for(d=[],b=0,c=f.items.length;b<c;b++)e=f.options[f.items[b]][f.settings.labelField]||"",d.push('<option value="'+A(f.items[b])+'" selected="selected">'+A(e)+"</option>");d.length||this.$input.attr("multiple")||d.push('<option value="" selected="selected"></option>'),f.$input.html(d.join(""))}else f.$input.val(f.getValue()),f.$input.attr("value",f.$input.val());f.isSetup&&(a.silent||f.trigger("change",f.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var a=this.$control_input;this.items.length?a.removeAttr("placeholder"):a.attr("placeholder",this.settings.placeholder),a.triggerHandler("update",{force:!0})}},open:function(){var a=this;a.isLocked||a.isOpen||"multi"===a.settings.mode&&a.isFull()||(a.focus(),a.isOpen=!0,a.refreshState(),a.$dropdown.css({visibility:"hidden",display:"block"}),a.positionDropdown(),a.$dropdown.css({visibility:"visible"}),a.trigger("dropdown_open",a.$dropdown))},close:function(){var a=this,b=a.isOpen;"single"===a.settings.mode&&a.items.length&&(a.hideInput(),a.$control_input.blur()),a.isOpen=!1,a.$dropdown.hide(),a.setActiveOption(null),a.refreshState(),b&&a.trigger("dropdown_close",a.$dropdown)},positionDropdown:function(){var a=this.$control,b="body"===this.settings.dropdownParent?a.offset():a.position();b.top+=a.outerHeight(!0),this.$dropdown.css({width:a.outerWidth(),top:b.top,left:b.left})},clear:function(a){var b=this;b.items.length&&(b.$control.children(":not(input)").remove(),b.items=[],b.lastQuery=null,b.setCaret(0),b.setActiveItem(null),b.updatePlaceholder(),b.updateOriginalInput({silent:a}),b.refreshState(),b.showInput(),b.trigger("clear"))},insertAtCaret:function(b){var c=Math.min(this.caretPos,this.items.length);0===c?this.$control.prepend(b):a(this.$control[0].childNodes[c]).before(b),this.setCaret(c+1)},deleteSelection:function(b){var c,d,e,f,g,h,i,j,k,l=this;if(e=b&&b.keyCode===p?-1:1,f=G(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(i=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),g=[],l.$activeItems.length){for(k=l.$control.children(".active:"+(e>0?"last":"first")),h=l.$control.children(":not(input)").index(k),e>0&&h++,c=0,d=l.$activeItems.length;c<d;c++)g.push(a(l.$activeItems[c]).attr("data-value"));b&&(b.preventDefault(),b.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(e<0&&0===f.start&&0===f.length?g.push(l.items[l.caretPos-1]):e>0&&f.start===l.$control_input.val().length&&g.push(l.items[l.caretPos]));if(!g.length||"function"==typeof l.settings.onDelete&&l.settings.onDelete.apply(l,[g])===!1)return!1;for("undefined"!=typeof h&&l.setCaret(h);g.length;)l.removeItem(g.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),i&&(j=l.getOption(i),j.length&&l.setActiveOption(j)),!0},advanceSelection:function(a,b){var c,d,e,f,g,h,i=this;0!==a&&(i.rtl&&(a*=-1),c=a>0?"last":"first",d=G(i.$control_input[0]),i.isFocused&&!i.isInputHidden?(f=i.$control_input.val().length,g=a<0?0===d.start&&0===d.length:d.start===f,g&&!f&&i.advanceCaret(a,b)):(h=i.$control.children(".active:"+c),h.length&&(e=i.$control.children(":not(input)").index(h),i.setActiveItem(null),i.setCaret(a>0?e+1:e))))},advanceCaret:function(a,b){var c,d,e=this;0!==a&&(c=a>0?"next":"prev",e.isShiftDown?(d=e.$control_input[c](),d.length&&(e.hideInput(),e.setActiveItem(d),b&&b.preventDefault())):e.setCaret(e.caretPos+a))},setCaret:function(b){var c=this;if(b="single"===c.settings.mode?c.items.length:Math.max(0,Math.min(c.items.length,b)),!c.isPending){var d,e,f,g;for(f=c.$control.children(":not(input)"),d=0,e=f.length;d<e;d++)g=a(f[d]).detach(),d<b?c.$control_input.before(g):c.$control.append(g)}c.caretPos=b},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var a=this;a.$input.prop("disabled",!0),a.$control_input.prop("disabled",!0).prop("tabindex",-1),a.isDisabled=!0,a.lock()},enable:function(){var a=this;a.$input.prop("disabled",!1),a.$control_input.prop("disabled",!1).prop("tabindex",a.tabIndex),a.isDisabled=!1,a.unlock()},destroy:function(){var b=this,c=b.eventNS,d=b.revertSettings;b.trigger("destroy"),b.off(),b.$wrapper.remove(),b.$dropdown.remove(),b.$input.html("").append(d.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:d.tabindex}).show(),b.$control_input.removeData("grow"),b.$input.removeData("selectize"),a(window).off(c),a(document).off(c),a(document.body).off(c),delete b.$input[0].selectize},render:function(b,c){var d,e,f="",g=!1,h=this;return"option"!==b&&"item"!==b||(d=z(c[h.settings.valueField]),g=!!d),g&&(y(h.renderCache[b])||(h.renderCache[b]={}),h.renderCache[b].hasOwnProperty(d))?h.renderCache[b][d]:(f=a(h.settings.render[b].apply(this,[c,A])),"option"===b||"option_create"===b?f.attr("data-selectable",""):"optgroup"===b&&(e=c[h.settings.optgroupValueField]||"",f.attr("data-group",e)),"option"!==b&&"item"!==b||f.attr("data-value",d||""),g&&(h.renderCache[b][d]=f[0]),f[0])},clearCache:function(a){var b=this;"undefined"==typeof a?b.renderCache={}:delete b.renderCache[a]},canCreate:function(a){var b=this;if(!b.settings.create)return!1;var c=b.settings.createFilter;return a.length&&("function"!=typeof c||c.apply(b,[a]))&&("string"!=typeof c||new RegExp(c).test(a))&&(!(c instanceof RegExp)||c.test(a))}}),M.count=0,M.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},a.fn.selectize=function(b){var c=a.fn.selectize.defaults,d=a.extend({},c,b),e=d.dataAttr,f=d.labelField,g=d.valueField,h=d.optgroupField,i=d.optgroupLabelField,j=d.optgroupValueField,k=function(b,c){var h,i,j,k,l=b.attr(e);if(l)for(c.options=JSON.parse(l),h=0,i=c.options.length;h<i;h++)c.items.push(c.options[h][g]);else{var m=a.trim(b.val()||"");if(!d.allowEmptyOption&&!m.length)return;for(j=m.split(d.delimiter),h=0,i=j.length;h<i;h++)k={},k[f]=j[h],k[g]=j[h],c.options.push(k);c.items=j}},l=function(b,c){var k,l,m,n,o=c.options,p={},q=function(a){var b=e&&a.attr(e);return"string"==typeof b&&b.length?JSON.parse(b):null},r=function(b,e){b=a(b);var i=z(b.val());if(i||d.allowEmptyOption)if(p.hasOwnProperty(i)){if(e){var j=p[i][h];j?a.isArray(j)?j.push(e):p[i][h]=[j,e]:p[i][h]=e}}else{var k=q(b)||{};k[f]=k[f]||b.text(),k[g]=k[g]||i,k[h]=k[h]||e,p[i]=k,o.push(k),b.is(":selected")&&c.items.push(i)}},s=function(b){var d,e,f,g,h;for(b=a(b),f=b.attr("label"),f&&(g=q(b)||{},g[i]=f,g[j]=f,c.optgroups.push(g)),h=a("option",b),d=0,e=h.length;d<e;d++)r(h[d],f)};for(c.maxItems=b.attr("multiple")?null:1,n=b.children(),k=0,l=n.length;k<l;k++)m=n[k].tagName.toLowerCase(),"optgroup"===m?s(n[k]):"option"===m&&r(n[k])};return this.each(function(){if(!this.selectize){var e,f=a(this),g=this.tagName.toLowerCase(),h=f.attr("placeholder")||f.attr("data-placeholder");h||d.allowEmptyOption||(h=f.children('option[value=""]').text());var i={placeholder:h,options:[],optgroups:[],items:[]};"select"===g?l(f,i):k(f,i),e=new M(f,a.extend(!0,{},c,i,b))}})},a.fn.selectize.defaults=M.defaults,a.fn.selectize.support={validity:x},M.define("drag_drop",function(b){if(!a.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"===this.settings.mode){var c=this;c.lock=function(){var a=c.lock;return function(){var b=c.$control.data("sortable");return b&&b.disable(),a.apply(c,arguments)}}(),c.unlock=function(){var a=c.unlock;return function(){var b=c.$control.data("sortable");return b&&b.enable(),a.apply(c,arguments)}}(),c.setup=function(){var b=c.setup;return function(){b.apply(this,arguments);var d=c.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:c.isLocked,start:function(a,b){b.placeholder.css("width",b.helper.css("width")),d.css({overflow:"visible"})},stop:function(){d.css({overflow:"hidden"});var b=c.$activeItems?c.$activeItems.slice():null,e=[];d.children("[data-value]").each(function(){e.push(a(this).attr("data-value"))}),c.setValue(e),c.setActiveItem(b)}})}}()}}),M.define("dropdown_header",function(b){var c=this;b=a.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(a){return'<div class="'+a.headerClass+'"><div class="'+a.titleRowClass+'"><span class="'+a.labelClass+'">'+a.title+'</span><a href="javascript:void(0)" class="'+a.closeClass+'">&times;</a></div></div>'}},b),c.setup=function(){var d=c.setup;return function(){d.apply(c,arguments),c.$dropdown_header=a(b.html(b)),c.$dropdown.prepend(c.$dropdown_header)}}()}),M.define("optgroup_columns",function(b){var c=this;b=a.extend({equalizeWidth:!0,equalizeHeight:!0},b),this.getAdjacentOption=function(b,c){var d=b.closest("[data-group]").find("[data-selectable]"),e=d.index(b)+c;return e>=0&&e<d.length?d.eq(e):a()},this.onKeyDown=function(){var a=c.onKeyDown;return function(b){var d,e,f,g;return!this.isOpen||b.keyCode!==j&&b.keyCode!==m?a.apply(this,arguments):(c.ignoreHover=!0,g=this.$activeOption.closest("[data-group]"),d=g.find("[data-selectable]").index(this.$activeOption),g=b.keyCode===j?g.prev("[data-group]"):g.next("[data-group]"),f=g.find("[data-selectable]"),e=f.eq(Math.min(f.length-1,d)),void(e.length&&this.setActiveOption(e)))}}();var d=function(){var a,b=d.width,c=document;return"undefined"==typeof b&&(a=c.createElement("div"),a.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',a=a.firstChild,c.body.appendChild(a),b=d.width=a.offsetWidth-a.clientWidth,c.body.removeChild(a)),b},e=function(){var e,f,g,h,i,j,k;if(k=a("[data-group]",c.$dropdown_content),f=k.length,f&&c.$dropdown_content.width()){if(b.equalizeHeight){for(g=0,e=0;e<f;e++)g=Math.max(g,k.eq(e).height());k.css({height:g})}b.equalizeWidth&&(j=c.$dropdown_content.innerWidth()-d(),h=Math.round(j/f),k.css({width:h}),f>1&&(i=j-h*(f-1),k.eq(f-1).css({width:i})))}};(b.equalizeHeight||b.equalizeWidth)&&(B.after(this,"positionDropdown",e),B.after(this,"refreshOptions",e))}),M.define("remove_button",function(b){b=a.extend({label:"&times;",title:"Remove",className:"remove",append:!0},b);var c=function(b,c){c.className="remove-single";var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+A(c.title)+'">'+c.label+"</a>",f=function(a,b){return a+b};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=a(d.$input.context).attr("id"),i=(a("#"+h),d.settings.render.item);d.settings.render.item=function(a){return f(i.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(a){a.preventDefault(),d.isLocked||d.clear()})}}()},d=function(b,c){var d=b,e='<a href="javascript:void(0)" class="'+c.className+'" tabindex="-1" title="'+A(c.title)+'">'+c.label+"</a>",f=function(a,b){var c=a.search(/(<\/[^>]+>\s*)$/);return a.substring(0,c)+b+a.substring(c)};b.setup=function(){var g=d.setup;return function(){if(c.append){var h=d.settings.render.item;d.settings.render.item=function(a){return f(h.apply(b,arguments),e)}}g.apply(b,arguments),b.$control.on("click","."+c.className,function(b){if(b.preventDefault(),!d.isLocked){var c=a(b.currentTarget).parent();d.setActiveItem(c),d.deleteSelection()&&d.setCaret(d.items.length)}})}}()};return"single"===this.settings.mode?void c(this,b):void d(this,b)}),M.define("restore_on_backspace",function(a){var b=this;a.text=a.text||function(a){return a[this.settings.labelField]},this.onKeyDown=function(){var c=b.onKeyDown;return function(b){var d,e;return b.keyCode===p&&""===this.$control_input.val()&&!this.$activeItems.length&&(d=this.caretPos-1,d>=0&&d<this.items.length)?(e=this.options[this.items[d]],this.deleteSelection(b)&&(this.setTextboxValue(a.text.apply(this,[e])),this.refreshOptions(!0)),void b.preventDefault()):c.apply(this,arguments)}}()}),M}),define("modules/form/views/field-select",["require","exports","module","./field","modules/i18n/main","underscore","backbone","selectize"],function(a,b,c){var d=a("./field"),e=a("modules/i18n/main"),f=a("underscore"),g=a("backbone");a("selectize"),c.exports=d.extend({template:"#form-input-select",ui:{$selectPicker:".js-selectpicker"},onRender:function(){d.prototype.onRender.apply(this,arguments);var a=this.ui.$selectPicker,b=this.getBinding(),c={};b.selectOptions&&b.selectOptions.collection()&&(c=b.selectOptions.collection());var f=this;this.selectizeItem=a.selectize({options:c,valueField:"value",maxItems:this.model.get("modelData").maxItems||1,items:null,highlight:!1,placeholder:this.model.get("fieldData").placeholder||e.get("app.modules.common.nothing.selected"),onInitialize:function(){var a=f.model.get("modelData").get(f.model.get("name"));a?this.addItem(a):f.model.get("fieldData").defaultValue&&this.addItem(f.model.get("fieldData").defaultValue.value)}})},onDestroy:function(){this.ui.$selectPicker[0].selectize.destroy()},getBinding:function(){var a=d.prototype.getBinding.apply(this,arguments);return f.extend(a,{getVal:function(a){var b=a.find("option:selected");return a.prop("multiple")?f.map(b,function(a){return g.$(a).attr("value")}):b.attr("value")}}),a}})}),function(a,b){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(c){return a.Bloodhound=b(c)}):"object"==typeof exports?module.exports=b(require("jquery")):a.Bloodhound=b(jQuery)}(this,function(a){var b=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(a){return!a||/^\s*$/.test(a)},escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isArray:a.isArray,isFunction:a.isFunction,isObject:a.isPlainObject,isUndefined:function(a){return"undefined"==typeof a},isElement:function(a){return!(!a||1!==a.nodeType)},isJQuery:function(b){return b instanceof a},toStr:function(a){return b.isUndefined(a)||null===a?"":a+""},bind:a.proxy,each:function(b,c){function d(a,b){return c(b,a)}a.each(b,d)},map:a.map,filter:a.grep,every:function(b,c){var d=!0;return b?(a.each(b,function(a,e){if(!(d=c.call(null,e,a,b)))return!1}),!!d):d},some:function(b,c){var d=!1;return b?(a.each(b,function(a,e){if(d=c.call(null,e,a,b))return!1}),!!d):d},mixin:a.extend,identity:function(a){return a},clone:function(b){return a.extend(!0,{},b)},getIdGenerator:function(){var a=0;return function(){return a++}},templatify:function(b){function c(){return String(b)}return a.isFunction(b)?b:c},defer:function(a){setTimeout(a,0)},debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},throttle:function(a,b){var c,d,e,f,g,h;return g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)},function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,j<=0?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},stringify:function(a){return b.isString(a)?a:JSON.stringify(a)},noop:function(){}}}(),c="0.11.1",d=function(){"use strict";function a(a){return a=b.toStr(a),a?a.split(/\s+/):[]}function c(a){return a=b.toStr(a),a?a.split(/\W+/):[]}function d(a){return function(c){return c=b.isArray(c)?c:[].slice.call(arguments,0),function(d){var e=[];return b.each(c,function(c){e=e.concat(a(b.toStr(d[c])))}),e}}}return{nonword:c,whitespace:a,obj:{nonword:d(c),whitespace:d(a)}}}(),e=function(){"use strict";function c(c){this.maxSize=b.isNumber(c)?c:100,this.reset(),this.maxSize<=0&&(this.set=this.get=a.noop)}function d(){this.head=this.tail=null}function e(a,b){this.key=a,this.val=b,this.prev=this.next=null}return b.mixin(c.prototype,{set:function(a,b){var c,d=this.list.tail;this.size>=this.maxSize&&(this.list.remove(d),delete this.hash[d.key],this.size--),(c=this.hash[a])?(c.val=b,this.list.moveToFront(c)):(c=new e(a,b),this.list.add(c),this.hash[a]=c,this.size++)},get:function(a){var b=this.hash[a];if(b)return this.list.moveToFront(b),b.val},reset:function(){this.size=0,this.hash={},this.list=new d}}),b.mixin(d.prototype,{add:function(a){this.head&&(a.next=this.head,this.head.prev=a),this.head=a,this.tail=this.tail||a},remove:function(a){a.prev?a.prev.next=a.next:this.head=a.next,a.next?a.next.prev=a.prev:this.tail=a.prev},moveToFront:function(a){this.remove(a),this.add(a)}}),c}(),f=function(){"use strict";function c(a,c){this.prefix=["__",a,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+b.escapeRegExChars(this.prefix)),this.ls=c||h,!this.ls&&this._noop()}function d(){return(new Date).getTime()}function e(a){return JSON.stringify(b.isUndefined(a)?null:a)}function f(b){return a.parseJSON(b)}function g(a){var b,c,d=[],e=h.length;for(b=0;b<e;b++)(c=h.key(b)).match(a)&&d.push(c.replace(a,""));return d}var h;try{h=window.localStorage,h.setItem("~~~","!"),h.removeItem("~~~")}catch(a){h=null}return b.mixin(c.prototype,{_prefix:function(a){return this.prefix+a},_ttlKey:function(a){return this._prefix(a)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=b.noop;
},_safeSet:function(a,b){try{this.ls.setItem(a,b)}catch(a){"QuotaExceededError"===a.name&&(this.clear(),this._noop())}},get:function(a){return this.isExpired(a)&&this.remove(a),f(this.ls.getItem(this._prefix(a)))},set:function(a,c,f){return b.isNumber(f)?this._safeSet(this._ttlKey(a),e(d()+f)):this.ls.removeItem(this._ttlKey(a)),this._safeSet(this._prefix(a),e(c))},remove:function(a){return this.ls.removeItem(this._ttlKey(a)),this.ls.removeItem(this._prefix(a)),this},clear:function(){var a,b=g(this.keyMatcher);for(a=b.length;a--;)this.remove(b[a]);return this},isExpired:function(a){var c=f(this.ls.getItem(this._ttlKey(a)));return!!(b.isNumber(c)&&d()>c)}}),c}(),g=function(){"use strict";function c(a){a=a||{},this.cancelled=!1,this.lastReq=null,this._send=a.transport,this._get=a.limiter?a.limiter(this._get):this._get,this._cache=a.cache===!1?new e(0):h}var d=0,f={},g=6,h=new e(10);return c.setMaxPendingRequests=function(a){g=a},c.resetCache=function(){h.reset()},b.mixin(c.prototype,{_fingerprint:function(b){return b=b||{},b.url+b.type+a.param(b.data||{})},_get:function(a,b){function c(a){b(null,a),k._cache.set(i,a)}function e(){b(!0)}function h(){d--,delete f[i],k.onDeckRequestArgs&&(k._get.apply(k,k.onDeckRequestArgs),k.onDeckRequestArgs=null)}var i,j,k=this;i=this._fingerprint(a),this.cancelled||i!==this.lastReq||((j=f[i])?j.done(c).fail(e):d<g?(d++,f[i]=this._send(a).done(c).fail(e).always(h)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(c,d){var e,f;d=d||a.noop,c=b.isString(c)?{url:c}:c||{},f=this._fingerprint(c),this.cancelled=!1,this.lastReq=f,(e=this._cache.get(f))?d(null,e):this._get(c,d)},cancel:function(){this.cancelled=!0}}),c}(),h=window.SearchIndex=function(){"use strict";function c(c){c=c||{},c.datumTokenizer&&c.queryTokenizer||a.error("datumTokenizer and queryTokenizer are both required"),this.identify=c.identify||b.stringify,this.datumTokenizer=c.datumTokenizer,this.queryTokenizer=c.queryTokenizer,this.reset()}function d(a){return a=b.filter(a,function(a){return!!a}),a=b.map(a,function(a){return a.toLowerCase()})}function e(){var a={};return a[i]=[],a[h]={},a}function f(a){for(var b={},c=[],d=0,e=a.length;d<e;d++)b[a[d]]||(b[a[d]]=!0,c.push(a[d]));return c}function g(a,b){var c=0,d=0,e=[];a=a.sort(),b=b.sort();for(var f=a.length,g=b.length;c<f&&d<g;)a[c]<b[d]?c++:a[c]>b[d]?d++:(e.push(a[c]),c++,d++);return e}var h="c",i="i";return b.mixin(c.prototype,{bootstrap:function(a){this.datums=a.datums,this.trie=a.trie},add:function(a){var c=this;a=b.isArray(a)?a:[a],b.each(a,function(a){var f,g;c.datums[f=c.identify(a)]=a,g=d(c.datumTokenizer(a)),b.each(g,function(a){var b,d,g;for(b=c.trie,d=a.split("");g=d.shift();)b=b[h][g]||(b[h][g]=e()),b[i].push(f)})})},get:function(a){var c=this;return b.map(a,function(a){return c.datums[a]})},search:function(a){var c,e,j=this;return c=d(this.queryTokenizer(a)),b.each(c,function(a){var b,c,d,f;if(e&&0===e.length)return!1;for(b=j.trie,c=a.split("");b&&(d=c.shift());)b=b[h][d];return b&&0===c.length?(f=b[i].slice(0),void(e=e?g(e,f):f)):(e=[],!1)}),e?b.map(f(e),function(a){return j.datums[a]}):[]},all:function(){var a=[];for(var b in this.datums)a.push(this.datums[b]);return a},reset:function(){this.datums={},this.trie=e()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),c}(),i=function(){"use strict";function a(a){this.url=a.url,this.ttl=a.ttl,this.cache=a.cache,this.prepare=a.prepare,this.transform=a.transform,this.transport=a.transport,this.thumbprint=a.thumbprint,this.storage=new f(a.cacheKey)}var c;return c={data:"data",protocol:"protocol",thumbprint:"thumbprint"},b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(a){this.cache&&(this.storage.set(c.data,a,this.ttl),this.storage.set(c.protocol,location.protocol,this.ttl),this.storage.set(c.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var a,b={};return this.cache?(b.data=this.storage.get(c.data),b.protocol=this.storage.get(c.protocol),b.thumbprint=this.storage.get(c.thumbprint),a=b.thumbprint!==this.thumbprint||b.protocol!==location.protocol,b.data&&!a?b.data:null):null},fromNetwork:function(a){function b(){a(!0)}function c(b){a(null,e.transform(b))}var d,e=this;a&&(d=this.prepare(this._settings()),this.transport(d).fail(b).done(c))},clear:function(){return this.storage.clear(),this}}),a}(),j=function(){"use strict";function a(a){this.url=a.url,this.prepare=a.prepare,this.transform=a.transform,this.transport=new g({cache:a.cache,limiter:a.limiter,transport:a.transport})}return b.mixin(a.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(a,b){function c(a,c){b(a?[]:e.transform(c))}var d,e=this;if(b)return a=a||"",d=this.prepare(a,this._settings()),this.transport.get(d,c)},cancelLastRequest:function(){this.transport.cancel()}}),a}(),k=function(){"use strict";function d(d){var e;return d?(e={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:b.identity,transform:b.identity,transport:null},d=b.isString(d)?{url:d}:d,d=b.mixin(e,d),!d.url&&a.error("prefetch requires url to be set"),d.transform=d.filter||d.transform,d.cacheKey=d.cacheKey||d.url,d.thumbprint=c+d.thumbprint,d.transport=d.transport?h(d.transport):a.ajax,d):null}function e(c){var d;if(c)return d={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:b.identity,transport:null},c=b.isString(c)?{url:c}:c,c=b.mixin(d,c),!c.url&&a.error("remote requires url to be set"),c.transform=c.filter||c.transform,c.prepare=f(c),c.limiter=g(c),c.transport=c.transport?h(c.transport):a.ajax,delete c.replace,delete c.wildcard,delete c.rateLimitBy,delete c.rateLimitWait,c}function f(a){function b(a,b){return b.url=f(b.url,a),b}function c(a,b){return b.url=b.url.replace(g,encodeURIComponent(a)),b}function d(a,b){return b}var e,f,g;return e=a.prepare,f=a.replace,g=a.wildcard,e?e:e=f?b:a.wildcard?c:d}function g(a){function c(a){return function(c){return b.debounce(c,a)}}function d(a){return function(c){return b.throttle(c,a)}}var e,f,g;return e=a.limiter,f=a.rateLimitBy,g=a.rateLimitWait,e||(e=/^throttle$/i.test(f)?d(g):c(g)),e}function h(c){return function(d){function e(a){b.defer(function(){g.resolve(a)})}function f(a){b.defer(function(){g.reject(a)})}var g=a.Deferred();return c(d,e,f),g}}return function(c){var f,g;return f={initialize:!0,identify:b.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},c=b.mixin(f,c||{}),!c.datumTokenizer&&a.error("datumTokenizer is required"),!c.queryTokenizer&&a.error("queryTokenizer is required"),g=c.sorter,c.sorter=g?function(a){return a.sort(g)}:b.identity,c.local=b.isFunction(c.local)?c.local():c.local,c.prefetch=d(c.prefetch),c.remote=e(c.remote),c}}(),l=function(){"use strict";function c(a){a=k(a),this.sorter=a.sorter,this.identify=a.identify,this.sufficient=a.sufficient,this.local=a.local,this.remote=a.remote?new j(a.remote):null,this.prefetch=a.prefetch?new i(a.prefetch):null,this.index=new h({identify:this.identify,datumTokenizer:a.datumTokenizer,queryTokenizer:a.queryTokenizer}),a.initialize!==!1&&this.initialize()}var e;return e=window&&window.Bloodhound,c.noConflict=function(){return window&&(window.Bloodhound=e),c},c.tokenizers=d,b.mixin(c.prototype,{__ttAdapter:function(){function a(a,b,d){return c.search(a,b,d)}function b(a,b){return c.search(a,b)}var c=this;return this.remote?a:b},_loadPrefetch:function(){function b(a,b){return a?c.reject():(e.add(b),e.prefetch.store(e.index.serialize()),void c.resolve())}var c,d,e=this;return c=a.Deferred(),this.prefetch?(d=this.prefetch.fromCache())?(this.index.bootstrap(d),c.resolve()):this.prefetch.fromNetwork(b):c.resolve(),c.promise()},_initialize:function(){function a(){b.add(b.local)}var b=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(a),this.initPromise},initialize:function(a){return!this.initPromise||a?this._initialize():this.initPromise},add:function(a){return this.index.add(a),this},get:function(a){return a=b.isArray(a)?a:[].slice.call(arguments),this.index.get(a)},search:function(a,c,d){function e(a){var c=[];b.each(a,function(a){!b.some(f,function(b){return g.identify(a)===g.identify(b)})&&c.push(a)}),d&&d(c)}var f,g=this;return f=this.sorter(this.index.search(a)),c(this.remote?f.slice():f),this.remote&&f.length<this.sufficient?this.remote.get(a,e):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return g.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),c}();return l}),define("modules/users/models/user",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({urlRoot:"/api/users",defaults:{active:!0},getId:function(){return this.id||this.get("id")?this.id||this.get("id"):this.get("_meta")?this.get("_meta").href.split("/").slice(-1).pop():void 0},getFullName:function(){var a=this.get("firstName")||this.get("lastName")?this.get("firstName")+" "+this.get("lastName"):this.get("userName");return a},validation:{userName:{required:!0,msg:e.get("app.modules.admin.user.username.validation")},firstName:{required:!0,msg:e.get("app.modules.admin.user.firstName.validation")},lastName:{required:!0,msg:e.get("app.modules.admin.user.lastName.validation")},password:{required:!0,msg:e.get("app.modules.admin.user.password.validation.notnull")},passwordRepeat:{required:!0,equalTo:"password",msg:e.get("app.modules.admin.user.passwordRepeat.validation.nomatch")},email:{required:!0,pattern:"email",msg:e.get("app.modules.admin.user.email.validation.invalid")}}})}),define("modules/form/views/field-select-user",["require","exports","module","underscore","modules/i18n/main","marionette","bloodhound","modules/users/models/user","ironclad","./field","selectize"],function(a,b,c){var d=a("underscore"),e=(a("modules/i18n/main"),a("marionette")),f=a("bloodhound"),g=a("modules/users/models/user"),h=a("ironclad"),i=a("./field");a("selectize"),c.exports=i.extend({template:"#form-dynamic-selectpicker",ui:{$selectPicker:".js-selectpicker"},getBinding:function(){var a=i.prototype.getBinding.apply(this,arguments);return d.extend(a,{onSet:function(a,b){return b.view.$(b.selector).val()}}),a},onRender:function(){this.selectPicker=this.ui.$selectPicker,this.setupAutocomplete(),i.prototype.onRender.apply(this,arguments)},_setLoadingState:function(){this.selectPicker[0].selectize.$control.spin("tiny")},_unsetLoadingState:function(){this.selectPicker[0].selectize.$control.spin(!1)},setupAutocomplete:function(){var a=this,b=this.suggestions=new f({datumTokenizer:f.tokenizers.whitespace,queryTokenizer:f.tokenizers.whitespace,limit:1e3,remote:{url:"/api/v1/users/?q=%QUERY&activeOnly=true&limit=100",filter:function(a){return a.items},wildcard:"%QUERY"}});b.initialize().done(function(){a.selectizeItem=a.selectPicker.selectize({valueField:"id",labelField:"name",searchField:["name","firstName","lastName","email","externalName"],maxItems:a.options.model.get("fieldData").maxItems||1,placeholder:a.options.model.get("fieldData").placeholder,plugins:["restore_on_backspace"],preload:"focus",highlight:!1,onInitialize:function(){var b=a.model.get("modelData").get(a.model.get("name"));if(b){a._setLoadingState();var c=new g({id:b});c.fetch().success(d.bind(function(a){a.id=b,this.addOption(a),this.addItem(a.id),this.refreshOptions(!1)},this)).done(function(){a._unsetLoadingState()})}},render:{option:function(a){return e.TemplateCache.get("#form-input-select-user-option")(d.extend({},h.templateHelpers,{user:a}))},item:function(a){return e.TemplateCache.get("#form-input-select-user-item")(d.extend({},h.templateHelpers,{user:a}))}},load:function(b,c){a._setLoadingState(),a.suggestions.search(b,function(a){c(a)},function(b){c(b),a._unsetLoadingState()})},onChange:function(b){a.model.get("modelData").set(a.model.get("name"),b)}})})},onDestroy:function(){this.suggestions.clear(),this.ui.$selectPicker[0].selectize.destroy()}})}),define("modules/form/views/field-dynamic-selectpicker",["require","exports","module","underscore","bloodhound","selectize","./field"],function(a,b,c){var d=a("underscore"),e=a("bloodhound");a("selectize");var f=a("./field");c.exports=f.extend({template:"#form-dynamic-selectpicker",ui:{$selectPicker:".js-selectpicker"},defaultSelectizeOptions:{valueField:"id",labelField:"name",searchField:["name"],options:[],highlight:!1},defaultBloodhoundOptions:{datumTokenizer:e.tokenizers.whitespace,queryTokenizer:e.tokenizers.whitespace},initialize:function(){var a=this;this.defaultSelectizeOptions.placeholder=this.options.model.get("fieldData").placeholder,this.defaultSelectizeOptions.maxItems=this.options.model.get("fieldData").maxItems||1,this.selectizeOptions.load=d.bind(function(a,b){this.bloodhoundOptions.remote?this.updateDataFromRemote(a,b):this.updateData(a,b)},this),this.selectizeOptions=d.extend({},this.defaultSelectizeOptions,this.selectizeOptions,{onInitialize:function(){a.value&&(this.addOption({id:a.value.id,name:a.value.name}),this.addItem(a.value.id))}}),this.bloodhoundOptions=d.extend({},this.defaultBloodhoundOptions,this.bloodhoundOptions),this.bloodhoundOptions.model=this.model,f.prototype.initialize.apply(this,arguments)},onRender:function(){this.bindUIElements(),this.delegateEvents(),this.setupAutocomplete(),f.prototype.onRender.apply(this,arguments)},setupAutocomplete:function(){this.cleanup();var a=this;this.suggestions=new e(this.bloodhoundOptions),this.suggestions.initialize().done(function(){a.ui.$selectPicker.selectize(a.selectizeOptions)})},getBinding:function(){var a=f.prototype.getBinding.apply(this,arguments);return d.extend(a,{getVal:function(a){return this.ui.$selectPicker[0].selectize.getValue()}}),a},updateData:function(a,b){this.suggestions.get(a,function(a){b(a)})},updateDataFromRemote:function(a,b){this.suggestions.search(a,function(){},function(a){b(a)})},cleanup:function(){this.ui.$selectPicker[0].selectize&&(this.value=this.ui.$selectPicker[0].selectize.options[this.ui.$selectPicker[0].selectize.getValue()],this.ui.$selectPicker[0].selectize.destroy()),this.suggestions&&this.suggestions.clear()},onDestroy:function(){this.cleanup()}})}),define("modules/form/views/field-select-group",["require","exports","module","ironclad","underscore","./field-dynamic-selectpicker","marionette","selectize"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=a("./field-dynamic-selectpicker"),g=a("marionette");a("selectize"),c.exports=f.extend({selectizeOptions:{render:{option:function(a){return g.TemplateCache.get("#form-input-select-group-option")(e.extend({},d.templateHelpers,{group:a}))},item:function(a){return g.TemplateCache.get("#form-input-select-group-item")(e.extend({},d.templateHelpers,{group:a}))}},highlight:!1},bloodhoundOptions:{remote:{url:"/api/usergroups/?q=%QUERY",filter:function(a){return a.items.map(function(a){return a.id=a._meta.href,a})},cache:!1,wildcard:"%QUERY"}},getBinding:function(){var a=f.prototype.getBinding.apply(this,arguments);return e.extend(a,{getVal:function(a){var b=this,c=b.ui.$selectPicker[0].selectize.getValue();return e.isString(c)&&(c=[c]),e.filter(this.ui.$selectPicker[0].selectize.options,function(a){return e.contains(c,a.id)})}}),a},initialize:function(){f.prototype.initialize.apply(this,arguments),this.listenTo(this.model.get("modelData"),"change:activeOnly",this.bloodhoundReplace)},bloodhoundReplace:function(){this.model.get("modelData").get("activeOnly")?this.bloodhoundOptions.remote.url="/api/usergroups/?activeOnly=true&q=%QUERY":this.bloodhoundOptions.remote.url="/api/usergroups/?q=%QUERY",this.setupAutocomplete()}})}),define("modules/form/views/field-select-teammember",["require","exports","module","underscore","./field-dynamic-selectpicker","marionette","selectize"],function(a,b,c){var d=(a("underscore"),a("./field-dynamic-selectpicker")),e=a("marionette");a("selectize"),c.exports=d.extend({selectizeOptions:{render:{option:function(a){return e.TemplateCache.get("#form-input-select-user-suggestion")({user:a})},item:function(a){return e.TemplateCache.get("#form-input-select-user-suggestion")({user:a})}}},bloodhoundOptions:{remote:{filter:function(a){return a.items}}},initialize:function(){var a=this.model.get("modelData").get("currentProjectId");this.bloodhoundOptions.remote.url="/api/v1/composite/projects/"+a+"/users/assignable?searchText=%QUERY",d.prototype.initialize.apply(this,arguments)}})}),define("modules/form/views/field-checkbox",["require","exports","module","underscore","./field"],function(a,b,c){var d=a("underscore"),e=a("./field");c.exports=e.extend({template:"#form-input-checkbox",onBeforeRender:function(){var a=this.model.get("name"),b=this.model.get("modelData").get(a);"true"!==b&&"false"!==b||this.model.get("modelData").set(a,"true"===b,{silent:!0})},templateHelpers:function(){var a=this;return d.extend({getOptions:function(){var b=a.getBinding();if(b.selectOptions&&b.selectOptions.collection())return b.selectOptions.collection();var c=a.model.get("fieldData");return[{name:a.model.get("name"),label:c.label}]}},e.prototype.templateHelpers.apply(this))}})}),define("modules/form/views/field-radio",["require","exports","module","underscore","./field"],function(a,b,c){var d=a("underscore"),e=a("./field");c.exports=e.extend({template:"#form-input-radio",templateHelpers:function(){var a=this;return d.extend({getOptions:function(){var b=a.getBinding();return b.selectOptions&&b.selectOptions.collection()?b.selectOptions.collection():[]}},e.prototype.templateHelpers.apply(this))}})}),define("modules/form/views/field-textarea",["require","exports","module","./field"],function(a,b,c){var d=a("./field");c.exports=d.extend({template:"#form-input-textarea"})}),define("modules/form/views/field-selectize",["require","exports","module","underscore","marionette","bloodhound","backbone","ironclad","./field","selectize","backbone.stickit"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("bloodhound"),g=a("backbone"),h=a("ironclad"),i=a("./field");a("selectize"),a("backbone.stickit"),c.exports=i.extend({template:"#form-input-selectize",ui:{$selectizeElement:".js-selectize-dropdown"},onRender:function(){i.prototype.onRender.apply(this,arguments);var a=this,b=this.ui.$selectizeElement,c=this.getBinding().selectOptions;if(c.remoteOptions){var g=this.suggestions=new f({datumTokenizer:f.tokenizers.whitespace,queryTokenizer:f.tokenizers.whitespace,limit:1e3,remote:{url:c.modelUrl(),filter:function(a){return a.items},wildcard:c.wildcard||"%QUERY",cache:c.cache||!1}});g.initialize().done(function(){a.selectizeItem=b.selectize({valueField:c.selectizeOptions.valueField,labelField:c.selectizeOptions.labelField,searchField:c.selectizeOptions.searchField,options:c.selectizeOptions.options,maxItems:c.selectizeOptions.maxItems,plugins:["restore_on_backspace","remove_button"],loadThrottle:300,highlight:!1,selectOnTab:c.selectizeOptions.selectOnTab||!1,preload:c.selectizeOptions.preload||!1,render:{option:function(a){var b=e.TemplateCache.get(c.selectizeOptions.optionTemplate);return b(d.extend({},h.templateHelpers,{user:a}))},item:function(a){var b=e.TemplateCache.get(c.selectizeOptions.itemTemplate);return b(d.extend({},h.templateHelpers,{user:a}))}},load:function(b,c){a._setLoadingState(),g.clear(),g.search(b,function(a){c(a)},function(b){c(b),a._unsetLoadingState()})}})})}else a.selectizeItem=b.selectize({options:c.collection(),valueField:"value",maxItems:c.maxItems?c.maxItems:100,items:c.defaultValues,plugins:["remove_button"]})},_setLoadingState:function(){this.ui.$selectizeElement[0].selectize.$control.spin("tiny")},_unsetLoadingState:function(){this.ui.$selectizeElement[0].selectize.$control.spin(!1)},getBinding:function(){var a=i.prototype.getBinding.apply(this,arguments);return d.extend(a,{getVal:function(a){var b=a.find("option:selected");return a.prop("multiple")?d.map(b,function(a){return g.$(a).attr("value")}):b.attr("value")}}),a},onDestroy:function(){this.suggestions&&this.suggestions.clear(),this.ui.$selectizeElement[0].selectize.destroy()}})}),define("modules/form/views/content",["require","exports","module","backbone.stickit","ironclad","../behaviors/model-api-error","../behaviors/model-validation-error","../models/fields","./field-text","./field-password","./field-date","./field-select","./field-select-user","./field-select-group","./field-select-teammember","./field-checkbox","./field-radio","./field-textarea","./field-selectize"],function(a,b,c){a("backbone.stickit");var d=a("ironclad"),e=a("../behaviors/model-api-error"),f=a("../behaviors/model-validation-error"),g=a("../models/fields"),h=a("./field-text"),i=a("./field-password"),j=a("./field-date"),k=a("./field-select"),l=a("./field-select-user"),m=a("./field-select-group"),n=a("./field-select-teammember"),o=a("./field-checkbox"),p=a("./field-radio"),q=a("./field-textarea"),r=a("./field-selectize");c.exports=d.CollectionView.extend({behaviors:{ModelApiError:{behaviorClass:e},ModelValidationError:{behaviorClass:f}},getChildView:function(a){if(a.get("fieldData").view)return a.get("fieldData").view;switch(a.get("fieldData").type){case"text":return h;case"password":return i;case"date":return j;case"select":return k;case"textarea":return q;case"checkbox":return o;case"radio":return p;case"select-user":return l;case"selectize":return r;case"select-group":return m;case"select-teammember":return n;default:return h}},initialize:function(){this.collection=new g,this.collection.addFields(this.options.formFields,this.model)}})}),define("modules/form/behaviors/form-submit",["require","exports","module","underscore","backbone","marionette"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("marionette");c.exports=f.Behavior.extend({events:{"submit @ui.form":"handleSubmit","click @ui.$submit":"handleSubmit"},modelEvents:{success:"handleSuccess",error:"handleError",request:"handleLoadingState","validated:invalid":"resetErrors"},resetErrors:function(){this.ui.$errorMessage&&this.ui.$errorMessage.empty(),this.unsetLoadingState()},handleSubmit:function(a){var b=this;a.preventDefault(),a.stopPropagation(),this.handleLoadingState(),d.isFunction(this.view.submit)?this.view.submit():this.view.model.save(null,{success:function(){b.unsetLoadingState()},error:function(){b.unsetLoadingState()}}),this.view.model.validationError&&(this.ui.$successMessage&&this.ui.$successMessage.empty(),this.unsetLoadingState())},handleSuccess:function(){if(this.unsetLoadingState(),d.isFunction(this.view.onSuccess)&&this.view.onSuccess(arguments),d.isFunction(this.view.redirect)){var a=this.view.redirect(arguments);if(a)return void e.history.navigate(a,{trigger:!0,replace:!0})}d.isFunction(this.view.closeModal)&&this.view.closeModal()},handleError:function(a,b){return this.unsetLoadingState(),d.isFunction(this.view.onError)&&this.view.onError(arguments),!0},handleLoadingState:function(){this.view.$el.find(".js-btn-ok").attr("disabled","disabled").spin("tiny")},unsetLoadingState:function(){this.view.$el.find(".js-btn-ok").removeAttr("disabled").spin(!1)}})}),define("modules/form/views/layout",["require","exports","module","underscore","modules/i18n/main","ironclad","./header","./content","../behaviors/form-submit"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=f.MessageBus,h=a("./header"),i=a("./content"),j=a("../behaviors/form-submit");c.exports=f.Layout.extend({template:"#form-layout",regions:{header:".region-form-header",content:".region-form-content",footer:".region-form-footer"},hasSuccessHandler:!1,successMessage:e.get("app.modules.common.success"),hasErrorHandler:!0,ui:{$form:"form",$submit:'button[type="submit"]',$errorMessage:".js-server-error-container",$successMessage:".js-server-success-container"},behaviors:{Submit:{behaviorClass:j}},errorHandler:function(a,b){if(this.ui.$errorMessage.empty(),b&&403===b.status)g.vent.trigger("app:modal:close");else if(b&&b.responseJSON&&b.responseJSON.arguments&&b.responseJSON.arguments.fieldName){var c=b.responseJSON.arguments.fieldName,d=this.$('[name="'+c+'"]');if(d.size()>0)return!1}return f.defaultErrorHandler.apply(this,arguments)},formFields:{},headerView:h,contentView:i,footerView:null,footerTemplate:"#form-buttons-save-only",onRender:function(){if(this.headerView)if(d.isString(this.headerView)){var a=h.extend({message:this.headerView});this.header.show(new a)}else this.header.show(new this.headerView);var b=d.isFunction(this.formFields)?this.formFields():this.formFields;if(this.content.show(new this.contentView({formFields:b,model:this.model})),this.footerView)this.footer.show(new this.footerView({model:this.model}));else if(this.footerTemplate){var c=f.ItemView.extend({template:this.footerTemplate});this.footer.show(new c)}this.autocomplete&&this.ui.$form.attr("autocomplete",this.autocomplete)},onAttach:function(){this.content.$el.find("[autofocus]").not(".selectized").first().focus()}})}),define("modules/admin-exts/views/create-form",["require","exports","module","modules/i18n/main","ironclad","./create-header","modules/form/views/layout"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=a("./create-header"),g=a("modules/form/views/layout");c.exports=g.extend({hasErrorHandler:!0,ignoreGlobalErrors:!1,hasSuccessHandler:!0,successMessage:d.get("app.modules.admin.extensions.add.success"),headerView:f,footerTemplate:"#form-buttons-save-only",formFields:{infoUrl:{type:"text",label:d.get("app.modules.labels.infoUrl"),required:!0}},initialize:function(a){g.prototype.initialize.apply(this,arguments)},onSuccess:function(){e.MessageBus.vent.trigger("extension:created")},submit:function(){var a=this;a.model.save(null,{global:!1,success:function(){a.model.trigger("form:model:save:success")},error:function(){a.model.trigger("form:model:save:error")},dataType:"text"})}})}),define("modules/admin-exts/views/overview",["require","exports","module","ironclad","modules/tables/behaviors/sticky-headers","../models/extension","./header","./extensions-list","./create-form"],function(a,b,c){var d=a("ironclad"),e=a("modules/tables/behaviors/sticky-headers"),f=a("../models/extension"),g=a("./header"),h=a("./extensions-list"),i=a("./create-form");c.exports=d.Layout.extend({template:"#admin-exts-overview",className:"admin-extensions",regions:{extsTable:".admin-extensions-table",extsHeader:".js-header",extsCreate:".create-extension-form"},ui:{$serverResponse:".js-server-response"},behaviors:{Sticky:{behaviorClass:e}},initialize:function(a){var b=this.collection=a.collection;d.Layout.prototype.initialize.apply(this,arguments),d.MessageBus.vent.on("extension:created extension:deleted",function(){b.fetch()})},onRender:function(){this.extsHeader.show(new g);var a=new f;this.extsCreate.show(new i({model:a})),this.extsTable.show(new h({collection:this.collection})),this.collection.fetch()}})}),define("modules/errors/views/error",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({id:"error-content",className:"row",getTemplate:function(){var a=parseInt(this.options.statusCode,10);switch(a){case 404:return"#errors-error404";case 412:return"#errors-error412";case 500:return"#errors-error500";case 504:return"#errors-error504";default:return"#common-empty"}},initialize:function(a){e.requireOptions(this,"statusCode"),this.statusCode=a.statusCode,this.response=a.response||{},e.ItemView.prototype.initialize.apply(this,arguments)},templateHelpers:function(){var a=this;return d.extend({},e.templateHelpers,{getErrorMessage:function(){return a.response.errorMessage||""}})}})}),define("modules/admin-exts/views/global-config",["require","exports","module","modules/form/views/layout","modules/i18n/main"],function(a,b,c){var d=a("modules/form/views/layout"),e=a("modules/i18n/main");c.exports=d.extend({headerView:e.get("app.modules.admin.extensions.configurationTitle"),hasSuccessHandler:!0,formFields:function(){return this.options.formFields.toJSON()},submit:function(){var a=this,b=this.model.save(null,{method:"PUT",dataType:"text"});b&&(this.ui.$submit.attr("disabled","disabled").spin("tiny"),b.always(function(){$(a.ui.$submit).removeAttr("disabled").spin(!1)}).success(function(){a.model.trigger("form:model:save:success")}).error(function(){a.model.trigger("form:model:save:error")}))}})}),define("modules/admin-exts/models/global-config",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Model.extend({initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.listenTo(this,"change",this.updateValue)},updateValue:function(a,b){var c=this.collection.findWhere({name:b.stickitChange.observe}),e=this.get(b.stickitChange.observe);c&&(d.isArray(e)?c.set("value",e):c.set("value",[e]))},toJSON:function(){return this.collection.toJSON()}})}),define("modules/admin-exts/models/global-config-options",["require","exports","module","underscore","ironclad","modules/common/models/pageable-collection","./global-config"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/common/models/pageable-collection"),g=a("./global-config");c.exports=f.extend({state:{pageSize:1e3},parse:function(a){return a.items},getFormItemType:function(a){if(!a.get("singleValue"))return"selectize";if(a.get("options").length>1)return"select";switch(a.get("optionType")){case"BOOLEAN":return"checkbox";default:return"text"}},getFormFieldsFormatted:function(){var a=this,b={};return d.each(this.models,function(c){var e=a.getFormItemType(c),f=c.get("singleValue")?c.get("value")[0]:c.get("value");b[c.get("name")]={type:e,label:c.get("title"),required:c.get("required"),description:c.get("description"),value:f},"select"!==e&&"selectize"!=e||(b[c.get("name")].binding={selectOptions:{collection:function(){return d.map(c.get("options"),function(a){return{label:a.title,value:a.name}})},defaultValues:f}})}),new e.Model(b)},getDataModel:function(){var a={};d.each(this.models,function(b){var c=b.get("value");c&&c.length&&(c.length>1?a[b.get("name")]=c:a[b.get("name")]=c[0])});var b=g.extend({defaults:a,url:this.url,collection:this});return new b}})}),define("modules/common/views/waiting",["require","exports","module","underscore","backbone"],function(a,b,c){var d=a("underscore"),e=a("backbone");c.exports=e.View.extend({className:"waiting-spinner",render:function(){var a=this;d.defer(function(){a.$el.spin("large")})},onDestroy:function(){$(this.el).spin(!1)}})}),define("modules/admin-exts/views/details",["require","exports","module","underscore","backbone","ironclad","./header","modules/errors/views/error","./global-config","../models/global-config-options","modules/common/views/waiting"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("ironclad"),g=a("./header"),h=a("modules/errors/views/error"),i=a("./global-config"),j=a("../models/global-config-options"),k=a("modules/common/views/waiting");c.exports=f.Layout.extend({template:"#admin-exts-details",regions:{extsHeader:".js-header",globalConfig:".region-global-config"},ui:{$serverResponse:".js-server-response",$authenticateBtn:".js-authenticate",$showClientIdBtn:".js-show-client-id",$clientIdTextBox:"#client-id-textbox",$deleteBtn:".js-delete-extension"},events:{"click @ui.$authenticateBtn":"authenticate","click @ui.$deleteBtn":"deleteExtension"},initialize:function(a){this.model=a.model,f.Layout.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"destroy",function(){e.history.navigate("admin/extensions",{trigger:!0})})},onRender:function(){var a=this;this.extsHeader.show(new g({model:this.model}));var b=this.model.get("_meta").links,c=d.findWhere(b,{rel:"global-options"}).href,e=j.extend({url:c}),f=new e;a.globalConfig.show(new k),f.fetch().then(function(){
    a.globalConfig.show(new i({formFields:f.getFormFieldsFormatted(),model:f.getDataModel(),collection:f}))}).fail(function(b){var c=new h({response:b.responseJSON||JSON.parse(b.response),statusCode:b.status});a.globalConfig.show(c)})},authenticate:function(a){a.preventDefault();var b=new f.Model;b.url=this.model.getAuthUrl(),b.save().done(function(){window.location.href=b.url})},deleteExtension:function(a){a.preventDefault(),f.MessageBus.vent.trigger("assets:actions:modal",{assetName:"extensions",view:"delete"},this.model)}})}),define("modules/admin-exts/controllers/route-controller",["require","exports","module","app","ironclad","../models/extensions","../views/overview","../models/extension","../views/details"],function(a,b,c){var d=a("app"),e=a("ironclad"),f=e.MessageBus,g=a("../models/extensions"),h=a("../views/overview"),i=a("../models/extension"),j=a("../views/details");c.exports={showExtensionsList:function(){var a=f.reqres.request("hub:filters:controller");a&&a.restoreFilters();var b=new g;d.appLayout.content.show(new h({collection:b}))},showExtensionDetails:function(a){var b=new i({id:a});b.fetch().success(function(){d.appLayout.content.show(new j({model:b}))})}}}),define("modules/admin-exts/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/extensions/:extId(/)":"showExtensionDetails","admin/extensions(/)":"showExtensionsList"},pageTitles:{"*":f.get("app.modules.admin.extensions.title")}})}),define("modules/admin/views/_admin-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Layout.extend({className:"col-md-4 col-sm-6",regions:{metaInfoRegion:".meta-info-region"},events:{click:"gotoPage"}})}),define("modules/admin-exts/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item");c.exports=e.extend({template:"#admin-exts-admin-item",gotoPage:function(){d.history.navigate("#admin/extensions",{trigger:!0})}})}),define("modules/admin-exts/views/delete-confirm",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-view");c.exports=f.extend({template:"#admin-exts-delete-confirm",modelEvents:d.extend({},f.prototype.modelEvents,{error:"deleteErrorHandler"}),deleteErrorHandler:function(a,b){this.genericActiveStateHandler();var c=b.statusText;b.responseJSON&&(c=b.responseJSON.errorMessage),this.renderGeneralError(c)},redirect:function(){return!1},ok:function(a){var b=this;a.preventDefault(),this.trigger("state:waiting"),this.model.set("id",!0),this.model.destroy({wait:!0}).success(function(){e.MessageBus.vent.trigger("extension:deleted"),f.prototype.closeModal.apply(b,arguments)})}})}),define("modules/admin-exts/main",["require","exports","module","ironclad","./router","./views/admin-item","./views/delete-confirm"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./views/admin-item"),g=a("./views/delete-confirm");new e;d.WeightedStore.addItem("adminList",new f,70),d.MessageBus.reqres.setHandler("extensions:views:modals:delete",function(){return g})}),define("modules/groups/models/group",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/usergroups",defaults:{createdFrom:"INTERNAL",active:!0},validation:{name:{required:!0}}})}),define("modules/groups/models/groups-paged",["require","exports","module","modules/common/models/pageable-collection","./group"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./group");c.exports=d.extend({model:e,persistence:{active:!0,filtersToPersist:["activeOnly"]},url:"/api/v1/usergroups",queryParams:{activeOnly:"true"}})}),define("modules/common/controllers/backgrid-cell-delete",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.TableCell.extend({events:{click:"deleteRow"},className:"row-action delete-button",tooltip:e.get("app.modules.common.button.delete"),getTooltip:function(){return this.tooltip},deleteRow:function(){},render:function(){if(!this.canDelete())return this.$el.removeClass("row-action").removeClass("delete-button").addClass("disabled-cell"),this;var a=this.getTooltip(),b=$("<button>").attr("type","button").addClass("btn btn-link");return b.append('<span class="fa fa-trash-o"></span>'),b.append($("<span>").addClass("sr-only").text(a)),this.$el.append(b),b.tooltip({title:a}),this.delegateEvents(),this},canDelete:function(){return!0}})}),define("modules/admin-groups/controllers/delete-row",["require","exports","module","modules/i18n/main","ironclad","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad").MessageBus,f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({tooltip:d.get("app.modules.userGroups.deleteGroup"),deleteRow:function(a){a.preventDefault(),e.vent.trigger("assets:actions:modal",{assetName:"groups",view:"delete"},this.model)}})}),define("modules/admin-groups/views/groups-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/delete-row"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/delete-row");c.exports=d.Table.extend({options:{description:e.get("app.modules.admin.groups.list.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",id:"admin-groups-groups-table",row:d.TableRow,columns:[{name:"name",label:e.get("app.modules.userGroups.tableGroupName"),cell:d.TableCell.extend({getTemplate:function(){return this.model.get("active")!==!1?"#admin-groups-group-name-cell":"#admin-groups-group-name-cell-inactive"}}),template:!0,editable:!1,sortable:!0},{label:e.get("app.modules.userGroups.source"),cell:d.TableCell,editable:!1,sortable:!1,defaultCellValue:function(){return this.model.get("createdFrom")?e.get("app.modules.userGroups.source."+this.model.get("createdFrom")):""}},{label:e.get("common.status"),name:"active",cell:d.TableCell,template:"#admin-groups-state-cell",editable:!1,sortable:!0},{name:"id",label:"",editable:!1,sortable:!1,cell:f}]}}})}),define("modules/admin-groups/views/groups-header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({getTemplate:function(){return void 0!==this.model?"#admin-groups-header-profile":"#admin-groups-header"}})}),define("modules/admin-groups/views/ignored-filter",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-groups-ignored-filter",ui:{$inactiveFilterSelect:".js-display-inactive"},events:{"click @ui.$inactiveFilterSelect":"applyInactiveFilter"},onRender:function(){"false"!==this.options.collection.queryParams.activeOnly&&this.options.collection.queryParams.activeOnly!==!1||this.ui.$inactiveFilterSelect.attr("checked",":checked")},applyInactiveFilter:function(){this.options.collection.queryParams.activeOnly=!this.ui.$inactiveFilterSelect.is(":checked"),this.options.collection.fetch()}})}),define("modules/common/views/persistent-server-filter",["require","exports","module","underscore","anglebrackets","ironclad"],function(a,b,c){var d=(a("underscore"),a("anglebrackets")),e=a("ironclad").MessageBus;c.exports=d.Filter.extend({searchQueryParam:"q",searchScope:null,initialize:function(a){a&&(this.context=a.context,this.searchScope=a.searchScope),d.Filter.prototype.initialize.apply(this,arguments),this.collection&&this.listenTo(this.collection,"refresh",this.render)},render:function(){return d.Filter.prototype.render.apply(this,arguments),this.$searchInput=this.$el.find('input[type="search"]'),this.$clearBtn=this.$el.find("[data-backgrid-action]"),this.filtersController=e.reqres.request("hub:filters:controller"),this._updateQueryParamsFromFilters(),this},query:function(){var a=d.Filter.prototype.query.apply(this,arguments);return a&&this.searchScope?this.searchScope+":"+a:a},_updateQueryParamsFromFilters:function(){if(this.$searchInput.focus(),this.filtersController.size()>0){var a={key:this.searchQueryParam};this.context&&(a.context=this.context);var b=this.filtersController.getFilter(a);b&&this.$clearBtn.show()}}})}),define("modules/admin-groups/views/groups-list",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","modules/groups/models/group","modules/groups/models/groups-paged","./groups-table","./groups-header","./ignored-filter","modules/common/views/persistent-server-filter","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("anglebrackets"),h=a("modules/i18n/main"),i=a("modules/groups/models/group"),j=a("modules/groups/models/groups-paged"),k=a("./groups-table"),l=a("./groups-header"),m=a("./ignored-filter"),n=a("modules/common/views/persistent-server-filter"),o=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#admin-groups-results-list",events:{"click .js-create-group":"openCreateModal"},regions:{table:".js-admin-groups-table",header:".js-header",ignoredFilter:".js-ignored-filter",groupsFilter:".js-groups-filter"},behaviors:{Sticky:{behaviorClass:o}},openCreateModal:function(){f.vent.trigger("assets:actions:modal",{assetName:"groups",view:"create"},new i)},onRender:function(){var a=new j;a.fetch();var b=new k({collection:a});this.table.show(b),this.header.show(new l),this.showGroupsFilter(a)},showGroupsFilter:function(a){this.ignoredFilter.show(new m({collection:a}));var b=new n({events:function(){return d.extend({},g.Filter.prototype.events,{"click .search":"search"})},collection:a,name:"q",placeholder:h.get("app.modules.admin.groups.filterGroupPlaceholder")});this.groupsFilter.show(b)}})}),define("modules/admin-roles/models/roles",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Collection.extend({model:d.Model,initialize:function(a,b){this.options=b},url:function(){return this.legacyApiMode()?"/api/internal/roles":"/api/roles"},parse:function(a){return d.Collection.prototype.parse.apply(this,arguments),a.items},legacyApiMode:function(){return this.options&&this.options.legacyApiMode}})}),define("modules/admin-roles/models/entity-role",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({sync:function(a,b,c){var e=b.get("_meta");return"delete"===a&&b.canDelete()?(b.url=e.href,d.Model.prototype.sync.call(this,a,b,c)):"create"===a&&b.collection.canCreate()?(b.url=b.collection.url,d.Model.prototype.sync.call(this,a,b,c)):void 0},parse:function(a){return a._meta&&a._meta.href&&(a.id=a._meta.href.substring(this.collection.url.length+1)),a}})}),define("modules/admin-roles/models/entity-roles",["require","exports","module","ironclad","./entity-role"],function(a,b,c){var d=a("ironclad"),e=a("./entity-role");c.exports=d.Collection.extend({model:e,initialize:function(a,b){this.url=b.url},getRoles:function(){return this.pluck("role")},addRole:function(a,b){return this.create({role:a.get("_meta").href,name:a.get("name")},b)},parse:function(a){return d.Collection.prototype.parse.apply(this,arguments),a.items}})}),define("modules/admin-groups/models/group-members",["require","exports","module","underscore","ironclad","modules/common/models/pageable-collection"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/common/models/pageable-collection");c.exports=f.extend({initialize:function(a,b){f.prototype.initialize.apply(this,arguments),this.url=b.url},parseRecords:function(a){var b=this.url;return d.map(a.items,function(a){var c=new e.Model({user:a,id:a.id});return c.urlRoot=b,c})}})}),define("modules/admin-groups/views/group-details",["require","exports","module","underscore","modules/i18n/main","modules/form/views/layout","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/form/views/layout"),g=a("ironclad"),h=g.MessageBus;c.exports=f.extend({id:"group-details",className:"form form-horizontal form-section",headerView:e.get("app.modules.userGroups.groupDetails"),hasErrorHandler:!1,footerTemplate:"#admin-groups-group-details-footer",formFields:{name:{type:"text",label:e.get("app.modules.userGroups.tableGroupName"),required:!0},active:{type:"checkbox",label:e.get("app.modules.admin.ldap.groups.activeGroup")}},modelEvents:{sync:"handleSuccessState","form:model:save:error":"handleErrorState"},ui:d.extend({},f.prototype.ui,{$delete:".js-delete-group-button"}),events:d.extend({},f.prototype.events,{"click @ui.$delete":"deleteGroup"}),handleSuccessState:function(a,b){$(".js-server-error-container").fadeOut(0).toggleClass("alert-danger",!1).toggleClass("alert alert-success",!0).text(e.get("app.modules.userGroups.groupDetailsUpdateSuccess")).fadeIn()},handleErrorState:function(a,b){$(".js-server-error-container").fadeOut(0).toggleClass("alert-success",!1).toggleClass("alert alert-danger",!0).text(e.get("app.modules.userGroups.groupDetailsUpdateError")).fadeIn()},deleteGroup:function(a){h.vent.trigger("assets:actions:modal",{assetName:"groups",view:"delete"},this.model),a.preventDefault(),a.stopPropagation()}})}),define("modules/admin-groups/models/group-member",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({idAttribute:"groupMemberId",url:function(){return"/api/v1/usergroups/"+this.get("groupId")+"/users/"+this.get("id")},validation:{id:{required:!0,msg:e.get("app.modules.admin.user.pleaseSelect")}}})}),define("modules/admin-groups/controllers/remove-member",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({tooltip:e.get("app.modules.team.members.remove.teamMembers"),deleteRow:function(){d.vent.trigger("assets:actions:modal",{assetName:"groups",view:"members-delete"},this.model)}})}),define("modules/admin-groups/views/group-members-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/remove-member"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/remove-member");c.exports=d.Table.extend({options:{description:e.get("app.modules.userGroups.members.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",id:"admin-groups-members-table",row:d.TableRow,columns:[{name:"userGravatar",label:"",cell:d.TableCell,template:"#admin-groups-gravatar-cell",editable:!1,sortable:!1},{name:"user.name",label:e.get("app.modules.admin.userList.name"),cell:d.TableCell,template:"#admin-groups-user-details-cell",editable:!1,sortable:!0},{name:"user.firstName",label:e.get("app.modules.admin.userList.firstName"),cell:d.TableCell,template:"#admin-groups-user-details-cell",editable:!1,sortable:!0},{name:"user.lastName",label:e.get("app.modules.admin.userList.lastName"),cell:d.TableCell,template:"#admin-groups-user-details-cell",editable:!1,sortable:!0},{name:"user.email",label:e.get("app.modules.admin.userList.email"),cell:d.TableCell,template:"#admin-groups-user-details-cell",editable:!1,sortable:!0},{name:"user.active",label:e.get("common.status"),cell:d.TableCell,template:"#admin-groups-state-cell",editable:!1,sortable:!1},{name:"id",label:"",editable:!1,sortable:!1,cell:f}]}}})}),define("modules/admin-groups/views/group-members",["require","exports","module","ironclad","../models/group-member","./group-members-table"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=e.getChannel("admin:groups:user"),g=a("../models/group-member"),h=a("./group-members-table");c.exports=d.Layout.extend({template:"#admin-groups-members",ui:{$addMemberButton:"button.js-add-member"},events:{"click @ui.$addMemberButton":"addMemberModal"},collectionEvents:{remove:"refreshMembers"},regions:{header:".js-members-table-header",table:".js-members-table"},initialize:function(a){this.model=this.options.model,this.collection=this.options.collection,this.listenTo(f.vent,"added",this.refreshMembers,this)},onRender:function(){var a=new h({collection:this.collection});this.table.show(a)},addMemberModal:function(){var a=new g({groupId:this.model.id});e.vent.trigger("assets:actions:modal",{assetName:"groups",view:"members-add"},a)},refreshMembers:function(){this.collection.fetch()}})}),define("modules/admin-roles/views/role",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#admin-roles-role",className:"checkbox-item-field",ui:{$checkbox:'input[type="checkbox"]',$loading:".inline-spinner"},events:{"change @ui.$checkbox":"toggleRole"},isChecked:function(){return this.ui.$checkbox.is(":checked")},toggleRole:function(a){a.stopPropagation(),a.preventDefault();var b=this;if(b.setLoading(),this.isChecked())this.options.entityRoles.addRole(this.model,{success:function(){b.stopLoading(),b.trigger("role:add")},error:function(a,c){b.stopLoading(),b.trigger("role:error",c),b.ui.$checkbox.prop("checked",!1)}});else{var c=this.getThisEntityRole();c.destroy({success:function(){b.stopLoading(),b.trigger("role:remove")},error:function(a,c){b.stopLoading(),b.trigger("role:error",c),b.ui.$checkbox.prop("checked",!0)}})}},stopLoading:function(){this.ui.$checkbox.show(),this.ui.$loading.spin(!1)},setLoading:function(){this.ui.$checkbox.hide(),this.ui.$loading.spin("tiny")},getEntityRole:function(a){return this.options.entityRoles.find(function(b){return b.get("role")===a})},getThisEntityRole:function(){return this.getEntityRole(this.model.get("_meta").href)},onRender:function(){this.isReadOnly()&&this.ui.$checkbox.attr("disabled",!0);var a=this.getThisEntityRole();this.ui.$checkbox.prop("checked",!!a)},isReadOnly:function(){var a=this.getThisEntityRole();return a?a.canDelete()===!1:this.options.entityRoles.canCreate()===!1},templateHelpers:function(){var a=this;return{isReadOnly:d.bind(a.isReadOnly,a)}}})}),define("modules/admin-roles/views/roles",["require","exports","module","underscore","ironclad","modules/i18n/main","./role"],function(a,b,c){var d=(a("underscore"),a("ironclad")),e=a("modules/i18n/main"),f=a("./role");c.exports=d.CompositeView.extend({template:"#admin-roles-roles",childView:f,childViewContainer:"#roles-list",childEvents:{"role:add":"roleAdded","role:remove":"roleRemoved","role:error":"roleError"},childViewOptions:function(){return{entityRoles:this.options.entityRoles}},roleAdded:function(a){this.addSuccessMessage(e.get("app.modules.admin.roles.roleAdded",{roleName:a.model.get("name")}))},roleRemoved:function(a){this.addSuccessMessage(e.get("app.modules.admin.roles.roleRemoved",{roleName:a.model.get("name")}))},roleError:function(a,b){this.addErrorMessage(b.responseJSON.errorMessage)},addSuccessMessage:function(a){this.$(".messages.alert").removeClass("alert-danger hide").addClass("alert-success").text(a)},addErrorMessage:function(a){this.$(".messages.alert").removeClass("alert-success hide").addClass("alert-danger").text(a)}})}),define("modules/admin-groups/views/group-overview",["require","exports","module","jquery","ironclad","modules/i18n/main","modules/admin-roles/models/roles","modules/admin-roles/models/entity-roles","../models/group-members","./groups-header","./group-details","./group-members","modules/admin-roles/views/roles"],function(a,b,c){var d=a("jquery"),e=a("ironclad"),f=(a("modules/i18n/main"),a("modules/admin-roles/models/roles")),g=a("modules/admin-roles/models/entity-roles"),h=a("../models/group-members"),i=a("./groups-header"),j=a("./group-details"),k=a("./group-members"),l=a("modules/admin-roles/views/roles");c.exports=e.Layout.extend({template:"#admin-groups-group-overview",className:"admin-group-details",modelEvents:{sync:"render"},regions:{groupsHeader:".js-header",groupActions:"#admin-group-actions",groupDetails:"#admin-group-details",groupRoles:"#admin-group-roles",groupMembers:"#admin-group-members"},onRender:function(){this.groupsHeader.show(new i({model:this.model})),this.groupDetails.show(new j({model:this.model}));var a=this,b=this.model.get("roleAssignmentsUrl"),c=new g(null,{url:b}),e=new f(null,{legacyApiMode:!0});d.when(c.fetch(),e.fetch()).then(function(){var b=new l({collection:e,entityRoles:c});a.groupRoles.show(b)});var m=this.model.get("usersUrl"),n=new h(null,{url:m});this.groupMembers.show(new k({model:this.model,collection:n})),n.fetch()}})}),define("modules/admin-groups/controllers/route-controller",["require","exports","module","app","ironclad","../views/groups-list","../views/group-overview","modules/groups/models/group"],function(a,b,c){var d=a("app"),e=a("ironclad").MessageBus,f=a("../views/groups-list"),g=a("../views/group-overview"),h=a("modules/groups/models/group");c.exports={showGroupsList:function(){var a=e.reqres.request("hub:filters:controller");a&&a.restoreFilters(),d.appLayout.content.show(new f)},showGroup:function(a){var b=new h({id:a});b.fetch().success(function(){d.appLayout.content.show(new g({model:b}))})}}}),define("modules/admin-groups/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/groups(/)":"showGroupsList","admin/groups/:userId(/)":"showGroup"},pageTitles:{"*":f.get("app.modules.common.header.admin.groups.label")}})}),define("modules/form/views/modal",["require","exports","module","underscore","bootstrap","ironclad","app","./layout","../behaviors/form-cancel-modal","../behaviors/form-submit","../behaviors/form-tab-modal"],function(a,b,c){var d=a("underscore"),e=a("bootstrap"),f=a("ironclad"),g=(a("app"),a("./layout")),h=a("../behaviors/form-cancel-modal"),i=a("../behaviors/form-submit"),j=a("../behaviors/form-tab-modal");c.exports=g.extend({template:"#modals-layout-form",className:"modal fade",options:{large:!1},ui:d.extend({},g.prototype.ui,{$cancel:".js-btn-cancel"}),behaviors:{Cancel:{behaviorClass:h},Submit:{behaviorClass:i},TabControl:{behaviorClass:j}},onRender:function(){g.prototype.onRender.apply(this,arguments);var a=this;a.$el.on("hidden.bs.modal",function(){a.destroy()}),a.$el.on("shown.bs.modal",function(){var b=a.$el.find("[autofocus]").not(".selectized");b.length>0?b.first().focus():a.$el.find(":input:visible").not(".selectized").first().focus(),a.listenTo(f.MessageBus.vent,"app:modal:close",a.closeModal)}),this.options.large&&this.$(".modal-dialog").addClass("modal-lg"),e(this.$el).modal({show:!0,keyboard:!0,backdrop:"static"})},onDestroy:function(){this.$el.off("hidden.bs.modal"),this.$el.off("shown.bs.modal")},closeModal:function(){e(this.$el).modal("hide")},submit:function(){return this.model.save()}})}),define("modules/admin-groups/views/create",["require","exports","module","backbone","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("backbone"),e=a("modules/i18n/main"),f=a("modules/form/views/modal");c.exports=f.extend({id:"admin-groups-create",headerView:e.get("app.modules.userGroups.createNewGroup"),footerTemplate:"#form-buttons-create",formFields:{name:{type:"text",label:e.get("app.modules.userGroups.tableGroupName"),autofocus:!0,autocomplete:"off"},active:{type:"checkbox",label:e.get("app.modules.admin.ldap.groups.activeGroup")}},redirect:function(){return this.model.id&&d.history.navigate("admin/groups/"+this.model.id,{trigger:!0}),!1}})}),define("modules/admin-groups/views/delete",["require","exports","module","underscore","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("modules/modals/views/layout-view");c.exports=e.extend({template:"#admin-groups-delete",modelEvents:d.extend({},e.prototype.modelEvents,{sync:"closeModal"}),ok:function(){this.model.destroy()&&this.trigger("state:waiting")}})}),define("modules/admin-groups/views/members-add",["require","exports","module","ironclad","modules/form/views/modal","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus.getChannel("admin:groups:user"),f=a("modules/form/views/modal"),g=a("modules/i18n/main");c.exports=f.extend({id:"add-user-modal",headerView:g.get("app.modules.userGroups.addMemberButton"),formFields:{id:{type:"select-user",maxItems:1,label:g.get("app.modules.userGroups.member.label"),placeholder:g.get("app.modules.common.header.user.placeholder")}},footerTemplate:"#form-buttons-add",submit:function(){return this.model.save({},{type:"put"})},redirect:function(){return e.vent.trigger("added"),!1}})}),define("modules/admin-groups/views/members-delete",["require","exports","module","modules/modals/views/layout-view"],function(a,b,c){var d=a("modules/modals/views/layout-view");c.exports=d.extend({template:"#admin-groups-members-delete",initialize:function(){var a=this;a.model=a.options.model,a.listenTo(a.model,"destroy",function(){a.closeModal()})},ok:function(){this.model.destroy({wait:!0})&&this.trigger("state:waiting")},redirect:function(){return!1}})}),define("modules/admin-groups/views/admin-item-meta",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-groups-admin-item-meta",templateHelpers:function(){var a=this;return{getNumberOfGroups:function(){return a.collection.state.totalRecords}}}})}),define("modules/admin-groups/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item","modules/groups/models/groups-paged","./admin-item-meta"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item"),f=a("modules/groups/models/groups-paged"),g=a("./admin-item-meta");c.exports=e.extend({template:"#admin-groups-admin-item",ui:{$groupSize:".group-size"},initialize:function(){this.collection=new f,this.listenTo(this.collection,"sync",this.renderMetaInfo),e.prototype.initialize.apply(this,arguments)},onRender:function(){this.collection.state.pageSize=1,this.collection.fetch({reset:!0})},renderMetaInfo:function(){this.metaInfoRegion.show(new g({collection:this.collection}))},gotoPage:function(){d.history.navigate("#admin/groups",{trigger:!0})}})}),define("modules/admin-groups/main",["require","exports","module","ironclad","./router","ironclad","./views/create","./views/delete","./views/members-add","./views/members-delete","./views/admin-item"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("ironclad").MessageBus,g=a("./views/create"),h=a("./views/delete"),i=a("./views/members-add"),j=a("./views/members-delete"),k=a("./views/admin-item");f.reqres.setHandler("groups:views:modals:create",function(){return g}),f.reqres.setHandler("groups:views:modals:delete",function(){return h}),f.reqres.setHandler("groups:views:modals:members-add",function(){return i}),f.reqres.setHandler("groups:views:modals:members-delete",function(){return j});new e;d.WeightedStore.addItem("adminList",new k,40)}),define("modules/admin/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-header",iconClass:"fa-gears",templateHelpers:function(){var a=this;return{getIcon:function(){return a.iconClass},getTitle:function(){return a.title}}}})}),define("modules/admin-jobs/views/header",["require","exports","module","modules/i18n/main","modules/admin/views/header"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/admin/views/header");c.exports=e.extend({iconClass:"fa-tasks",title:d.get("app.modules.common.header.admin.jobs")})}),define("modules/admin-jobs/views/sidebar",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Layout.extend({template:"#admin-jobs-sidebar"})}),define("modules/admin-jobs/models/jobs",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({persistence:{active:!0},state:{sortKey:"scheduledAt",order:"1"},url:"/api/v1/jobs"})}),define("modules/admin-jobs/controllers/status-cell",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.TableCell.extend({ui:{$stateIndicator:".js-status-indicator"},template:"#admin-jobs-table-status-cell",onRender:function(){"RUNNING"!==this.model.get("status")&&"SCANNING"!==this.model.get("status")||this.ui.$stateIndicator.spin("tiny","white")},templateHelpers:{getLabelClass:function(){var a=this.status||"";return"COMPLETE"===a||"COMPLETED"===a?"label-success":a.indexOf("ERROR")!=-1||a.indexOf("FAILED")!=-1?"label-danger":"label-default"},getLabel:function(){var a=this.status||"",b="app.views.jobs.status."+a.toUpperCase();return e.get(b)}}})}),define("modules/admin-jobs/controllers/type-cell",["require","exports","module","modules/i18n/main","anglebrackets"],function(a,b,c){var d=a("modules/i18n/main"),e=a("anglebrackets");c.exports=e.TableCell.extend({template:"#admin-jobs-table-type-cell",templateHelpers:{getEntityLabel:function(){switch(this.jobSpec.entityKey.entityType){case"CL":return d.get("app.modules.search.facetType.codeloc_id");case"CS":return this.componentScanLink(this.jobSpec.entityKey.entityId,d.get("app.common.componentScan"));case"RC":return d.get("app.modules.admin.jobs.repositoryClone");case"RE":return d.get("common.report");case"PG":return d.get("app.modules.admin.jobs.projectGroup");default:return this.jobSpec.entityKey.entityType}}}})}),define("modules/admin-jobs/controllers/duration-cell",["require","exports","module","anglebrackets","moment","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("moment");a("modules/i18n/main");c.exports=d.TableCell.extend({template:"#admin-jobs-table-duration-cell",templateHelpers:{getDuration:function(){var a;if(this.startedAt&&this.finishedAt)a=e.utc(e(this.finishedAt).diff(e(this.startedAt)));else{if(!this.startedAt)return"";a=e.utc(e().diff(this.startedAt))}return a.format("HH:mm:ss")}}})}),define("modules/admin-jobs/views/expanded-row-content",["require","exports","module","ironclad","marionette","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("marionette"),f=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#admin-jobs-expanded-row-content",tagName:"tr",className:"child-row",templateHelpers:{getAlert:function(){var a={};switch(this.status){case"COMPLETED":a={type:"success",message:f.get("app.modules.admin.jobs.status.COMPLETED")};break;case"FAILED":a={type:"danger",message:f.get("app.modules.admin.jobs.status.FAILED")+this.errorText};break;case"RUNNING":a={type:"info",message:f.get("app.modules.admin.jobs.status.RUNNING")};break;case"SCHEDULED":a={type:"info",message:f.get("app.modules.admin.jobs.status.SCHEDULED")};break;case"TERMINATED":a={type:"warning",message:f.get("app.modules.admin.jobs.status.TERMINATED")}}return a.type?e.TemplateCache.get("#common-alert")(a):""}}})}),define("modules/admin-jobs/views/table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/status-cell","../controllers/type-cell","../controllers/duration-cell","./expanded-row-content"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/status-cell"),g=a("../controllers/type-cell"),h=a("../controllers/duration-cell"),i=a("./expanded-row-content");c.exports=d.Table.extend({options:{description:e.get("app.modules.admin.jobs.list.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow.extend({
    expandable:{expandedContent:i}}),columns:[{name:"type",cell:g,label:e.get("app.views.unmatched.type"),editable:!1,sortable:!1},{name:"status",label:e.get("common.status"),cell:f,editable:!1,sortable:!0},{name:"duration",label:e.get("common.duration"),cell:h,template:"#admin-jobs-table-duration-cell",editable:!1,sortable:!1},{name:"scheduledAt",label:e.get("app.modules.admin.jobs.status.scheduledAt"),cell:d.TableCell,template:"#common-format-datetime-cell",editable:!1,sortable:!0},{name:"startedAt",label:e.get("app.modules.admin.jobs.status.startedAt"),cell:d.TableCell,template:"#common-format-datetime-cell",editable:!1,sortable:!0}]}}})}),define("modules/admin-jobs/views/table-actions",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Layout.extend({template:"#admin-jobs-table-actions"})}),define("modules/admin-jobs/models/jobs-all",["require","exports","module","underscore","moment","ironclad"],function(a,b,c){var d=a("underscore"),e=a("moment"),f=a("ironclad");c.exports=f.Model.extend({url:"/api/v1/jobs?limit=200&sortField=scheduledAt&ascending=false",parse:function(a){var b=d.groupBy(a.items,function(a){return e(a.scheduledAt).format("L")}),c=d.keys(b);c.reverse();var f=["failed"],g=["completed"];d.each(c,function(a){var c=0,e=0;d.each(b[a],function(a){"COMPLETED"===a.status?e++:c++}),f.push(c),g.push(e)});var h="#FFB7C7",i="#09AF00";return{data:{columns:[g,f],type:"area-spline",colors:{completed:i,failed:h}},axis:{x:{type:"category",categories:c}}}}})}),define("modules/admin-jobs/views/chart",["require","exports","module","ironclad","c3","../models/jobs-all"],function(a,b,c){var d=a("ironclad"),e=a("c3"),f=a("../models/jobs-all");c.exports=d.ItemView.extend({template:"#admin-jobs-chart",onRender:function(){var a=new f;a.fetch({success:function(){var b=a.toJSON();e.generate({bindto:"#js-admin-jobs-chart-content",size:{height:150},data:b.data,legend:{position:"inset",inset:{anchor:"top-right",x:20,y:10,step:2}},axis:b.axis})}})}})}),define("modules/admin-jobs/views/content",["require","exports","module","ironclad","../models/jobs","./table","./table-actions","./chart","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("ironclad"),e=a("../models/jobs"),f=a("./table"),g=(a("./table-actions"),a("./chart"),a("modules/tables/behaviors/sticky-headers"));c.exports=d.Layout.extend({template:"#admin-jobs-content",regions:{chart:"#region-admin-jobs-content-chart",tableActions:"#region-admin-jobs-content-table-actions",table:"#region-admin-jobs-content-table"},behaviors:{Sticky:{behaviorClass:g}},onRender:function(){var a=new e;a.fetch(),this.table.show(new f({collection:a})),a.trigger("sync")}})}),define("modules/admin-jobs/views/layout",["require","exports","module","ironclad","./header","./sidebar","./content"],function(a,b,c){var d=a("ironclad"),e=a("./header"),f=(a("./sidebar"),a("./content"));c.exports=d.Layout.extend({template:"#admin-jobs-layout",regions:{header:"#region-admin-jobs-header",sidebar:"#region-admin-jobs-sidebar",content:"#region-admin-jobs-content"},onRender:function(){this.header.show(new e({model:this.model})),this.content.show(new f({model:this.model}))}})}),define("modules/admin-jobs/controllers/route-controller",["require","exports","module","app","../views/layout"],function(a,b,c){var d=a("app"),e=a("../views/layout");c.exports={show:function(){d.appLayout.content.show(new e)}}}),define("modules/admin-jobs/router",["require","exports","module","modules/router/main","modules/i18n/main","./controllers/route-controller"],function(a,b,c){var d=a("modules/router/main"),e=a("modules/i18n/main"),f=a("./controllers/route-controller");c.exports=d.extend({controller:f,appRoutes:{"admin/jobs":"show","admin/jobs/":"show"},pageTitles:{"*":e.get("app.modules.common.header.admin.jobs")}})}),define("modules/admin-jobs/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item");c.exports=e.extend({template:"#admin-jobs-admin-item",gotoPage:function(){d.history.navigate("#admin/jobs",{trigger:!0})}})}),define("modules/admin-jobs/main",["require","exports","module","ironclad","./router","./views/admin-item"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./views/admin-item");new e;d.WeightedStore.addItem("adminList",new f,10)}),define("modules/admin-ldap/views/header",["require","exports","module","modules/i18n/main","modules/admin/views/header"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/admin/views/header");c.exports=e.extend({iconClass:"fa-lock",title:d.get("app.modules.common.header.admin.ldap")})}),define("modules/admin-ldap/models/ldap-state",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"/api/v1/ldap/state"})}),define("modules/form/behaviors/custom-action-fields",["require","exports","module","underscore","marionette"],function(a,b,c){var d=a("underscore"),e=a("marionette");c.exports=e.Behavior.extend({defaults:{buttonActionClass:"btn btn-primary",checkedProps:null,actionElementTemplate:"#form-actions-element"},initialize:function(a){this.options=d.extend({},this.defaults,a)},onShow:function(){this.areCheckedPropsValid()&&(this.customId="custom"+d.uniqueId(),this.actionEl=$(e.TemplateCache.get(this.options.actionElementTemplate)({actionTitle:this.options.actionTitle,collapseTitle:this.options.collapseTitle,buttonActionClass:this.options.buttonActionClass})),this.$(this.options.fieldsSelector).wrapAll('<div class="collapse" id="'+this.customId+'" />'),this.$("#"+this.customId).after(this.actionEl),this.actionEl.on("click",d.bind(function(){this.customFunctionality()},this)))},areCheckedPropsValid:function(){return!d.difference(this.options.checkedProps,d.keys(this.view.model.attributes)).length},customFunctionality:function(){this.$("#"+this.customId).toggleClass("collapse"),this.$(".js-expand-toggle").toggleClass("hide"),this.$(".js-collapse-toggle").toggleClass("hide")}})}),define("modules/admin-ldap/behaviors/toggle-manager-password",["require","exports","module","ironclad","modules/form/behaviors/custom-action-fields"],function(a,b,c){var d=a("ironclad").MessageBus.getChannel("admin-ldap"),e=a("modules/form/behaviors/custom-action-fields");c.exports=e.extend({customFunctionality:function(){e.prototype.customFunctionality.apply(this,arguments),this.$(".js-collapse-toggle").hasClass("hide")?d.vent.trigger("collapsed:manager:password"):d.vent.trigger("expanded:manager:password")}})}),define("modules/admin-ldap/views/ldap-form-server",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/form/views/layout","../models/ldap-state","../behaviors/toggle-manager-password"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus.getChannel("admin-ldap"),f=a("modules/i18n/main"),g=a("modules/form/views/layout"),h=a("../models/ldap-state"),i=a("../behaviors/toggle-manager-password");c.exports=g.extend({id:"admin-ldap-server-details",className:"form form-horizontal form-section",autocomplete:"off",ui:d.extend({ldapEnabled:"input[type=checkbox]"},g.prototype.ui),events:{"click @ui.ldapEnabled":"toggleLdapState"},headerView:f.get("app.modules.admin.ldap.title.connection"),footerTemplate:!1,formFields:{ldapEnabled:{type:"checkbox",label:f.get("app.modules.admin.ldap.onOffLabel")},server:{type:"text",label:f.get("app.modules.admin.ldap.connection.serverLabel")},ldapAuthenticationType:{type:"select",label:f.get("app.modules.admin.ldap.connection.ldapAuthTypeLabel"),binding:{selectOptions:{collection:function(){return[{label:f.get("app.modules.admin.ldap.connection.ldapAuthType.option.simple"),value:"SIMPLE"},{label:f.get("app.modules.admin.ldap.connection.ldapAuthType.option.none"),value:"NONE"},{label:f.get("app.modules.admin.ldap.connection.ldapAuthType.option.md5"),value:"DIGEST_MD5"}]}}}},managerUserName:{type:"text",label:f.get("app.modules.admin.ldap.connection.managerUsernameLabel"),autocomplete:"off"},managerPassword:{type:"password",label:f.get("app.modules.admin.ldap.connection.managerPasswordLabel"),autocomplete:"off"}},behaviors:d.extend({},g.prototype.behaviors,{ToggleFields:{behaviorClass:i,checkedProps:["managerPasswordDnSet"],fieldsSelector:'input[name="managerPassword"]',buttonActionClass:"collapse-fields-toggle collapsed",actionTitle:f.get("app.modules.admin.ldap.connection.updateManagerPassword.expand"),collapseTitle:f.get("app.modules.admin.ldap.connection.updateManagerPassword.collapse")}}),onRender:function(){g.prototype.onRender.apply(this,arguments),this.listenTo(e.vent,"collapsed:manager:password",this.clearPasswordField),this.listenTo(e.vent,"expanded:manager:password",this.updatePasswordField)},clearPasswordField:function(){this.model.unset("managerPassword"),this.model.set({changeManagerPassword:!1})},updatePasswordField:function(){this.model.set({changeManagerPassword:!0})},toggleLdapState:function(){var a=this,b=this.$el.find(".js-ldap-enabled-container"),c=this.$el.find(".js-ldap-enabled-helper");b.length||(b=$('<span class="js-ldap-enabled-container ldap-enabled-preloader"></span>'),b.insertAfter(this.$el.find("input[type=checkbox]")),c=$('<span class="js-ldap-enabled-helper">'+f.get("app.modules.admin.ldap.server.helper.message")+"</span>"),c.insertAfter(b)),b.spin("tiny"),c.show();var d=new h({ldapEnabled:this.$el.find("input[type=checkbox]").is(":checked")});d.save().success(function(){var b=a.$el.find(".js-ldap-enabled-container");b.spin(!1),c.hide()}).error(function(b){var d=a.$el.find(".js-ldap-enabled-container");d.spin(!1),0!==b.status&&c.html(b.responseJSON.errorMessage)})}})}),define("modules/admin-ldap/views/ldap-form-user",["require","exports","module","modules/i18n/main","modules/form/views/layout"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout");c.exports=e.extend({id:"admin-ldap-user-attributes",className:"form form-horizontal form-section",headerView:d.get("app.modules.admin.ldap.title.userAuthentication"),hasErrorHandler:!1,footerTemplate:!1,formFields:{userSearchBase:{type:"text",label:d.get("app.modules.admin.ldap.auth.userSearchBaseLabel")},userSearchFilter:{type:"text",label:d.get("app.modules.admin.ldap.auth.userSearchFilterLabel")},userDnPattern:{type:"text",label:d.get("app.modules.admin.ldap.auth.userDNPatternsLabel")}}})}),define("modules/admin-ldap/views/ldap-form-attributes",["require","exports","module","modules/i18n/main","modules/form/views/layout"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout");c.exports=e.extend({id:"admin-ldap-user-attributes",className:"form form-horizontal form-section",headerView:d.get("app.modules.admin.ldap.title.fieldMapping"),hasErrorHandler:!1,footerTemplate:!1,formFields:{fieldMappingFirstName:{type:"text",label:d.get("app.modules.admin.ldap.mapping.firstNameLabel")},fieldMappingLastName:{type:"text",label:d.get("app.modules.admin.ldap.mapping.lastNameLabel")},fieldMappingEmail:{type:"text",label:d.get("app.modules.labels.email")}}})}),define("modules/admin-ldap/views/actions-form",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad");a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#form-buttons-save-only",ui:{$submit:'button[type="submit"]'},events:{"click @ui.$submit":"submit"},submit:function(a){var b=this,c=this.model.save();c&&(this.ui.$submit.attr("disabled","disabled").spin("tiny"),c.always(function(){b.ui.$submit.removeAttr("disabled").spin(!1)}).done(function(){b.model.trigger("form:model:save:success")}).error(function(){b.model.trigger("form:model:save:error")})),a.preventDefault(),a.stopPropagation()}})}),define("modules/admin-ldap/views/ldap-form-groups",["require","exports","module","modules/i18n/main","modules/form/views/layout","./actions-form"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout"),f=a("./actions-form");c.exports=e.extend({id:"admin-ldap-user-groups",className:"form form-horizontal form-section",hasErrorHandler:!1,headerView:d.get("app.modules.admin.ldap.groups.ldapGroups"),footerView:f,formFields:{ldapGroupSynchronizationEnabled:{type:"checkbox",label:d.get("app.modules.admin.ldap.groups.sync")},groupSearchBase:{type:"text",label:d.get("app.modules.admin.ldap.groups.searchBaseLabel")},groupSearchFilter:{type:"text",label:d.get("app.modules.admin.ldap.groups.filterLabel")},groupNameAttribute:{type:"text",label:d.get("app.modules.admin.ldap.groups.nameAttributeLabel")}}})}),define("modules/admin-ldap/views/test-header",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=(a("underscore"),a("ironclad"));c.exports=d.ItemView.extend({template:"#admin-ldap-test-header"})}),define("modules/admin-ldap/views/actions",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-ldap-actions",ui:{$testResult:".js-ldap-result",$submit:'button[type="submit"]'},events:{"click @ui.$submit":"submit"},submit:function(a){var b=this;b.model.trigger("loading");var c=b.model.save({},{type:"post"});c&&(this.ui.$submit.attr("disabled","disabled").spin("tiny"),c.always(function(){b.ui.$submit.removeAttr("disabled").spin(!1)}).done(function(){b.model.trigger("form:model:save:success")}).error(function(){b.model.trigger("form:model:save:error")})),a.preventDefault(),a.stopPropagation()}})}),define("modules/admin-ldap/views/test-user",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-ldap-test-user"})}),define("modules/admin-ldap/views/ldap-form-test",["require","exports","module","modules/i18n/main","modules/form/views/layout","./test-header","./actions","./test-user"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout"),f=a("./test-header"),g=a("./actions"),h=a("./test-user");c.exports=e.extend({id:"admin-ldap-test-connection",className:"form form-horizontal form-section",headerView:f,footerView:g,formFields:{testUserName:{type:"text",label:d.get("app.modules.admin.ldap.test.usernameLabel"),autocomplete:"off"},testPassword:{type:"password",label:d.get("app.modules.admin.ldap.test.passwordLabel"),autocomplete:"off"}},modelEvents:{"form:model:save:error":"showErrorMessage","form:model:save:success":"showSuccessMessage"},showErrorMessage:function(){this.footer.currentView.ui.$testResult.addClass("hidden").html(""),this.$(".test-connection").removeClass("has-success").addClass("has-error"),this.$(".js-test-message").addClass("text-danger").removeClass("text-success").html('<span class="fa fa-close"></span>'+d.get("app.modules.common.testConnection.failAlertText"))},showSuccessMessage:function(){this.$(".test-connection").removeClass("has-error").addClass("has-success"),this.$(".js-test-message").addClass("text-success").removeClass("text-danger").html('<span class="fa fa-check"></span>'+d.get("app.modules.common.testConnection.passAlertText"));var a=new h({model:this.model});this.footer.currentView.ui.$testResult.removeClass("hidden").html(a.render().el)}})}),define("modules/admin-ldap/models/ldap-config",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({validation:{server:{required:!0},ldapAuthenticationType:{required:!0},userSearchBase:{required:!0},userSearchFilter:{required:!0},groupSearchBase:function(){if(this.get("ldapGroupSynchronizationEnabled")&&!this.get("groupSearchBase"))return e.get("app.modules.admin.ldap.groups.validation.groupSearch")},groupSearchFilter:function(){if(this.get("ldapGroupSynchronizationEnabled")&&!this.get("groupSearchFilter"))return e.get("app.modules.admin.ldap.groups.validation.groupFilter")},groupNameAttribute:function(){if(this.get("ldapGroupSynchronizationEnabled")&&!this.get("groupNameAttribute"))return e.get("app.modules.admin.ldap.groups.validation.groupName")}},urlRoot:"/api/v1/ldap/configs",set:function(a,b){var c=d.Model.prototype.set.call(this,a,b);return("userDnPattern"===a||a.hasOwnProperty("userDnPattern"))&&(b=a.hasOwnProperty("userDnPattern")?a.userDnPattern:b,d.Model.prototype.set.call(this,"userDnPatterns",[b])),c},parse:function(a){return a.userDnPatterns&&a.userDnPatterns.length>0&&(a.userDnPattern=a.userDnPatterns[0]),a}})}),define("modules/admin-ldap/models/ldap-test",["require","exports","module","./ldap-config"],function(a,b,c){var d=a("./ldap-config");c.exports=d.extend({defaults:{testUserName:"",testPassword:""},validation:{testUserName:{required:!0},testPassword:{required:!0}},url:"/api/v1/ldap/configs/test"})}),define("modules/admin-ldap/views/layout",["require","exports","module","underscore","ironclad","modules/i18n/main","./header","./ldap-form-server","./ldap-form-user","./ldap-form-attributes","./ldap-form-groups","./ldap-form-test","../models/ldap-test"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("./header"),h=a("./ldap-form-server"),i=a("./ldap-form-user"),j=a("./ldap-form-attributes"),k=a("./ldap-form-groups"),l=a("./ldap-form-test"),m=a("../models/ldap-test");c.exports=e.Layout.extend({template:"#admin-ldap-layout",regions:{header:".js-header",ldapFormServer:".js-ldap-form-server",ldapFormUser:".js-ldap-form-user",ldapFormAttributes:".js-ldap-form-attributes",ldapFormGroups:".js-ldap-form-groups",messages:".js-ldap-messages",ldapTestForm:".js-ldap-form-test"},onRender:function(){this.header.show(new g({model:this.model})),this.model.set("ldapEnabled",this.options.ldapEnabled);var a=new h({model:this.model});this.ldapFormServer.show(a);var b=new i({model:this.model});this.ldapFormUser.show(b);var c=new j({model:this.model});this.ldapFormAttributes.show(c);var e=new k({model:this.model});this.ldapFormGroups.show(e),this.testModel=new m(this.model.attributes);var f=new l({model:this.testModel});this.ldapTestForm.show(f),this.listenTo(this.model,"change",d.bind(function(){this.testModel.set(this.model.attributes)},this)),this.listenTo(this.model,"form:model:save:success",this.showSuccessMessage)},showSuccessMessage:function(){var a=new e.ItemView({template:"#admin-ldap-success-message",model:new e.Model({title:f.get("app.modules.admin.ldap.successTitle"),message:f.get("app.modules.admin.ldap.successMessage")})});this.messages.show(a),$("html, body").animate({scrollTop:0},"slow")}})}),define("modules/admin-ldap/models/ldap-configs",["require","exports","module","ironclad","./ldap-config"],function(a,b,c){var d=a("ironclad"),e=a("./ldap-config");c.exports=d.Collection.extend({model:e,url:"/api/v1/ldap/configs",parse:function(a){return a.items}})}),define("modules/admin-ldap/controllers/route-controller",["require","exports","module","app","../views/layout","../models/ldap-configs","../models/ldap-state","modules/common/views/waiting","jquery"],function(a,b,c){var d=a("app"),e=a("../views/layout"),f=a("../models/ldap-configs"),g=a("../models/ldap-state"),h=a("modules/common/views/waiting"),i=a("jquery");c.exports={show:function(){var a=new f,b=new g;i.when(a.fetch(),b.fetch()).then(function(){var c=a.first()||new a.model;d.appLayout.content.show(new e({ldapEnabled:b.get("ldapEnabled"),model:c}))}),d.appLayout.content.show(new h)}}}),define("modules/admin-ldap/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/ldap":"show","admin/ldap/":"show"},pageTitles:{"*":f.get("app.modules.common.header.admin.ldap")}})}),define("modules/admin-ldap/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item");c.exports=e.extend({template:"#admin-ldap-admin-item",gotoPage:function(){d.history.navigate("#admin/ldap",{trigger:!0})}})}),define("modules/admin-ldap/main",["require","exports","module","ironclad","./router","./views/admin-item"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./views/admin-item");new e;d.WeightedStore.addItem("adminList",new f,50)}),define("modules/admin-registration/views/header",["require","exports","module","modules/i18n/main","modules/admin/views/header"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/admin/views/header");c.exports=e.extend({iconClass:"fa-certificate",title:d.get("app.modules.common.header.admin.registration")})}),define("modules/admin-registration/views/form",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#admin-registration-form",className:"container-fluid",ui:{form:"form",save:"[type=submit]",registrationId:"[name=registrationId]",buttons:"button",wait:".js-wait",refresh:".js-refresh",saveButton:".js-save-button"},events:{"click @ui.save":"save","click @ui.refresh":"refresh"},modelEvents:{error:"error"},refresh:function(){this.model.refresh().success(function(){window.location.reload()})},error:function(){$(this.ui.saveButton).spin(!1)},save:function(a){a.preventDefault(),a.stopPropagation(),$(this.ui.saveButton).spin("tiny");var b=this.model;return b.set("registrationId",this.ui.registrationId.val()),b.save().success(function(){window.location.reload()}),!1},templateHelpers:{getTypeInfo:function(a){var b="";if(this.registrationAttributes&&this.registrationAttributes[a]){var c=this.registrationAttributes[a];if(c.unlimited===!0)return e.get("app.modules.admin.registration."+a+".unlimited");if("undefined"!=typeof c.actualValue){var d="";"MANAGED_CODEBASE_BYTES_NEW"===c.attribute?(d="0.00 b",b=c.softValue):(d="0,0",b=c.hardValue);var f=b-c.actualValue;return e.get("app.modules.admin.registration."+a+".usage",{used:numeral(c.actualValue).format(d),total:numeral(b).format(d),usage:b-c.actualValue>0?e.get("app.modules.admin.registration.remaining",{remaining:numeral(Math.abs(f)).format(d)}):e.get("app.modules.admin.registration.exceeded",{remaining:numeral(Math.abs(f)).format(d)})})}return e.get("app.modules.admin.registration."+a,{number:b},b)}return""},hasTypeInfo:function(a){return!(!this.registrationAttributes||!this.registrationAttributes[a]||!this.registrationAttributes[a].unlimited&&!this.registrationAttributes[a].hardValue)}}})}),define("modules/admin-registration/views/features",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#admin-registration-features",templateHelpers:{getTitle:function(a){return e.get("app.modules.admin.registration.licensing."+a)},getDescription:function(a){return e.get("app.modules.admin.registration.licensing."+a+".description")},getIcon:function(a){return e.get("app.modules.admin.registration.licensing."+a+".icon")}}})}),define("modules/admin-registration/views/layout",["require","exports","module","ironclad","underscore","modules/session/models/registration","./header","./form","./features"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=a("modules/session/models/registration"),g=a("./header"),h=a("./form"),i=a("./features");c.exports=d.Layout.extend({template:"#admin-registration-layout",regions:{header:".js-header",form:".js-form",features:".js-features"},initialize:function(){this.model=new f},onRender:function(){var a=this;a.model.fetch({data:$.param({summary:!1})}).success(e.bind(function(){a.header.show(new g({model:a.model})),a.form.show(new h({model:a.model})),a.features.show(new i({model:a.model}))},this))}})}),define("modules/admin-registration/controllers/route-controller",["require","exports","module","app","../views/layout"],function(a,b,c){var d=a("app"),e=a("../views/layout");c.exports={show:function(){d.appLayout.content.show(new e)}}}),define("modules/admin-registration/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/registration":"show","admin/registration/":"show"},pageTitles:{"*":f.get("app.modules.common.header.admin.registration")}})}),define("modules/admin-registration/views/admin-item-meta",["require","exports","module","ironclad","moment"],function(a,b,c){var d=a("ironclad"),e=a("moment");c.exports=d.ItemView.extend({template:"#admin-registration-admin-item-meta",templateHelpers:function(){var a=this;return{hasExpirationWarning:function(){return e().isAfter(a.model.get("warningExpirationDate"))},getExpirationDate:function(){return e(a.model.get("expirationDate")).format("LLL")},isUnlimitedCodebase:function(){return!!a.model.get("registrationAttributes")&&a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.unlimited},getUsedCodebaseSize:function(){return a.model.get("registrationAttributes")?a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.actualValue:0},getMaxCodebaseSize:function(){return a.model.get("registrationAttributes")&&!a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.unlimited?a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.softValue:0},getPercentage:function(){if(a.model.get("registrationAttributes")&&!a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.unlimited){var b=a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.actualValue,c=a.model.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW.softValue;return b/c*100}return 0}}}})}),define("modules/admin-registration/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item","./admin-item-meta","modules/session/models/registration"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item"),f=a("./admin-item-meta"),g=a("modules/session/models/registration");c.exports=e.extend({template:"#admin-registration-admin-item",initialize:function(){this.model=new g,this.listenTo(this.model,"sync",this.renderMetaInfo),e.prototype.initialize.apply(this,arguments)},onRender:function(){this.model.fetch({summary:!1})},renderMetaInfo:function(){this.metaInfoRegion.show(new f({model:this.model}))},gotoPage:function(){d.history.navigate("#admin/registration",{trigger:!0})}})}),define("modules/admin-registration/main",["require","exports","module","ironclad","./router","./views/admin-item"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./views/admin-item");new e;d.WeightedStore.addItem("adminList",new f,30)}),define("modules/admin-settings/views/header",["require","exports","module","modules/i18n/main","modules/admin/views/header"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/admin/views/header");c.exports=e.extend({iconClass:"fa-cog",title:d.get("app.modules.admin.settings.title")})}),define("modules/admin-settings/views/settings",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ViewContainer.extend({template:"#admin-settings-settings",options:{containerId:"globalSettings",containerSelector:"tbody"}})}),define("modules/admin-settings/views/layout",["require","exports","module","ironclad","./header","./settings"],function(a,b,c){var d=a("ironclad"),e=a("./header"),f=a("./settings");c.exports=d.Layout.extend({template:"#admin-settings-layout",id:"admin-settings",regions:{header:".region-admin-header",settings:".region-admin-settings"},onRender:function(){this.header.show(new e),this.settings.show(new f)}})}),define("modules/admin-settings/controllers/route-controller",["require","exports","module","app","../views/layout"],function(a,b,c){var d=a("app"),e=a("../views/layout");c.exports={showSettings:function(){d.appLayout.content.show(new e)}}}),define("modules/admin-settings/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/settings(/)":"showSettings"},pageTitles:{"*":f.get("app.modules.admin.settings.title")}})}),define("modules/admin-settings/views/logs-download",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-settings-logs-download",tagName:"tr",className:"admin-logs",ui:{$downloadButton:".download-button",$downloadMessage:".download-message"},events:{"click @ui.$downloadButton":"downloadLogs"},hideDownloadButton:function(){var a=this;a.clearTimeout(),a.ui.$downloadButton.fadeOut(150,function(){a.ui.$downloadMessage.removeClass("hide")}),a.timeoutId=window.setTimeout(function(){a.showDownloadButton.call(a)},1e4)},showDownloadButton:function(){this.ui.$downloadMessage.addClass("hide"),this.ui.$downloadButton.fadeIn(),this.clearTimeout()},downloadLogs:function(a){return this.hideDownloadButton(),!0},clearTimeout:function(){this.timeoutId&&window.clearTimeout(this.timeoutId)},onClose:function(){this.clearTimeout.call(this)}})}),define("modules/admin-settings/models/company-logo",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"/api/v1/global-settings/companylogo",isCustomLogo:function(){var a=this.get("value");return!(!a||"false"===a)}})}),define("modules/admin-settings/models/global-setting",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"/api/v1/global-settings"})}),define("modules/admin-settings/views/logo-modal",["require","exports","module","dropzone","underscore","ironclad","../models/global-setting","marionette","modules/i18n/main","modules/modals/views/layout-form"],function(a,b,c){a("dropzone");var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../models/global-setting"),h=a("marionette"),i=a("modules/i18n/main"),j=a("modules/modals/views/layout-form");c.exports=j.extend({template:"#admin-settings-logo-upload",id:"logo-upload-dialog",ui:d.extend({},j.prototype.ui,{$uploadForm:"form.js-file-upload",$confirmButton:"button.js-btn-ok",$uploadError:"#upload-error"}),events:{"click @ui.$confirmButton":"onConfirm"},onConfirm:function(){var a=(this.dropzone.files[0],this.dropzone.element.querySelector("[data-dz-thumbnail]")),b=a.src;this.updateLogo(b)},updateLogo:function(a){var b=new g({id:"companylogo",name:"companylogo",value:a});b.save().success(function(){f.trigger("logo:updated"),f.trigger("app:modal:close")}).fail(this.showUploadError)},initDropzone:function(){var a=this;this.dropzone=this.ui.$uploadForm.dropzone({autoQueue:!1,parallelUploads:1,acceptedFiles:".png, .jpg, .jpeg",thumbnailWidth:null,thumbnailHeight:125,previewTemplate:h.TemplateCache.get("#admin-settings-logo-upload-preview")(d.extend({},e.templateHelpers)),dictDefaultMessage:i.get("app.modules.common.upload-dialog.logoDefaultMessage"),dictFallbackMessage:i.get("app.modules.common.upload-dialog.fallbackMessage"),dictRemoveFile:i.get("app.modules.common.upload-dialog.removeImage"),dictInvalidFileType:i.get("app.modules.common.upload-dialog.errorInvalidLogoType"),init:function(){var b=this;b.on("reset",a.clearErrors),b.on("addedfile",function(){var c=b.files.length-1;b.files.forEach(function(a,d){d!==c&&b.removeFile(a)}),a.toggleConfirmBtn(!0)}),b.on("error",function(){a.toggleConfirmBtn(!1)}),b.on("removedfile",function(){a.hideUploadError(),a.toggleConfirmBtn(Boolean(b.files.length))})}})[0].dropzone},onRender:function(){j.prototype.onRender.apply(this,arguments),this.initDropzone()},toggleConfirmBtn:function(a){this.ui.$confirmButton.attr("disabled",!a)},showUploadError:function(){this.ui.$uploadError.removeClass("hidden")},clearErrors:function(){j.prototype.clearErrors.apply(this,arguments),this.hideUploadError()},hideUploadError:function(){this.ui.$uploadError.addClass("hidden");
},redirect:function(){return!1},modelErrorHandler:function(a,b){this.handleApiErrors(a,b),this.trigger("state:active")},onDestroy:function(){this.dropzone.destroy()},initialize:function(){j.prototype.initialize.apply(this,arguments);this.showUploadError=this.showUploadError.bind(this),this.clearErrors=this.clearErrors.bind(this)}})}),define("modules/admin-settings/views/change-logo",["require","exports","module","underscore","ironclad","../models/company-logo","../models/global-setting","./logo-modal"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("../models/company-logo"),g=a("../models/global-setting"),h=a("./logo-modal"),i=e.MessageBus;c.exports=e.ItemView.extend({template:"#admin-settings-change-logo",tagName:"tr",className:"admin-change-logo",ui:{$uploadLogo:"#upload-company-logo",$resetLogo:".reset-logo-button",$canvasLogo:"#company-logo-canvas"},events:{"click @ui.$resetLogo":"resetLogo","click @ui.$uploadLogo":"openModal"},modelEvents:{sync:"render"},initialize:function(){var a=this;this.model=new f,i.reqres.setHandler("logo:views:modals:upload",function(){return h}),i.vent.on("logo:updated",function(){a.model.fetch()}),e.ItemView.prototype.initialize.apply(this,arguments)},onShow:function(){this.model.fetch({global:!1})},openModal:function(){var a=new e.Model;i.trigger("assets:actions:modal",{assetName:"logo",view:"upload"},a)},resetLogo:function(){var a=this,b=new g({id:"companylogo",name:"companylogo",value:"false"});b.save().success(function(){i.trigger("logo:updated"),a.model.fetch()})},templateHelpers:function(){var a=this.model;return{isCustomLogo:d.bind(a.isCustomLogo,a)}}})}),define("modules/admin-settings/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item");c.exports=e.extend({template:"#admin-settings-admin-item",gotoPage:function(){d.history.navigate("#admin/settings",{trigger:!0})}})}),define("modules/admin-settings/main",["require","exports","module","ironclad","./router","./views/logs-download","./views/change-logo","./views/admin-item"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./views/logs-download"),g=a("./views/change-logo"),h=a("./views/admin-item");new e;d.WeightedStore.addItem("globalSettings",new g,2),d.WeightedStore.addItem("globalSettings",new f,3),d.WeightedStore.addItem("adminList",new h,60)}),define("modules/common/models/pageable-collection-public",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({_queryParams:{currentPage:"offset",pageSize:"limit",totalPages:null,totalRecords:null,offset:function(){return(this.state.currentPage-1)*this.state.pageSize},sortKey:"sort",sort:function(){return this.state.sortKey?this.state.sortKey+" "+(1===this.state.order?"DESC":"ASC"):""}},_persistence:{active:!1,persistBaseParams:!0,filtersToPersist:["sort","offset","q","limit"],filtersMappings:{limit:function(a){a&&(this.state.pageSize=parseInt(a,10))},sort:function(a){if(a){var b=a.split(" ");this.state.sortKey=b[0],this.state.order="ASC"===b[1]?-1:1}},offset:function(a){a&&a>=this.state.pageSize&&(this.state.currentPage=Math.floor(a/this.state.pageSize)+1)}}}})}),define("modules/admin-users/models/users-paged",["require","exports","module","modules/common/models/pageable-collection-public","modules/users/models/user"],function(a,b,c){var d=a("modules/common/models/pageable-collection-public"),e=a("modules/users/models/user");c.exports=d.extend({model:e,url:"/api/users",persistence:{active:!0,filtersToPersist:["filter"]},state:{sortKey:"userName"},queryParams:{filter:"userStatus:true"}})}),define("modules/users/models/reset-password",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({validation:{password:{required:!0},passwordRepeat:{required:!0,equalTo:"password",msg:e.get("app.modules.admin.user.passwordRepeat.validation.nomatch")}}})}),define("modules/admin-users/controllers/reset-password",["require","exports","module","ironclad","anglebrackets","modules/users/models/reset-password"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/users/models/reset-password");c.exports=e.TableCell.extend({className:"row-action",events:{click:"resetPassword"},template:function(){return this.model.get("externalName")?"#admin-users-disable-reset":"#admin-users-reset-password"},resetPassword:function(a){if(a.preventDefault(),!this.model.get("externalName")){var b=new f({id:this.model.getLink("reset-password")});b.url=this.model.getLink("reset-password"),d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"users",view:"resetpassword"},b)}}})}),define("modules/admin-users/views/users-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/reset-password"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/reset-password");c.exports=d.Table.extend({options:{description:e.get("app.modules.admin.userList.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{name:"userGravatar",label:" ",cell:d.TableCell,template:"#admin-users-gravatar-cell",editable:!1,sortable:!1},{name:"userName",label:e.get("app.modules.admin.userList.name"),cell:d.TableCell,template:"#admin-users-user-name-cell",editable:!1,sortable:!0,exposeModel:!0,escapeValue:!1},{name:"firstName",label:e.get("app.modules.admin.userList.firstName"),cell:"string",editable:!1,sortable:!0},{name:"lastName",label:e.get("app.modules.admin.userList.lastName"),cell:"string",editable:!1,sortable:!0},{name:"email",label:e.get("app.modules.admin.userList.email"),cell:"string",editable:!1,sortable:!0},{label:e.get("common.status"),cell:d.TableCell,name:"active",template:"#admin-users-state-cell",editable:!1,sortable:!0},{label:"",cell:f,editable:!1,sortable:!1}]}}})}),define("modules/admin-users/views/users-header",["require","exports","module","ironclad","modules/gravatar/controllers/gravatar"],function(a,b,c){var d=a("ironclad"),e=a("modules/gravatar/controllers/gravatar");c.exports=d.ItemView.extend({getTemplate:function(){return void 0!==this.model?"#admin-users-header-profile":"#admin-users-header"},templateHelpers:function(){var a=this.model;return{hasUser:function(){return void 0!==a},getFullName:function(){var b=a.get("userName")||a.get("externalName");return a.get("firstName")&&a.get("lastName")&&(b=a.get("firstName")+" "+a.get("lastName")),b},getProfileImg:function(){return e.getGravatarUrl(a.get("email"),50)}}}})}),define("modules/advanced-filters/views/filters-collection-view",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.CollectionView.extend({tagName:"ul",className:"filters-collection",getChildView:function(a){var b=this.collection.mainController.filterTypeController.getFilterControllerByType(a.get("rel"));if(b)return a.controller=b,b.filterView}})}),define("modules/advanced-filters/views/available-filter-item-view",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#advanced-filters-available-filter",tagName:"li",events:{click:"clickHandler"},initialize:function(){d.bindAll(this,"clickHandler")},onRender:function(){var a=this.model.collection.mainController.filterTypeController.isValidFilter(this.model.get("rel"));a?this.setFilterValid():this.setFilterInvalid()},clickHandler:function(){this.model.valid&&this.model.trigger("advanced-filter:add",this.model.get("name"),!0)},setFilterInvalid:function(){this.model.valid=!1,this.$el.addClass("disabled invalid")},setFilterValid:function(){this.model.valid=!0,this.$el.removeClass("disabled invalid")}})}),define("modules/advanced-filters/views/available-filters-collection-view",["require","exports","module","backbone.stickit","ironclad","./available-filter-item-view"],function(a,b,c){a("backbone.stickit");var d=a("ironclad"),e=a("./available-filter-item-view");c.exports=d.CollectionView.extend({tagName:"ul",className:"available-filters-collection",childView:e,filter:function(a){return a.get("available")},initialize:function(){this.listenTo(this.collection,"refresh",this.render)}})}),define("modules/advanced-filters/models/filters",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Collection.extend({initialized:!1,add:function(a){var b=this;return a=d.isArray(a)?a:[a],d.each(a,function(a){b.prepareModelToAdd(a)}),e.Collection.prototype.add.apply(this,arguments)},prepareModelToAdd:function(a){a.id=a.id||d.uniqueId("filter#"),a.available=!0,d.isUndefined(a.data)&&(a.data={values:[]}),d.isUndefined(a.initialized)&&(a.initialized=!1)}})}),define("modules/advanced-filters/views/filter",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({tagName:"li",ui:{$btnRemoveFilter:".btn-remove-filter",$selectedValuesLabel:".selected-values",$applyFilterBtn:".apply-filter-btn",$dropDownToggle:".dropdown-toggle",$dropDownMenu:".dropdown-menu",$loading:".loading-filter-wrapper",$dropDownMenuContainer:".dropdown-menu-container",$retryBtn:".retry",$filter:">.filter"},events:{"click @ui.$btnRemoveFilter":"removeBtnClickHandler","mousedown @ui.$applyFilterBtn":"applyFilterBtnMousedownHandler","click @ui.$dropDownToggle":"toggleDropDownHandler","click @ui.$dropDownMenu":"dropDownMenuClickHandler","click @ui.$loading":"loadingClickHandler","click @ui.$retryBtn":"retryFilterInitClickHandler"},modelEvents:{change:"updateModelData","advanced-filter-value:initialized":"filterInitializedHandler","advanced-filter-value:initialized:failed":"filterInitializedFailedHandler"},initialize:function(){var a=this;this.listenTo(this.model,"advanced-filter-value:change",this.filterValueChangeHandler),this.listenTo(this.model,"advanced-filter-value:do:render",this.render),this.listenTo(this.model.controller,"advanced-filter-target-collection:refresh",function(){a.ui.$applyFilterBtn.hide()})},filterInitializedHandler:function(){this.render()},filterInitializedFailedHandler:function(){this.render()},retryFilterInitClickHandler:function(){this.model.initFailed=!1,this.render()},onRender:function(){var a=this;this._hideInitFailedOnFilter(),this._hideInitializeOnFilter(),this.model.initFailed?(this._hideInitializeOnFilter(),this._showInitFailedOnFilter()):this.model.initialized?(this.$el.removeClass("initializing"),this._hideInitializeOnFilter(),this.model.autoOpen&&d.defer(function(){a.ui.$dropDownToggle.trigger("click"),a.model.autoOpen=!1}),this.model.data&&this.model.data.values&&d.each(this.model.data.values,function(b){a.model.controller.updateValue(a.model,b,!0)})):(this._showInitializeOnFilter(),this.model.controller.initializeFilter(this.model))},className:function(){return this.model.get("rel")},removeBtnClickHandler:function(){this.model.controller.clearValues(this.model),this.model.trigger("advanced-filter:remove",this.model.get("name")),this.model.initFailed=!1},updateModelData:function(){this.ui.$selectedValuesLabel.text(this.model.get("selectedValuesLabel"))},filterValueChangeHandler:function(){this.ui.$applyFilterBtn.slideDown()},applyFilterBtnMousedownHandler:function(){this.closeDropDown()},dropDownMenuClickHandler:function(a){a.stopPropagation()},toggleDropDownHandler:function(a){var b=this.ui.$filter.hasClass("open");b?this.closeDropDown():($(document).trigger("click.closePopup"),a.stopPropagation(),this.openDropDown())},loadingClickHandler:function(a){a.stopPropagation(),a.preventDefault()},openDropDown:function(){var a=this;this.ui.$filter.addClass("open"),d.defer(function(){a.focusOnInput(),$(document).on("click.closePopup",function(){a.closeDropDown()})})},closeDropDown:function(){d.isString(this.ui.$applyFilterBtn)||"none"===this.ui.$applyFilterBtn.css("display")||this.model.controller.trigger("advanced-filter-target-collection:refresh"),d.isString(this.ui.$dropDownToggle)||this.ui.$filter.removeClass("open"),$(document).off("click.closePopup")},focusOnInput:function(){this.ui.$dropDownMenuContainer.find("input").first().focus()},_showInitializeOnFilter:function(){var a=this;this.$el.addClass("initializing"),d.defer(function(){a.$el.spin("tiny")})},_hideInitializeOnFilter:function(){var a=this;this.$el.removeClass("initializing"),d.defer(function(){a.$el.spin(!1)})},_showInitFailedOnFilter:function(){this.$el.addClass("initialization-failed")},_hideInitFailedOnFilter:function(){this.$el.removeClass("initialization-failed")}})}),define("modules/advanced-filters/views/filter-static-values-item-view",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=a("underscore");c.exports=d.ItemView.extend({tagName:"li",template:"#advanced-filters-static-filter-value",ui:{$childValues:".child-items"},initialize:function(){this.templateHelpers=this.templateHelpers||{},this.templateHelpers=e.extend({},this.templateHelpers,{getUniqueFieldId:e.bind(this.getUniqueFieldId,this)})},onRender:function(){var a=this,b=a.model.get("values"),c=a.options.filterName||a.model.collection.filterName;b&&b.length>0&&e.each(b,function(b){var d=new a.options.viewClass({model:a.getPreparedChildModel(a.model,b),filterName:c});a.ui.$childValues.append(d.render().$el)})},getPreparedChildModel:function(a,b){return new d.Model(b)},getUniqueFieldId:function(){var a=this.options.filterName||this.model.collection.filterName;return a+"-"+this.model.get("key")}})}),define("modules/advanced-filters/views/filter-static-values-collection-view",["require","exports","module","ironclad","./filter-static-values-item-view"],function(a,b,c){var d=a("ironclad"),e=a("./filter-static-values-item-view");c.exports=d.CollectionView.extend({tagName:"ul",filterName:"",className:"filter-values",childView:e,childViewOptions:{viewClass:e}})}),define("modules/advanced-filters/views/filter-static-view",["require","exports","module","underscore","ironclad","./filter","./filter-static-values-collection-view"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./filter"),g=a("./filter-static-values-collection-view");c.exports=f.extend({template:"#advanced-filters-static-filter",ui:d.extend({},f.prototype.ui,{$filterValues:".filter-values",$checkboxes:'.filter-values > li > input[type="checkbox"], .filter-values .child-items > li > input[type="checkbox"]',$container:".dropdown-menu-container"}),events:d.extend({},f.prototype.events,{"click @ui.$checkboxes":"checkboxClickHandler"}),onRender:function(){if(f.prototype.onRender.apply(this,arguments),this.model.initialized){var a=this.model.get("config");if(a&&a.values){var b=new g({collection:new e.Collection(a.values)});b.collection.filterName=a.name,this.ui.$container.html(b.render().$el),this.bindUIElements(),this.markSelectedValues()}}},checkboxClickHandler:function(a){var b=$(a.target),c={key:b.val(),label:b.next("label").html()};b.is(":checked")?this.model.controller.updateValue(this.model,c):this.model.controller.removeValue(this.model,c)},markSelectedValues:function(){var a=this;this.model.data&&this.model.data.values&&d.each(this.ui.$checkboxes,function(b){var c=$(b),e=c.val(),f=d.findWhere(a.model.data.values,{key:e});f&&c.attr("checked","checked")})}})}),define("modules/advanced-filters/controllers/filter-generic-controller",["require","exports","module","marionette","underscore","modules/i18n/main"],function(a,b,c){var d=a("marionette"),e=a("underscore"),f=a("modules/i18n/main");c.exports=d.Object.extend({settings:{valueAggSeparator:", ",valueAggLimit:40},refreshCollectionOnAdd:function(){return!1},updateValue:function(a,b,c){this._updateValueObjWithLabelFromFilterDeff(a,b),a.data.values=e.without(a.data.values,e.findWhere(a.data.values,{key:b.key})),a.data.values.push(b),this.updateSelectedValueLabel(a),c||a.trigger("advanced-filter-value:change")},removeValue:function(a,b,c){a.data.values=e.without(a.data.values,e.findWhere(a.data.values,{key:b.key})),this.updateSelectedValueLabel(a),c||a.trigger("advanced-filter-value:change")},isValueSelected:function(a,b){return e.findWhere(a.data.values,{key:b.key})},getSelectedValues:function(a){return a.data&&a.data.values?a.data.values:[]},aggregateValues:function(a){var b=e.pluck(a.data.values,"label").join(this.settings.valueAggSeparator);return b.length>this.settings.valueAggLimit&&(b=b.substr(0,this.settings.valueAggLimit)+f.get("app.modules.filters.filterCount",{count:a.data.values.length},a.data.values.length)),b},updateSelectedValueLabel:function(a){var b=this.aggregateValues(a);a.set("selectedValuesLabel",b)},clearValues:function(a,b){a.data.values=[],this.updateSelectedValueLabel(a),b||a.trigger("advanced-filter-value:change")},initializeFilter:function(a){a.initFailed?a.trigger("advanced-filter-value:initialized:failed"):(a.initialized=!0,a.trigger("advanced-filter-value:initialized"),this._validateFilterDataValues(a))},updateFilterValueOverCollection:function(a,b){if(a.data.values.length>0){var c=[];e.each(a.data.values,function(a){c.push(a.key)}),b[a.get("config").name]=c}else b[a.get("config").name]=null},_validateFilterDataValues:function(a){var b=this;a.data&&a.data.values&&e.each(a.data.values,function(c){b._updateValueObjWithLabelFromFilterDeff(a,c)})},_updateValueObjWithLabelFromFilterDeff:function(a,b){if(!b.label){var c=a.get("config");if(c&&c.values){var d=e.findWhere(c.values,{key:b.key});d&&(b.label=d.label)}}}})}),define("modules/advanced-filters/controllers/filter-static-controller",["require","exports","module","../views/filter-static-view","./filter-generic-controller"],function(a,b,c){var d=a("../views/filter-static-view"),e=a("./filter-generic-controller");c.exports=e.extend({type:"static-filter",filterView:d,initializeFilter:function(a){var b=this,c=arguments;$.get(a.get("href"),function(d){a.set("config",d),e.prototype.initializeFilter.apply(b,c)}).error(function(){a.initFailed=!0,e.prototype.initializeFilter.apply(b,c)})}})}),define("modules/advanced-filters/views/filter-dynamic-option-group-view",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#advanced-filters-dynamic-filter-option-group",render:function(){d.ItemView.prototype.render.apply(this,arguments);var a=encodeURI(this.model.get("value")),b=this.$('[data-value="'+a+'"]'),c=this.$el.find(".option");if((b.size()>0||1===c.size())&&(this.$(".optgroup-header").hide(),1!==c.size()&&$(c[0]).addClass("option-heading")),1===c.size()){var e=$(c[0]);this.model.get("selectable")||e.html(this.$el.find(".optgroup-header").html()+" - "+e.html())}return this}})}),define("modules/advanced-filters/views/filter-dynamic-view",["require","exports","module","underscore","ironclad","marionette","bloodhound","./filter-dynamic-option-group-view","selectize","./filter"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("marionette"),g=a("bloodhound"),h=a("./filter-dynamic-option-group-view");a("selectize");var i=a("./filter");c.exports=i.extend({template:"#advanced-filters-dynamic-filter",ui:d.extend({},i.prototype.ui,{$selectizeInput:".js-selectize",$generatedSelectizeInput:".selectize-input > input"}),events:d.extend({},i.prototype.events,{"click @ui.$selectizeInput":"clickHandler","item_add @ui.$selectizeInput":"selectizeAddItemHandler"}),defaultSelectizeOptions:{valueField:"key",labelField:"fullLabel",searchField:"fullLabel",loadThrottle:300,selectOnTab:!1,preload:!0,options:[],highlight:!1,render:{option:f.TemplateCache.get("#advanced-filters-dynamic-filter-selectize-item"),optgroup:function(a){return new h({model:new e.Model(a)}).render().$el.html()}}},defaultBloodhoundOptions:{datumTokenizer:g.tokenizers.obj.whitespace("values"),queryTokenizer:g.tokenizers.whitespace,limit:300,remote:{wildcard:"%QUERY",cache:!1,filter:function(a){return a.values?(d.each(a.values,function(a){d.each(a.values,function(b){b.fullLabel=a.label+" - "+b.label}),a.fullLabel=a.label}),a.values):[]}}},initialize:function(){var a=this;this.skipSelectizeAddItemEvent=!1,d.bindAll(this,"selectizeAddItemHandler","selectizeRemoveItemHandler"),this.selectizeOptions={},this.bloodhoundOptions={},this.selectizeOptions=d.extend({},this.defaultSelectizeOptions,this.selectizeOptions),this.selectizeOptions.load=function(b){a.updateData(b,function(){},this)},this.selectizeOptions.onInitialize=function(){var a=this,b=a.sifter.search;a.sifter.search=function(){var c=b.apply(a.sifter,arguments),e=[];d.each(this.items,function(a){var b=d.findWhere(c.items,{id:a.key});b?(e.push(b),a.values&&a.values.length>0&&d.each(a.values,function(a){e.push({id:a.key})})):a.values.length>0&&d.each(a.values,function(b){var f=d.findWhere(c.items,{id:b.key});f&&(e.push({id:a.key}),e.push(f))})});var f=d.unique(e,function(a){return a.id});return c.items=f,c.total=f.length,c}},this.selectizeOptions.onItemAdd=this.selectizeAddItemHandler,this.selectizeOptions.onItemRemove=this.selectizeRemoveItemHandler,this.bloodhoundOptions=d.extend({},this.defaultBloodhoundOptions,this.bloodhoundOptions),this.bloodhoundOptions.model=this.model,i.prototype.initialize.apply(this,arguments)},onRender:function(){if(this.model.initialized){var a=this;d.defer(function(){a.delegateEvents(),a.setupAutocomplete(),a.bindUIElements()}),this.updateBloodhoundDataFromItem()}i.prototype.onRender.apply(this,arguments)},setupAutocomplete:function(){this.ui.$selectizeInput.selectize(this.selectizeOptions),this.suggestions=new g(this.bloodhoundOptions),this.suggestions.initialize(),this.markSelectedValues()},updateData:function(a,b,c){var d=this;this.suggestions.search(a,function(a){b(a),d.addValueOptionTree(a,c,null),c.refreshOptions(!0),c.focus()},function(a){b(a),d.addValueOptionTree(a,c,null),c.refreshOptions(!0),c.focus()})},addValueOptionTree:function(a,b,c){var e=this;d.each(a,function(a){b.addOptionGroup(a.key||a.label,{label:a.label,selectable:!d.isUndefined(a.key)}),null!=c?a.optgroup=c.key||c.label:a.optgroup=a.key,b.addOption(a),a.values.length>0&&e.addValueOptionTree(a.values,b,a)})},updateBloodhoundDataFromItem:function(){var a=this.model.get("config").href,b=a;b+=b.indexOf("?")>0?"&q=%QUERY":"?q=%QUERY",this.bloodhoundOptions.remote.url=b},clickHandler:function(a){a.stopPropagation()},selectizeAddItemHandler:function(a,b){if(!this.skipSelectizeAddItemEvent){var c={key:a,label:b.text()};this.model.controller.updateValue(this.model,c)}},selectizeRemoveItemHandler:function(a,b){var c={key:a,label:b.text()};this.model.controller.removeValue(this.model,c)},focusOnInput:function(){this.ui.$generatedSelectizeInput.focus()},markSelectedValues:function(){var a=this;this.model.data&&this.model.data.values&&(this.skipSelectizeAddItemEvent=!0,a._addSelectedValuesToSelectize(this.model.data.values),this.skipSelectizeAddItemEvent=!1)},_addSelectedValuesToSelectize:function(a){var b=this;d.each(a,function(c){c.key&&(b.ui.$selectizeInput[0].selectize.addOption(c),b.ui.$selectizeInput[0].selectize.addItem(c.key)),a.values&&a.values.lengt>0&&b._addSelectedValuesToSelectize(a.values)})}})}),define("modules/advanced-filters/controllers/filter-dynamic-controller",["require","exports","module","./filter-generic-controller","../views/filter-dynamic-view"],function(a,b,c){var d=a("./filter-generic-controller"),e=a("../views/filter-dynamic-view");c.exports=d.extend({type:"dynamic-filter",filterView:e,initializeFilter:function(a){a.set("config",{name:a.get("name"),href:a.get("href"),label:a.get("title")}),d.prototype.initializeFilter.apply(this,arguments)}})}),define("modules/advanced-filters/views/filter-toggle-view",["require","exports","module","underscore","./filter"],function(a,b,c){var d=(a("underscore"),a("./filter"));c.exports=d.extend({template:"#advanced-filters-toggle-filter",onRender:function(){d.prototype.onRender.apply(this,arguments)}})}),define("modules/advanced-filters/controllers/filter-toggle-controller",["require","exports","module","../views/filter-toggle-view","./filter-generic-controller"],function(a,b,c){var d=a("../views/filter-toggle-view"),e=a("./filter-generic-controller");c.exports=e.extend({type:"quick-filter",filterView:d,initializeFilter:function(a){var b=this;a.set("config",{name:a.get("name"),label:a.get("title")}),e.prototype.initializeFilter.apply(b,arguments)},refreshCollectionOnAdd:function(){return!0},updateFilterValueOverCollection:function(a,b){b[a.get("config").name]=[!0]}})}),define("modules/advanced-filters/controllers/filter-type-controller",["require","exports","module","underscore","marionette","./filter-static-controller","./filter-dynamic-controller","./filter-toggle-controller"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("./filter-static-controller"),g=a("./filter-dynamic-controller"),h=a("./filter-toggle-controller");c.exports=e.Object.extend({_types:[new f,new g,new h],initialize:function(){var a=this;d.each(this._types,function(b){a.listenTo(b,"advanced-filter-target-collection:refresh",a.targetCollectionRefreshHandler)})},getFilterControllerByType:function(a){var b=null;return d.each(this._types,function(c){c.type===a&&(b=c)}),b},isValidFilter:function(a){var b=this.getFilterControllerByType(a);return null!=b},targetCollectionRefreshHandler:function(){this.trigger("advanced-filter-target-collection:refresh")}})}),define("modules/advanced-filters/controllers/filters-controller",["require","exports","module","underscore","ironclad","marionette","../models/filters","../controllers/filter-type-controller"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("marionette"),h=a("../models/filters"),i=a("../controllers/filter-type-controller");c.exports=g.Object.extend({persistenceController:f.reqres.request("hub:filters:controller"),settings:{filterUrlSeparator:":",readFiltersFromResponseKey:"_meta",readAppliedFiltersFromResposneKey:"appliedFilters",filterChangeEventName:"advanced-filter:change",errors:{unableToFindFilter:"Unable to find filter"},prefetchFilters:!1},persistFilters:!0,filterTypeController:new i,availableFilters:[],activeFilters:[],targetCollection:null,defaultFilterSearchScope:null,useRQL:!1,initialize:function(a){var b=this;if(a&&(this.useRQL=a.useRQL,this.targetCollection=a.targetCollection,this.settings.prefetchFilters=a.prefetchFilters,this.defaultFilterSearchScope=a.defaultFilterSearchScope),e.requireOptions(this,"targetCollection"),this.availableFilters=new h,this.activeFilters=new h,this.availableFilters.mainController=this,this.activeFilters.mainController=this,this._addEventListeners(),this.settings.prefetchFilters){var c=this.targetCollection.persistAjaxOnNavigate;this.targetCollection.persistAjaxOnNavigate=!0,this.targetCollection.queryParams.limit=0,this.targetCollection.fetch().then(function(){b.targetCollection.queryParams.limit=b.targetCollection._state.pageSize,b.trigger("advanced-filter-target-collection:prefetched")}),this.targetCollection.persistAjaxOnNavigate=c}},addFilterHandler:function(a,b,c){this._addActiveFilter(a,b,c)&&this.trigger(this.settings.filterChangeEventName)},removeFilterHandler:function(a){this._removeActiveFilter(a)&&(this.trigger(this.settings.filterChangeEventName),this.targetCollectionRefresh())},targetCollectionRefresh:function(){var a=this._getFiltersForCollectionUpdate();this.targetCollection.queryParams=d.extend({},this.targetCollection.queryParams,a),this.targetCollection.fetch()},filterByQuery:function(a){var b=this._deserializeValueWithScope(a);if(d.isUndefined(b)||d.isEmpty(b))this.targetCollection.queryParams=d.omit(this.targetCollection.queryParams,this.useRQL?"rql":"q");else{var c=this.useRQL?{rql:this._serializeValueWithScope(b)}:{q:this._serializeValueWithScope(b)};this.targetCollection.queryParams=d.extend({},this.targetCollection.queryParams,c)}this.targetCollection.fetch()},_serializeValueWithScope:function(a){if(this.useRQL){a&&(a=encodeURIComponent(a));for(var b=[],c=0;c<this.defaultFilterSearchScope.length;c++)b.push("contains("+this.defaultFilterSearchScope[c]+","+a+")");var d="or("+b.join(",")+")";return d}return this.defaultFilterSearchScope?this.defaultFilterSearchScope+":"+a:a},_deserializeValueWithScope:function(a){return this.useRQL?a:this.defaultFilterSearchScope?a.replace(this.defaultFilterSearchScope+":"):a},_addEventListeners:function(){this.listenToOnce(this.targetCollection,"sync",this._parseFilters),this.listenTo(this.targetCollection,"advanced-filter:do:update",this._doUpdateFilter),this.listenTo(this.availableFilters,"advanced-filter:add",this.addFilterHandler),this.listenTo(this.activeFilters,"advanced-filter:remove",this.removeFilterHandler),this.listenTo(this.filterTypeController,"advanced-filter-target-collection:refresh",this.targetCollectionRefresh),d.bindAll(this,"targetCollectionRefresh")},_doUpdateFilter:function(a){if(a.name&&a.key){var b=this.activeFilters.findWhere({name:a.name});if(b||(this.addFilterHandler(a.name,!1),b=this.activeFilters.findWhere({name:a.name})),b){var c={key:a.key};b.controller.isValueSelected(b,c)?b.controller.removeValue(b,c,!0):b.controller.updateValue(b,c);var d=b.controller.getSelectedValues(b);0===d.length?this.removeFilterHandler(b.get("name")):b.initialized?(b.trigger("advanced-filter-value:do:render"),this.targetCollectionRefresh()):b.listenToOnce(b,"advanced-filter-value:initialized",this.targetCollectionRefresh)}}},_parseFilters:function(a,b,c){var d=this;if(!d.initialized){var e=d._getResponseAttribute(b,d.settings.readFiltersFromResponseKey);e&&d._extractFiltersFromMeta(e)}var f=d._getResponseAttribute(b,d.settings.readAppliedFiltersFromResposneKey);this._applyActiveFiltersFromResponse(f),this.trigger(d.settings.filterChangeEventName),d.settings.prefetchFilters&&"OPTIONS"===c.type&&this.targetCollection.queryParams.filter&&d.listenToOnce(d.targetCollection,"sync",d._parseFilters),d.initialized=!0},_getFiltersForCollectionUpdate:function(){var a={};return d.each(this.availableFilters.models,function(b){b.initialized&&b.get("config")&&(a[b.get("config").name]=null)}),d.each(this.activeFilters.models,function(b){b.controller.updateFilterValueOverCollection(b,a)}),this._formatFiltersForCollectionUpdate(a)},_formatFiltersForCollectionUpdate:function(a){var b=this,c=[];return d.each(a,function(a,e){a&&a.length>0&&d.each(a,function(a){c.push(e+b.settings.filterUrlSeparator+a)})}),{filter:c}},_addActiveFilter:function(a,b,c){var d=this.availableFilters.findWhere({name:a});if(d)return d.autoOpen=b,d.set("available",!1),this.availableFilters.trigger("refresh"),this.activeFilters.add(d),!c&&d.controller.refreshCollectionOnAdd()&&d.controller.trigger("advanced-filter-target-collection:refresh"),!0;throw new Error(this.settings.errors.unableToFindFilter)},_removeActiveFilter:function(a){var b=this.activeFilters.findWhere({name:a});if(b)return b.set("available",!0),this.availableFilters.trigger("refresh"),this.activeFilters.remove(b),b.controller.clearValues(b,!0),b.initFailed=!1,!0;throw new Error(this.settings.errors.unableToFindFilter)},_getResponseAttribute:function(a,b){if(a&&!d.isUndefined(a[b]))return a[b]},_extractFiltersFromMeta:function(a){var b=this;d.isUndefined(a.links)||d.each(a.links,function(a){a&&a.rel&&b.filterTypeController.isValidFilter(a.rel)&&b.availableFilters.add(a)})},_applyActiveFiltersFromResponse:function(a){var b=this;d.each(a,function(a){var c=b.availableFilters.findWhere({name:a.name});if(c&&a.selected){c.data=c.data||{};var e=[];d.each(a.selected,function(a){e.push(b._getDeepestNode(a))}),c.data.values=e,b.availableFilters.trigger("advanced-filter:add",a.name,!1,!0)}})},_getDeepestNode:function(a,b){return d.isArray(a)&&(a=a[0]),b=b?b+" - "+a.label:a.label,a.values&&a.values.length>0?this._getDeepestNode(a.values,b):(a.fullLabel=b,a.label=b,a)}})});define("modules/advanced-filters/views/advanced-filters",["require","exports","module","underscore","ironclad","../views/filters-collection-view","../views/available-filters-collection-view","../controllers/filters-controller"],function(a,b,c){
    var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../views/filters-collection-view"),h=a("../views/available-filters-collection-view"),i=a("../controllers/filters-controller");c.exports=e.ItemView.extend({className:"advanced-filters",template:"#advanced-filters-layout",placeholder:"",defaultFilterSearchScope:null,hideDefaultFilter:!1,useRQL:!1,hasDefaultFilter:!0,ui:{$filters:".filters-collection-container",$filterOptionsButton:".filter-options-btn",$optionsDropMenuContainer:".dropdown-menu-container",$defaultFilter:".default-filter",$defaultFilterParent:".default-filter-container",$filterOptions:".filters-options",$searchIcon:".search-icon",$removeQueryIcon:".remove-query"},events:{"click @ui.$filterOptionsButton":"closeOtherDropdowns","click @ui.$searchIcon":"searchIconClickHandler","keypress @ui.$defaultFilter":"defaultFilterKeyPressHandler","click @ui.$removeQueryIcon":"removeQueryClickHandler"},hasErrorHandler:!1,mainController:i,initialize:function(a){e.ItemView.prototype.initialize.apply(this,arguments);var b=this;a&&(this.defaultFilterSearchScope=a.defaultFilterSearchScope,this.useRQL=a.useRQL),this.filtersPersistenceController||(this.filtersPersistenceController=f.reqres.request("hub:filters:controller")),this.mainController=new this.mainController(a),this.addEventListeners(),this.placeholder=a.placeholder,this.hasDefaultFilter=d.isUndefined(a.hasDefaultFilter)?this.hasDefaultFilter:a.hasDefaultFilter,this.listenTo(this.mainController,"advanced-filter-target-collection:prefetched",function(){b.trigger("advanced-filter-target-collection:prefetched")}),d.bindAll(b,"_filterByQuery")},onDestroy:function(){this.mainController.destroy()},closeOtherDropdowns:function(){this.trigger("click.closePopup")},render:function(){e.ItemView.prototype.render.apply(this,arguments);var a=new g({collection:this.mainController.activeFilters});this.ui.$filters.html(a.render().$el);var b=new h({collection:this.mainController.availableFilters});if(this.ui.$optionsDropMenuContainer.html(b.render().$el),this.filtersPersistenceController){var c=this.filtersPersistenceController.getFilter(this._getDefaultFilterId());if(c){var d=c.get("value");this.defaultFilterSearchScope&&d&&(d=d.replace(this.defaultFilterSearchScope+":","")),this.ui.$defaultFilter.val(d),this.ui.$removeQueryIcon.show()}}return this.filterChangedHandler(),this.getOption("hideDefaultFilter")?this.ui.$defaultFilterParent.css("display","none"):this.ui.$defaultFilter.attr("placeholder",this.placeholder),this.ui.$defaultFilter.attr("placeholder",this.placeholder),this.ui.$defaultFilter.parent().toggleClass("hide",!this.hasDefaultFilter),this},addEventListeners:function(){this.listenTo(this.mainController,"advanced-filter:change",this.filterChangedHandler)},filterChangedHandler:function(){var a=this.mainController.availableFilters.findWhere({available:!0});this.ui.$filterOptionsButton.toggleClass("disabled",!a),this.mainController.availableFilters.size()+this.mainController.activeFilters.size()===0?this.ui.$filterOptions.hide():this.ui.$filterOptions.show()},defaultFilterKeyPressHandler:function(a){var b=a.keyCode?a.keyCode:a.which;if(13===b){var c=this.ui.$defaultFilter.val();this._filterByQuery(c)}},searchIconClickHandler:function(){var a=this.ui.$defaultFilter.val();this._filterByQuery(a)},removeQueryClickHandler:function(){this._filterByQuery("")},_filterByQuery:function(a){var b=a.trim();b.length>0?(this.ui.$removeQueryIcon.show(),this.ui.$defaultFilter.val(b)):(this.ui.$removeQueryIcon.hide(),this.ui.$defaultFilter.val("")),this.mainController.filterByQuery(b)},_getDefaultFilterId:function(){var a={key:"q"};return this.mainController.targetCollection.persistence&&this.mainController.targetCollection.persistence.filtersContext&&(a.context=this.mainController.targetCollection.persistence.filtersContext),a},getDefaultFilterValue:function(){var a=this.options.targetCollection.queryParams.q;if(a)return encodeURIComponent(a)}})});define("modules/admin-users/views/users-list",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/users/models/user","../models/users-paged","./users-table","./users-header","modules/advanced-filters/views/advanced-filters","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/users/models/user"),h=a("../models/users-paged"),i=a("./users-table"),j=a("./users-header"),k=a("modules/advanced-filters/views/advanced-filters"),l=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#admin-users-results-list",className:"admin-users",regions:{usersTable:".admin-users-table",usersHeader:".js-header",usersFilter:".js-users-filter"},ui:{$addUserBtn:".js-create-user-btn",$serverResponse:".js-server-response",$successMessage:".js-server-success-container"},events:{"click @ui.$addUserBtn":"openCreateModal"},behaviors:{Sticky:{behaviorClass:l}},initialize:function(){this.collection=new h,e.Layout.prototype.initialize.apply(this,arguments),d.bindAll(this,"_refreshCollection");var a=this;this.listenTo(e.MessageBus.vent,"user:updated:password",function(){a._refreshCollection(),a.ui.$serverResponse.addClass("alert-success").text(f.get("app.modules.admin.user.password.validation.success"))}),this.listenTo(e.MessageBus.vent,"user:created",function(a){window.location.href=a._meta.href})},onRender:function(){this.filterValue=this.options.q||"",this.usersHeader.show(new j),this._refreshCollection(),this.usersTable.show(new i({collection:this.collection})),this.showUsersFilter(this.collection)},_refreshCollection:function(){this.collection.fetch({reset:!0})},openCreateModal:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"users",view:"create"},new g)},showUsersFilter:function(a){var b=new k({targetCollection:a,placeholder:f.get("app.modules.common.header.admin.filterUserPlaceholder"),defaultFilterSearchScope:["email","userName","firstName","lastName"],useRQL:!0});this.usersFilter.show(b)}})}),define("modules/admin-users/views/user-actions",["require","exports","module","ironclad","modules/i18n/main","modules/users/models/reset-password"],function(a,b,c){var d=a("ironclad"),e=(a("modules/i18n/main"),a("modules/users/models/reset-password"));c.exports=d.ItemView.extend({template:"#admin-users-user-actions",className:"alt-user-actions",ui:{$changePassword:"button.js-change-password"},hasErrorHandler:!1,events:{"click @ui.$changePassword":"openChangePasswordModal"},onRender:function(){this.model.getLink("reset-password")||(this.ui.$changePassword.attr("disabled","disabled"),this.ui.$changePassword.find(".fa").removeClass("fa-unlock").addClass("fa-lock"))},openChangePasswordModal:function(a){a.preventDefault();var b=this.model.getLink("reset-password");if(b){var c=new e({id:b});c.url=b,d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"users",view:"resetpassword"},c)}}})}),define("modules/admin-users/views/user-details",["require","exports","module","underscore","modules/i18n/main","modules/form/views/layout"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/form/views/layout");c.exports=f.extend({id:"user-details",className:"form form-horizontal form-section",headerView:e.get("app.views.user.sidebar.userDetails"),hasSuccessHandler:!0,successMessage:e.get("app.modules.admin.user.details.successMessage"),footerTemplate:"#form-buttons-save-only",formFields:{userName:{type:"text",label:e.get("app.modules.admin.userList.name"),required:!0},firstName:{type:"text",label:e.get("app.modules.admin.ldap.mapping.firstNameLabel")},lastName:{type:"text",label:e.get("app.modules.admin.ldap.mapping.lastNameLabel")},email:{type:"text",label:e.get("app.modules.labels.email")},active:{type:"checkbox",label:e.get("app.modules.admin.user.activeUser")}},onRender:function(){f.prototype.onRender.apply(this,arguments);var a=this;d.defer(function(){a.model.get("externalName")&&a.$('input[name="userName"]').attr("disabled","disabled")})}})}),define("modules/admin-users/models/user-groups",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.PageableCollection.extend({model:d.Model.extend({isNew:function(){return!this.has("_meta")}}),url:function(){return"api/internal/users/"+this.userId+"/usergroups"},initialize:function(a,b){d.Collection.prototype.initialize.apply(this,arguments),this.options=b,this.userId=b.userId},parse:function(a){return a.items}})}),define("modules/admin-users/views/user-groups-table",["require","exports","module","ironclad","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main");c.exports=e.Table.extend({initialize:function(){return this.listenTo(this.collection,"destroy",function(){this.collection.fetch()}),e.Table.prototype.initialize.apply(this,arguments)},options:{description:f.get("app.modules.userGroups.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",columns:function(){return d.WeightedStore.getItemsData("user-assigned-groups")}}}})}),define("modules/common/models/generic-bulk-action-collection",["require","exports","module","underscore","ironclad","backbone"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("backbone");c.exports=e.Collection.extend({sync:function(a,b,c){return"delete"===a&&(c.data=JSON.stringify(this.models),c.contentType="application/json"),f.sync.apply(this,arguments)},saveAll:function(){return this.sync("update",this,{always:this.always,error:d.bind(this.error,this),success:this.success})},createAll:function(){return this.sync("create",this,{always:this.always,error:d.bind(this.error,this),success:this.success})},destroyAll:function(){return this.sync("delete",this,{always:this.always,error:d.bind(this.error,this),success:this.success})},always:function(a,b,c){return c},error:function(a){this.trigger("error",this,a)}})}),define("modules/admin-users/models/group-assignment",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/common/models/generic-bulk-action-collection"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/common/models/generic-bulk-action-collection");c.exports=e.Model.extend({validation:{groups:{required:!0,msg:f.get("app.modules.work.project.version.group.empty")}},save:function(){var a=this,b=this.validate();if(!(d.keys(b).length>0)){var c=new g(this.get("groups").map(function(a){return a._meta?{userGroupUrl:a._meta.href}:{userGroupUrl:a.id}}));return c.id="1",c.url=this.url,c.success=function(){a.trigger("success")},c.error=function(){a.trigger("error")},c.createAll()}a.trigger("validated:invalid")}})}),define("modules/admin-users/views/user-groups",["require","exports","module","ironclad","../models/user-groups","./user-groups-table","../models/group-assignment"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("../models/user-groups"),g=a("./user-groups-table"),h=a("../models/group-assignment");c.exports=d.Layout.extend({template:"#admin-users-user-groups",ui:{addGroupBtn:".btn-add-group"},regions:{groupsRegion:".region-groups"},events:{"click @ui.addGroupBtn":"addGroup"},initialize:function(a){return this.model=a?a.model:null,d.Layout.prototype.initialize.apply(this,arguments)},onRender:function(){var a=this.model.getLink("usergroups"),b=new f(null,{url:a,userId:this.model.get("id")});this.groupsRegion.show(new g({collection:b})),e.commands.setHandler("user:overview:fetch:groups",function(){b.fetch()}),b.fetch()},addGroup:function(){var a=new h;a.url=this.model.getLink("usergroups"),e.vent.trigger("assets:actions:modal",{assetName:"groups",view:"group-assignment-add"},a)}})}),define("modules/admin-users/views/user-overview",["require","exports","module","underscore","jquery","ironclad","modules/i18n/main","modules/admin-roles/models/roles","modules/admin-roles/models/entity-roles","./users-header","./user-actions","./user-details","modules/admin-roles/views/roles","./user-groups"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("ironclad"),g=a("modules/i18n/main"),h=a("modules/admin-roles/models/roles"),i=a("modules/admin-roles/models/entity-roles"),j=a("./users-header"),k=a("./user-actions"),l=a("./user-details"),m=a("modules/admin-roles/views/roles"),n=a("./user-groups");c.exports=f.Layout.extend({template:"#admin-users-user-overview",className:"admin-user-details",regions:{usersHeaderRegion:".js-header",userActionsRegion:"#admin-user-actions",userDetailsRegion:"#admin-user-details",userRolesRegion:"#admin-user-roles",userGroupsRegion:"#admin-user-groups"},ui:{$serverResponse:".js-server-response"},modelEvents:{sync:"render"},initialize:function(){f.Layout.prototype.initialize.apply(this,arguments),this.listenTo(f.MessageBus.vent,"user:updated:password",this._showUpdatedPasswordMessage),d.bindAll(this,"renderRoles")},onRender:function(){this.usersHeaderRegion.show(new j({model:this.model})),this.userActionsRegion.show(new k({model:this.model})),this.userDetailsRegion.show(new l({model:this.model})),this.userGroupsRegion.show(new n({model:this.model})),this.renderRoles()},renderRoles:function(){var a=this,b=this.model.getLink("roles"),c=new i(null,{url:b}),d=new h;e.when(c.fetch(),d.fetch()).then(function(){var b=new m({collection:d,entityRoles:c});a.userRolesRegion.show(b)})},_showUpdatedPasswordMessage:function(){this.ui.$serverResponse.addClass("alert alert-success").text(g.get("app.modules.admin.user.password.validation.success"))}})}),define("modules/admin-users/controllers/route-controller",["require","exports","module","app","ironclad","../views/users-list","../views/user-overview","modules/users/models/user"],function(a,b,c){var d=a("app"),e=a("ironclad").MessageBus,f=a("../views/users-list"),g=a("../views/user-overview"),h=a("modules/users/models/user");c.exports={showUserList:function(){var a=e.reqres.request("hub:filters:controller");a&&a.restoreFilters(),d.appLayout.content.show(new f)},showUser:function(a){var b=new h({id:a});b.fetch().success(function(){d.appLayout.content.show(new g({model:b}))})}}}),define("modules/admin-users/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"admin/users(/)":"showUserList","admin/users/:userId(/)":"showUser"},pageTitles:{"*":f.get("app.modules.common.header.admin.users.label")}})}),define("modules/admin-users/views/create",["require","exports","module","underscore","ironclad","backbone","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=(a("underscore"),a("ironclad").MessageBus),e=(a("backbone"),a("modules/i18n/main")),f=a("modules/form/views/modal");c.exports=f.extend({id:"users-create-modal",headerView:e.get("app.modules.admin.user.new.create"),footerTemplate:"#form-buttons-create",formFields:{userName:{type:"text",label:e.get("app.modules.admin.userList.name"),autofocus:!0,autocomplete:"off"},email:{type:"text",label:e.get("app.modules.admin.userList.email"),autocomplete:"off"},firstName:{type:"text",label:e.get("app.modules.admin.userList.firstName"),autocomplete:"off"},lastName:{type:"text",label:e.get("app.modules.admin.userList.lastName"),autocomplete:"off"},active:{type:"checkbox",label:e.get("app.modules.admin.user.activeUser")},password:{type:"password",label:e.get("app.modules.admin.user.password"),autocomplete:"off"},passwordRepeat:{type:"password",label:e.get("app.modules.admin.user.passwordConfirm"),autocomplete:"off"}},redirect:function(){return d.vent.trigger("user:created",this.model),!1}})}),define("modules/admin-users/views/admin-item-meta",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#admin-users-admin-item-meta",templateHelpers:function(){var a=this;return{getActiveUsers:function(){return a.model.get("registrationAttributes")?a.model.get("registrationAttributes").USER_LIMIT.actualValue:0},isUnlimited:function(){return!!a.model.get("registrationAttributes")&&a.model.get("registrationAttributes").USER_LIMIT.unlimited},getPercentage:function(){if(a.model.get("registrationAttributes")&&!a.model.get("registrationAttributes").USER_LIMIT.unlimited){var b=a.model.get("registrationAttributes").USER_LIMIT.actualValue,c=a.model.get("registrationAttributes").USER_LIMIT.hardValue;return b/c*100}return 0},getMaxUsers:function(){return a.model.get("registrationAttributes")&&!a.model.get("registrationAttributes").USER_LIMIT.unlimited?a.model.get("registrationAttributes").USER_LIMIT.hardValue:-1}}}})}),define("modules/admin-users/views/admin-item",["require","exports","module","backbone","modules/admin/views/_admin-item","./admin-item-meta","modules/session/models/registration"],function(a,b,c){var d=a("backbone"),e=a("modules/admin/views/_admin-item"),f=a("./admin-item-meta"),g=a("modules/session/models/registration");c.exports=e.extend({template:"#admin-users-admin-item",initialize:function(){this.model=new g,this.listenTo(this.model,"sync",this.renderMetaInfo),e.prototype.initialize.apply(this,arguments)},onRender:function(){this.model.fetch({summary:!1})},renderMetaInfo:function(){this.metaInfoRegion.show(new f({model:this.model}))},gotoPage:function(){d.history.navigate("#admin/users",{trigger:!0})}})}),define("modules/admin-users/views/user-assign-group",["require","exports","module","ironclad","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/form/views/modal");c.exports=f.extend({formFields:{groups:{type:"select-group",label:e.get("app.modules.userGroups.group.label"),placeholder:e.get("app.modules.common.header.groups.placeholder"),maxItems:10},activeOnly:{type:"checkbox",label:e.get("app.modules.userGroups.activeOnly")}},headerView:e.get("app.modules.work.project.version.add.group"),footerTemplate:"#form-buttons-add",onSuccess:function(){d.commands.execute("user:overview:fetch:groups")},redirect:function(){return!1}})}),define("modules/admin-users/controllers/user-group-assignment-delete",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({tooltip:e.get("app.modules.team.members.remove.user.from.group"),deleteRow:function(){d.vent.trigger("assets:actions:modal",{assetName:"groups",view:"group-assignment-delete"},this.model)},canDelete:function(){return this.model.canDelete()}})}),define("modules/admin-users/controllers/user-group-roles",["require","exports","module","underscore","anglebrackets"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets");c.exports=e.TableCell.extend({className:"text-muted",getTargetAttributeFromModel:function(){var a=this.model.get("roles");return a&&a.length>0?this.getDirectAssignedRolesLabel(a):""},getDirectAssignedRolesLabel:function(a){return d.pluck(a,"name").join(", ")}})}),define("modules/admin-users/main",["require","exports","module","underscore","anglebrackets","modules/i18n/main","ironclad","./router","ironclad","modules/users/models/user","./views/create","./views/admin-item","modules/admin-groups/views/members-delete","./views/user-assign-group","./controllers/user-group-assignment-delete","./controllers/user-group-roles"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets"),f=a("modules/i18n/main"),g=a("ironclad"),h=a("./router"),i=a("ironclad").MessageBus,j=a("modules/users/models/user"),k=a("./views/create"),l=a("./views/admin-item"),m=a("modules/admin-groups/views/members-delete"),n=a("./views/user-assign-group"),o=a("./controllers/user-group-assignment-delete"),p=a("./controllers/user-group-roles");i.reqres.setHandler("users:views:modals:create",function(){return k}),i.commands.setHandler("assets:users:data:modal",function(a,b){var c=new j({id:a.userId});c.fetch().success(function(){var e=d.extend({user:c},a);b.set(e),a.user=e.user,b.trigger("loaded")})}),i.reqres.setHandler("groups:views:modals:group-assignment-delete",function(){return m}),i.reqres.setHandler("groups:views:modals:group-assignment-add",function(){return n});new h;g.WeightedStore.addItem("adminList",new l,10),g.WeightedStore.addItem("user-assigned-groups",{label:f.get("app.modules.userGroups.tableGroupName"),name:"name",cell:e.TableCell,template:"#admin-users-user-group-name-cell",editable:!1,sortable:!0},3),g.WeightedStore.addItem("user-assigned-groups",{label:f.get("app.modules.userGroups.source"),cell:e.TableCell,editable:!1,sortable:!1,defaultCellValue:function(){return this.model.get("createdFrom")?f.get("app.modules.userGroups.source."+this.model.get("createdFrom")):""}},4),g.WeightedStore.addItem("user-assigned-groups",{label:f.get("common.status"),name:"active",cell:e.TableCell,template:"#admin-groups-state-cell",editable:!1,sortable:!0},5),g.WeightedStore.addItem("user-assigned-groups",{label:f.get("common.roles"),name:"roles",cell:p,editable:!1,sortable:!1},5),g.WeightedStore.addItem("user-assigned-groups",{name:"id",label:"",editable:!1,sortable:!1,cell:o},7)}),define("modules/suite-nav/views/side-nav-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({tagName:"li",events:{"click a":"closeSideNav"},closeSideNav:function(a){return $(document).trigger("click.side.nav"),!0}})}),define("modules/admin/views/menu-link",["require","exports","module","modules/suite-nav/views/side-nav-item"],function(a,b,c){var d=a("modules/suite-nav/views/side-nav-item");c.exports=d.extend({template:"#admin-menu-link"})}),define("modules/admin/views/content",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ViewContainer.extend({template:"#common-empty",className:"row",id:"adminList",options:{containerId:"adminList"}})}),define("modules/admin/views/layout",["require","exports","module","ironclad","./header","./content"],function(a,b,c){var d=a("ironclad"),e=a("./header"),f=a("./content");c.exports=d.Layout.extend({template:"#admin-layout",regions:{headerRegion:".js-header",contentRegion:".js-content"},onRender:function(){this.headerRegion.show(new e),this.contentRegion.show(new f)}})}),define("modules/admin/controllers/route-controller",["require","exports","module","app","../views/layout"],function(a,b,c){var d=a("app"),e=a("../views/layout");c.exports={showAdminLayout:function(){d.appLayout.content.show(new e)}}}),define("modules/admin/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main"),g=d.extend({controller:e,appRoutes:{"admin(/)":"showAdminLayout"},pageTitles:{"*":f.get("app.modules.common.header.admin.menuTitle")}});c.exports=new g}),define("modules/admin/main",["require","exports","module","ironclad","./views/menu-link","./router"],function(a,b,c){var d=a("ironclad"),e=a("./views/menu-link");a("./router"),d.WeightedStore.addItem("suiteSideNav",new e,10,"AdminMenu")}),define("modules/asset/models/asset-data",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({})}),define("modules/asset/router",["require","exports","module","modules/router/main","underscore"],function(a,b,c){var d=a("modules/router/main"),e=a("underscore"),f=function(a,b,c){var f=c||{};f[a+"/(*splats)"]="base",f[a+"/"]=f[a]="base";var g=e.extend({},{appRoutes:f,controller:b}),h=d.extend(g);e.extend(this,new h)};c.exports=f}),define("modules/common/views/empty",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#common-empty",className:"empty"})}),define("modules/asset/views/layout",["require","exports","module","underscore","ironclad","modules/common/views/empty"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/common/views/empty");c.exports=e.Layout.extend({template:"#asset-layout",regions:{header:"#assetHeader",localNav:"#assetLocalNav",content:"#assetContent"},onRender:function(){var a=this.options.assetName+":views:",b=d.extend({},{assetData:this.options},{model:this.model}),c=f.reqres.request(a+"header:"+this.options.view);d.isUndefined(c)&&(c=f.reqres.request(a+"header"));var e=f.reqres.request(a+"localnav"),h=f.reqres.request(a+"content:"+this.options.view);if(d.isFunction(c)?this.header.show(new c(b)):this.header.show(new g),d.isFunction(h))this.content.show(new h(b));else{var i=f.reqres.request("error:view",404);this.content.show(i)}e&&"error"!==this.options.view&&this.localNav.show(new e(b))}})}),define("modules/asset/models/current-route-params",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=new d.Model}),define("modules/asset/route-controller",["require","exports","module","ironclad","app","underscore","marionette","./views/layout","modules/i18n/main","./models/current-route-params"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("app"),g=a("underscore"),h=a("marionette"),i=a("./views/layout"),j=a("modules/i18n/main"),k=a("./models/current-route-params");c.exports=h.Object.extend({defaultParams:{action:"base"},base:function(a){this.setupFiltersController(),this.filtersController&&this.filtersController.restoreFilters(),a=d.explodeRoute(a);var b=this.options.params=g.extend({assetName:this.options.name},this.options.defaultParams,this.defaultParams,a),c=this,f="assets:"+this.options.name+":data";"base"!=b.action&&(f+=":"+b.action),this.options.data.once("loaded",function(){var a="actions:"+b.action;c.triggerMethod(a,b,this),c.setPageTitle(b,this)}),k.clear(),k.set(b),e.commands.hasHandler(f)?e.commands.execute(f,b,this.options.data):this.options.data.trigger("loaded")},setupFiltersController:function(){this.filtersController||(this.filtersController=e.reqres.request("hub:filters:controller"))},onActionsBase:function(a,b){var c=a.LayoutView||i,d=g.extend({},a,{model:b}),e=new c(g.omit(d,["id"]));f.appLayout.content.show(e)},setPageTitle:function(a,b){if(document.title=j.get("app.modules.common.product"),"error"===b.get("view"))document.title=j.get("app.modules.common.assetName.title.errorPage");else if(b.get("assetName")){var c="app.modules.common.assetName.title."+b.get("assetName"),d=j.get(c,b.attributes);d!==c&&g.defer(function(){document.title=d})}}})}),define("modules/link-nav/views/link-nav-view",["require","exports","module","ironclad","./../registry","bootstrap"],function(a,b,c){var d=a("ironclad"),e=a("./../registry"),f=a("bootstrap");c.exports=d.Layout.extend({initialize:function(a){d.requireOptions(this,"menuCode"),this.once("render",this.setupListener)},getTemplate:function(){return e.hasMenuItems(this.options.menuCode)||!this.options.hideEmptyMenu?this.options.template:"#link-nav-empty"},render:function(){return this.options.template?d.Layout.prototype.render.apply(this,arguments):(this.onRender(),void this.trigger("render"))},onRender:function(){var a=e.getMenuItems(this.options.menuCode),b=this.options.menuSelector?this.$(this.options.menuSelector):this.$el;b.html(a),this.$el.attr("data-menu-code",this.options.menuCode),f(this.$(".dropdown-toggle")).dropdown()},setupListener:function(){this.listenTo(e,"change:"+this.options.menuCode,this.render)}})}),define("modules/asset/views/local-nav",["require","exports","module","ironclad","modules/link-nav/views/link-nav-view","../models/current-route-params"],function(a,b,c){function d(a){var b=a.lastIndexOf("/");if(b>-1){a=a.substr(b+1);var c=e.explodeRoute(a);if(c){var d=c.view;if(d&&d.length>0)return d}}}var e=a("ironclad"),f=a("modules/link-nav/views/link-nav-view"),g=a("../models/current-route-params");c.exports=f.extend({tagName:"ul",className:"js-local-nav nav navbar-nav",initialize:function(a){f.prototype.initialize.apply(this,arguments),this.once("render",this.setActiveMenuItem)},setActiveMenuItem:function(){var a=g.get("view");a&&this.$("a").each(function(){var b=d($(this).attr("href"));if(b&&b==a)return $(this).parent().addClass("active"),!1})}})}),define("modules/asset/module",["require","exports","module","ironclad","marionette","./models/asset-data","underscore","./router","./route-controller","./views/local-nav"],function(a,b,c){var d=a("ironclad"),e=a("marionette"),f=a("./models/asset-data"),g=d.MessageBus,h=a("underscore"),i=a("./router"),j=a("./route-controller"),k=a("./views/local-nav"),l={};c.exports=e.Object.extend({initialize:function(a){h.bindAll(this,"reTrigger"),d.requireOptions(this,"name");var b=a.Controller||j,c=a.name;if(l.hasOwnProperty(c))throw new Error('The asset name: "'+c+'" is already taken!');l[c]=!0,this.data=new f,this.controller=new b({data:this.data,name:a.name,defaultParams:a.defaultParams}),this.router=new i(c,this.controller,a.routes),this.listenTo(this.controller,"all",this.reTrigger);var e="assets:"+c+":data";g.commands.hasHandler(e)||g.commands.setHandler(e,function(a,b){b.set(a),b.trigger("loaded")}),g.reqres.setHandler(c+":views:localnav",function(){return k.extend({options:{menuCode:c+":localnav"}})})},reTrigger:function(a){var b=["assets:"+a].concat(h.rest(arguments));g.vent.trigger.apply(g.vent,b)}})}),define("modules/code-locations-fs/views/generic-upload-dialog",["require","exports","module","underscore","bootstrap","ironclad","marionette","modules/i18n/main","modules/modals/views/layout-form","dropzone"],function(a,b,c){var d=a("underscore"),e=(a("bootstrap"),a("ironclad")),f=e.MessageBus,g=a("marionette"),h=a("modules/i18n/main"),i=a("modules/modals/views/layout-form");a("dropzone"),c.exports=i.extend({refreshCodeLocations:!1,ui:d.extend({},i.prototype.ui,{$uploadForm:"form.js-file-upload"}),onRender:function(){i.prototype.onRender.apply(this,arguments);var a=g.TemplateCache.get("#code-locations-fs-generic-upload-preview"),b=this;this.myDropzone=this.$(this.ui.$uploadForm).dropzone({autoQueue:!0,forceFallback:!1,addRemoveLinks:!1,parallelUploads:1,acceptedFiles:".json, .jsonld",previewTemplate:a(d.extend({},e.templateHelpers)),previewContainer:"#upload-preview-container",dictDefaultMessage:h.get("app.modules.common.upload-dialog.defaultMessage"),dictFallbackMessage:h.get("app.modules.common.upload-dialog.fallbackMessage"),dictCancelUpload:!1,dictCancelUploadConfirmation:!1,dictRemoveFile:h.get("app.modules.common.upload-dialog.removeFile"),dictInvalidFileType:h.get("app.modules.common.upload-dialog.errorInvalidType"),init:function(){var a=this;a.on("reset",function(){b.trigger("state:active"),b.clearErrors()}),a.on("error",function(a,c){b.trigger("state:active"),b.$(a.previewTemplate).find(".progress-bar").removeClass("progress-bar-default active").addClass("progress-bar-danger");var d=c.errorMessage;c.arguments&&c.arguments.errorMessage&&(d=c.arguments.errorMessage),b.$(a.previewTemplate).find(".error").append(d),b.$(a.previewTemplate).find(".fa-stack").spin(!1),b.$(a.previewTemplate).find(".upload-actions").empty()}),a.on("complete",function(a){b.trigger("state:active")}),a.on("processing",function(a){b.trigger("state:waiting"),b.$(a.previewTemplate).find(".progress-bar").addClass("progress-bar-striped")}),a.on("sending",function(a){b.trigger("state:waiting"),b.$(a.previewTemplate).find(".progress-bar").addClass("active"),b.$(a.previewTemplate).find(".upload-actions").empty(),b.$(a.previewTemplate).find(".fa-stack").spin("tiny")}),a.on("success",function(a){b.refreshCodeLocations=!0,b.$(a.previewTemplate).find(".progress-bar").removeClass("progress-bar-default progress-bar-striped active").addClass("progress-bar-success"),b.$(a.previewTemplate).find(".upload-actions").empty(),b.$(a.previewTemplate).find(".fa-stack").spin(!1),b.$(a.previewTemplate).find(".progress-row").hide()}),a.on("queuecomplete",function(){b.trigger("state:active");
})}})[0]},onCancel:function(){this.refreshCodeLocations&&f.vent.trigger("code-location:created")},redirect:function(){return!1},modelErrorHandler:function(a,b){this.handleApiErrors(a,b),this.trigger("state:active")},onDestroy:function(){this.myDropzone.dropzone.destroy()}})}),define("modules/code-locations-bdio/views/upload-dialog",["require","exports","module","modules/code-locations-fs/views/generic-upload-dialog"],function(a,b,c){var d=a("modules/code-locations-fs/views/generic-upload-dialog");c.exports=d.extend({template:"#code-locations-bdio-upload-dialog",id:"code-locations-create-bdio-import-type"})}),define("modules/code-locations-bdio/controllers/view-import-log",["require","exports","module","anglebrackets","ironclad"],function(a,b,c){var d=a("anglebrackets"),e=a("ironclad");c.exports=d.TableCell.extend({template:"#code-locations-bdio-view-import-log",events:{"click button":"showImportLog"},showImportLog:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations-bdio",view:"importLog"},this.model)}})}),define("modules/common/controllers/expander-cell",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.TableCell.extend({template:"#common-expander-cell",className:"expander-cell",ui:{$expander:".expander"},initialize:function(a){d.TableCell.prototype.initialize.apply(this,arguments),this.expandClass=a.expandClass||"fa-angle-right",this.collapseClass=a.collapseClass||"fa-angle-down",this.listenTo(this.model,"table:row:expand",this.expandHandler),this.listenTo(this.model,"table:row:collapse",this.collapseHandler)},expandHandler:function(){this.ui.$expander.removeClass(this.expandClass).addClass(this.collapseClass).prop("title",e.get("app.modules.common.clickToCollapseRow"))},collapseHandler:function(){this.ui.$expander.removeClass(this.collapseClass).addClass(this.expandClass).prop("title",e.get("app.modules.common.clickToExpandRow"))}})}),define("modules/code-locations-bdio/views/import-failure-message",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({tagName:"tr",template:"#code-locations-bdio-import-failure-message"})}),define("modules/code-locations-bdio/views/import-log-table",["require","exports","module","anglebrackets","modules/i18n/main","modules/common/controllers/expander-cell","./import-failure-message"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/common/controllers/expander-cell"),g=a("./import-failure-message");c.exports=d.Table.extend({options:{description:e.get("app.modules.code.locations.bdio.import.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow.extend({expandable:{expandedContent:function(){return new g({model:this.model})},addBehaviourCondition:function(){var a=this.model.get("failureReason");return void 0!==a&&a.length>0}}}),columns:[{name:"expander",label:"",cell:f.extend({render:function(){var a=this.model.get("failureReason");return void 0!==a&&a.length>0&&f.prototype.render.apply(this,arguments),this}}),editable:!1,sortable:!1},{name:"type",label:"",cell:d.TableCell,template:"#code-locations-bdio-event-type-cell",editable:!1,sortable:!1},{name:"externalId",label:e.get("app.modules.code.locations.bdio.protexName"),cell:d.TableCell,template:"#code-locations-bdio-protex-name-cell",editable:!1,sortable:!1},{name:"externalId",label:e.get("app.modules.code.locations.bdio.hubName"),cell:d.TableCell,template:"#code-locations-bdio-hub-name-cell",editable:!1,sortable:!1},{name:"status",label:e.get("common.status"),cell:d.TableCell,template:"#code-locations-bdio-status-type-cell",editable:!1,sortable:!1}]}}})}),define("modules/code-locations-bdio/models/component-audit-events-summary",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/internal/bom-import/component-audit-events-summary"})}),define("modules/code-locations-bdio/views/summary",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#code-locations-bdio-import-log-details-summary",templateHelpers:{getEventCounts:function(a){var b=this.items;if(b){var c=d.findWhere(b,{name:a});return c?c.count:0}return 0}}})}),define("modules/code-locations-bdio/views/import-log-details",["require","exports","module","ironclad","modules/i18n/main","../models/component-audit-events-summary","./summary"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("../models/component-audit-events-summary"),g=a("./summary");c.exports=d.Layout.extend({template:"#code-locations-bdio-import-log-details",regions:{userRegion:".user-details-region",summary:"#region-import-log-details-summary"},onRender:function(){var a=this;if(this.model.get("createdByUserId")){var b=d.MessageBus.reqres.request("links:user",this.model.get("createdByUserId"));this.userRegion.show(b)}var c=new f({id:this.model.get("scanSourceId")});c.fetch().then(function(){a.summary.show(new g({model:c}))})},templateHelpers:{getLabelClass:function(){var a=this.status||"";switch(a.toUpperCase()){case"COMPLETED":return"label-success";case"COMPLETE":return"label-success";case"FAILED":return"label-danger";case"ERROR_SCANNING":return"label-danger";case"ERROR_SAVING_SCAN_DATA":return"label-danger";case"ERROR_MATCHING":return"label-danger";case"ERROR_BUILDING_BOM":return"label-danger";default:return"label-default"}},getLabel:function(){var a=this.status||"",b="app.views.jobs.status."+a.toUpperCase(),c=e.get(b);return c===b?e.get("app.modules.common.unknown"):c}}})}),define("modules/code-locations-bdio/views/import-log-modal",["require","exports","module","modules/common/models/pageable-collection","modules/modals/views/layout-view","./import-log-table","./import-log-details","modules/advanced-filters/views/advanced-filters"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("modules/modals/views/layout-view"),f=a("./import-log-table"),g=a("./import-log-details"),h=a("modules/advanced-filters/views/advanced-filters");c.exports=e.extend({template:"#code-locations-bdio-import-log",regions:{clRegion:".code-location-info",filterRegion:".import-log-filter",tableRegion:".import-log-table"},initialize:function(){this.options.large=!0,e.prototype.initialize.apply(this,arguments)},redirect:function(){return!1},onRender:function(){e.prototype.onRender.apply(this,arguments),this.clRegion.show(new g({model:this.model}));var a=d.extend({url:this.model.get("bomImportComponentAuditEventUrl"),comparator:function(a,b){var c=a.get("event"),d=b.get("event");return c===d?0:c.indexOf("FAILED")>0&&d.indexOf("FAILED")<0?-1:c.indexOf("SUCCEEDED")>0&&d.indexOf("FAILED")>0?1:0}}),b=new a;this.filterRegion.show(new h({targetCollection:b,hideDefaultFilter:!0})),this.tableRegion.show(new f({collection:b})),b.fetch()}})}),define("modules/code-locations-bdio/main",["require","exports","module","ironclad","modules/i18n/main","modules/asset/module","./views/upload-dialog","./controllers/view-import-log","./views/import-log-modal"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/i18n/main"),g=a("modules/asset/module"),h=a("./views/upload-dialog"),i=a("./controllers/view-import-log"),j=a("./views/import-log-modal");e.reqres.setHandler("code-locations-bdio:views:modals:importLog",function(){return j}),d.WeightedStore.addItem("code-locations-scans-columns",{label:"",name:"",cell:i,editable:!1,sortable:!1},50),e.reqres.setHandler("create-bdio-import-location:views:modals:upload",function(){return h}),d.WeightedStore.addItem("AddCodeLocationType",{name:f.get("app.modules.scans.bdioImport"),asset:"create-bdio-import-location",view:"upload"},100),c.exports=new g({name:"create-bdio-import-location"})}),define("modules/code-locations-bom/controllers/license-cell",["require","exports","module","marionette","backgrid","modules/i18n/main"],function(a,b,c){var d=a("marionette"),e=a("backgrid"),f=a("modules/i18n/main");c.exports=e.StringCell.extend({template:"#code-locations-bom-license-cell",className:"license-risk",render:function(){var a=void 0!==this.model.get("license")?this.model.get("license").licenseDisplay:f.get("app.modules.licenses.unknown"),b=d.TemplateCache.get(this.template)({licenseName:a});return this.$el.html(b),this}})}),define("modules/code-locations-bom/views/expanded-row-content",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-bom-expandable-row",tagName:"tr",className:"child-row",attributes:function(){return{"data-child-row":this.model.cid}}})}),define("modules/code-locations-bom/views/bom-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/license-cell","modules/common/controllers/expander-cell","./expanded-row-content"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/license-cell"),g=a("modules/common/controllers/expander-cell"),h=a("./expanded-row-content");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.bom.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover bom-breakdown backgrid",row:d.TableRow.extend({expandable:{expandedContent:h}}),columns:[{cell:g,name:"expander",label:"",editable:!1,sortable:!1},{label:e.get("app.modules.versions.bom.projectRelease"),name:"producerProjectName",template:"#code-locations-bom-project-cell",cell:d.TableCell,escapeValue:!1,editable:!1,sortable:!1},{label:e.get("app.modules.versions.bom.license"),name:"license",cell:f,editable:!1,sortable:!1},{label:e.get("app.modules.scans.distribution.version"),name:"forgeName",cell:"string",editable:!1,sortable:!1},{label:e.get("app.modules.versions.bom.matchType"),name:"match",cell:d.TableCell,editable:!1,sortable:!1,defaultCellValue:function(){return this.model.get("fileMatchType")?e.get("app.modules.versions.bom.matchType."+this.model.get("fileMatchType")):""}}]}}})}),define("modules/code-locations-bom/models/scan-bom-entries",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({url:function(){return"/api/v1/scans/"+this.scanId+"/scan-bom-entries"},initialize:function(a,b){this.scanId=b.scanId,d.prototype.initialize.apply(this,arguments)}})}),define("modules/code-locations-bom/views/layout",["require","exports","module","ironclad","./bom-table","../models/scan-bom-entries"],function(a,b,c){var d=a("ironclad"),e=a("./bom-table"),f=a("../models/scan-bom-entries");c.exports=d.Layout.extend({template:"#code-locations-bom-layout",id:"region-code-location-bom-table",className:"scan-bom",regions:{bomTable:".region-code-location-bom-table"},onRender:function(){var a=new f(null,{scanId:this.model.get("scanid")});a.fetch(),this.bomTable.show(new e({collection:a}))}})}),define("modules/code-locations-bom/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-bom-header"})}),define("modules/code-locations-bom/main",["require","exports","module","ironclad","./views/layout","./views/header"],function(a,b,c){var d=a("ironclad"),e=a("./views/layout"),f=a("./views/header"),g=d.MessageBus;g.reqres.setHandler("code-locations:views:header:bom",function(){return f}),g.reqres.setHandler("code-locations:views:content:bom",function(){return e})}),define("modules/code-locations-fs/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-fs-header",id:"code-location-fs-header"})}),define("modules/code-locations-fs/views/delete-mapping",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-view");c.exports=f.extend({template:"#code-locations-fs-delete-mapping",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,modelEvents:d.extend({destroy:"success"},f.prototype.modelEvents),success:function(){e.MessageBus.vent.trigger("code-location:updated"),this.closeModal()},redirect:function(){return!1},ok:function(a){a.preventDefault(),this.model.destroy({wait:!0})&&this.trigger("state:waiting")}})}),define("modules/code-locations/models/composite-codelocation",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/composite/codelocations"})}),define("modules/code-locations-fs/views/overview-details",["require","exports","module","ironclad","modules/code-locations/models/composite-codelocation"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/code-locations/models/composite-codelocation");c.exports=d.ItemView.extend({template:"#code-locations-fs-overview-details",className:"code-locations-fs-overview-details",ui:{$delete:"button.delete-code-location"},events:{"click @ui.$delete":"deleteCodeLocation"},deleteCodeLocation:function(){var a=new f({id:this.model.id});e.vent.trigger("assets:actions:modal",{assetName:"code-locations-fs",view:"delete-location"},a)},templateHelpers:{getScan:function(){return this.scanList&&this.scanList[0]?this.scanList[0]:this.numNonDirFiles?this:void 0},getFileCount:function(){var a=this.getScan();return a&&a.numNonDirFiles?this.formatNumber(a.numNonDirFiles):0},getDirCount:function(){var a=this.getScan();return a&&a.numDirs?this.formatNumber(a.numDirs):0},getScanSize:function(){var a=this.getScan();return a&&a.fileSystemSize?this.formatFileSize(a.fileSystemSize):0},getMatchCount:function(){var a=this.getScan();return a&&a.matchCount?this.formatNumber(a.matchCount):0}}})}),define("modules/form/models/field-selectize",["require","exports","module","jquery","underscore","marionette","ironclad","bloodhound","modules/i18n/main","selectize"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=a("marionette"),g=a("ironclad"),h=a("bloodhound"),i=a("modules/i18n/main");a("selectize"),c.exports=f.Object.extend({defaultOptions:{maxOptions:1e3,maxItems:1,loadThrottle:300,preload:!1,selectOnTab:!1,openOnFocus:!0,valueField:"id",searchThreshold:0,options:[],onInitialize:function(){},cache:!0,wildcard:"%QUERY"},initialize:function(a){g.requireOptions(this,"selector"),e.bindAll(this,"_setLoadingState","_unsetLoadingState","getSelectedOption"),this.options=e.extend({},this.defaultOptions,a),this.selector=d(this.options.selector),this.options.suggestURL?this.initDynamicSelector():this.initStaticSelector(),this._registerEvents()},initDynamicSelector:function(){var a=this,b=this.suggestions=new h({datumTokenizer:h.tokenizers.whitespace,queryTokenizer:h.tokenizers.whitespace,limit:1e3,remote:{url:this.options.suggestURL,filter:function(a){return a&&a.items?a.items:a},wildcard:this.options.wildcard,cache:this.options.cache}});b.initialize().done(function(){var c=a._getRenderConfig(a.options);a.selector.selectize({valueField:a.options.valueField,labelField:a.options.labelField,searchField:a.options.searchField,preload:a.options.preload,create:!1,highlight:!1,maxOptions:a.options.maxOptions,maxItems:a.options.maxItems,loadThrottle:a.options.loadThrottle,selectOnTab:a.options.selectOnTab,openOnFocus:a.options.openOnFocus,render:c,plugins:a.options.maxItems>1?["remove_button"]:[],onInitialize:a.options.onInitialize,load:function(c,d){return c.length<a.options.searchThreshold?void d():(a._setLoadingState(),void b.search(c,function(a){a&&a.length>0&&d(a)},e.bind(function(b){b&&b.length>0?d(b):this.options.create||a.trigger("error:no-opts",a.selector.attr("name"),i.get("app.modules.search.noResultsFound")),a._unsetLoadingState()},this)))}})})},initStaticSelector:function(){var a=this;a.selector.selectize({valueField:a.options.valueField,labelField:a.options.labelField,searchField:a.options.searchField,maxOptions:a.options.maxOptions,maxItems:a.options.maxItems,create:!1,highlight:!1,render:a._getRenderConfig(a.options),selectOnTab:a.options.selectOnTab,openOnFocus:a.options.openOnFocus,onInitialize:a.options.onInitialize}),a.options.options&&a._loadInitialOptions.call(a,a.options.options)},_setLoadingState:function(){this.selector[0].selectize.$control.spin("tiny")},_unsetLoadingState:function(){this.selector[0].selectize.$control.spin(!1)},_registerEvents:function(){var a=this;this.selector[0].selectize.on("change",function(){a.trigger("item:selected",this.options[arguments[0]])}),this.selector[0].selectize.on("item_remove",function(){a.trigger("item:cleared",this.options[arguments[0]])}),this.selector[0].selectize.on("clear",function(){a.trigger("item:cleared",this.options[arguments[0]])})},_loadInitialOptions:function(a){var b=this.selector[0].selectize;b.addOption(a),b.refreshOptions(!1)},_getRenderConfig:function(a){var b={};return a.optionTemplate&&(b.option=function(b){return f.TemplateCache.get(a.optionTemplate)(e.extend({},g.templateHelpers,{data:b}))}),a.itemTemplate&&(b.item=function(b){return f.TemplateCache.get(a.itemTemplate)(e.extend({},g.templateHelpers,{data:b}))}),b},getSelectedOption:function(){return this.selector[0].selectize?this.selector[0].selectize.options[this.selector[0].selectize.getValue()]||this.selector[0].selectize.getValue():null},clear:function(){this.selector[0].selectize.clear(),this.selector[0].selectize.clearOptions()},onDestroy:function(){this.selector&&this.selector[0]&&this.selector[0].selectize&&(this.selector[0].selectize.off("change"),this.selector[0].selectize.off("item_remove"),this.selector[0].selectize.off("clear"),this._unsetLoadingState(),this.selector[0].selectize.destroy())}})}),define("modules/code-locations-fs/models/scan",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:function(){return"/api/v1/codelocations/"+this.get("id")+"/releasemapping/"+this.get("version").id}})}),define("modules/code-locations-fs/views/overview-mapping",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/form/models/field-selectize","../models/scan"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/form/models/field-selectize"),i=a("../models/scan");c.exports=e.Layout.extend({template:"#code-locations-fs-overview-mapping",id:"code-locations-fs-overview-mapping",ui:{$mapToProject:".js-map-to-project-btn",$unmapFromProject:".js-unmap-from-project-btn",$projectMappingForm:".js-project-mapping-form",$cancelMapping:".js-cancel-btn",$projectSelector:"select.project-selector",$versionSelector:"select.version-selector",$versionDefaultMsg:".default-state-msg.versions",$createProjectBtn:".js-create-scan-project",$okBtn:".js-save-btn",$errorContainer:"#js-error-container",$form:"form"},events:{"click @ui.$okBtn":"saveMapping","click @ui.$cancelMapping":"cancelProjectMappingForm","submit @ui.$form":"saveMapping","click @ui.$createProjectBtn":"newProjectFromScan","click @ui.$mapToProject":"showProjectMappingForm","click @ui.$unmapFromProject":"unmapProjectDialog"},modelEvents:{sync:"render"},initialize:function(){var a=this;a.codeLocationId=this.options.model.id,a.listenTo(f.vent,"new:project:created:fs",a.handleNewProjectCreated),a.listenTo(f.vent,"code-location:updated code-location:deleted",a.handleScanUpdate)},handleScanUpdate:function(){this.model.clear(),this.model.set({id:this.codeLocationId}),this.model.fetch()},handleNewProjectCreated:function(a){this.submitMapping(a.get("canonicalReleaseId"))},showProjectMappingForm:function(){this.ui.$projectMappingForm.removeClass("hide"),this.setupProjectAutocomplete()},cancelProjectMappingForm:function(){this.ui.$projectMappingForm.addClass("hide"),this.projectAutocomplete&&this.projectAutocomplete.destroy()},unmapProjectDialog:function(){var a=new i({id:this.model.id,version:{id:this.model.get("scanLocationOwner").releaseId}});f.vent.trigger("assets:actions:modal",{assetName:"code-locations-fs",view:"delete"},a)},setupProjectAutocomplete:function(a){this.projectAutocomplete&&this.projectAutocomplete.destroy(),this.projectAutocomplete=new h({selector:this.ui.$projectSelector,suggestURL:"/api/v1/bom-project-suggestions?q=%QUERY",valueField:"id",labelField:"name",searchField:"name",searchThreshold:1,highlight:!1}),this.listenTo(this.projectAutocomplete,"item:selected",this.projectSelected),this.listenTo(this.projectAutocomplete,"item:selected",this.cleanFieldErrors),this.listenTo(this.projectAutocomplete,"error:no-opts",this.renderError)},setupVersionAutocomplete:function(a,b){this.versionAutocomplete&&this.versionAutocomplete.destroy(),this.ui.$versionDefaultMsg.addClass("hide"),this.ui.$versionSelector.removeClass("hide"),this.versionAutocomplete=new h({selector:this.ui.$versionSelector,valueField:"id",labelField:"version",searchField:"version",options:a.releases,highlight:!1})},newProjectFromScan:function(a){a.preventDefault(),f.vent.trigger("assets:actions:modal",{assetName:"projects",view:"create",type:"fs"},null)},projectSelected:function(a){this.clearError(),a?this.setupVersionAutocomplete(a):this.teardownVersionAutoComplete()},teardownVersionAutoComplete:function(){this.ui.$versionDefaultMsg.removeClass("hide"),this.ui.$versionSelector.addClass("hide"),this.versionAutocomplete&&this.versionAutocomplete.destroy()},saveMapping:function(a){a.preventDefault(),a.stopPropagation(),this.ui.$okBtn.html(g.get("app.modules.common.saving")),this.ui.$okBtn.spin("tiny"),this.submitMapping(this.ui.$versionSelector.val())},submitMapping:function(a){var b=new i({id:this.codeLocationId,version:{id:a}});b.get("version").id?b.save().success(d.bind(function(){this.clearError(),this.resetOkBtnStyle(),e.MessageBus.vent.trigger("code-location:updated")},this)).error(d.bind(function(a){var b=a.responseJSON.errorMessage;"{validation.asset.duplicate.asset}"===a.responseJSON.errorCode?b=g.get("app.modules.scans.mapping.view.duplicateEntry"):"{core.rest.invalid_format}"===a.responseJSON.errorCode&&(b=g.get("app.modules.scans.mapping.noneLabel")),this.showErrorMessage(b),this.resetOkBtnStyle()},this)):(this.showErrorMessage(g.get("app.modules.scans.mapping.view.noVersion")),this.resetOkBtnStyle())},clearError:function(){this.ui.$errorContainer.empty(),this.ui.$errorContainer.removeClass("alert-danger")},showErrorMessage:function(a){this.clearError(),this.ui.$errorContainer.addClass("alert-danger"),this.ui.$errorContainer.html(a)},renderError:function(a,b){var c=this.$("[name="+a+"]"),d=c.parents(".form-group").addClass("has-error");d.find(".help-block").remove();var e=$("<span />",{class:"help-block",text:b});c.hasClass("selectized")&&d.find(".selectize-input").after(e)},resetOkBtnStyle:function(){this.ui.$okBtn.spin(!1),this.ui.$okBtn.html(g.get("app.modules.common.button.save"))}})}),define("modules/code-locations-fs/views/overview-scans-table",["require","exports","module","ironclad","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main");c.exports=e.Table.extend({hasLoading:!1,options:{description:f.get("app.modules.scans.history.table.description"),paginationConfig:{enabled:!1},gridConfig:{className:"table table-hover backgrid",row:e.TableRow,columns:function(){return d.WeightedStore.getItemsData("code-locations-scans-columns")}}}})}),define("modules/code-locations-fs/views/overview-scans",["require","exports","module","ironclad","modules/common/models/pageable-collection","./overview-scans-table"],function(a,b,c){var d=a("ironclad"),e=a("modules/common/models/pageable-collection"),f=a("./overview-scans-table");c.exports=d.Layout.extend({template:"#code-locations-fs-overview-scans",regions:{table:"#region-code-locations-fs-overview-scans-table"},onRender:function(){this.table.show(new f({collection:new e(this.options.model.get("scanList"))}))}})}),define("modules/code-locations-fs/views/overview",["require","exports","module","backbone","ironclad","./overview-details","./overview-mapping","./overview-scans"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=a("./overview-details"),g=a("./overview-mapping"),h=a("./overview-scans");c.exports=e.Layout.extend({template:"#code-locations-fs-overview",id:"code-location-fs-overview",regions:{details:"#region-code-location-fs-details",settings:"#region-code-location-fs-overview-mapping",scans:"#region-code-location-fs-overview-scans"},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.listenTo(e.MessageBus.vent,"code-locations-fs:updated",function(){d.history.loadUrl(d.history.fragment)})},onRender:function(){this.details.show(new f({model:this.model})),this.settings.show(new g({model:this.model})),this.scans.show(new h({model:this.model}))}})}),define("modules/code-locations-fs/views/overview-mapping-modal",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/layout-view","../models/scan","modules/form/models/field-selectize"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/i18n/main"),g=a("modules/modals/views/layout-view"),h=a("../models/scan"),i=a("modules/form/models/field-selectize");c.exports=g.extend({template:"#code-locations-fs-overview-mapping-modal",id:"code-locations-fs-overview-mapping",ui:d.extend({},g.prototype.ui,{$projectSelector:"select.project-selector",$versionSelector:"select.version-selector",$versionDefaultMsg:".default-state-msg.versions",$okBtn:".js-btn-ok",$createProject:".js-btn-create"}),events:d.extend({},g.prototype.events,{"click @ui.$okBtn":"ok","click @ui.$createProject":"callCreateProjectModal","hidden.bs.modal":"loadCreateProject"}),onRender:function(){g.prototype.onRender.apply(this,arguments),this.setupProjectAutocomplete()},setupProjectAutocomplete:function(a){this.projectAutocomplete&&this.projectAutocomplete.destroy(),this.projectAutocomplete=new i({selector:this.ui.$projectSelector,suggestURL:"/api/v1/bom-project-suggestions?q=%QUERY",valueField:"id",labelField:"name",searchField:"name",initial:a,searchThreshold:1,highlight:!1}),this.listenTo(this.projectAutocomplete,"item:selected",this.projectSelected),this.listenTo(this.projectAutocomplete,"item:selected",this.cleanFieldErrors),this.listenTo(this.projectAutocomplete,"error:no-opts",this.renderError)},setupVersionAutocomplete:function(a,b){this.versionAutocomplete&&this.versionAutocomplete.destroy(),this.ui.$versionDefaultMsg.addClass("hide"),this.ui.$versionSelector.removeClass("hide"),this.versionAutocomplete=new i({selector:this.ui.$versionSelector,valueField:"id",labelField:"version",searchField:"version",initial:b,options:a.releases,highlight:!1}),this.listenTo(this.versionAutocomplete,"error:no-opts",this.renderError),this.listenTo(this.versionAutocomplete,"item:selected",this.cleanFieldErrors)},callCreateProjectModal:function(a){a.preventDefault(),this.newProjectCalled=!0,this.closeModal()},loadCreateProject:function(){d.isUndefined(this.newProjectCalled)||e.vent.trigger("assets:actions:modal",{assetName:"projects",view:"create",type:"fs"},null)},redirect:function(){return!1},projectSelected:function(a){a?this.setupVersionAutocomplete(a):this.versionAutocomplete.clear()},resetOkBtnStyle:function(){this.ui.$okBtn.spin(!1),this.ui.$okBtn.html(f.get("app.modules.common.button.save"))},ok:function(a){a.preventDefault();var b=new h({id:this.options.id,version:{id:this.ui.$versionSelector.val()}});this.ui.$okBtn.html(f.get("app.modules.common.saving")),this.ui.$okBtn.spin("tiny"),b.get("version").id?b.save().success(d.bind(function(){this.resetOkBtnStyle(),e.vent.trigger("code-location:updated"),this.closeModal()},this)).error(d.bind(function(a){var b=a.responseJSON.errorMessage;"{validation.asset.duplicate.asset}"===a.responseJSON.errorCode?b=f.get("app.modules.scans.mapping.view.duplicateEntry"):"{core.rest.invalid_format}"===a.responseJSON.errorCode&&(b=f.get("app.modules.scans.mapping.noneLabel")),this.showErrorMessage(b),this.resetOkBtnStyle()},this)):(this.resetOkBtnStyle(),this.renderGeneralError(f.get("app.modules.scans.mapping.view.noVersion")))},showErrorMessage:function(a){this.ui.$generalError.addClass("alert alert-danger").html(a)}})}),define("modules/code-locations-fs/models/scan-file",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/scanlocations/"})}),define("modules/code-locations-fs/views/delete-modal",["require","exports","module","underscore","backbone","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("ironclad"),g=a("modules/modals/views/layout-view");c.exports=g.extend({template:"#code-locations-fs-delete-modal",hasErrorHandler:!0,errorHandler:f.ItemView.prototype.errorHandler,redirect:function(){e.history.navigate("code-locations",!0)},ok:function(a){this.trigger("state:waiting"),this.model.destroy().success(d.bind(this.closeModal,this)),a.preventDefault()},clearErrors:function(){}})}),define("modules/code-locations-fs/views/upload-dialog",["require","exports","module","modules/code-locations-fs/views/generic-upload-dialog"],function(a,b,c){var d=a("modules/code-locations-fs/views/generic-upload-dialog");c.exports=d.extend({template:"#code-locations-fs-upload-dialog",id:"code-locations-create-fs-type"})}),define("modules/code-locations-fs/main",["require","exports","module","ironclad","anglebrackets","modules/asset/module","modules/i18n/main","./views/header","./views/delete-mapping","./views/overview","./views/overview-mapping-modal","./models/scan-file","./views/delete-modal","modules/admin-jobs/controllers/status-cell","./views/upload-dialog"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("anglebrackets"),g=a("modules/asset/module"),h=a("modules/i18n/main"),i=a("./views/header"),j=a("./views/delete-mapping"),k=a("./views/overview"),l=a("./views/overview-mapping-modal"),m=a("./models/scan-file"),n=a("./views/delete-modal"),o=a("modules/admin-jobs/controllers/status-cell"),p=a("./views/upload-dialog");d.WeightedStore.addItem("AddCodeLocationType",{name:h.get("app.modules.code.locations.type.scanFile"),asset:"code-locations-fs",view:"upload"},80),e.reqres.setHandler("code-locations-fs:views:modals:upload",function(){return p}),e.reqres.setHandler("code-locations-fs:views:content:overview",function(){return k}),e.reqres.setHandler("code-locations-fs:views:modals:delete",function(){return j}),e.reqres.setHandler("code-locations-fs:views:modals:delete-location",function(){return n}),e.reqres.setHandler("code-locations-fs:views:modals:map",function(){return l}),e.commands.setHandler("assets:code-locations-fs:data",function(a,b){var c=new m;c.url=atob(a.href),c.fetch().success(function(){b.clear(),b.urlRoot=c.urlRoot,b.set(c.attributes),b.trigger("loaded")})}),e.reqres.setHandler("code-locations-fs:views:header",function(){return i}),c.exports=new g({name:"code-locations-fs",defaultParams:{view:"overview"}}),d.WeightedStore.addItem("code-locations-scans-columns",{name:"status",label:h.get("app.views.jobs.statusHeader"),cell:o,editable:!1,sortable:!1},10),d.WeightedStore.addItem("code-locations-scans-columns",{label:h.get("app.modules.versions.bom"),name:"",cell:f.TableCell,editable:!1,sortable:!1,template:"#code-locations-fs-cell-status"},20),d.WeightedStore.addItem("code-locations-scans-columns",{label:h.get("app.modules.scans.hostLabel"),name:"hostName",cell:f.TableCell,editable:!1,sortable:!1},21),d.WeightedStore.addItem("code-locations-scans-columns",{label:h.get("app.modules.scans.pathLabel"),name:"baseDir",cell:f.TableCell,editable:!1,sortable:!1},22),d.WeightedStore.addItem("code-locations-scans-columns",{label:h.get("app.modules.scans.scanSizeLabel"),name:"fileSystemSize",cell:f.TableCell,editable:!1,sortable:!1,template:"#common-file-size-cell"},30),d.WeightedStore.addItem("code-locations-scans-columns",{
    label:h.get("app.modules.scans.mapping.view.created.time"),name:"lastModifiedOn",cell:f.TableCell,editable:!1,sortable:!1,template:"#common-format-date-cell"},40),d.WeightedStore.addItem("code-locations-scans-columns",{label:h.get("app.modules.scans.mapping.scanInitiatorLabel"),name:"createdByUserName",cell:f.TableCell,editable:!1,sortable:!1},50)}),define("modules/code-locations-scm/views/index-state",["require","exports","module","ironclad","modules/i18n/main","ironclad"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("ironclad").MessageBus;c.exports=d.ItemView.extend({template:"#code-locations-scm-index-state",tagName:"span",ui:{$statusIcon:".statusIcon"},templateHelpers:{indexStatus:function(){var a="app.modules.jobs.scm.code.location."+(this.currentWorkingStateType||"FAILED");return e.get(a)}},onShow:function(){var a=this.model.get("currentWorkingStateType"),b=a?a.toLowerCase():"failed";"ready"===b?this.ui.$statusIcon.addClass("fa fa-check-square text-success"):"working"===b?this.ui.$statusIcon.spin("tiny"):"failed"===b&&this.ui.$statusIcon.addClass("fa fa-exclamation-circle text-danger"),"working"===b&&setTimeout(function(){f.commands.execute("job:fetch")},3e3)}})}),define("modules/code-locations-scm/models/index-state",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/search/admin/index-states/code-locations/"})}),define("modules/code-locations-scm/views/header",["require","exports","module","ironclad","ironclad","./index-state","../models/index-state"],function(a,b,c){var d=a("ironclad"),e=a("ironclad").MessageBus,f=a("./index-state"),g=a("../models/index-state");c.exports=d.Layout.extend({template:"#code-locations-scm-header",id:"code-locations-scm-header",regions:{locationIndexState:".regions-code-location-scm-index-state"},initialize:function(){e.commands.setHandler("job:fetch",this.indexState,this)},onRender:function(){this.indexState()},indexState:function(){var a=this,b=new g({id:this.model.id});b.fetch().always(function(){a.locationIndexState.show(new f({model:b}))})}})}),define("modules/code-locations/views/common-modal-view",["require","exports","module","underscore","ironclad","bootstrap","modules/modals/views/layout-view","ironclad","modules/router/router-history"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("bootstrap"),g=a("modules/modals/views/layout-view"),h=a("ironclad").MessageBus,i=a("modules/router/router-history");c.exports=g.extend({hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,modelEvents:d.extend({},g.prototype.modelEvents,{sync:"gotoCodeLocation"}),ok:function(a){this.model.save()&&this.trigger("state:waiting"),a.stopPropagation()},gotoCodeLocation:function(){f(this.$el).modal("hide"),h.commands.execute("job:fetch"),i.moveToPreviousHash(!1,!0)}})}),define("modules/code-locations-scm/views/location-reindex",["require","exports","module","modules/code-locations/views/common-modal-view"],function(a,b,c){var d=a("modules/code-locations/views/common-modal-view");c.exports=d.extend({template:"#code-locations-location-reindex"})}),define("modules/code-locations-scm/views/location-update",["require","exports","module","modules/code-locations/views/common-modal-view"],function(a,b,c){var d=a("modules/code-locations/views/common-modal-view");c.exports=d.extend({template:"#code-locations-location-update"})}),define("modules/code-locations-scm/views/location-reschedule",["require","exports","module","modules/code-locations/views/common-modal-view"],function(a,b,c){var d=a("modules/code-locations/views/common-modal-view");c.exports=d.extend({template:"#code-locations-location-reschedule"})}),define("modules/code-locations-scm/models/code-location",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/internal/codelocations"})}),define("modules/code-locations-scm/views/edit-location-form",["require","exports","module","modules/i18n/main","modules/form/views/layout"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout");c.exports=e.extend({id:"code-location-form-edit",className:"form form-horizontal",autocomplete:"off",headerView:!1,hasErrorHandler:!1,footerTemplate:!1,initialize:function(a){e.prototype.initialize.apply(this,arguments),this.model=a.model},formFields:{url:{type:"text",label:d.get("app.views.jobs.location.url.caption")},scmType:{type:"select",label:d.get("app.views.jobs.location.type.caption"),binding:{selectOptions:{collection:function(){return[{label:d.get("app.modules.code.locations.scm.type.GIT"),value:"GITCLI"},{label:d.get("app.modules.code.locations.scm.type.SUBVERSION"),value:"SUBVERSIONCLI"},{label:d.get("app.modules.code.locations.scm.type.PERFORCE"),value:"PERFORCE"},{label:d.get("app.modules.code.locations.scm.type.BAZAAR"),value:"BZRCLI"},{label:d.get("app.modules.code.locations.scm.type.MERCURIAL"),value:"HGCLI"},{label:d.get("app.modules.code.locations.scm.type.TFS"),value:"TFSCLI"},{label:d.get("app.modules.code.locations.scm.type.CVSTOGIT"),value:"CVSTOGIT"},{label:d.get("app.modules.code.locations.scm.type.SVNTOGIT"),value:"SVNTOGIT"}]}}}},scmUsername:{type:"text",className:"something",label:d.get("app.views.jobs.location.username.caption")},scmPassword:{type:"password",label:d.get("app.views.jobs.location.password.caption")},scmBranch:{type:"text",label:d.get("app.views.jobs.location.branch.caption")},scmRevnum:{type:"text",label:d.get("app.views.jobs.location.scmRevnum.caption")},scmSubdir:{type:"text",label:d.get("app.views.jobs.location.subtree.caption")}}})}),define("modules/code-locations-scm/views/edit",["require","exports","module","ironclad","./edit-location-form"],function(a,b,c){var d=a("ironclad"),e=a("./edit-location-form");c.exports=d.Layout.extend({template:"#code-locations-scm-edit",id:"code-locations-scm-edit",regions:{locationEditForm:"#region-code-location-scm-edit-form"},onRender:function(){this.locationEditForm.show(new e({model:this.model}))}})}),define("modules/code-locations-scm/models/jobs",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({url:function(){return"/api/v1/code-locations/"+this.id+"/jobs"},parse:function(a){return a.items},state:{pageSize:10,sortKey:"updatedAt",order:"1"}})}),define("modules/code-locations-scm/views/jobs-table",["require","exports","module","modules/admin-jobs/views/table"],function(a,b,c){var d=a("modules/admin-jobs/views/table");c.exports=d.extend({hasLoading:!1})}),define("modules/code-locations-scm/models/location-reindex",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"api/v1/search/admin/reindex/code-locations/"})}),define("modules/code-locations-scm/models/location-reschedule",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"api/v1/search/admin/manual-action/code-locations/"})}),define("modules/code-locations-scm/models/location-update",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"api/v1/search/admin/update/code-locations/"})}),define("modules/code-locations-scm/views/jobs-actions",["require","exports","module","ironclad","../models/location-reindex","../models/location-reschedule","../models/location-update"],function(a,b,c){var d=a("ironclad"),e=a("../models/location-reindex"),f=a("../models/location-reschedule"),g=a("../models/location-update");c.exports=d.ItemView.extend({template:"#code-locations-scm-jobs-actions",className:"btn-toolbar",ui:{$reindexBtn:".js-btn-reindex",$retryBtn:".js-btn-retry",$updateBtn:".js-btn-update"},events:{"click @ui.$reindexBtn":"openReindexModal","click @ui.$retryBtn":"openRetryModal","click @ui.$updateBtn":"openUpdateModal"},openReindexModal:function(){var a=new e({id:this.model.id});d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations",view:"reindex-scm"},a)},openRetryModal:function(){var a=new f({id:this.model.id});d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations",view:"update-scm"},a)},openUpdateModal:function(){var a=new g({id:this.model.id});d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations",view:"retry-scm"},a)}})}),define("modules/code-locations-scm/views/jobs",["require","exports","module","ironclad","../models/jobs","./jobs-table","./jobs-actions"],function(a,b,c){var d=a("ironclad"),e=a("../models/jobs"),f=a("./jobs-table"),g=a("./jobs-actions");c.exports=d.Layout.extend({template:"#code-locations-scm-jobs",id:"code-location-scm-jobs",regions:{codeLocationJobs:"#regions-code-location-scm-jobs",codeLocationActions:"#regions-code-location-scm-jobs-actions"},onRender:function(){var a=this;this.jobs=new e({id:this.model.id}),this.jobs.fetch().done(function(){a.codeLocationJobs.show(new f({collection:a.jobs})),a.codeLocationActions.show(new g({model:a.model}))})}})}),define("modules/code-locations-scm/views/overview",["require","exports","module","ironclad","./edit","./jobs"],function(a,b,c){var d=a("ironclad"),e=a("./edit"),f=a("./jobs");c.exports=d.Layout.extend({template:"#code-locations-scm-overview",id:"code-location-scm-overview",regions:{edit:"#region-code-location-scm-edit",jobs:"#region-code-location-scm-jobs"},onRender:function(){this.edit.show(new e({model:this.model})),this.jobs.show(new f({model:this.model}))}})}),define("modules/code-locations-scm/models/create-location",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"/api/internal/codelocations",defaults:{locationType:"SCM"},validation:{url:{required:!0}}})}),define("modules/code-locations-scm/views/create-buttons",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-scm-create-buttons",ui:{$testConnection:".js-btn-test-connection"},events:{"click @ui.$testConnection":"testConnection"},modelEvents:{request:"resetTestSuccess",change:"resetTestSuccess"},resetTestSuccess:function(){this.ui.$testConnection.removeClass("test-success test-error")},testConnection:function(){var a=this;a.model.trigger("validation:valid");var b=a.model.clone();this.attachTestModelListeners(b),b.save({},{dataType:"text",url:"/api/v1/composite/codelocations/test",success:function(){a.model.trigger("validated:valid"),a.ui.$testConnection.addClass("test-success")},error:function(){a.ui.$testConnection.addClass("test-error")}})},attachTestModelListeners:function(a){var b=this;b.listenToOnce(a,"request",function(){b.ui.$testConnection.removeClass("test-success test-error"),b.ui.$testConnection.spin("tiny")}),b.listenToOnce(a,"sync error",function(){b.ui.$testConnection.spin(!1)}),b.listenToOnce(a,"error",function(a,c){c.responseJSON=JSON.parse(c.responseText),b.model.trigger("error",a,c)}),b.listenToOnce(a,"validated:invalid",function(a,c){b.ui.$testConnection.addClass("test-error"),b.model.trigger("validated:invalid",a,c)})}})}),define("modules/code-locations-scm/views/create",["require","exports","module","modules/i18n/main","modules/form/views/modal","./create-buttons"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/modal"),f=a("./create-buttons");c.exports=e.extend({id:"code-locations-scm-create",headerView:d.get("app.views.jobs.location.create"),footerView:f,formFields:{scmType:{type:"select",label:d.get("app.views.jobs.location.type.caption"),binding:{selectOptions:{collection:function(){return[{label:d.get("app.modules.code.locations.scm.type.GIT"),value:"GITCLI"},{label:d.get("app.modules.code.locations.scm.type.SUBVERSIONCLI"),value:"SUBVERSIONCLI"},{label:d.get("app.modules.code.locations.scm.type.PERFORCE"),value:"PERFORCE"},{label:d.get("app.modules.code.locations.scm.type.BZRCLI"),value:"BZRCLI"},{label:d.get("app.modules.code.locations.scm.type.MERCURIAL"),value:"HGCLI"},{label:d.get("app.modules.code.locations.scm.type.TFS"),value:"TFSCLI"},{label:d.get("app.modules.code.locations.scm.type.CVSTOGIT"),value:"CVSTOGIT"},{label:d.get("app.modules.code.locations.scm.type.SVNTOGIT"),value:"SVNTOGIT"}]}}}},url:{type:"text",label:d.get("app.views.jobs.location.url.caption")},scmUsername:{type:"text",label:d.get("app.views.jobs.location.username.caption")},scmPassword:{type:"text",label:d.get("app.views.jobs.location.password.caption")},scmBranch:{type:"text",label:d.get("app.views.jobs.location.branch.caption")},scmRevnum:{type:"text",label:d.get("app.views.jobs.location.scmRevnum.caption")},scmSubdir:{type:"text",label:d.get("app.views.jobs.location.subtree.caption")}},redirect:function(){if(this.model.id)return"#code-locations-scm/id:"+this.model.id+"/view:overview"}})}),define("modules/code-locations-scm/main",["require","exports","module","ironclad","modules/i18n/main","modules/asset/module","./views/header","./views/location-reindex","./views/location-update","./views/location-reschedule","./models/code-location","./views/overview","./models/create-location","./views/create"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=d.MessageBus,g=a("modules/asset/module"),h=a("./views/header"),i=a("./views/location-reindex"),j=a("./views/location-update"),k=a("./views/location-reschedule"),l=a("./models/code-location"),m=a("./views/overview"),n=a("./models/create-location"),o=a("./views/create");f.reqres.setHandler("code-locations-scm:views:modals:create",function(){return o}),d.WeightedStore.addItem("AddCodeLocationType",{name:e.get("app.modules.code.locations.type.SCM"),asset:"code-locations-scm",view:"create",model:n},10),f.reqres.setHandler("code-locations-scm:views:content:overview",function(){return m}),f.commands.setHandler("assets:code-locations-scm:data",function(a,b){var c=new l({id:a.id});c.fetch().success(function(){b.set(c.attributes),b.trigger("loaded")})}),f.reqres.setHandler("code-locations-scm:views:header",function(){return h}),f.reqres.setHandler("code-locations:views:modals:reindex-scm",function(){return i}),f.reqres.setHandler("code-locations:views:modals:update-scm",function(){return j}),f.reqres.setHandler("code-locations:views:modals:retry-scm",function(){return k}),c.exports=new g({name:"code-locations-scm",defaultParams:{view:"overview"}})}),define("modules/common/models/generic-rest-model",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Model.extend({relations:[],initialize:function(){e.Model.prototype.initialize.apply(this,arguments),this.mapRelations()},sync:function(a,b,c){var f=this;c.beforeSend=d.bind(this._beforeSend,this);var g=e.Model.prototype.sync.apply(this,[a,b,c]);return"read"===a&&g.always(function(a,b,c){f._meta=f._meta||{},f._meta.allow=c.getResponseHeader("allow")}),g},_setCustomHeaders:function(a){this.headers&&d.each(this.headers,function(b){a.setRequestHeader(b.name,b.value)})},constructor:function(a){var b=this._parseData(a),c=arguments;c.length>0&&(c[0]=b),e.Model.prototype.constructor.apply(this,c)},parse:function(a){return this._parseData(a)},mapRelations:function(){var a=this;d.each(this.relations,function(b){var c=function(a){var c=this.getLinkByRel(b.rel);return b.data&&!a||(b.data=new b.dataClass,c&&(b.data.url=c.href)),b.data},d="get"+b.rel.charAt(0).toUpperCase()+b.rel.slice(1);a[d]=c})},_parseData:function(a){return this._meta=this._meta||a._meta,this._meta.href&&(this.url=this._meta.href),a},_beforeSend:function(a){this._setCustomHeaders(a)},getLinkByRel:function(a){var b=this._getLinks();if(b)return d.findWhere(b,{rel:a})},_getLinks:function(){var a=this._getMeta();if(a)return a.links},_getMeta:function(){return this._meta},canGet:function(){return this._hasPermission("GET")},canPut:function(){return this._hasPermission("PUT")},canPost:function(){return this._hasPermission("POST")},canDelete:function(){return this._hasPermission("DELETE")},_hasPermission:function(a){if(this._meta&&this._meta.allow)return d.indexOf(this._meta.allow,a)>0}})}),define("modules/code-locations/models/location",["require","exports","module","underscore","modules/common/models/generic-rest-model"],function(a,b,c){var d=a("underscore"),e=a("modules/common/models/generic-rest-model");c.exports=e.extend({initialize:function(){d.bindAll(this,"checkStatusAndReload"),this.listenTo(this,"sync",this.checkStatusAndReload),this.checkStatusAndReload()},checkStatusAndReload:function(){this.hasLoadingStatus()&&d.delay(d.bind(this.fetch,this),1e4)},getStatus:function(){var a=d.findWhere(this.get("status"),{operationNameCode:"ServerScanning"})||d.findWhere(this.get("status"),{operationNameCode:"CommitAnalysis"});if(!a)throw new Error("Unhandled status - needs to have one of ServerScanning, CommitAnalysis");return a.status},hasLoadingStatus:function(){return d.contains(["RUNNING","SCANNING","IN_PROGRESS"],this.getStatus())},hasCompletedStatus:function(){return d.contains(["COMPLETE","COMPLETED"],this.getStatus())},hasErrorStatus:function(){return d.contains(["ERROR","FAILED"],this.getStatus())}})}),define("modules/code-locations/models/paged-locations",["require","exports","module","modules/common/models/pageable-collection-public","./location"],function(a,b,c){var d=a("modules/common/models/pageable-collection-public"),e=a("./location");c.exports=d.extend({url:"/api/internal/codelocations",queryParams:{includeErrors:!0},persistence:{active:!1},state:{sortKey:"updatedAt",order:1},model:e})}),define("modules/common/controllers/selectable-cell",["require","exports","module","anglebrackets"],function(a,b,c){var d=a("anglebrackets");c.exports=d.TableCell.extend({template:"#common-selectable-cell-checkbox",className:"selectable-cell",ui:{$checkboxInput:"input"},initialize:function(){d.TableCell.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"table:row:selected",this.selectedHandler),this.listenTo(this.model,"table:row:deselected",this.deselectedHandler)},selectedHandler:function(){this.ui.$checkboxInput.prop("checked",!0)},deselectedHandler:function(){this.ui.$checkboxInput.prop("checked",!1)}})}),define("modules/common/controllers/selectable-headcell",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#common-selectable-cell-checkbox-header",className:function(){var a="selectable-head-cell",b=this.options.column.get("renderable");return b&&(b=d.isFunction(b)?b({collection:this.collection}):b,b&&(a+=" renderable")),a},tagName:"th",ui:{$checkboxInput:"input",$selectableOptionList:".selectable-options",$selectAllBtn:".js-select-all",$selectNoneBtn:".js-select-none",$invertSelectionBtn:".js-invert-selection"},events:{"click @ui.$checkboxInput":"toggleSelect","click @ui.$selectAllBtn":"selectAll","click @ui.$selectNoneBtn":"selectNone","click @ui.$invertSelectionBtn":"invertSelection"},extraOptionsSettings:{containerTagName:"li",optionHeadingClassName:"header",optionTagName:"a",optionCountLabelTagName:"span",optionCountLabelClassName:"badge",optionClassName:"custom-option",generatedCustomOptionClass:"js-generated-custom-option",valuesGroupIdDomAttribute:"data-attr",valueIdDomAttribute:"data-uuid"},initialize:function(){return e.ItemView.prototype.initialize.apply(this,arguments),this.listenTo(this.collection,"table:row:deselected",this.deselectedHandler),this.listenTo(this.collection,"sync",this.render),this.listenTo(this.collection,"hub:collection:select:all",this.selectAll),this.listenTo(this.collection,"hub:collection:deselect:all",this.selectNone),this},onRender:function(){this.$el.attr("class",this.className()),this._autoGetExtraOptionsValues(),this.ui.$selectableOptionList.append(this._renderExtraOptions()),this._attachCustomOptionsEvents()},syncHandler:function(){this.deselectedHandler(),this.syncExtraOptions()},syncExtraOptions:function(){this._removeExtraOptions(),this._autoGetExtraOptionsValues(),this.ui.$selectableOptionList.append(this._renderExtraOptions())},customOptionClickHandler:function(a){var b=$(a.target),c={attr:b.attr(this.extraOptionsSettings.valuesGroupIdDomAttribute),uuid:b.attr(this.extraOptionsSettings.valueIdDomAttribute)},e=d.findWhere(this.extraOptions,{attr:c.attr}),f=d.findWhere(e.values,{_uuid:c.uuid});this._selectItemsBasedOnCustomOption(f,e.mapper)},deselectedHandler:function(){this.ui.$checkboxInput.prop("checked",!1)},toggleSelect:function(a){a.stopPropagation(),this.ui.$checkboxInput.is(":checked")?this.selectAll():this.selectNone()},selectAll:function(){this.collection.each(function(a){a.trigger("table:row:do:select")}),this.ui.$checkboxInput.prop("checked",!0)},selectNone:function(){this.collection.each(function(a){a.trigger("table:row:do:deselect")})},invertSelection:function(){this.collection.each(function(a){a.selected?a.trigger("table:row:do:deselect"):a.trigger("table:row:do:select")})},_attachCustomOptionsEvents:function(){var a=this._getExtraOptionsLinksSelector();this.$el.find(a).on("click",d.bind(this.customOptionClickHandler,this))},_selectItemsBasedOnCustomOption:function(a,b){if(!d.isUndefined(a)){var c=this,e=0;this.collection.each(function(f){var g=b.call(c,f);d.isUndefined(g)||JSON.stringify(g.value)!==JSON.stringify(a.value)?f.selected&&f.trigger("table:row:do:deselect"):(f.trigger("table:row:do:select"),e++)}),e===this.collection.size()&&this.ui.$checkboxInput.prop("checked",!0)}},_autoGetExtraOptionsValues:function(){var a=this;d.isUndefined(this.extraOptions)||d.each(this.extraOptions,function(b){!d.isUndefined(b.values)&&!b.generated||d.isUndefined(b.mapper)||"function"!=typeof b.mapper||(b.values=a._getValuesForAttribute(b))})},_getValuesForAttribute:function(a){a.generated=!0;var b=[],c=this;this.collection.each(function(e){var f=a.mapper.apply(c,[e]);d.isUndefined(f)||b.push(f)});var e=d.groupBy(b,function(a){return a.label}),f=d.uniq(b,function(a){return JSON.stringify(a)});return d.each(f,function(a){var b=e[a.label];d.isUndefined(b)||(a.count=b.length)}),this._addUniqueIdsOnextraOptionsValues(f,a.attr)},_addUniqueIdsOnextraOptionsValues:function(a,b){return d.isUndefined(a)||d.each(a,function(a){a._uuid=d.uniqueId(b+"_")}),a},_renderExtraOptions:function(){var a=this,b="";return d.isUndefined(this.extraOptions)||d.each(this.extraOptions,function(c){c.values.length>0&&(b+=a._renderExtraOption(c))}),b},_renderExtraOption:function(a){var b=this,c=$("<"+this.extraOptionsSettings.containerTagName+"/>");c.addClass(this.extraOptionsSettings.optionHeadingClassName).addClass(this.extraOptionsSettings.generatedCustomOptionClass).html(a.heading);var e="";return d.each(a.values,function(c){var d=$("<"+b.extraOptionsSettings.containerTagName+"/>");d.addClass(b.extraOptionsSettings.generatedCustomOptionClass);var f=$("<"+b.extraOptionsSettings.optionTagName+"/>");f.addClass(b.extraOptionsSettings.optionClassName).attr(b.extraOptionsSettings.valuesGroupIdDomAttribute,a.attr).attr(b.extraOptionsSettings.valueIdDomAttribute,c._uuid).html(c.label),d.html(f);var g=$("<"+b.extraOptionsSettings.optionCountLabelTagName+"/>");g.addClass(b.extraOptionsSettings.optionCountLabelClassName).html(c.count),d.append(g),e+=d[0].outerHTML}),c[0].outerHTML+e},_removeExtraOptions:function(){this.ui.$selectableOptionList.find("."+this.extraOptionsSettings.generatedCustomOptionClass).remove()},_getExtraOptionsLinksSelector:function(){return this.extraOptionsSettings.containerTagName+"."+this.extraOptionsSettings.generatedCustomOptionClass+">"+this.extraOptionsSettings.optionTagName+"."+this.extraOptionsSettings.optionClassName},_constructCustomOptionObj:function(a,b){if(!d.isUndefined(a)&&!d.isUndefined(b))return{value:a,label:b}}})}),define("modules/code-locations/controllers/scan-name-cell",["require","exports","module","underscore","anglebrackets"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets");c.exports=e.TableCell.extend({className:"url-cell",template:function(){return this.model.get("scmType")?"#code-locations-path-cell-scm":"#code-locations-path-cell-fs"},templateHelpers:{codeLocationBase64Href:function(){return btoa(d.findWhere(this._meta.links,{rel:"scanlocations"}).href)}}})}),define("modules/code-locations/controllers/scan-size-cell",["require","exports","module","underscore","anglebrackets"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets");c.exports=e.TableCell.extend({template:"#code-locations-scan-size-cell",className:"string-cell sortable renderable filesize-cell",templateHelpers:{getScanSize:function(){var a=d.findWhere(this.status,{operationNameCode:"ServerScanning"});if(a&&a.attributes){var b=d.findWhere(a.attributes,{name:"fileSystemSize"});if(b)return this.formatFileSize(b.value)}return""}}})}),define("modules/code-locations/controllers/status-cell",["require","exports","module","underscore","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets"),f=a("modules/i18n/main");c.exports=e.TableCell.extend({ui:{$stateIndicator:".js-status-indicator",$label:".label"},template:"#code-locations-status-cell",onRender:function(){if(this.model.hasLoadingStatus())this.ui.$stateIndicator.spin("tiny","white");else if(this.model.hasErrorStatus()){var a=d.findWhere(this.model.get("status"),{status:this.model.getStatus()});a&&this.ui.$label.tooltip({title:a.statusMessage})}},templateHelpers:function(){var a=this;return{getLabelClass:function(){return a.model.hasErrorStatus()?"label-danger":a.model.hasCompletedStatus()?"label-success":"label-default"},getLabel:function(){return f.get("app.views.jobs.status."+a.model.getStatus().toUpperCase())}}}})}),define("modules/code-locations/controllers/row-actions",["require","exports","module","underscore","ironclad","anglebrackets","modules/code-locations-fs/models/scan"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/code-locations-fs/models/scan");c.exports=f.TableCell.extend({template:"#code-locations-row-actions",ui:{$unmap:"li.unmap-code-location",$map:"li.map-code-location",$delete:"li.delete-code-location"},events:{"click li.unmap-code-location":"handleUnmapBtnClick","click li.map-code-location":"handleMapBtnClick","click li.delete-code-location":"handleDeleteBtnClick"},onRender:function(){var a=this.model.get("mappedProjectVersion");this.ui.$unmap.toggleClass("hidden",void 0===a),this.ui.$map.toggleClass("hidden",void 0!==a)},_getCodeLocationId:function(){return this.model.get("_meta").href.match(/.*\/codelocations\/(.*)/)[1]},handleUnmapBtnClick:function(a){a.preventDefault(),a.stopPropagation();var b=new e.Model({id:!0});b.url=this.model.getLinkByRel("mapping").href,e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations-fs",view:"delete"},b)},handleMapBtnClick:function(a){a.preventDefault(),a.stopPropagation(),this.listenToOnce(e.MessageBus.vent,"new:project:created:fs",function(a){this.mapCreatedProject(a)}),e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations-fs",view:"map",id:this._getCodeLocationId()},null)},mapCreatedProject:function(a){var b=new g({id:this._getCodeLocationId(),version:{id:a.get("canonicalReleaseId")}});b.save().success(d.bind(function(){this.model.collection.fetch({reset:!0})},this))},handleDeleteBtnClick:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations",view:"delete"},new e.Model({scans:[this.model]}))}})}),define("modules/code-locations/views/table",["require","exports","module","anglebrackets","modules/i18n/main","modules/common/controllers/selectable-cell","modules/common/controllers/selectable-headcell","../controllers/scan-name-cell","../controllers/scan-size-cell","../controllers/status-cell","../controllers/row-actions"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/common/controllers/selectable-cell"),g=a("modules/common/controllers/selectable-headcell"),h=a("../controllers/scan-name-cell"),i=a("../controllers/scan-size-cell"),j=a("../controllers/status-cell");c.exports=d.Table.extend({options:{description:e.get("app.modules.scans.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover code-locations-table backgrid",row:d.TableRow.extend({selectable:{multipleSelect:!0,selectTarget:'input[type="checkbox"]'}}),columns:[{cell:f,headerCell:g,label:"",editable:!1,sortable:!1},{name:"locationType",label:e.get("app.views.jobs.location.type.caption"),cell:d.TableCell,template:"#code-locations-type-cell",editable:!1,sortable:!1},{name:"name",label:e.get("common.name"),cell:h,editable:!1,sortable:!0},{name:"",label:e.get("app.modules.scans.scanSizeLabel"),cell:i,editable:!1,sortable:!1},{name:"status",label:e.get("app.views.jobs.statusHeader"),cell:j,editable:!1,sortable:!1},{name:"updatedAt",label:e.get("app.views.jobs.location.details.jobHistory.updatedAt"),cell:d.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{name:"component",label:e.get("app.modules.scans.mapping.scanMappedTo"),cell:d.TableCell,template:"#code-locations-component-cell",editable:!1,sortable:!1},{name:"rowActions",cell:a("../controllers/row-actions"),label:"",editable:!1,sortable:!1}]}}})}),define("modules/code-locations/controllers/filters-controller",["require","exports","module","underscore","modules/advanced-filters/controllers/filters-controller"],function(a,b,c){var d=a("underscore"),e=a("modules/advanced-filters/controllers/filters-controller");c.exports=e.extend({filterByQuery:function(a){d.isUndefined(a)||d.isNull(a)?this.targetCollection.queryParams=d.without(this.targetCollection.queryParams,"q"):this.targetCollection.queryParams=d.extend({},this.targetCollection.queryParams,{q:"name:"+a}),this.targetCollection.fetch()}})}),define("modules/code-locations/views/filter",["require","exports","module","modules/advanced-filters/views/advanced-filters","../controllers/filters-controller"],function(a,b,c){var d=a("modules/advanced-filters/views/advanced-filters"),e=a("../controllers/filters-controller");c.exports=d.extend({mainController:e})}),define("modules/code-locations/views/create-code-location-button",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-create-button",className:"create-code-location-button",ui:{$button:"button"},events:{"click @ui.$button":"openCreateModal"},openCreateModal:function(a){a.preventDefault();var b,c=this.model.get("data");c.model&&(b=new c.model),d.MessageBus.vent.trigger("assets:actions:modal",{assetName:c.asset,view:c.view},b)}})}),define("modules/code-locations/views/create-code-locations-menu-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#code-locations-create-menu-item",tagName:"li",attributes:{role:"presentation"},ui:{$menuItem:"a"},events:{"click @ui.$menuItem":"openCreateModal"},openCreateModal:function(a){a.preventDefault();var b,c=this.model.get("data");c.model&&(b=new c.model),d.MessageBus.vent.trigger("assets:actions:modal",{assetName:c.asset,view:c.view},b)}})}),define("modules/code-locations/views/create-code-locations-menu",["require","exports","module","ironclad","./create-code-locations-menu-item"],function(a,b,c){var d=a("ironclad"),e=a("./create-code-locations-menu-item");c.exports=d.CompositeView.extend({template:"#code-locations-create-menu",className:"create-code-location-button",childView:e,childViewContainer:"ul"})}),define("modules/code-locations/views/table-actions",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#code-locations-table-actions",ui:{$deleteItemBtn:".js-btn-delete"},events:{"click @ui.$deleteItemBtn":"handleDeleteBtnClick"},initialize:function(){this.listenTo(this.collection,"table:row:deselected table:row:selected",this.handleItemInteraction),this.listenTo(this.collection,"sync",this.resetToDefault);
},getScans:function(){return d.where(this.collection.models,{selected:!0})},handleItemInteraction:function(a){this.updateAvailableActionBtns(a)},handleDeleteBtnClick:function(){var a=this.getScans();a&&e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"code-locations",view:"delete"},new e.Model({scans:a}))},updateAvailableActionBtns:function(a){var b=a.selectedItems.length>0;b?this.ui.$deleteItemBtn.removeAttr("disabled"):this.ui.$deleteItemBtn.prop("disabled",!0)},resetToDefault:function(){this.updateAvailableActionBtns({selectedItems:d.where(this.collection.models,{selected:!0})})}})}),define("modules/code-locations/views/empty",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Layout.extend({template:"#code-locations-empty",regions:{createCodeLocation:".region-create-code-location-button"},onRender:function(){this.createCodeLocation.show(this.options.createCLButton)}})}),define("modules/code-locations/views/layout",["require","exports","module","underscore","ironclad","modules/i18n/main","../models/paged-locations","./table","./filter","./create-code-location-button","./create-code-locations-menu","./table-actions","./empty","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("../models/paged-locations"),i=a("./table"),j=a("./filter"),k=a("./create-code-location-button"),l=a("./create-code-locations-menu"),m=a("./table-actions"),n=a("./empty"),o=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#code-locations-layout",id:"code-locations-layout",className:"container-fluid",regions:{codeLocationsCreate:".region-create-code-location",codeLocationAdvancedFilters:".region-code-location-advanced-filters",codeLocationTable:".region-code-location-table",codeLocationTableActions:".region-code-location-table-actions"},behaviors:{Sticky:{behaviorClass:o}},initialize:function(){d.bindAll(this,"_refreshLocations"),this.pagedLocations=new h,this.listenTo(f.vent,"code-location:updated code-location:created code-location:deleted",this._refreshLocations)},onRender:function(){var a=this,b=this.pagedLocations;a.codeLocationTable.show(new i({collection:b}));var c=new j({targetCollection:b,placeholder:g.get("app.modules.scans.filterPlaceholder")});this.codeLocationAdvancedFilters.show(c),b.fetch().then(function(){if(0===b.state.totalRecords)a.codeLocationTable.show(new n({createCLButton:a.getCreateCLView()}));else{var c=a.getCreateCLView();a.codeLocationsCreate.show(c),a.codeLocationTableActions.show(new m({collection:b}))}})},_refreshLocations:function(){this.pagedLocations.queryParams.q="",this.pagedLocations&&this.pagedLocations.state.totalRecords>0?this.pagedLocations.fetch({reset:!0}):0===this.pagedLocations.state.totalRecords&&this.render()},getCreateCLView:function(){var a=e.WeightedStore.getItems("AddCodeLocationType");return 1===a.length?new k({model:new e.Model(a[0].data)}):new l({collection:new e.Collection(a)})}})}),define("modules/code-locations/views/header",["require","exports","module","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main");c.exports=e.ItemView.extend({template:"#code-locations-header",id:"code-locations-header",ui:{$codebase:".progress-bar",$codebaseContainer:".asset-details"},templateHelpers:function(){var a=this;return{getActual:function(){return a.actualValue},getTotal:function(){return a.softValue},isUnlimited:function(){return a.unlimited}}},initialize:function(){this.registration=this.model.get("registration"),d.isUndefined(this.registration)||(this.codebase=this.registration.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW,this.actualValue=this.codebase.actualValue,this.softValue=this.codebase.softValue,this.unlimited=this.codebase.unlimited)},onShow:function(){if(d.isUndefined(this.registration))this.ui.$codebaseContainer.addClass("hide");else{var a=this.actualValue/this.softValue;a>.7&&a<.8?this.ui.$codebase.addClass("soft-warning"):a>.8&&(this.ui.$codebase.addClass("warning"),this.ui.$codebase.parent().tooltip({container:"body",placement:"bottom",title:f.get("app.modules.code.locations.codebaseUpgrade"),trigger:"hover"}))}}})}),define("modules/code-locations/views/delete-locations-item",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#code-locations-delete-locations-item",className:"row",ui:{$statusLabel:".status-label",$bulletPoint:".bullet-point",$deleteStatus:".delete-status-msg"},modelEvents:{"delete:deleting":"setDeleting","delete:success":"setSuccess","delete:failed":"setFailed","delete:timeout":"setTimeout"},setDeleting:function(){this.ui.$statusLabel.removeClass("label-default").addClass("label-warning").text(e.get("app.modules.common.deleting")),this.ui.$bulletPoint.spin("tiny")},setSuccess:function(){this.ui.$bulletPoint.spin(!1),this.ui.$statusLabel.removeClass("label-warning").addClass("label-success").text(e.get("app.modules.common.success")),this.ui.$bulletPoint.addClass("text-success fa fa-check")},setFailed:function(){this.ui.$bulletPoint.spin(!1),this.ui.$statusLabel.removeClass("label-warning").addClass("label-danger").text(e.get("app.modules.common.failed")),this.ui.$bulletPoint.addClass("text-danger fa fa-exclamation-triangle")},setTimeout:function(){this.ui.$bulletPoint.spin(!1),this.ui.$statusLabel.text(e.get("app.modules.scans.delete.timeout")),this.ui.$deleteStatus.addClass("text-danger").text(e.get("app.modules.scans.delete.timeout.message")),this.ui.$bulletPoint.addClass("text-danger fa fa-exclamation-triangle")}})}),define("modules/code-locations/views/delete-locations",["require","exports","module","ironclad","./delete-locations-item"],function(a,b,c){var d=a("ironclad"),e=a("./delete-locations-item");c.exports=d.CollectionView.extend({className:"container-fluid",childView:e,childViewContainer:".container-fluid"})}),define("modules/code-locations/views/delete-location-modal",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view","./delete-locations"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-view"),g=a("./delete-locations");c.exports=f.extend({template:"#code-locations-delete-location",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,regions:{codeLocationsRegion:".region-code-locations-to-delete"},ui:d.extend({},f.prototype.ui,{$buttonClose:".js-btn-close",$closeButtons:".finished-buttons",$defaultButtons:".default-buttons"}),events:d.extend({},f.prototype.events,{"click @ui.$buttonClose":"closeModal"}),onRender:function(){this.options.large=!0,f.prototype.onRender.apply(this,arguments);var a=this.collection=new e.Collection(this.model.get("scans"));this.codeLocationsRegion.show(new g({collection:a}))},redirect:function(){return this.changesMade&&e.MessageBus.vent.trigger("code-location:deleted"),!1},deleteNextModel:function(a){var b=this.collection.at(a);if(b){b.trigger("delete:deleting");var c=this,d=b.clone();d.set("id",!0);var e=b.url.match(/.*\/codelocations\/(.*)/)[1];d.url="/api/v1/composite/codelocations/"+e,d.destroy({wait:!0,async:!0,timeout:3e5}).success(function(){c.changesMade=!0,b.trigger("delete:success",arguments)}).error(function(a,d){"timeout"===d?(c.changesMade=!0,b.trigger("delete:timeout",arguments)):b.trigger("delete:failed",arguments)}).complete(function(){c.deleteNextModel(a+1)})}else this.ui.$closeButtons.removeClass("hide"),this.ui.$defaultButtons.addClass("hide"),this.trigger("state:active")},ok:function(a){a.preventDefault(),this.trigger("state:waiting"),this.deleteNextModel(0)},clearErrors:function(){}})}),define("modules/code-locations/views/menu-link",["require","exports","module","modules/suite-nav/views/side-nav-item"],function(a,b,c){var d=a("modules/suite-nav/views/side-nav-item");c.exports=d.extend({template:"#code-locations-menu-link"})}),define("modules/code-locations/main",["require","exports","module","underscore","ironclad","modules/asset/module","./views/layout","./views/header","./views/delete-location-modal","./views/menu-link","modules/session/models/registration"],function(a,b,c){var d=(a("underscore"),a("ironclad")),e=d.MessageBus,f=a("modules/asset/module"),g=a("./views/layout"),h=a("./views/header"),i=a("./views/delete-location-modal"),j=a("./views/menu-link"),k=a("modules/session/models/registration");d.WeightedStore.addItem("suiteSideNav",new j,1,"CodeLocationsMenu"),e.commands.setHandler("assets:code-locations:data",function(a,b){var c=new k;c.fetch({global:!1}).success(function(){b.set({registration:c})}).always(function(){b.set(a),b.trigger("loaded")})}),e.reqres.setHandler("code-locations:views:header",function(){return h}),e.reqres.setHandler("code-locations:views:content:layout",function(){return g}),e.reqres.setHandler("code-locations:views:modals:delete",function(){return i}),c.exports=new f({name:"code-locations",defaultParams:{view:"layout"}})}),define("modules/versions/models/version",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({entityType:"RL",urlRoot:"/api/v1/releases",inline:["urlLinks","codeLocations","totalFileSystemSize"],defaults:{kb:!1},validation:{version:{required:!0}}})}),define("modules/versions/models/current-version",["require","exports","module","underscore","ironclad","./version"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./version"),g=new f;d.extend(e.templateHelpers,{currentVersion:g}),c.exports=g}),define("modules/common/behaviors/elastic-textarea",["require","exports","module","underscore","marionette"],function(a,b,c){var d=(a("underscore"),a("marionette"));c.exports=d.Behavior.extend({events:{"input textarea":"textareaInput"},textareaInput:function(a){this.adjustTextboxSize(a.target)},adjustTextboxSize:function(a){a.style.height="auto",a.style.height=a.scrollHeight+"px"}})}),define("modules/comments/views/comments-list-item",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=/(https?:\/\/(?:www\.|(?!www))[^\s^<^>\.]+\.[^\s^<^>]{2,}|www\.[^\s]+\.[^\s^<^>]{2,})/g;c.exports=d.ItemView.extend({template:"#comments-comments-list-item",className:"comments-list-item",hasErrorHandler:!0,ui:{$delete:"li.delete-comment",$edit:"li.edit-comment",$dropdownOptions:".comment-dropdown-options",$userComment:".user-comment",$submitEditComment:".js-btn-ok",$cancelEditComment:".js-btn-cancel",$editCommentText:"textarea.edit-comment-textarea",$commentText:"p.comment-text"},events:{"click @ui.$delete":"deleteComment","click @ui.$edit":"editComment","click @ui.$submitEditComment":"submitEditComment","click @ui.$cancelEditComment":"cancelEditComment"},onRender:function(){this.model.canUpdate()||this.ui.$edit.addClass("hidden"),this.model.canDelete()||this.ui.$delete.addClass("hidden"),this.model.canUpdate()||this.model.canDelete()||this.ui.$dropdownOptions.addClass("invisible")},deleteComment:function(){var a=this;this.ui.$userComment.spin("large"),this.model.destroy({wait:!0}).error(function(){a.ui.$userComment.spin(!1)})},editComment:function(){this.$el.addClass("edit-mode")},cancelEditComment:function(a){a.preventDefault(),a.stopPropagation(),this.ui.$editCommentText.val(this.model.get("comment")),this.$el.removeClass("edit-mode")},submitEditComment:function(a){a.preventDefault(),a.stopPropagation();var b=this,c=this.ui.$userComment.spin("large");this.model.save({comment:this.ui.$editCommentText.val()}).success(function(){b.ui.$commentText.text(b.ui.$editCommentText.val()),b.$el.removeClass("edit-mode")}).always(function(){c.spin(!1)})},templateHelpers:{parseComment:function(){return e.escape(this.comment).replace(new RegExp("\\n","g"),"<br/>").replace(f,function(a,b,c,d){return d.replace(a,'<a href="'+a+'" target="_blank">'+a+"</a>")})},getDisplayName:function(){return this.user.firstName||this.user.lastName?this.user.firstName+" "+this.user.lastName:this.user.email?this.user.email:this.user.username?this.user.username:""}}})}),define("modules/comments/views/comments-list",["require","exports","module","ironclad","./comments-list-item","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("./comments-list-item"),f=a("modules/i18n/main");c.exports=d.CollectionView.extend({emptyView:d.MessageView.extend({message:f.get("app.modules.versions.bom.comments.noComments"),className:"text-muted"}),childView:e})}),define("modules/comments/views/layout",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view","modules/session/models/user","modules/versions/models/current-version","modules/common/behaviors/elastic-textarea","./comments-list"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-view"),g=a("modules/session/models/user"),h=a("modules/versions/models/current-version"),i=a("modules/common/behaviors/elastic-textarea"),j=a("./comments-list");c.exports=f.extend({template:"#comments-layout",triggerBomReload:!1,hasErrorHandler:!0,errorHandler:e.Layout.prototype.errorHandler,behaviors:d.extend({ElasticTextarea:{behaviorClass:i}},f.prototype.behaviors),className:function(){return f.prototype.className+" comment-modal"},ui:d.extend({$commentBox:".new-comment-content",$modalBody:".modal-body",$modalContent:".modal-content"},f.prototype.ui),events:d.extend({"click .submit-comment":"submitComment"},f.prototype.events),regions:d.extend({commentsList:".region-comments-layout-comments-list"},f.prototype.regions),initialize:function(){this.collection=this.options.model.get("comments"),this.collection.versionId=h.get("id"),this.collection.projectId=h.get("projectId"),this.collection.componentProjectId=this.model.get("component").get("projectId"),this.collection.componentReleaseId=this.model.get("component").get("releaseId"),e.Layout.prototype.initialize.apply(this,arguments)},onRender:function(){f.prototype.onRender.apply(this,arguments);var a=this;a.ui.$modalBody.spin("large"),a.commentsList.show(new j({collection:a.collection})),a.collection.fetch({global:!1}).always(function(){a.listenTo(a.collection,"remove",a._commentDeleted),a.listenTo(a.collection,"add",a._commentAdded),a.ui.$modalBody.spin(!1)})},cancelModal:function(a){f.prototype.cancelModal.apply(this,arguments),this.redirect()},redirect:function(){return this.triggerBomReload&&this.options.model.get("component").collection.fetch(),!1},submitComment:function(){this.ui.$modalBody.spin("large"),this.cleanFieldErrors();var a=this.collection.create({comment:this.ui.$commentBox.val()},{wait:!0,global:!1});a.validationError&&(this.ui.$modalBody.spin(!1),this.renderErrorWrapper(a))},_commentDeleted:function(){this.triggerBomReload=!0},_commentAdded:function(){this.ui.$commentBox.val(""),this.ui.$modalBody.spin(!1),this.triggerBomReload=!0},templateHelpers:{getCurrentUserEmail:function(){return g.get("email")}}})}),define("modules/comments/main",["require","exports","module","ironclad","./views/layout"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./views/layout");e.reqres.setHandler("comments:views:modals:layout",function(){return f})}),define("modules/create-menu/main",["require","exports","module","ironclad","modules/link-nav/views/link-nav-view"],function(a,b,c){var d=a("ironclad"),e=a("modules/link-nav/views/link-nav-view"),f=new e({template:"#create-menu-layout",menuCode:"create-menu",id:"createMenu",menuSelector:".js-create-menu",tagName:"li"});d.WeightedStore.addItem("suiteTopNavRight",f,10)}),define("modules/data-rendered-at/main",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");d.MessageBus.vent.on("ironclad:view:render",function(a){var b=(new Date).getTime();a.$el&&a.$el.attr("data-rendered-at",b)})}),define("modules/errors/controllers/route-controller",["require","exports","module","app","../views/error"],function(a,b,c){var d=a("app"),e=a("../views/error");c.exports={showErrorPage:function(a){var b=new e({statusCode:a});d.appLayout.content.show(b)}}}),define("modules/errors/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"error/:errorCode":"showErrorPage"},pageTitles:{"error/404":f.get("app.modules.errors.404.title"),"error/500":f.get("app.modules.errors.500.title")}})}),define("modules/errors/main",["require","exports","module","ironclad","./views/error","./router"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("./views/error"),f=a("./router");new f;d.reqres.setHandler("error:view",function(a){return new e({statusCode:a})})}),define("modules/filters/models/filters",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Collection.extend({settings:{allowDuplicates:!1},initialize:function(a){e.Collection.prototype.initialize.apply(this,arguments),this.settings=d.extend({},this.settings,a)},addFilter:function(a){this.settings.allowDuplicates?this._addNonUniqueFilterToCollection(a):this._addOrUpdateFilter(a)},removeFilter:function(a){var b=null;b=this.settings.allowDuplicates?this.findWhere(a):this.findWhere(this._parseFilter(a)),b&&this.remove(b)},_addNonUniqueFilterToCollection:function(a){this.add({key:a.key,value:a.value,context:a.context})},_addOrUpdateFilter:function(a){var b={key:a.key};a.context&&(b.context=a.context);var c=this.findWhere(b);c?c.set({key:a.key,value:a.value,context:a.context}):this.add(a)},_parseFilter:function(a){var b={key:a.key};return a.context&&(b.context=a.context),b}})}),define("modules/filters/controllers/filters-base-persistence-adapter",["require","exports","module","underscore","marionette"],function(a,b,c){var d=a("underscore"),e=a("marionette");c.exports=e.Object.extend({uuid:"default",initialize:function(){d.bindAll(this,"saveFilters","retrieveFilters")},saveFilters:function(a){var b=this.serializeFilters(a);this.addFiltersToStorage(b)},reset:function(){this.saveFilters({})},retrieveFilters:function(){var a=this.getFiltersFromStorage(),b=this.deserializeFilters(a),c=this;return d.each(b,function(a){d.isUndefined(a.persistAdapter)&&(a.persistAdapter=c.uuid)}),b},serializeFilters:function(a){return a},deserializeFilters:function(a){return a},addFiltersToStorage:function(a){return a},getFiltersFromStorage:function(){return[]}})}),define("modules/filters/controllers/filters-url-persistence-controller",["require","exports","module","underscore","backbone","modules/router/router-history","./filters-base-persistence-adapter"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("modules/router/router-history"),g=a("./filters-base-persistence-adapter");c.exports=g.extend({uuid:"url#adapter",settings:{filtersGroupSeparator:"?",filterSeparator:"&",filterKeyValueSeparator:"=",filterContextSeparator:"@"},initialize:function(a){this.settings=d.extend({},this.settings,a),g.prototype.initialize.apply(this,arguments)},addFiltersToStorage:function(a){var b=this._getHashData(),c=b.baseUrl;a&&(c=b.baseUrl+this.settings.filtersGroupSeparator+a),window.location.hash.substring(1)!==c&&(e.history.navigate(c,{trigger:!1,replace:!0}),f.pushHash(c))},getFiltersFromStorage:function(){var a=this._getHashData();return a.filters},serializeFilters:function(a){var b="",c=this;return d.each(a,function(a){if(a){var e=a.get("context"),f=a.get("key"),g=a.get("value");$.isArray(g)?d.each(g,function(a){b+=c._prepareFilterSerializedFilter(e,f,a)}):b+=c._prepareFilterSerializedFilter(e,f,g)}}),b.substr(0,b.length-1)},deserializeFilters:function(a){var b=[];if(!d.isUndefined(a)){var c=this,e=a.split(this.settings.filterSeparator);return d.each(e,function(a){var d=c._deserializeFilter(a);d&&b.push(d)}),this._reduceFilters(b)}},_reduceFilters:function(a){var b=[];return d.each(a,function(c){if(!c.skip){var e={key:c.key};c.context&&(e.context=c.context);var f=d.where(a,e);if(f.length>1){var g=[];d.each(f,function(a){a.skip=!0,g.push(a.value)}),c.value=g,b.push(d.omit(c,"skip"))}else b.push(c)}}),b},_prepareFilterSerializedFilter:function(a,b,c){var e=b;return d.isUndefined(a)||null==a||(e+=this.settings.filterContextSeparator+a),e+this.settings.filterKeyValueSeparator+encodeURIComponent(c)+this.settings.filterSeparator},_deserializeFilter:function(a){var b=a.split(this.settings.filterKeyValueSeparator),c=b[0].split(this.settings.filterContextSeparator),d={};return c.length>1?(d.key=c[0],d.context=c[1]):d.key=c[0],b.length>1&&(d.value=decodeURIComponent(b[1])),d},_getHashData:function(){var a={},b=e.history.getHash()||"",c=b.split(this.settings.filtersGroupSeparator);return a.baseUrl=c[0],c.length>1&&(a.filters=c[1]),a}})}),define("modules/filters/controllers/filters-controller",["require","exports","module","underscore","marionette","../models/filters","./filters-url-persistence-controller"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("../models/filters"),g=a("./filters-url-persistence-controller");c.exports=e.Object.extend({_filters:new f,eventContext:null,persistAdapters:{},filterUpdate:"hub:filters:updated",filtersRestoredEvent:"hub:filters:restored",initialize:function(a){this.eventContext=this,d.extend(this,a),this.addPersistenceAdapter(g,!0),this._startFilterCollectionMonitoring()},addPersistenceAdapter:function(a,b){var c=new a(this.options);if(d.isUndefined(c.uuid))throw new Error("Your persistence adapter should have an uuid property");this.persistAdapters[c.uuid]=c,b&&(this.defaultAdapter=c.uuid)},addFilter:function(a,b){(d.isUndefined(a.persistAdapter)||d.isEmpty(a.persistAdapter))&&(a.persistAdapter=this.defaultAdapter),this._filters.addFilter(a),b||this._triggerEvent(this.filterUpdate,this.getFilters())},addFilters:function(a,b){var c=this;this._stopFilterCollectionMonitoring(),d.each(a,function(a){c.addFilter(a,!0)}),this._persistFilters(),this._startFilterCollectionMonitoring(),b||this._triggerEvent(this.filterUpdate,this.getFilters())},removeFilter:function(a,b){this._filters.removeFilter(a),b||this._triggerEvent(this.filterUpdate,this.getFilters())},removeFilters:function(a,b){var c=this;this._stopFilterCollectionMonitoring(),d.each(a,function(a){c.removeFilter(a,!0)}),this._persistFilters(),this._startFilterCollectionMonitoring(),b||this._triggerEvent(this.filterUpdate,this.getFilters())},updateFilter:function(a,b){a&&"undefined"!=typeof a.value&&""!==a.value?this.addFilter(a,b):this.removeFilter(a,b),b||this._triggerEvent(this.filterUpdate,this.getFilters())},updateFilters:function(a,b){var c=this;this._stopFilterCollectionMonitoring(),d.each(a,function(a){c.updateFilter(a,!0)}),this._persistFilters(),this._startFilterCollectionMonitoring(),b||this._triggerEvent(this.filterUpdate,this.getFilters())},getFilter:function(a){return this._filters.findWhere(a)},getFilters:function(){return this._filters},restoreFilters:function(){var a=this;this._stopFilterCollectionMonitoring(),this.resetFilters(!0),d.each(this.persistAdapters,function(b){var c=b.retrieveFilters();c&&d.each(c,function(b){a._filters.addFilter(b)})}),this._triggerEvent(this.filtersRestoredEvent,this.getFilters()),this._startFilterCollectionMonitoring()},resetFilters:function(a){this._filters.reset(),a||this._triggerEvent(this.filterUpdate,this.getFilters())},matchFilters:function(a){var b=[],c=this;return a&&d.each(a,function(a){var d=c._filters.findWhere({key:a});d&&b.push(d)}),b},size:function(){return this._filters.size()},_triggerEvent:function(a,b){this.eventContext&&a&&this.eventContext.trigger(a,b)},_startFilterCollectionMonitoring:function(){this.listenTo(this._filters,"add",this._persistFilters),this.listenTo(this._filters,"remove",this._persistFilters),this.listenTo(this._filters,"change",this._persistFilters),this.listenTo(this._filters,"reset",this._persistFilters)},_stopFilterCollectionMonitoring:function(){this.stopListening(this._filters,"add"),this.stopListening(this._filters,"remove"),this.stopListening(this._filters,"change"),this.stopListening(this._filters,"reset")},_persistFilters:function(){var a=this._groupFiltersByAdapters(this._filters);d.each(this.persistAdapters,function(b,c){a[c]?b.saveFilters(a[c]):b.reset()})},_getPersistAdapterByKey:function(a){var b=this.persistAdapters[this.defaultAdapter];if(d.isUndefined(a)||d.isUndefined(this.persistAdapters[a])||(b=this.persistAdapters[a]),d.isUndefined(b)||d.isEmpty(b))throw new Error("Error while getting persist adapter");return b},_groupFiltersByAdapters:function(a){return a.groupBy("persistAdapter")}})}),define("modules/filters/main",["require","ironclad","./controllers/filters-controller"],function(a){var b=a("ironclad").MessageBus,c=a("./controllers/filters-controller"),d=new c;b.reqres.setHandler("hub:filters:controller",function(){return d})}),define("modules/gravatar/main",["require","exports","module","underscore","ironclad","./controllers/gravatar"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./controllers/gravatar"),g={gravatar:f};d.extend(e.templateHelpers,g)}),define("modules/help/main",["require","exports","module","modules/link-nav/registry"],function(a,b,c){var d=a("modules/link-nav/registry");d.addMenuItem("user-profile-menu","#help-menu-link",{},90)}),define("modules/versions/models/versions",["require","exports","module","ironclad","./version"],function(a,b,c){var d=a("ironclad"),e=a("./version");c.exports=d.Collection.extend({model:e,url:function(){if(this.projectId)return"api/v1/projects/"+this.projectId+"/releases";throw new Error("No url or projectId specified !")},parse:function(a){return a.items}})}),define("modules/projects/models/project",["require","exports","module","ironclad","modules/versions/models/versions","ironclad"],function(a,b,c){var d=a("ironclad"),e=a("modules/versions/models/versions"),f=a("ironclad").MessageBus;c.exports=d.Model.extend({entityType:"PJ",urlRoot:"/api/v1/projects",inline:["tags","releases","watchitems","urlLinks","logos","contacts"],versions:function(){return new e({url:this.get("releasesUrl")})},validation:{name:{required:!0}},getEntityKey:function(){return{entityType:this.entityType,entityId:this.get("id")}},parse:function(a){return a.logos=a.logos||{},"../compiled/images/generic-external-64px.png"===a.logos.mediumLogoUrl&&delete a.logos.mediumLogoUrl,"../compiled/images/generic-external-32px.png"===a.logos.smallLogoUrl&&delete a.logos.smallLogoUrl,a},destroy:function(){f.commands.execute("projects:recent:remove",this.get("id")),d.Model.prototype.destroy.apply(this,arguments)}})}),define("modules/projects-components/models/components-paged",["require","exports","module","modules/common/models/pageable-collection","modules/projects/models/project"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("modules/projects/models/project");c.exports=d.extend({model:e,url:"/api/v1/catalog-risk-profile-projects",persistence:{active:!0,filtersToPersist:["filter"],persistBeforeRequest:!0},state:{sortKey:"name"}})}),define("modules/risk-profile/controllers/risk-graph-cell",["require","exports","module","backgrid","modules/i18n/main","marionette","underscore"],function(a,b,c){var d=a("backgrid"),e=a("modules/i18n/main"),f=a("marionette"),g=a("underscore"),h="popover-active";c.exports=d.StringCell.extend({displayValue:!1,showPopover:!1,className:"risk-graph-cell",defaultPopoverOptions:{trigger:"none",html:!0,placement:"top"},popoverOptions:{},getActualValue:function(){return 0},getData:function(){return[{name:"",value:0,color:"rgb(232, 151, 149)"}]},getPopoverData:function(){return this.getData()},getMaxValue:function(){return 100},getMinValue:function(){return 0},templates:{popoverContentTemplate:f.TemplateCache.get("#risk-profile-risk-popover"),riskProgressTemplate:f.TemplateCache.get("#risk-profile-risk-progress"),progressBarTemplate:f.TemplateCache.get("#risk-profile-progress-cell")},getTriStatusClass:function(){var a=this.getActualValue();return a<4?"low":a<7?"medium":"high"},calculatePercentage:function(a,b){var c=Math.max(b,10),d=a/c*100;return a>0&&(d=Math.max(d,4)),d},constructRiskProgress:function(a,b,c,d){var e=this.templates.riskProgressTemplate({minValue:a,maxValue:b,type:c.type,value:c.value,percentage:d});return e},constructProgressBarContentGroup:function(){var a=this,b="";g.each(this.getData(),function(c){var d=a.calculatePercentage(c.value,a.getMaxValue());b+=a.constructRiskProgress(a.getMinValue(),a.getMaxValue(),c,d)});var c={mainContent:b,popoverContent:this.templates.popoverContentTemplate(this.getPopoverData())};return c},addPopoverWithDetails:function(a){this.addPopover(a.progressBarDOM,a.progressBarContentGroup),this.addProgressBarEvents(a.progressBarDOM,a.progressBarContentGroup)},addPopover:function(a,b){var c=g.extend({},this.defaultPopoverOptions,this.popoverOptions,{content:b.popoverContent});a.popover(c)},addProgressBarEvents:function(a){var b=this;a.on("click",function(c){c.stopPropagation(),a.hasClass(h)?(a.popover("hide"),b.removePopoverShowEvents()):($(document).trigger("click.risk.popover"),a.popover("show"),b.addPopoverShowEvents(a)),a.toggleClass(h)})},addPopoverShowEvents:function(a){$(document).on("click.risk.popover",function(){a.trigger("click")})},removePopoverShowEvents:function(){$(document).off("click.risk.popover")},constructProgressBarElem:function(){var a=this.constructProgressBarContentGroup(),b=this.templates.progressBarTemplate({displayValue:this.displayValue,actualValue:this.getActualValue(),progressBarContent:a.mainContent}),c=$(b);return{progressBarContentGroup:a,progressBarDOM:c}},constructDataStruct:function(a,b,c){var d=[];return d.push(this.getRiskOptions("high",a)),d.push(this.getRiskOptions("medium",b)),d.push(this.getRiskOptions("low",c)),d},getRiskOptions:function(a,b){var c=this.getLink(a);return{name:e.get("app.modules.versions.bom."+a),value:b,type:a,containerClassName:this.getContainerClassName(a),class:0===b?"empty":a,href:c?c:"javascript:;"}},render:function(){var a=this.constructProgressBarElem();return this.showPopover&&this.addPopoverWithDetails(a),this.$el.html(a.progressBarDOM),this},getLink:function(a){return""},getContainerClassName:function(a){var b=this.getLink(a),c="risk-"+a;return b||(c+=" no-action"),c}})}),define("modules/risk-profile/controllers/license-risk-cell",["require","exports","module","./risk-graph-cell"],function(a,b,c){var d=a("./risk-graph-cell");c.exports=d.extend({showPopover:!0,getData:function(){var a=this.model.get("riskProfile");if(a&&a.categories.LICENSE){var b=a.categories.LICENSE;return this.constructDataStruct(b.HIGH,b.MEDIUM,b.LOW)}return this.constructDataStruct(0,0,0)},getMaxValue:function(){var a=this.model.get("riskProfile");if(a&&a.categories.LICENSE){var b=a.categories.LICENSE;return b.HIGH+b.MEDIUM+b.LOW+b.OK}return 0}})}),define("modules/risk-profile/controllers/basic-operational-risk-cell",["require","exports","module","./risk-graph-cell"],function(a,b,c){var d=a("./risk-graph-cell");c.exports=d.extend({showPopover:!0,getData:function(){var a=this.model.get("riskProfile");if(a&&a.categories.OPERATIONAL){var b=a.categories.OPERATIONAL;return this.constructDataStruct(b.HIGH,b.MEDIUM,b.LOW)}return this.constructDataStruct(0,0,0)},getMaxValue:function(){var a=this.model.get("riskProfile");if(a&&a.categories.OPERATIONAL){var b=a.categories.OPERATIONAL;return b.HIGH+b.MEDIUM+b.LOW+b.OK}return 0}})}),define("modules/risk-profile/controllers/security-risk-cell",["require","exports","module","./risk-graph-cell"],function(a,b,c){var d=a("./risk-graph-cell");c.exports=d.extend({showPopover:!0,getData:function(){var a=this.model.get("riskProfile");if(a&&a.categories.VULNERABILITY){var b=a.categories.VULNERABILITY;return this.constructDataStruct(b.HIGH,b.MEDIUM,b.LOW)}return this.constructDataStruct(0,0,0)},getMaxValue:function(){var a=this.model.get("riskProfile");if(a&&a.categories.VULNERABILITY){
    var b=a.categories.VULNERABILITY;return b.HIGH+b.MEDIUM+b.LOW+b.OK}return 0}})}),define("modules/common/controllers/hub-header-cell",["require","exports","module","underscore","backgrid"],function(a,b,c){var d=a("underscore"),e=a("backgrid");c.exports=e.HeaderCell.extend({onClick:function(a){a.preventDefault();var b=this.column,c=this.collection,e="backgrid:sort";this.sortCount=this.sortCount||0,b.get("firstSortDirection")?(this.firstSortDirection=b.get("firstSortDirection"),"descending"===this.firstSortDirection&&(this.directions=["descending","ascending",null]),this.column.unset("firstSortDirection")):this.firstSortDirection||(this.directions=["ascending","descending",null]),b.get("direction")&&0===this.sortCount&&(this.sortCount=d.indexOf(this.directions,b.get("direction"))+1),c.trigger(e,b,this.directions[this.sortCount%3]),this.sortCount++}})}),define("modules/link-helper/main",["require","exports","module","underscore","marionette","numeral","ironclad"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("numeral"),g=a("ironclad"),h={assetLink:function(a,b,c,d,f,g){var h=a.id||a.entityKey.entityId,i="#"+b+"/id:"+h+"/view:"+c,j=g||"",k=e.TemplateCache.get("#link-helper-anchor-tag")({className:j,href:i,title:f||"",label:d});return k},formatFileSize:function(a){return 0===a?"0 B":f(a||0).format("0.0 b")},componentScanLink:function(a,b){return'<a href="#code-locations/view:bom/scanid:'+a+'" target="_blank">'+b+"</a>"}};d.extend(g.templateHelpers,h),c.exports=h}),define("modules/projects-components/views/component-version-row",["require","exports","module","marionette","underscore","backgrid","modules/i18n/main","ironclad","modules/risk-profile/controllers/license-risk-cell","modules/risk-profile/controllers/basic-operational-risk-cell","modules/risk-profile/controllers/security-risk-cell","modules/link-helper/main"],function(a,b,c){var d=a("marionette"),e=a("underscore"),f=a("backgrid"),g=a("modules/i18n/main"),h=a("ironclad"),i=a("modules/risk-profile/controllers/license-risk-cell"),j=a("modules/risk-profile/controllers/basic-operational-risk-cell"),k=a("modules/risk-profile/controllers/security-risk-cell"),l=a("modules/link-helper/main");c.exports=h.Layout.extend({template:"#projects-components-component-version-row",tagName:"tr",className:"child-row",ui:{$securityRiskCell:".security-risk-cell",$licenseRiskCell:".license-risk-cell",$operationalRiskCell:".operational-risk-cell"},templateHelpers:function(){return{getComponentLink:this.getComponentLink,getSecRisk:this.getSecRisk,getLicRisk:this.getLicRisk,getOpRisk:this.getOpRisk,getWhereUsedLink:this.getWhereUsedLink,isVersionUnspecified:this.isVersionUnspecified}},initialize:function(){h.ItemView.prototype.initialize.apply(this,arguments),this.subRowOpts=e.extend({},{columns:new f.Column,className:"string-cell",editable:!1,showPopover:!0}),e.bindAll(this,"getComponentLink","getWhereUsedLink","isVersionUnspecified")},onRender:function(){var a=e.extend({},this.subRowOpts,{model:this.model});this.ui.$securityRiskCell.html(this.getInnerContent(new k(a))),this.ui.$licenseRiskCell.html(this.getInnerContent(new i(a))),this.ui.$operationalRiskCell.html(this.getInnerContent(new j(a)))},isVersionUnspecified:function(){return"PJ"===this.model.get("entityKey").entityType},getComponentLink:function(){return"#versions/id:"+this.model.get("entityKey").entityId},getWhereUsedLink:function(){var a=this.model.get("usedCount");if(this.isVersionUnspecified())return d.TemplateCache.get("#link-helper-anchor-tag")({className:"",href:"#projects/id:"+this.model.get("entityKey").entityId,title:g.get("app.project.version.usages.hover",{num:a}),label:a});var b=g.get("app.project.version.usages.hover",{num:a});return l.assetLink(this.model.attributes,"versions","overview",a,b)},getInnerContent:function(a){return a.render().$el.find("> *")}})}),define("modules/projects-components/views/expanded-content",["require","exports","module","ironclad","./component-version-row"],function(a,b,c){var d=a("ironclad"),e=a("./component-version-row");c.exports=d.CollectionView.extend({childView:e,excludeContainerTag:!0})}),define("modules/projects-components/views/table",["require","exports","module","ironclad","anglebrackets","modules/i18n/main","modules/risk-profile/controllers/license-risk-cell","modules/risk-profile/controllers/basic-operational-risk-cell","modules/risk-profile/controllers/security-risk-cell","modules/common/controllers/hub-header-cell","modules/common/controllers/expander-cell","./expanded-content"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main"),g=a("modules/risk-profile/controllers/license-risk-cell"),h=a("modules/risk-profile/controllers/basic-operational-risk-cell"),i=a("modules/risk-profile/controllers/security-risk-cell"),j=a("modules/common/controllers/hub-header-cell"),k=a("modules/common/controllers/expander-cell"),l=a("./expanded-content");c.exports=e.Table.extend({className:"table-responsive",options:{description:f.get("app.modules.projects.components.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:e.TableRow.extend({expandable:{expandedContent:function(){var a=new d.Collection(this.model.get("releasesUsed"));return new l({collection:a})},addBehaviourCondition:function(){return this.model.get("releasesUsed").length>1}}}),columns:[{name:"expander",label:"",cell:k.extend({render:function(){return this.model.get("releasesUsed").length>1&&k.prototype.render.apply(this,arguments),this}}),editable:!1,sortable:!1},{name:"name",displayValue:"name",label:f.get("app.modules.projects.components.name"),cell:e.TableCell,template:"#projects-components-name-cell",escapeValue:!1,editable:!1,sortable:!0},{name:"releasesUsedCount",label:f.get("app.modules.common.Version.pl"),exposeModel:!0,template:"#projects-components-version-cell",cell:e.TableCell,editable:!1,sortable:!0},{name:"usedCount",label:f.get("app.modules.projects.components.usedCount"),exposeModel:!0,template:"#projects-components-usage-cell",cell:e.TableCell,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:j},{name:"riskProfile.categories.VULNERABILITY",label:f.get("app.modules.risk.profile.panel.reasons.securityRisk"),className:"text-center",cell:i,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:j},{name:"riskProfile.categories.LICENSE",label:f.get("app.modules.risk.profile.panel.reasons.licenseRisk"),cell:g,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:j},{name:"riskProfile.categories.OPERATIONAL",label:f.get("app.modules.risk.profile.panel.reasons.operationalRisk"),cell:h,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:j}]}}})}),define("modules/d3charts/controllers/standard-bar-base",["require","d3","underscore","jquery"],function(a){var b=a("d3"),c=a("underscore"),d=a("jquery");b.chart("StandardBar",{initialize:function(a){var e=this;c.bindAll(this,"getBarClass","getOpacity","updateScales","width","height"),this.id=a.id||"barChart-"+parseInt(1e4*Math.random()),this.w=a.width||250,this.h=a.height||250,this.margin=a.margin||{top:10,right:10,left:10,bottom:20},this.barClasses=a.barClasses||["progress-bar-high","progress-bar-medium","progress-bar-low","progress-bar-none"],this.numCategories=a.numCategories||4,this.categorySwap=a.categorySwap||{},this.rowSpacing=a.rowSpacing||0,this.extraSpacing=a.extraSpacing||0,this.suggestedMax=a.suggestedMax||0,this.minNum=1e8,this.maxNum=-1e7,this.xScale=b.scale.linear().domain([0,Math.max(this.maxNum,this.suggestedMax)]).range([0,this.w-this.margin.left-this.margin.right]),this.parentID="#"+d(this.base[0]).parent().prop("id"),this.legendTable=b.select(this.parentID+" .chart-legend").append("table").attr({role:"presentation"}).append("tbody"),b.select(this.parentID+" svg").attr("id",this.id),d(this.base[0]).attr("height",this.h+"px"),d(this.base[0]).attr("width",this.w+"px");var f=this.base.append("g").classed("all-points",!0),g=this.base.append("defs").append("pattern").attr({id:"pattern"+c.uniqueId(),patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10,patternTransform:"rotate(30)"}),h=g.append("g");h.append("rect").attr({x:"0",width:"5",height:"10",y:"0",fill:"#f0f0f0"}),h.append("rect").attr({x:"5",width:"5",height:"10",y:"0",fill:"#f4f4f4"}),this.layer("all-points",f,{dataBind:function(a){for(var b in a)a[b].number>e.maxNum&&(e.maxNum=a[b].number),a[b].number<e.minNum&&(e.minNum=a[b].number);return e.updateScales(),this.selectAll(e.parentID+" .all-points>.point").remove(),e.legendTR=e.legendTable.selectAll("tr").data(a).enter().append("tr"),this.selectAll(".all-points").data(a)},insert:function(){e.legendTR.append("td").attr({"data-category":function(a,b){return a.category},"data-value":function(a,b){return a.value},class:function(a,b){return"js-d3charts-filter"}}).on("click",function(a,b){a.number>0&&d(e).trigger("chartElementClicked",[{riskLevel:a.name,riskLevelAlias:e.categorySwap[a.name],componentCount:a.number,chartID:e.id,barClass:e.getBarClass(a,b),barOpacity:e.getOpacity(a,b),isActive:"true"===d(this).attr("data-active")}])}).append("div").attr("class",function(a,b){return"legend-label js-legend-label"}).text(function(a,b){return void 0!=e.categorySwap[a.name]?e.categorySwap[a.name]:a.name}),e.legendTR.append("td").attr({"data-category":function(a,b){return a.category},"data-value":function(a,b){return a.value},class:"legend-count"}).text(function(a,b){return a.number});var a=this.append("rect").attr({"data-category":function(a,b){return a.category},"data-value":function(a,b){return a.value},class:function(a,b){return e.getBarClass(a,b)+(a.number>0?" js-d3charts-filter":"")},x:e.margin.left,y:function(a,b){return e.margin.top/2+b*e.rowSpacing+b*(e.h-e.margin.top-e.margin.bottom)/e.numCategories},width:1,height:(e.h-e.margin.top-e.margin.bottom)/e.numCategories,"fill-opacity":e.getOpacity,stroke:function(){return"#9b9b9b"},"stroke-width":function(a,b){return 0}}).on("click",function(a,b){var c=d("#"+e.id+' td.legend-label[data-name = "'+a.name+'"]');d(e).trigger("chartElementClicked",[{riskLevel:a.name,riskLevelAlias:e.categorySwap[a.name],componentCount:a.number,chartID:e.id,barClass:e.getBarClass(a,b),barOpacity:e.getOpacity(a,b),isActive:"true"===c.attr("data-active")}])});return a},events:{enter:function(){return this.transition().duration(575).attr("width",function(a,b){return Math.max(e.getWidth(a,b),1)})},exit:function(){return this.remove()}}})},redraw:function(){c.defer(c.bind(function(){this.width(d(this.parentID).width()-d(this.parentID+" .chart-legend").width()-10),this.updateThePoints()},this))},width:function(a){return 0===arguments.length?this.w:(this.w=Math.max(a,0),d(this.base[0]).attr("width",this.w+"px"),this.updateScales(),this.updateThePoints(),this)},height:function(a){return 0===arguments.length?this.h:(this.h=a,this.updateScales(),this.updateThePoints(),d(this.base[0]).attr("height",this.h),this)},updateScales:function(){this.xScale=b.scale.linear().domain([0,Math.max(this.maxNum,this.suggestedMax)]).range([0,this.w-this.margin.left-this.margin.right])},updateThePoints:function(){var a=this;b.selectAll("#"+this.id+" .all-points rect").transition().duration(175).attr("width",function(b,c){return a.getWidth(b,c)})},getOpacity:function(){return 1},getBarClass:function(a,b){return this.barClasses[b]},getWidth:function(a){return 0===a.number?1:this.xScale(a.number)+2}})}),define("modules/d3charts/views/base-chart",["require","exports","module","underscore","ironclad","d3","../controllers/standard-bar-base"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("d3");a("../controllers/standard-bar-base"),c.exports=e.ItemView.extend({template:"#d3charts-bar-chart",filterQueryParamsMapping:{VULNERABILITY:"securityRisk",LICENSE:"licenseRisk",OPERATIONAL:"operationalRisk"},ui:{$chartLegend:".chart-legend"},baseAdvancedFilterKey:"filter",riskChart:{},riskType:null,initialize:function(a){e.ItemView.prototype.initialize.apply(this,arguments),this.filtersController=f.reqres.request("hub:filters:controller"),d.extend(this,a)},onDestroy:function(){$(window).off("resize",this.resizeChart)},resizeChart:function(a){a.data.redraw()},getData:function(){},onAttach:function(){this.$el.find(".bar-chart").remove(),d.isString(this.ui.$chartLegend)||this.ui.$chartLegend.empty();var a=this.getData(),b=$("#"+this.id).width()-100;this.riskChart=g.select("#"+this.id).append("svg").attr("class","bar-chart").attr("display","inline-block").chart("StandardBar",{width:b,height:100,numCategories:4,rowSpacing:4,extraSpacing:0,suggestedMax:5,margin:{top:10,right:10,left:10,bottom:10}}),this.riskChart.draw(a),this.riskChart.redraw(),this.markActiveFilters(),$(window).on("resize",this.riskChart,this.resizeChart)},markActiveFilters:function(){var a=this.filtersController.getFilter({key:this.baseAdvancedFilterKey}),b=this;if(this.riskType&&a){var c=a.get("value");"string"==typeof c&&(c=[c]),d.each(c,function(a){var c=a.split(":");c[0]===b.riskType&&b.$el.find('[data-category="'+b.riskType+'"][data-value="'+c[1].toUpperCase()+'"]').attr("data-active","true")})}}})}),define("modules/risk-profile/views/license-chart",["require","exports","module","modules/i18n/main","modules/d3charts/views/base-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/d3charts/views/base-chart");c.exports=e.extend({id:"license-risk-chart",riskType:"licenseRisk",getData:function(){var a=this.model.get("categories").LICENSE||{},b=[{name:d.get("app.modules.versions.bom.high"),value:"HIGH",number:a.HIGH||0,category:"licenseRisk"},{name:d.get("app.modules.versions.bom.medium"),value:"MEDIUM",number:a.MEDIUM||0,category:"licenseRisk"},{name:d.get("app.modules.versions.bom.low"),value:"LOW",number:a.LOW||0,category:"licenseRisk"},{name:d.get("app.modules.versions.bom.ok"),value:"OK",number:a.OK||0,category:"licenseRisk"}];return b}})}),define("modules/risk-profile/views/operational-chart",["require","exports","module","modules/i18n/main","modules/d3charts/views/base-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/d3charts/views/base-chart");c.exports=e.extend({id:"operational-risk-chart",riskType:"operationalRisk",getData:function(){var a=this.model.get("categories").OPERATIONAL||{},b=[{name:d.get("app.modules.versions.bom.high"),value:"HIGH",number:a.HIGH||0,category:"operationalRisk"},{name:d.get("app.modules.versions.bom.medium"),value:"MEDIUM",number:a.MEDIUM||0,category:"operationalRisk"},{name:d.get("app.modules.versions.bom.low"),value:"LOW",number:a.LOW||0,category:"operationalRisk"},{name:d.get("app.modules.versions.bom.ok"),value:"OK",number:a.OK||0,category:"operationalRisk"}];return b}})}),define("modules/risk-profile/views/vulnerability-chart",["require","exports","module","modules/i18n/main","modules/d3charts/views/base-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/d3charts/views/base-chart");c.exports=e.extend({id:"vulnerability-risk-chart",riskType:"securityRisk",getData:function(){var a=this.model.get("categories").VULNERABILITY||{};return[{name:d.get("app.modules.versions.bom.high"),value:"HIGH",number:a.HIGH||0,category:"securityRisk"},{name:d.get("app.modules.versions.bom.medium"),value:"MEDIUM",number:a.MEDIUM||0,category:"securityRisk"},{name:d.get("app.modules.versions.bom.low"),value:"LOW",number:a.LOW||0,category:"securityRisk"},{name:d.get("app.modules.versions.bom.ok"),value:"OK",number:a.OK||0,category:"securityRisk"}]}})}),define("modules/risk-profile/models/catalog-risk-profile",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus;c.exports=d.Model.extend({queryParamKey:"q",initialize:function(){var a=e.reqres.request("hub:filters:controller"),b=a.getFilter({key:this.queryParamKey});b&&(this.queryFilter=this.queryParamKey+"="+b.get("value"))},url:function(){var a="/api/v1/catalog-risk-profile";return this.queryFilter?a+"?"+this.queryFilter:a}})}),define("modules/d3charts/controllers/filter-risks",["require","exports","module"],function(a,b,c){c.exports={filters:function(a,b){var c=$(a.currentTarget),d=c.data();b.trigger("advanced-filter:do:update",{name:d.category,key:d.value.toLowerCase()})}}}),define("modules/projects-components/views/layout",["require","exports","module","modules/i18n/main","ironclad","../models/components-paged","./table","modules/risk-profile/views/license-chart","modules/risk-profile/views/operational-chart","modules/risk-profile/views/vulnerability-chart","modules/risk-profile/models/catalog-risk-profile","modules/common/views/waiting","modules/d3charts/controllers/filter-risks","modules/advanced-filters/views/advanced-filters","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=a("../models/components-paged"),g=a("./table"),h=a("modules/risk-profile/views/license-chart"),i=a("modules/risk-profile/views/operational-chart"),j=a("modules/risk-profile/views/vulnerability-chart"),k=a("modules/risk-profile/models/catalog-risk-profile"),l=a("modules/common/views/waiting"),m=a("modules/d3charts/controllers/filter-risks"),n=a("modules/advanced-filters/views/advanced-filters"),o=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#projects-components-layout",className:"container-fluid",regions:{projectsFilter:".projects-components-filter",table:".projects-components-table",vulnerabilityChart:".vulnerability-risk-chart",licenseChart:".license-risk-chart",operationalChart:".operational-risk-chart"},queryParamKey:"q",filterParamKey:"filter",events:{"click .js-d3charts-filter":"filters"},collectionEvents:{request:"filterRiskProfile"},behaviors:{Sticky:{behaviorClass:o}},onBeforeDestroy:function(){this.collection&&(this.collection.persistence.active=!1)},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.collection=new f,this.delegateEvents()},onRender:function(){var a=this;a.chartModel=new k,a.table.show(new l),this.advancedFilters=new n({targetCollection:a.collection,placeholder:d.get("app.modules.versions.bom.filterPlaceholder")}),a.projectsFilter.show(this.advancedFilters),a.table.show(new g({collection:a.collection})),a.collection.fetch()},filterRiskProfile:function(){this.vulnerabilityChart.show(new l),this.licenseChart.show(new l),this.operationalChart.show(new l);var a=this.advancedFilters.getDefaultFilterValue();a?this.chartModel.queryFilter=this.queryParamKey+"="+a:this.chartModel.queryFilter=null,this.loadAndDisplayRiskProfile(),this.$el.find(".child-row.expanded-content").remove()},loadAndDisplayRiskProfile:function(){var a=this;this.chartModel.fetch().done(function(){a.displayRiskProfiles()})},displayRiskProfiles:function(){var a=new j({model:this.chartModel});this.vulnerabilityChart.show(a);var b=new h({model:this.chartModel});this.licenseChart.show(b);var c=new i({model:this.chartModel});this.operationalChart.show(c)},filters:function(a){m.filters(a,this.collection)}})}),define("modules/home-components/main",["require","exports","module","ironclad","modules/link-nav/registry","modules/projects-components/views/layout"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/link-nav/registry"),f=a("modules/projects-components/views/layout");e.addMenuItem("home:localnav","#home-components-menu-link",{},2),d.reqres.setHandler("home:views:content:components",function(){return f})}),define("modules/projects-myprojects/models/myprojects-paged",["require","exports","module","modules/common/models/pageable-collection","modules/projects/models/project"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("modules/projects/models/project");c.exports=d.extend({model:e,persistence:{active:!0,filtersToPersist:["filter"],persistBeforeRequest:!0},url:function(){return"/api/v1/risk-profile-projects"},state:{sortKey:"name"}})}),define("modules/projects-myprojects/controllers/delete-row",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({getTooltip:function(){return e.get("app.modules.projects.myprojects.removeProject",{project:this.model.get("name")})},deleteRow:function(a){a.preventDefault(),d.vent.trigger("assets:actions:modal",{assetName:"myprojects",view:"delete"},this.model)}})}),define("modules/projects-myprojects/views/table",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","modules/risk-profile/controllers/license-risk-cell","modules/risk-profile/controllers/basic-operational-risk-cell","modules/risk-profile/controllers/security-risk-cell","modules/common/controllers/hub-header-cell","../controllers/delete-row"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/i18n/main"),h=a("modules/risk-profile/controllers/license-risk-cell"),i=a("modules/risk-profile/controllers/basic-operational-risk-cell"),j=a("modules/risk-profile/controllers/security-risk-cell"),k=a("modules/common/controllers/hub-header-cell"),l=a("../controllers/delete-row"),m={popoverOptions:{title:g.get("app.modules.vulns.affectedVersions")}};c.exports=f.Table.extend({options:{description:g.get("app.modules.projects.myprojects.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:f.TableRow,columns:[{name:"name",label:g.get("app.projects.name"),cell:f.TableCell.extend({onRender:function(){this.$el.addClass("myprojects-project-name-cell")}}),template:"#projects-myprojects-project-name-cell",editable:!1,sortable:!0},{name:"tier",label:g.get("app.projects.tier"),cell:"string",editable:!1,sortable:!0},{label:g.get("app.views.release.lastScanned"),name:"lastScanDate",cell:f.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{label:g.get("app.views.release.lastUpdatedBom"),name:"lastBomUpdateDate",cell:f.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{name:"releaseCount",label:g.get("app.modules.common.Version.pl"),cell:"string",editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:k},{name:"riskProfile.categories.VULNERABILITY",label:g.get("app.modules.risk.profile.panel.reasons.securityRisk"),className:"text-center",cell:j.extend(m),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:k},{name:"riskProfile.categories.LICENSE",label:g.get("app.modules.risk.profile.panel.reasons.licenseRisk"),cell:h.extend(m),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:k},{name:"riskProfile.categories.OPERATIONAL",label:g.get("app.modules.risk.profile.panel.reasons.operationalRisk"),cell:i.extend(m),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:k},{name:"id",label:"",editable:!1,sortable:!1,cell:l}]}},initialize:function(){var a=this;d.each(e.WeightedStore.getItems("myprojects-table-columns"),function(b){var c=Math.min(b.weight,a.options.gridConfig.columns.length);a.options.gridConfig.columns[c].name!==b.data.name&&a.options.gridConfig.columns.splice(c,0,b.data)}),f.Table.prototype.initialize.apply(a,arguments)}})}),define("modules/risk-profile/models/risk-profile",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus;c.exports=d.Model.extend({queryParamKey:"q",initialize:function(){var a=e.reqres.request("hub:filters:controller"),b=a.getFilter({key:this.queryParamKey});b&&(this.queryFilter=this.queryParamKey+"="+b.get("value"))},url:function(){var a="/api/v1/risk-profile";return this.queryFilter?a+"?"+this.queryFilter:a}})}),define("modules/projects-myprojects/views/layout",["require","exports","module","modules/i18n/main","ironclad","../models/myprojects-paged","./table","modules/risk-profile/views/license-chart","modules/risk-profile/views/operational-chart","modules/risk-profile/views/vulnerability-chart","modules/risk-profile/models/risk-profile","modules/common/views/waiting","modules/d3charts/controllers/filter-risks","modules/advanced-filters/views/advanced-filters","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=e.MessageBus,g=a("../models/myprojects-paged"),h=a("./table"),i=a("modules/risk-profile/views/license-chart"),j=a("modules/risk-profile/views/operational-chart"),k=a("modules/risk-profile/views/vulnerability-chart"),l=a("modules/risk-profile/models/risk-profile"),m=a("modules/common/views/waiting"),n=a("modules/d3charts/controllers/filter-risks"),o=a("modules/advanced-filters/views/advanced-filters"),p=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#projects-myprojects-layout",className:"container-fluid",regions:{projectsFilter:".projects-filter-table",projectsTable:".projects-myprojects-table",vulnerabilityChart:".vulnerability-risk-chart",licenseChart:".license-risk-chart",operationalChart:".operational-risk-chart"},queryParamKey:"q",events:{"click .js-d3charts-filter":"filters"},collectionEvents:{request:"filterRiskProfile"},behaviors:{Sticky:{behaviorClass:p}},initialize:function(){this.chartModel=new l,this.collection=new g,this.delegateEvents(),this.listenTo(f.vent,"my-projects:deleted",this.loadProjectList)},onBeforeDestroy:function(){this.collection&&(this.collection.persistence.active=!1)},onRender:function(){this.advancedFilters=new o({targetCollection:this.collection,placeholder:d.get("app.projects.filter")}),this.projectsFilter.show(this.advancedFilters),this.projectsTable.show(new h({collection:this.collection})),this.loadProjectList()},loadProjectList:function(){this.collection.fetch({reset:!1})},loadAndDisplayRiskProfile:function(){var a=this;a.vulnerabilityChart.show(new m),a.licenseChart.show(new m),a.operationalChart.show(new m),a.chartModel.fetch({reset:!0}).done(function(){a.displayRiskProfiles()})},displayRiskProfiles:function(){this.vulnerabilityChart.show(new k({model:this.chartModel})),this.licenseChart.show(new i({model:this.chartModel})),this.operationalChart.show(new j({model:this.chartModel}))},filterRiskProfile:function(){var a=this.advancedFilters.getDefaultFilterValue();a?this.chartModel.queryFilter=this.queryParamKey+"="+a:this.chartModel.queryFilter=null,this.loadAndDisplayRiskProfile()},filters:function(a){n.filters(a,this.collection)}})}),define("modules/home-projects/main",["require","exports","module","ironclad","modules/link-nav/registry","modules/projects-myprojects/views/layout"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/link-nav/registry"),f=a("modules/projects-myprojects/views/layout");e.addMenuItem("home:localnav","#home-projects-menu-link",{},1),d.reqres.setHandler("home:views:content:projects",function(){return f})}),define("modules/home/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#home-header"})}),define("modules/home/controllers/route-controller",["require","exports","module","backbone"],function(a,b,c){a("backbone");c.exports={default:"home/view:projects"}}),define("modules/home/router",["require","exports","module","modules/router/main","./controllers/route-controller"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=d.extend({controller:e});c.exports=new f}),define("modules/home/main",["require","exports","module","ironclad","ironclad","modules/asset/module","./views/header","./router"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("ironclad"),f=a("modules/asset/module"),g=a("./views/header"),h=a("./router");d.reqres.setHandler("home:views:header",function(){return g}),e.WeightedStore.addItem("defaultControllers",h.controller,0),c.exports=new f({name:"home",defaultParams:{view:"projects"}})}),define("modules/licenses-edit/views/license-report-indicator",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=d.debounce(function(a){var b=a.ui.$reportIndicator.is(":checked");b!=a.model.get("inAttributionReport")?e.MessageBus.vent.trigger("license:edit:window:change","inAttributionReport"):e.MessageBus.vent.trigger("license:edit:window:revert","inAttributionReport")},250);c.exports=e.ItemView.extend({template:"#licenses-edit-license-report-indicator",ui:{$reportIndicator:"#inAttributionReport"},events:{"change @ui.$reportIndicator":"fieldChanged"},initialize:function(){this.listenTo(f.vent,"versions:bom:component:updated",this.refreshModel)},refreshModel:function(a){this.model.set(a.model.attributes)},onRender:function(){this.ui.$reportIndicator.attr("checked",this.model.get("inAttributionReport")),this.ui.$reportIndicator.attr("disabled",!this.options.canUpdate)},fieldChanged:function(){g(this)}})}),define("modules/licenses-edit/views/license-attribution-statement",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=d.debounce(function(a){a.ui.$textarea.val()!==(a.model.get("attributionStatement")||"")?f.vent.trigger("license:edit:window:change","attributionStatement"):f.vent.trigger("license:edit:window:revert","attributionStatement")},250);c.exports=e.ItemView.extend({template:"#licenses-edit-license-attribution-statement",ui:{$expander:"#attribution-statement",$textarea:"textarea",$icon:".fa"},events:{"keyup @ui.$textarea":"attributionChanged"},templateHelpers:function(){var a=this;return{canUpdate:function(){return a.options.canUpdate}}},initialize:function(){this.listenTo(f.vent,"versions:bom:component:updated",this.refreshModel)},refreshModel:function(a){this.model.set(a.model.attributes)},onRender:function(){var a=this;this.ui.$expander.on("show.bs.collapse",function(){a.ui.$icon.removeClass("fa-angle-right").addClass("fa-angle-down")}),this.ui.$expander.on("hide.bs.collapse",function(){a.ui.$icon.removeClass("fa-angle-down").addClass("fa-angle-right")});var b=this.model.get("attributionStatement");null!==b&&void 0!==b||(this.ui.$expander.collapse({toggle:!0}),a.ui.$icon.removeClass("fa-angle-down").addClass("fa-angle-right"))},onDestroy:function(){this.ui.$expander.off("shown.bs.collapse"),this.ui.$expander.off("hidden.bs.collapse")},attributionChanged:function(){g(this)}})}),define("modules/licenses-edit/views/license-edit-layout",["require","exports","module","ironclad","./license-report-indicator","./license-attribution-statement"],function(a,b,c){var d=a("ironclad"),e=a("./license-report-indicator"),f=a("./license-attribution-statement");c.exports=d.Layout.extend({template:"#licenses-edit-license-edit-layout",id:"licenses-edit-content",regions:{indicator:"#region-report-indicator",attributionStatement:"#region-attribution-statement"},onRender:function(){var a=this.options.canUpdate;this.indicator.show(new e({model:this.model,canUpdate:a})),this.attributionStatement.show(new f({model:this.model,canUpdate:a}))}})}),define("modules/licenses-edit/views/license-text",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=d.debounce(function(a){a.ui.$status.removeClass("hide"),a.ui.$restoreOriginal.removeClass("disabled"),a.ui.$licenseText.val()!==a.model.get("licenseText")?f.vent.trigger("license:edit:window:change","licenseText"):f.vent.trigger("license:edit:window:revert","licenseText")},250);c.exports=e.ItemView.extend({template:"#licenses-edit-license-text",modelEvents:{sync:"render"},ui:{$restoreOriginal:"#restore-original",$licenseText:".license-text-body",$status:".update-status"},events:{"keyup @ui.$licenseText":"licenseTextChanged","click @ui.$restoreOriginal":"restoreLicenseText"},templateHelpers:function(){var a=this;return{canUpdate:function(){return a.options.canUpdate}}},onRender:function(){this.ui.$restoreOriginal.toggleClass("disabled",!this.model.get("licenseTextAdjusted")),this.ui.$licenseText.attr("disabled",!this.options.canUpdate)},initialize:function(){this.refreshModel(),
    this.listenTo(f.vent,"versions:bom:component:license:updated",this.refreshModel)},refreshModel:function(){this.model.fetch()},licenseTextChanged:function(){g(this)},restoreLicenseText:function(a){var b=this;this.ui.$restoreOriginal.hasClass("disabled")?a.preventDefault():(b.ui.$status.spin(),this.model.destroy().then(function(){b.model.fetch().then(function(){b.ui.$status.empty(),f.vent.trigger("versions:bom:component:updated",this)})}).always(function(){b.ui.$status.spin(!1)}))}})}),define("modules/licenses-edit/main",["require","ironclad","./views/license-edit-layout","./views/license-text"],function(a){var b=a("ironclad"),c=b.MessageBus,d=a("./views/license-edit-layout"),e=a("./views/license-text");c.reqres.setHandler("licenses-edit:views:content:layout",function(a,b){return new d({model:a,canUpdate:b})}),c.reqres.setHandler("licenses-edit:views:content:text",function(a,b){return new e({model:a,canUpdate:b})}),c.reqres.setHandler("licenses-edit:enabled",function(){return!0})}),define("modules/licenses/models/license",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/licenses"})}),define("modules/licenses-preview/views/license-text",["require","exports","module","modules/modals/views/layout-view"],function(a,b,c){var d=a("modules/modals/views/layout-view");c.exports=d.extend({template:"#licenses-preview-license-text",modelEvents:{sync:"render"},initialize:function(a){this.options.large=!0,this.options.redirect=!0,d.prototype.initialize.apply(this,arguments)}})}),define("modules/common/models/adjustment",["require","exports","module","backbone","ironclad"],function(a,b,c){var d=a("backbone"),e=a("ironclad");c.exports=e.Model.extend({sync:function(a,b,c){return"create"===a&&(c.data=JSON.stringify([this]),c.contentType="application/json"),d.sync.apply(this,arguments)}})}),define("modules/licenses/models/licenses",["require","exports","module","ironclad","./license"],function(a,b,c){var d=a("ironclad"),e=a("./license");c.exports=d.Collection.extend({model:e,url:"/api/v1/licenses"})}),define("modules/projects/models/current-project",["require","exports","module","underscore","ironclad","./project"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./project"),g=new f;d.extend(e.templateHelpers,{currentProject:g}),c.exports=g}),define("modules/licenses-preview/models/license",["require","exports","module","underscore","ironclad","modules/versions/models/current-version","modules/projects/models/current-project"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/versions/models/current-version"),g=a("modules/projects/models/current-project");c.exports=e.Model.extend({url:function(){return d.isUndefined(this.get("releaseId"))||d.isEmpty(this.get("releaseId"))?"/api/internal/projects/"+g.get("id")+"/releases/"+f.get("id")+"/components/"+this.get("componentId")+"/licenses/"+this.get("licenseId"):"/api/internal/projects/"+g.get("id")+"/releases/"+f.get("id")+"/components/"+this.get("componentId")+"/versions/"+this.get("releaseId")+"/licenses/"+this.get("licenseId")}})}),define("modules/licenses-preview/models/licenses",["require","exports","module","modules/licenses/models/licenses","./license"],function(a,b,c){var d=a("modules/licenses/models/licenses"),e=a("./license");c.exports=d.extend({model:e})}),define("modules/licenses-preview/views/license-list-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.CompositeView.extend({template:"#licenses-preview-license-list-item",tagName:"li",className:"list-group-item",events:{click:"licenseSelected"},licenseSelected:function(){this.model.collection.trigger("license:selected",this.model)},onRender:function(){this.listenTo(this.model.collection,"license:selected",function(a){this.$el.toggleClass("active",this.model===a)})}})}),define("modules/licenses-preview/views/license-list",["require","exports","module","underscore","ironclad","./license-list-item"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./license-list-item");c.exports=e.CompositeView.extend({template:"#licenses-preview-license-list",childViewContainer:".license-list-container",childView:f,initialize:function(){this.listenTo(e.MessageBus.vent,"update:license:list",this._handleLicenseSelection)},onRender:function(){this._selectFirstLicense()},_handleLicenseSelection:function(a){a&&(a.id||a.length>1)&&this._selectFirstLicense()},_selectFirstLicense:function(){var a=this;d.defer(function(){var b=a.children.first();b&&b.licenseSelected()})}})}),define("modules/licenses-preview/views/license-preview",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#licenses-preview-license-preview",modelEvents:{sync:"render"},initialize:function(){this.model.fetch()}})}),define("modules/licenses-preview/views/license-selection",["require","exports","module","underscore","ironclad","modules/form/models/field-selectize","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/form/models/field-selectize"),h=a("modules/i18n/main");c.exports=e.ItemView.extend({template:"#licenses-preview-license-selection",ui:{$licenseSelector:"select.license-selector",$changeWarning:".js-license-change-warning"},events:{"click @ui.$changeWarning a":"acceptWarning"},licenseTextChanged:!1,onRender:function(){var a={id:!1,name:this.model.get("licenseDisplay")};1===this.model.get("licenses").length&&(a.id=this.getLicenseId()),this.setupLicenseAutoComplete(a),this.listenTo(f.vent,"license:edit:window:change",function(a){"licenseText"===a&&(this.licenseTextChanged=!0)}),this.listenTo(f.vent,"license:edit:window:revert",function(a){"licenseText"===a&&(this.licenseTextChanged=!1)})},setupLicenseAutoComplete:function(a){var b=this;this.licenseAutocomplete=new g({selector:this.ui.$licenseSelector,suggestURL:"/api/v1/licenses?limit=100&searchTerm=%QUERY",valueField:"id",labelField:"name",searchField:"name",highlight:!1,onInitialize:function(){var c=this;a&&(this.addOption(a),this.refreshOptions(!1),this.addItem(a[this.settings.valueField],!0),b.model.get("licenses").length>1&&d.each(b.model.get("licenses"),function(a){c.addOption({id:a.licenseId,name:a.name})}))}}),this.listenTo(this.licenseAutocomplete,"item:selected",this.updateLicenseSelection),this.listenTo(this.licenseAutocomplete,"error:no-opts",this.renderError),this.options.canUpdate||this.licenseAutocomplete.selector[0].selectize.disable()},acceptWarning:function(a){a.preventDefault(),this.licenseTextChanged=!1,this.updateLicenseSelection(),this.ui.$changeWarning.empty()},updateLicenseSelection:function(){if(this.licenseTextChanged){var a=h("app.modules.versions.bom.component.licenseChangeWarning");this.ui.$changeWarning.html(a)}else{var b=this.licenseAutocomplete.getSelectedOption();b.id===this.getLicenseId()||d.isUndefined(b.id)?(this.model.get("licenses").length>1?f.vent.trigger("update:license:list",this.model.get("licenses")):f.vent.trigger("update:license:list",b),f.vent.trigger("license:edit:window:revert","license")):(f.vent.trigger("update:license:list",b),f.vent.trigger("license:edit:window:change","license"))}},getLicenseId:function(){return this.model.has("licenseId")?this.model.has("licenseId"):!(this.model.get("licenses").length>1)&&(1===this.model.get("licenses").length?this.model.get("licenses")[0].licenseId:void 0)}})}),define("modules/licenses-preview/views/license-layout",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view","modules/i18n/main","modules/versions/models/current-version","modules/common/models/adjustment","../models/licenses","../models/license","./license-list","./license-preview","./license-selection"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/modals/views/layout-view"),h=a("modules/i18n/main"),i=a("modules/versions/models/current-version"),j=a("modules/common/models/adjustment"),k=a("../models/licenses"),l=a("../models/license"),m=a("./license-list"),n=a("./license-preview"),o=a("./license-selection");c.exports=g.extend({template:"#licenses-preview-license-layout",regions:d.extend({},g.prototype.regions,{list:".region-licenses-list-modal-list",preview:".region-licenses-list-modal-preview",edit:".region-license-edit",selection:".region-license-selection",modalFooter:"#modalFooter"}),templateHelpers:function(){var a=this;return{getTitle:function(){return a.getComponentTitle()},canUpdate:function(){return a.canUpdate()}}},initialize:function(){this.options.large=!0,this.options.redirect=!0,g.prototype.initialize.apply(this,arguments),d.bindAll(this,"_loadLicensePreview"),this.project=this.options.project,this.license=this.options.license,this.licenseCollection=this.parseLicenses(),this.componentId=this.getComponentId(this.project),this.releaseId=this.getReleaseId(this.project),this.model=new j(this.project.attributes),this.model.url=this.options.collection._meta.href||"/api/v1/releases/"+i.get("id")+"/component-bom-entries",this.listenTo(f.vent,"update:license:list",this._handleLicenseSelection),this.listenTo(this.licenseCollection,"license:selected",this._loadLicensePreview);var a=this,b={};this.listenTo(f.vent,"license:edit:window:change",function(c){b[c]=!0,a.ui.$ok.removeAttr("disabled")}),this.listenTo(f.vent,"license:edit:window:revert",function(c){if(b[c]){delete b[c];for(var d in b)if(b.hasOwnProperty(d))return;a.ui.$ok.attr("disabled","disabled")}})},getComponentId:function(a){return a.has("projectId")?a.get("projectId"):a.has("fileMatchBomComponent")?a.get("fileMatchBomComponent").project.id:""},getReleaseId:function(a){return a.has("releaseId")?a.get("releaseId"):a.has("fileMatchBomComponent")?a.get("fileMatchBomComponent").release.id:""},parseLicenses:function(){return this.license.get("licenses")&&this.license.get("licenses").length>0?new k(this.license.get("licenses")):this.license.get("licenseId")?new k(this.license.attributes):new k},onRender:function(){if(g.prototype.onRender.apply(this,arguments),this.ui.$ok.attr("disabled","disabled"),!d.isEmpty(this.licenseCollection)){var a=new m({collection:this.licenseCollection});this.list.show(a)}this.selection.show(new o({model:this.license,canUpdate:this.canUpdate()}));var b=f.reqres.request("licenses-edit:views:content:layout",this.project,this.canUpdate());b&&this.edit.show(b)},_loadLicensePreview:function(a){var b=this._getLicenseDetail(a.get("licenseId")||a.get("id")),c=f.reqres.request("licenses-edit:views:content:text",b,this.canUpdate());c?this.preview.show(c):this.preview.show(new n({model:b}))},_getLicenseDetail:function(a){return this.licenseDetail?(this.licenseDetail.set("licenseId",a),this.licenseDetail):(this.licenseDetail=new l({componentId:this.componentId,releaseId:this.releaseId,licenseId:a}),this.licenseDetail)},redirect:function(){return!1},getComponentTitle:function(){var a=this.project.get("releaseVersion")||" ";return h.get("app.modules.versions.bom.component.license",{projectName:this.project.get("projectName"),releaseName:a})},canUpdate:function(){return this.project.collection.canUpdate()},_handleLicenseSelection:function(a){var b=this;a?a.length>1?(this.licenseCollection.reset(),d.each(new k(a).models,function(a){b.licenseCollection.add(new l(a.attributes))})):(this.adjustedLicenseId=a.id,this.licenseCollection.reset(new l(a))):this.adjustedLicenseId=null},ok:function(){var a=this,b=this.$el.find("#attribution-statement textarea"),c=this.$el.find("#inAttributionReport");b.length>0&&a.model.set("attributionStatement",b.val()),c.length>0&&a.model.set("inAttributionReport",c.is(":checked")),d.isUndefined(this.adjustedLicenseId)||null===this.adjustedLicenseId?a.model.unset("licenses"):a.model.set("licenses",[{licenseId:this.adjustedLicenseId}]),this.trigger("state:waiting"),a.model.save(null,{type:"put"}).done(function(){f.reqres.request("licenses-edit:enabled")&&a.model.get("license").licenses.length>=1?(a.licenseDetail.set("licenseText",a.$el.find(".license-text-body").val()),a.licenseDetail.save().done(function(){a.trigger("state:active"),f.vent.trigger("versions:bom:component:updated",a),f.vent.trigger("versions:bom:component:license:updated")}).always(function(){a.trigger("state:active"),a.ui.$ok.attr("disabled","disabled")})):(a.trigger("state:active"),a.ui.$ok.attr("disabled","disabled"),f.vent.trigger("versions:bom:component:updated",a))}).fail(function(){a.trigger("state:active")})}})}),define("modules/licenses-preview/main",["require","exports","module","underscore","ironclad","modules/licenses/models/license","./views/license-text","./views/license-layout"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/licenses/models/license"),g=a("./views/license-text"),h=a("./views/license-layout");e.commands.setHandler("assets:licenses:data:modal",function(a,b){var c=new f;c.set({id:a.id}),c.fetch().success(function(){var e=d.extend({license:c},a);b.set(e),b.trigger("loaded")})}),e.reqres.setHandler("licenses:views:modals:overview",function(){return g}),e.reqres.setHandler("licenses:views:modals:list-overview",function(){return h})}),define("modules/licenses/views/header",["require","exports","module","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main");c.exports=e.ItemView.extend({template:"#licenses-header",moreHelpers:{getLicenseFamily:function(){var a=this.license.get("codeSharing");return a?f.get("app.modules.licenses.family."+a):a}},initialize:function(){this.templateHelpers=d.extend({},this.templateHelpers,this.moreHelpers)}})}),define("modules/licenses/views/overview",["require","exports","module","underscore","modules/i18n/main","ironclad"],function(a,b,c){var d=a("underscore"),e=(a("modules/i18n/main"),a("ironclad"));c.exports=e.Layout.extend({getTemplate:function(){var a=this.model.get("license"),b=a.get("spdx");return d.isUndefined(b)?"#licenses-overview":"#licenses-overview-spdx"},className:"container-fluid"})}),define("modules/licenses/views/license-layout",["require","exports","module","underscore","modules/modals/views/layout-view","modules/licenses-preview/views/license-list","modules/licenses-preview/views/license-preview","../models/license","modules/projects/models/current-project"],function(a,b,c){var d=a("underscore"),e=a("modules/modals/views/layout-view"),f=a("modules/licenses-preview/views/license-list"),g=a("modules/licenses-preview/views/license-preview"),h=a("../models/license"),i=a("modules/projects/models/current-project");c.exports=e.extend({template:"#licenses-license-layout",regions:d.extend({},e.prototype.regions,{list:".region-licenses-list",preview:".region-licenses-preview"}),templateHelpers:function(){var a=this;return{getTitle:function(){return i.get("name")+" "+a.options.version.get("release").version}}},initialize:function(){this.options.large=!0,this.licenseCollection=this.options.collection,this.listenTo(this.licenseCollection,"license:selected",this._loadLicensePreview),e.prototype.initialize.apply(this,arguments)},onRender:function(){var a=new f({collection:this.licenseCollection});this.list.show(a),e.prototype.onRender.apply(this,arguments)},_loadLicensePreview:function(a){var b=new h({id:a.get("licenseId")});this.preview.show(new g({model:b}))}})}),define("modules/licenses/main",["require","exports","module","underscore","ironclad","modules/asset/module","./views/header","./models/license","./views/overview","./views/license-layout"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/asset/module"),g=a("./views/header"),h=a("./models/license"),i=a("./views/overview"),j=a("./views/license-layout");e.commands.setHandler("assets:licenses:data",function(a,b){var c=new h;c.set({id:a.id}),c.fetch().success(function(){var f=d.extend({license:c},a);b.set(f),b.trigger("loaded"),e.commands.execute("recent-item:add",c.get("id"),c.get("name"),"licenses/id:"+c.get("id"),{icon:"fa fa-legal"})})}),e.reqres.setHandler("licenses:views:header",function(){return g}),e.reqres.setHandler("licenses:views:content:overview",function(){return i}),e.reqres.setHandler("licenses:views:modals:license-layout",function(){return j}),c.exports=new f({name:"licenses",defaultParams:{view:"overview"}})}),define("modules/link-user/models/user",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"api/v1/users"})}),define("modules/link-user/views/user-details",["require","exports","module","underscore","backbone","ironclad","modules/gravatar/controllers/gravatar"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("ironclad"),g=a("modules/gravatar/controllers/gravatar");c.exports=f.ItemView.extend({id:"user-link-details",template:"#link-user-user-details",templateHelpers:function(){var a=this.model;return d.extend({},e.IronClad.templateHelpers,{model:this.model,getGravatarUrl:function(b){var c=a.get("email");return g.getGravatarUrl(c,b)},getName:function(){var b="",c=a.get("firstName"),e=a.get("lastName");return d.isUndefined(c)||d.isEmpty(c)?b+=a.get("name"):b=c+" "+e,d.escape(b.trim())}})}})}),define("modules/link-user/views/link",["require","exports","module","underscore","ironclad","./user-details","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./user-details"),g=a("modules/i18n/main");c.exports=e.MessageView.extend({tagName:"a",className:"user-link",initialize:function(a){this.listenTo(this.model,"sync",this.render)},onRender:function(){var a=this;$(this.$el).popover("destroy");$(this.$el).popover({content:function(){var b=new f({model:a.model}),c=b.render().el;return b.destroy(),c},html:!0,title:g.get("app.views.user.sidebar.userInformation")});$(document).on("click","#appContent",function(b){0===$(b.target).closest(".popover").length&&b.target!==a.$el[0]&&$(a.$el).popover("hide")})},onDestroy:function(){this.cleanEvents()},cleanEvents:function(){$(document).off("click","#appContent")},message:function(){var a="",b=this.model,c=b.get("firstName"),e=b.get("lastName");return d.isUndefined(c)||d.isEmpty(c)?d.isUndefined(b.get("name"))||(a+=b.get("name")):a=c+" "+e,d.escape(a.trim())}})}),define("modules/link-user/main",["require","exports","module","ironclad","./models/user","./views/link"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("./models/user"),f=a("./views/link");d.reqres.setHandler("links:user",function(a){var b=new e({id:a}),c=new f({model:b});return b.fetch(),c})}),define("modules/modals/main",["require","underscore","app","ironclad"],function(a){var b=a("underscore"),c=a("app"),d=a("ironclad").MessageBus;d.vent.on("assets:actions:modal",function(a,e){var f=a.assetName+":views:modals:"+a.view,g=a.assetName+":views:modals:"+a.view+":data",h=d.reqres.request(g),i=d.reqres.request(f),j=b.extend({},a,{model:e,extraData:h});c.appLayout.modals.show(new i(j))})}),define("modules/notifications/models/notification",["require","exports","module","ironclad","modules/session/models/user"],function(a,b,c){var d=a("ironclad"),e=a("modules/session/models/user");c.exports=d.Model.extend({urlRoot:function(){return"api/v1/users/"+e.id+"/notifications"},initialize:function(){this.set("actionUrl",this.getActionUrl())},getActionUrl:function(){var a=this.get("notification").data;switch(this.get("notification").type){case"VULNERABILITY":return"#versions/id:"+a.releaseId+"/view:vulnerabilities";case"POLICY_OVERRIDE":return"#versions/id:"+a.projectVersionId+"/view:bom";case"RULE_VIOLATION":return"#versions/id:"+a.projectVersionId+"/view:bom";case"RULE_VIOLATION_CLEARED":return"#versions/id:"+a.projectVersionId+"/view:bom"}return"#notifications"}})}),define("modules/notifications/models/notifications",["require","exports","module","underscore","modules/common/models/pageable-collection","modules/session/models/user","./notification"],function(a,b,c){var d=(a("underscore"),a("modules/common/models/pageable-collection")),e=a("modules/session/models/user"),f=a("./notification");c.exports=d.extend({url:"api/v1/users/"+e.id+"/notifications",model:f})}),define("modules/notifications-view/models/notifications",["require","exports","module","modules/notifications/models/notifications"],function(a,b,c){var d=a("modules/notifications/models/notifications");c.exports=d.extend({queryParams:{states:["NEW","SEEN","VISITED"]}})}),define("modules/notifications/views/notification",["require","exports","module","underscore","backbone","ironclad","../../mixins/shared-data"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("ironclad"),g=a("../../mixins/shared-data");c.exports=f.ItemView.extend({tagName:"li",ui:{$closeNotification:".js-action-close",$revertNotification:".js-action-revert"},events:{"click @ui.$closeNotification":"closeNotification","click @ui.$revertNotification":"revertNotification",click:"viewNotification"},viewNotification:function(a){var b=this;"NEW"!==this.model.get("state")&&"SEEN"!==this.model.get("state")||(a.preventDefault(),this.changeState("VISITED",function(){e.history.navigate(b.getNotificationUrl(),{trigger:!0})}))},revertNotification:function(a){a.stopPropagation(),a.preventDefault(),this.changeState("SEEN")},closeNotification:function(a){a.stopPropagation(),a.preventDefault(),this.changeState("HIDDEN")},changeState:function(a,b){$(this.el).toggleClass("notification-"+this.model.get("state")+" notification-"+a),this.model.save({state:a}).then(function(){b?b():void 0})},className:function(){var a="notification notification-"+this.model.get("notification").type;return a+=" notification-"+this.model.get("state")},getNotificationUrl:function(){var a=this.notification||this.model.get("notification"),b=this.actionUrl||this.model.get("actionUrl"),c=[];return d.each(a.data.componentVersionStatuses,function(a){a.componentVersionId?c.push("filter=bomComponents:"+g.constants.EntityTypes.RELEASE+"~"+a.componentVersionId):c.push("filter=bomComponents:"+g.constants.EntityTypes.PROJECT+"~"+a.componentId)}),"RULE_VIOLATION"===a.type?b+="?filter=bomPolicy:in_violation&"+c.join("&"):"POLICY_OVERRIDE"===a.type&&(b+="?filter=bomPolicy:in_violation_overridden"+c.join("&")),b}})}),define("modules/notifications-view/views/newsfeed-item",["require","exports","module","underscore","ironclad","modules/notifications/views/notification"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/notifications/views/notification");c.exports=f.extend({modelEvents:{sync:"modelChanged"},templateHelpers:function(){return d.extend({},e.templateHelpers,{getComponentsInViolation:this.getComponentsInViolation,getNotificationUrl:this.getNotificationUrl})},getTemplate:function(){var a=this.model.get("notification").type.toLowerCase();return"#notifications-view-newsfeed-item-"+a},className:function(){var a=f.prototype.className.call(this);switch(a+=" bs-callout",this.model.get("notification").type){case"VULNERABILITY":a+=" bs-callout-danger"}return a},modelChanged:function(){this.model.collection.fetch({reset:!0})},getComponentsInViolation:function(){var a=[];return d.each(this.notification.data.componentVersionStatuses,function(b){var c=b.componentName;b.componentVersion&&(c=c+" "+b.componentVersion),a.push(c)}),a.join(", ")},forceRender:function(){}})}),define("modules/notifications-view/views/support-card",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#notifications-view-support-card"})}),define("modules/notifications-view/views/newsfeed",["require","exports","module","modules/i18n/main","underscore","ironclad","backgrid","anglebrackets","modules/session/models/registration","modules/session/models/user","modules/advanced-filters/views/advanced-filters","../models/notifications","./newsfeed-item","./support-card"],function(a,b,c){var d=(a("modules/i18n/main"),a("underscore")),e=a("ironclad"),f=a("backgrid"),g=a("anglebrackets"),h=a("modules/session/models/registration"),i=a("modules/session/models/user"),j=a("modules/advanced-filters/views/advanced-filters"),k=a("../models/notifications"),l=a("./newsfeed-item"),m=a("./support-card");c.exports=e.CompositeView.extend({template:"#notifications-view-newsfeed",id:"notifications-view-newsfeed",childView:l,childViewContainer:"#notifications-view-newsfeed-items",className:"container-fluid",hasLoading:!0,noDataClass:"no-data-placeholder",ui:{$newsfeedPagination:"#notifications-view-newsfeed-pagination",$mainContainer:".main-container",$supportCard:"#support-card",$filter:".filter-container"},events:{"click @ui.$displayRemoved":"displayRemoved"},initialize:function(){this.collection=new k,this.registration=new h,this.listenTo(this.collection,"sync",this.handleNoData),this.once("render",this.firstRender)},firstRender:function(){var a=this;this.collection.fetch().then(d.bind(function(){d.indexOf(this.collection.queryParams.states,"HIDDEN")>-1&&this.$el.find("#displayRemovedNotifications").prop("checked",!0),a.handleSupportCard()},this)),$.post("api/v1/users/"+i.id+"/notification-states?state=SEEN"),this.collection.fetch();var b=d.extend({collection:this.collection},g.Table.defaultPaginationOptions),c=new f.Extension.Paginator(b);this.ui.$newsfeedPagination.html(c.render().$el),this.advancedFilters=new j({targetCollection:this.collection,hasDefaultFilter:!1}),this.ui.$filter.html(this.advancedFilters.render().$el)},handleNoData:function(){0===this.collection.size()?this.ui.$mainContainer.addClass(this.noDataClass):this.ui.$mainContainer.removeClass(this.noDataClass)},handleSupportCard:function(){var a=this,b=new k;b.queryParams.states.push("HIDDEN"),b.fetch().then(function(){b.any(function(b){if("LICENSE_LIMIT"===b.get("notification").type)return a.registration.fetch({data:$.param({summary:!1})}).success(d.bind(function(){var c=b.get("notification").data.marketingPageUrl,f=a.registration.get("registrationAttributes").MANAGED_CODEBASE_BYTES_NEW;if(f.actualValue/f.softValue>=.8){var g=new m({model:new e.Model(d.extend({url:c},f))});a.ui.$supportCard.html(g.render().$el),a.ui.$supportCard.removeClass("hide")}else a.ui.$supportCard.addClass("hide")},this)),!0})}),b.queryParams.states.pop()}})}),define("modules/notifications-view/main",["require","exports","module","ironclad","./views/newsfeed"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./views/newsfeed");e.reqres.setHandler("notifications:views:content:newsfeed",function(){return f})}),define("modules/notifications/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#notifications-header"})}),function(){var a=function(a){"use strict";function b(a){if(a.paused||a.ended||q)return!1;try{k.clearRect(0,0,i,h),k.drawImage(a,0,0,i,h)}catch(a){}t=setTimeout(function(){b(a)},G.duration),F.setIcon(j)}function c(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return!!c&&{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}}function d(a,b){var c,d={};for(c in a)d[c]=a[c];for(c in b)d[c]=b[c];return d}function e(){return u.hidden||u.msHidden||u.webkitHidden||u.mozHidden}a=a?a:{};var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v={bgColor:"#d00",textColor:"#fff",fontFamily:"sans-serif",fontStyle:"bold",type:"circle",position:"down",animation:"slide",elementId:!1,dataUrl:!1,win:window};r={},r.ff="undefined"!=typeof InstallTrigger,r.chrome=!!window.chrome,r.opera=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,r.ie=!1,r.safari=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,r.supported=r.chrome||r.ff||r.opera;var w=[];p=function(){},m=q=!1;var x=function(){f=d(v,a),f.bgColor=c(f.bgColor),f.textColor=c(f.textColor),f.position=f.position.toLowerCase(),f.animation=G.types[""+f.animation]?f.animation:v.animation,u=f.win.document;var b=f.position.indexOf("up")>-1,e=f.position.indexOf("left")>-1;if(b||e)for(var m=0;m<G.types[""+f.animation].length;m++){var n=G.types[""+f.animation][m];b&&(n.y<.6?n.y=n.y-.4:n.y=n.y-2*n.y+(1-n.w)),e&&(n.x<.6?n.x=n.x-.4:n.x=n.x-2*n.x+(1-n.h)),G.types[""+f.animation][m]=n}f.type=z[""+f.type]?f.type:v.type,g=F.getIcon(),j=document.createElement("canvas"),l=document.createElement("img"),g.hasAttribute("href")?(l.setAttribute("crossOrigin","anonymous"),l.onload=function(){h=l.height>0?l.height:32,i=l.width>0?l.width:32,j.height=h,j.width=i,k=j.getContext("2d"),y.ready()},l.setAttribute("src",g.getAttribute("href"))):(l.onload=function(){h=32,i=32,l.height=h,l.width=i,j.height=h,j.width=i,k=j.getContext("2d"),y.ready()},l.setAttribute("src",""))},y={};y.ready=function(){m=!0,y.reset(),p()},y.reset=function(){m&&(w=[],n=!1,o=!1,k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),F.setIcon(j),window.clearTimeout(s),window.clearTimeout(t))},y.start=function(){if(m&&!o){var a=function(){n=w[0],o=!1,w.length>0&&(w.shift(),y.start())};if(w.length>0){o=!0;var b=function(){["type","animation","bgColor","textColor","fontFamily","fontStyle"].forEach(function(a){a in w[0].options&&(f[a]=w[0].options[a])}),G.run(w[0].options,function(){a()},!1)};n?G.run(n.options,function(){b()},!0):b()}}};var z={},A=function(a){return a.n="number"==typeof a.n?Math.abs(0|a.n):a.n,a.x=i*a.x,a.y=h*a.y,a.w=i*a.w,a.h=h*a.h,a.len=(""+a.n).length,a};z.circle=function(a){a=A(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font=f.fontStyle+" "+Math.floor(a.h*(a.n>99?.85:1))+"px "+f.fontFamily,k.textAlign="center",b?(k.moveTo(a.x+a.w/2,a.y),k.lineTo(a.x+a.w-a.h/2,a.y),k.quadraticCurveTo(a.x+a.w,a.y,a.x+a.w,a.y+a.h/2),k.lineTo(a.x+a.w,a.y+a.h-a.h/2),k.quadraticCurveTo(a.x+a.w,a.y+a.h,a.x+a.w-a.h/2,a.y+a.h),k.lineTo(a.x+a.h/2,a.y+a.h),k.quadraticCurveTo(a.x,a.y+a.h,a.x,a.y+a.h-a.h/2),k.lineTo(a.x,a.y+a.h/2),k.quadraticCurveTo(a.x,a.y,a.x+a.h/2,a.y)):k.arc(a.x+a.w/2,a.y+a.h/2,a.h/2,0,2*Math.PI),k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fill(),k.closePath(),k.beginPath(),k.stroke(),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.n>999?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()},z.rectangle=function(a){a=A(a);var b=!1;2===a.len?(a.x=a.x-.4*a.w,a.w=1.4*a.w,b=!0):a.len>=3&&(a.x=a.x-.65*a.w,a.w=1.65*a.w,b=!0),k.clearRect(0,0,i,h),k.drawImage(l,0,0,i,h),k.beginPath(),k.font=f.fontStyle+" "+Math.floor(a.h*(a.n>99?.9:1))+"px "+f.fontFamily,k.textAlign="center",k.fillStyle="rgba("+f.bgColor.r+","+f.bgColor.g+","+f.bgColor.b+","+a.o+")",k.fillRect(a.x,a.y,a.w,a.h),k.fillStyle="rgba("+f.textColor.r+","+f.textColor.g+","+f.textColor.b+","+a.o+")","number"==typeof a.n&&a.n>999?k.fillText((a.n>9999?9:Math.floor(a.n/1e3))+"k+",Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.2*a.h)):k.fillText(a.n,Math.floor(a.x+a.w/2),Math.floor(a.y+a.h-.15*a.h)),k.closePath()};var B=function(a,b){b=("string"==typeof b?{animation:b}:b)||{},p=function(){try{if("number"==typeof a?a>0:""!==a){var d={type:"badge",options:{n:a}};if("animation"in b&&G.types[""+b.animation]&&(d.options.animation=""+b.animation),"type"in b&&z[""+b.type]&&(d.options.type=""+b.type),["bgColor","textColor"].forEach(function(a){a in b&&(d.options[a]=c(b[a]))}),["fontStyle","fontFamily"].forEach(function(a){a in b&&(d.options[a]=b[a])}),w.push(d),w.length>100)throw new Error("Too many badges requests in queue.");y.start()}else y.reset()}catch(a){throw new Error("Error setting badge. Message: "+a.message)}},m&&p()},C=function(a){p=function(){try{var b=a.width,c=a.height,d=document.createElement("img"),e=b/i<c/h?b/i:c/h;d.setAttribute("crossOrigin","anonymous"),d.onload=function(){k.clearRect(0,0,i,h),k.drawImage(d,0,0,i,h),F.setIcon(j)},d.setAttribute("src",a.getAttribute("src")),d.height=c/e,d.width=b/e;
}catch(a){throw new Error("Error setting image. Message: "+a.message)}},m&&p()},D=function(a){p=function(){try{if("stop"===a)return q=!0,y.reset(),void(q=!1);a.addEventListener("play",function(){b(this)},!1)}catch(a){throw new Error("Error setting video. Message: "+a.message)}},m&&p()},E=function(a){if(window.URL&&window.URL.createObjectURL||(window.URL=window.URL||{},window.URL.createObjectURL=function(a){return a}),r.supported){var c=!1;navigator.getUserMedia=navigator.getUserMedia||navigator.oGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,p=function(){try{if("stop"===a)return q=!0,y.reset(),void(q=!1);c=document.createElement("video"),c.width=i,c.height=h,navigator.getUserMedia({video:!0,audio:!1},function(a){c.src=URL.createObjectURL(a),c.play(),b(c)},function(){})}catch(a){throw new Error("Error setting webcam. Message: "+a.message)}},m&&p()}},F={};F.getIcon=function(){var a=!1,b=function(){for(var a=u.getElementsByTagName("head")[0].getElementsByTagName("link"),b=a.length,c=b-1;c>=0;c--)if(/(^|\s)icon(\s|$)/i.test(a[c].getAttribute("rel")))return a[c];return!1};return f.element?a=f.element:f.elementId?(a=u.getElementById(f.elementId),a.setAttribute("href",a.getAttribute("src"))):(a=b(),a===!1&&(a=u.createElement("link"),a.setAttribute("rel","icon"),u.getElementsByTagName("head")[0].appendChild(a))),a.setAttribute("type","image/png"),a},F.setIcon=function(a){var b=a.toDataURL("image/png");if(f.dataUrl&&f.dataUrl(b),f.element)f.element.setAttribute("href",b),f.element.setAttribute("src",b);else if(f.elementId){var c=u.getElementById(f.elementId);c.setAttribute("href",b),c.setAttribute("src",b)}else if(r.ff||r.opera){var d=g;g=u.createElement("link"),r.opera&&g.setAttribute("rel","icon"),g.setAttribute("rel","icon"),g.setAttribute("type","image/png"),u.getElementsByTagName("head")[0].appendChild(g),g.setAttribute("href",b),d.parentNode&&d.parentNode.removeChild(d)}else g.setAttribute("href",b)};var G={};return G.duration=40,G.types={},G.types.fade=[{x:.4,y:.4,w:.6,h:.6,o:0},{x:.4,y:.4,w:.6,h:.6,o:.1},{x:.4,y:.4,w:.6,h:.6,o:.2},{x:.4,y:.4,w:.6,h:.6,o:.3},{x:.4,y:.4,w:.6,h:.6,o:.4},{x:.4,y:.4,w:.6,h:.6,o:.5},{x:.4,y:.4,w:.6,h:.6,o:.6},{x:.4,y:.4,w:.6,h:.6,o:.7},{x:.4,y:.4,w:.6,h:.6,o:.8},{x:.4,y:.4,w:.6,h:.6,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],G.types.none=[{x:.4,y:.4,w:.6,h:.6,o:1}],G.types.pop=[{x:1,y:1,w:0,h:0,o:1},{x:.9,y:.9,w:.1,h:.1,o:1},{x:.8,y:.8,w:.2,h:.2,o:1},{x:.7,y:.7,w:.3,h:.3,o:1},{x:.6,y:.6,w:.4,h:.4,o:1},{x:.5,y:.5,w:.5,h:.5,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],G.types.popFade=[{x:.75,y:.75,w:0,h:0,o:0},{x:.65,y:.65,w:.1,h:.1,o:.2},{x:.6,y:.6,w:.2,h:.2,o:.4},{x:.55,y:.55,w:.3,h:.3,o:.6},{x:.5,y:.5,w:.4,h:.4,o:.8},{x:.45,y:.45,w:.5,h:.5,o:.9},{x:.4,y:.4,w:.6,h:.6,o:1}],G.types.slide=[{x:.4,y:1,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.9,w:.6,h:.6,o:1},{x:.4,y:.8,w:.6,h:.6,o:1},{x:.4,y:.7,w:.6,h:.6,o:1},{x:.4,y:.6,w:.6,h:.6,o:1},{x:.4,y:.5,w:.6,h:.6,o:1},{x:.4,y:.4,w:.6,h:.6,o:1}],G.run=function(a,b,c,g){var h=G.types[e()?"none":f.animation];return g=c===!0?"undefined"!=typeof g?g:h.length-1:"undefined"!=typeof g?g:0,b=b?b:function(){},g<h.length&&g>=0?(z[f.type](d(a,h[g])),s=setTimeout(function(){c?g-=1:g+=1,G.run(a,b,c,g)},G.duration),F.setIcon(j),void 0):void b()},x(),{badge:B,video:D,image:C,webcam:E,reset:y.reset,browser:{supported:r.supported}}};"undefined"!=typeof define&&define.amd?define("favico",[],function(){return a}):"undefined"!=typeof module&&module.exports?module.exports=a:this.Favico=a}();define("modules/notifications-menu/views/activity-badge",["require","exports","module","ironclad","favico"],function(a,b,c){var d=a("ironclad"),e=a("favico");c.exports=d.ItemView.extend({getTemplate:function(){return this.model&&this.model.get("count")>0?"#notifications-menu-activity-badge":"#common-empty"},modelEvents:{change:"render"},initialize:function(){this.favico=new e({type:"rectangle",animation:"fade",bgColor:"#d9534f",textColor:"#fff",fontStyle:"lighter"})},onBeforeRender:function(){this.$el.hide()},onRender:function(){this.$el.fadeIn();var a=this.model.get("count");0===a?this.favico.reset():this.favico.badge(a)}})});define("modules/notifications-menu/models/notifications",["require","exports","module","modules/notifications/models/notifications"],function(a,b,c){var d=a("modules/notifications/models/notifications");c.exports=d.extend({queryParams:{states:["NEW","SEEN"]}})}),define("modules/notifications-menu/views/item",["require","exports","module","underscore","modules/notifications/views/notification","modules/format-date/main","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/notifications/views/notification");a("modules/format-date/main");var f=a("ironclad");c.exports=e.extend({getTemplate:function(){switch(this.model.get("notification").type){case"VULNERABILITY":return"#notifications-menu-item-vulnerability";case"POLICY_OVERRIDE":return"#notifications-menu-item-policy-override";case"RULE_VIOLATION":return"#notifications-menu-item-policy-violation";case"LICENSE_LIMIT":return"#notifications-menu-item-license-limit";case"RULE_VIOLATION_CLEARED":return"#notifications-menu-item-rule-violation-cleared"}return"#notifications-menu-item-default"},templateHelpers:function(){return d.extend({},f.templateHelpers,{getNotificationUrl:this.getNotificationUrl})},viewNotification:function(a){e.prototype.viewNotification.apply(this,arguments)}})}),define("modules/notifications-menu/views/items",["require","exports","module","backbone","ironclad","modules/i18n/main","modules/session/models/user","../models/notifications","./item"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/session/models/user"),h=a("../models/notifications"),i=a("./item");c.exports=e.CompositeView.extend({id:"notifications-menu-items",template:"#notifications-menu-items",hasLoading:!0,childView:i,childViewContainer:"ul",ui:{$seeAllActivity:".js-see-all-activity"},events:{"click @ui.$seeAllActivity":"gotoAllActivity"},emptyView:e.MessageView.extend({message:f.get("app.modules.notifications.noNew"),className:"no-new text-center"}),initialize:function(){this.collection=new h},onRender:function(){this.collection.fetch(),$.post("api/v1/users/"+g.id+"/notification-states?state=SEEN",{},function(){e.MessageBus.vent.trigger("update:activity:counts")})},gotoAllActivity:function(){d.history.navigate("#notifications",{trigger:!0})}})}),define("modules/notifications-menu/views/license-notification",["require","exports","module","backbone","ironclad"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=e.MessageBus;c.exports=e.ItemView.extend({template:"#notifications-menu-license-notification",ui:{$notificationMsg:".notification-msg",$close:".notification-close"},events:{"click @ui.$popup":"toActionUrl","click @ui.$close":"dismissNotification"},toActionUrl:function(){this.toVisitedState(),d.history.navigate(this.model.get("actionUrl"),{trigger:!0})},dismissNotification:function(){this.toVisitedState(),this.destroy()},toVisitedState:function(){this.model.save({state:"VISITED"})},onDestroy:function(){f.trigger("notification:popup:indicator",!1)}})}),define("modules/notifications-menu/views/topnav-menu",["require","exports","module","underscore","modules/i18n/main","ironclad","modules/link-nav/views/link-nav-view","./activity-badge","./items","../models/notifications","./license-notification"],function(a,b,c){var d=a("underscore"),e=(a("modules/i18n/main"),a("ironclad")),f=a("modules/link-nav/views/link-nav-view"),g=a("./activity-badge"),h=a("./items"),i=a("../models/notifications"),j=a("./license-notification"),k=f.extend({regions:{notificationsRegion:".js-notifications-menu",notificationCountRegion:"#activity-count-badge",notificationAlertRegion:".js-notification-alert"},initialize:function(){this.notifications=new i,f.prototype.initialize.apply(this,arguments),d.bindAll(this,"loadNotifications","closeNotifications"),this.listenTo(e.MessageBus.vent,"activity:count:update",this.updateActivityCount),this.listenTo(e.MessageBus.vent,"notification:popup:indicator",this.showNotificationIndicator),this.$el.on("show.bs.dropdown",this.loadNotifications),this.$el.on("hidden.bs.dropdown",this.closeNotifications)},onRender:function(){this.notificationCountRegion.show(new g({model:new e.Model({count:0})}))},onDestroy:function(){this.$el.off("show.bs.dropdown"),this.$el.off("hidden.bs.dropdown")},loadNotifications:function(){this.notificationsRegion.show(new h)},closeNotifications:function(){this.notificationsRegion.empty()},updateActivityCount:function(a){var b=this;this.notifications.fetch().done(function(){b.notifications.any(function(a){if("LICENSE_LIMIT"===a.get("notification").type&&("SEEN"===a.get("state")||"NEW"===a.get("state")))return b.showLicenseViolation(a),!0})}),this.notificationCountRegion.currentView.model.set("count",a)},showLicenseViolation:function(a){this.showNotificationIndicator(!0),this.notificationAlertRegion.show(new j({model:a}))},showNotificationIndicator:function(a){this.$el.toggleClass("notification-popup-indicator",a)}});c.exports=new k({id:"notifications-menu",template:"#notifications-menu-layout",menuCode:"notifications-menu",menuSelector:".js-notifications-menu",model:new e.Model,className:"dropdown",tagName:"li",hideEmptyMenu:!1})}),define("modules/notifications/models/count",["require","exports","module","underscore","ironclad","modules/session/models/user"],function(a,b,c){var d=(a("underscore"),a("ironclad")),e=a("modules/session/models/user");c.exports=d.Model.extend({defaults:{id:0,count:""},url:"api/v1/users/"+e.id+"/notification-counts"})}),define("modules/notifications/main",["require","exports","module","underscore","modules/i18n/main","ironclad","modules/asset/module","./views/header","modules/notifications-menu/views/topnav-menu","modules/notifications/models/count"],function(a,b,c){function d(){e(),n.fetch().success(function(a){h.trigger("activity:count:update",a.count||0)}).error(function(){h.trigger("activity:count:update",0)}).always(function(){m=f.delay(d,6e4)})}function e(){m&&(clearTimeout(m),m=null)}var f=a("underscore"),g=(a("modules/i18n/main"),a("ironclad")),h=g.MessageBus,i=a("modules/asset/module"),j=a("./views/header"),k=a("modules/notifications-menu/views/topnav-menu"),l=a("modules/notifications/models/count");h.reqres.setHandler("notifications:views:header",function(){return j});var m,n=new l;m=f.delay(d,2e3),h.vent.on("update:activity:counts",d),g.WeightedStore.addItem("suiteTopNavRight",k,30,"ActivityMenu"),c.exports=new i({name:"notifications",defaultParams:{view:"newsfeed"}})}),define("modules/policy-management/models/policy-rule",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({urlRoot:"/api/internal/policy-rules",validation:{name:{required:!0,msg:e.get("app.modules.policy.rules.name.empty")}}})}),define("modules/policy-management/models/policy-rules-paged",["require","exports","module","modules/common/models/pageable-collection","../models/policy-rule"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("../models/policy-rule");c.exports=d.extend({model:e,url:"/api/internal/policy-rules",state:{sortKey:"updatedAt",order:"1"},persistence:{active:!0,filtersToPersist:["sortField"]}})}),define("modules/policy-management/views/expanded-row-rule",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#policy-management-expanded-row-rule",tagName:"tr",className:"child-row",ui:{$editSingle:".edit-single"},events:{"click @ui.$editSingle":"edit"},edit:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"policy-management",view:"edit"},this.model)}})}),define("modules/policy-management/controllers/policy-row-controller",["require","exports","module","underscore","anglebrackets","../views/expanded-row-rule"],function(a,b,c){var d=(a("underscore"),a("anglebrackets")),e=a("../views/expanded-row-rule");c.exports=d.TableRow.extend({selectable:{multipleSelect:!0},expandable:{expandedContent:e},className:function(){if(this.model.get("enabled")===!1)return"disabled"}})}),define("modules/policy-management/views/table",["require","exports","module","anglebrackets","modules/common/controllers/expander-cell","modules/common/controllers/selectable-cell","modules/common/controllers/selectable-headcell","../controllers/policy-row-controller","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/common/controllers/expander-cell"),f=a("modules/common/controllers/selectable-cell"),g=a("modules/common/controllers/selectable-headcell"),h=a("../controllers/policy-row-controller"),i=a("modules/i18n/main");c.exports=d.Table.extend({hasErrorHandler:!1,options:{description:i.get("app.modules.policy.management.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover policy-rules-table backgrid",row:h,columns:[{cell:e,name:"expander",label:"",editable:!1,sortable:!1},{cell:f,headerCell:g,label:"",editable:!1,sortable:!1},{name:"name",label:i.get("app.modules.policy.rules.label"),cell:d.TableCell,escapeValue:!1,editable:!1,sortable:!0},{name:"overridable",label:"",cell:d.TableCell.extend({className:"overridable-cell"}),template:"#policy-management-overridable-cell",editable:!1,sortable:!1}]}}})}),define("modules/policy-management/views/table-actions",["require","exports","module","ironclad","underscore","../models/policy-rule"],function(a,b,c){var d=a("ironclad"),e=(d.MessageBus,a("underscore")),f=a("../models/policy-rule");c.exports=d.ItemView.extend({template:"#policy-management-table-actions",className:"btn-toolbar",ui:{$createPolicyRule:".js-btn-create-policy-rule",$editItemBtn:".js-btn-edit",$deleteItemBtn:".js-btn-delete"},events:{"click @ui.$createPolicyRule":"create","click @ui.$editItemBtn":"edit","click @ui.$deleteItemBtn":"delete"},initialize:function(){this.listenTo(this.collection,"table:row:deselected",this.handleItemInteraction),this.listenTo(this.collection,"table:row:selected",this.handleItemInteraction),this.listenTo(this.collection,"sync",this.resetToDefault)},handleItemInteraction:function(a){this.updateAvailableActionBtns(a)},updateAvailableActionBtns:function(a){this.ui.$editItemBtn.removeAttr("disabled");var b=!0,c=!0;a.selectedItems.length>0&&(b=!1),1===a.selectedItems.length&&(c=!1),this.ui.$deleteItemBtn.prop("disabled",b),this.ui.$editItemBtn.prop("disabled",c)},getSelectedItems:function(){return e.where(this.collection.models,{selected:!0})},create:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"policy-management",view:"create"},new f)},edit:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"policy-management",view:"edit"},this.getSelectedItems()[0])},delete:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"policy-management",view:"delete"},new d.Model({rules:this.getSelectedItems()}))},resetToDefault:function(){this.ui.$editItemBtn.prop("disabled",!0),this.ui.$deleteItemBtn.prop("disabled",!0)}})}),define("modules/policy-management/views/layout",["require","exports","module","underscore","app","ironclad","../models/policy-rules-paged","./table","./table-actions","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=(a("app"),a("ironclad")),f=e.MessageBus,g=a("../models/policy-rules-paged"),h=a("./table"),i=a("./table-actions"),j=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#policy-management-layout",id:"policy-management-layout",className:"container-fluid",regions:{ruleTable:".region-rule-table",policyRulesTableActions:".region-policy-management-table-actions",policyRegion:"#appContent"},ui:{$createPolicyRule:".js-btn-create-policy-rule",$messages:".messages"},events:{"click @ui.$createPolicyRule":"expandCreate"},behaviors:{Sticky:{behaviorClass:j}},initialize:function(){this.policyRules=new g,d.bindAll(this,"refreshPolicyRules"),this.listenTo(f.vent,"policy:rule:added policy:rule:updated policy:rule:deleted",this.refreshPolicyRules),this.listenTo(f.vent,"policy:rule:added policy:rule:updated",this.addSuccessMessage)},onRender:function(){var a=this.policyRules;this.ruleTable.show(new h({collection:a})),a.fetch(),this.policyRulesTableActions.show(new i({collection:a}))},refreshPolicyRules:function(){this.removeSuccessMessage(),this.policyRules.fetch()},addSuccessMessage:function(a){this.ui.$messages.removeClass("hide").addClass("alert-success").text(a)},removeSuccessMessage:function(){this.ui.$messages.addClass("hide").empty()}})}),define("modules/policy-management/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#policy-management-header",id:"policy-management-header"})}),define("modules/policy-management/models/single-component",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=a("underscore");c.exports=d.Model.extend({defaults:{projectId:"",projectName:"",releaseId:"",releaseVersion:""},initialize:function(a){e.isUndefined(a.value)||(this.parseLabels(a.value.label),this.parseIds(a.value.value))},toValueString:function(){var a=this.get("projectId"),b=this.get("releaseId"),c=a;return e.isUndefined(b)||""===b||(c=a+"~"+b),c},toLabelString:function(){var a=this.get("projectName"),b=this.get("releaseVersion"),c=a;return e.isUndefined(b)||""===b||(c=a+"~"+b),c},parseLabels:function(a){var b=a.split("~");this.set("projectName",b[0]),b[1]&&this.set("releaseVersion",b[1])},parseIds:function(a){var b=a.split("~");this.set("projectId",b[0]),b[1]&&this.set("releaseId",b[1])}})}),define("modules/policy-management/views/_condition-item",["require","exports","module","ironclad","modules/i18n/main","underscore","modules/form/models/field-selectize","modules/projects/models/project","../models/single-component","modules/mixins/shared-data"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("underscore"),g=a("modules/form/models/field-selectize"),h=a("modules/projects/models/project"),i=a("../models/single-component"),j=a("modules/mixins/shared-data");c.exports=d.ItemView.extend({template:"#policy-management-condition-item",className:"row condition clearfix",ui:{$removeCondition:".remove-condition",$addConditionSelector:".select-add-conditions",$operationSelector:".operation-selector",$valueSelector:".value-selector",$versionSelector:".version-selector",$setComponent:".set-component",$listComponent:".list-component"},events:{"click @ui.$removeCondition":"deleteCondition","click @ui.$setComponent":"addComponentToCondition"},setupComponentAutoComplete:function(a){var b=this;this.ui.$valueSelector.attr("placeholder",e.get("app.modules.policy.rules.selectComponentPlaceholder")),"IN"===a&&this.setupComponentList(),this.value=new g({selector:this.ui.$valueSelector,suggestURL:"api/v1/autocomplete/PROJECT?text=%QUERY",valueField:"uuid",labelField:"value",searchField:"value",itemTemplate:"#form-input-select-project-item",optionTemplate:"#form-input-select-project-option",persist:!1,highlight:!1,onInitialize:function(){var c=b.model.get("values");if(c&&c[0].value&&"IN"!==a){var d=this;b.component=new i({value:c[0]});var e=b.component.get("projectId"),f=b.component.get("projectName"),g=new h({id:e});g.fetch().done(function(){var a={uuid:e,value:f,fields:{ownership:[g.get("kb")?"1":"0"]}};"undefined"!=typeof g.attributes.description&&(a.fields.description=[g.attributes.description]);var b=g.get("logos");b&&b.smallLogoUrl&&b.smallLogoUrl.indexOf("generic-internal")<0&&(a.fields.small_logo_url=[g.get("logos").smallLogoUrl]),d.addOption(a),d.refreshOptions(!1),d.addItem(e,!0)}),b.setupComponentVersionAutoComplete(e)}}}),this.listenTo(this.value,"item:selected",this.componentSelected),this.ui.$valueSelector[0].selectize.on("change",function(c){"IN"===a&&(f.isEmpty(c)?b.ui.$setComponent.addClass("hide"):b.ui.$setComponent.removeClass("hide"))})},setupComponentVersionAutoComplete:function(a){var b=this;this.ui.$versionSelector.removeClass("hide"),this.versionValue=new g({selector:this.ui.$versionSelector,suggestURL:"/api/v1/projects/"+a+"/version-summaries?q=%QUERY&sort=version+DESC&limit=1000",valueField:"versionId",labelField:"version",searchField:"version",preload:"focus",highlight:!1,onInitialize:function(){if(!f.isUndefined(b.component)&&"IN"!==b.model.get("operation")){var a=b.component.get("releaseId"),c=b.component.get("releaseVersion");this.addOption({versionId:a,version:c}),this.refreshOptions(!1),this.addItem(a,!0)}}}),this.listenTo(this.versionValue,"item:selected",this.versionSelected)},setupComponentList:function(){var a=this;this.ui.$listComponent.removeClass("hide"),this.listComponent=this.ui.$listComponent.selectize({labelField:"label",valueField:"value",maxItems:1e3,plugins:["remove_button"],persist:!1,highlight:!1,onInitialize:function(){var b=a.model.get("values");b&&(f.isUndefined(b.length)?(this.addOption({value:b.value,label:b.label.replace("~"," ")}),this.addItem(b.value,!0)):f.each(b,f.bind(function(a){this.addOption({value:a.value,label:a.label.replace("~"," ")}),this.addItem(a.value,!0)},this)))},onItemRemove:function(b){a.model.attributes.values.splice(f.indexOf(a.model.attributes.values,f.findWhere(a.model.attributes.values,{value:b})),1)}}),this.listComponent.next(".selectize-control").find("input").attr("readonly",!0)},setupProjectAutoComplete:function(a){var b=this,c="IN"===a?1e3:1;this.value=new g({selector:this.ui.$valueSelector,suggestURL:"/api/v1/bom-project-suggestions?q=%QUERY",valueField:"id",labelField:"name",searchField:"name",preload:"focus",maxItems:c,highlight:!1,onInitialize:function(){var a=b.model.get("values");a&&f.each(a,f.bind(function(a){var b=a.value.replace(j.constants.EntityTypes.PROJECT+"~","");this.addOption({id:b,name:a.label}),this.addItem(b,!0)},this))}}),this.ui.$valueSelector[0].selectize.on("change",function(a){var c=[];f.each(a.split(","),f.bind(function(a){var b=this.options[a];f.isUndefined(b)||c.push(this.options[a])},this)),b.projectSelected(c)})},setupLicenseAutoComplete:function(a){var b=this;this.ui.$valueSelector.attr("placeholder",e.get("app.modules.policy.rules.selectLicensePlaceholder"));var c="IN"===a||"NOT_IN"===a?1e3:1;this.value=new g({selector:this.ui.$valueSelector,suggestURL:"/api/v1/licenses?limit=100&searchTerm=%QUERY",valueField:"id",labelField:"name",searchField:"name",maxItems:c,highlight:!1,onInitialize:function(){var a=b.model.get("values");a&&f.each(a,f.bind(function(a){var b=a.value.replace(j.constants.EntityTypes.LICENSE+"~","");this.addOption({id:b,name:a.label}),this.addItem(b,!0)},this))}}),this.ui.$valueSelector[0].selectize.on("change",function(a){var c=[];f.each(a.split(","),f.bind(function(a){var b=this.options[a];f.isUndefined(b)||c.push(this.options[a])},this)),b.licenseSelected(c)})},handleConditionSelection:function(a){void 0!==this.operation&&this.operation[0].selectize.destroy(),this.teardownListComponent(),this.teardownValueAutoComplete(),this.teardownVersionAutoComplete(),this.setupOperations(a),this.setupValue(a)},deleteCondition:function(){this.model.destroy()},conditionSelected:function(a){this.model.set("name",a),this.handleConditionSelection(a)},operationSelected:function(a){this.model.set("operation",a),this.teardownValueAutoComplete(),this.teardownListComponent(),this.teardownVersionAutoComplete(),this.teardownListComponent(),this.model.unset("values"),this.setupValue(this.model.get("name"),a)},valueSelected:function(a,b,c){var d=[];f.each(c.split(","),f.bind(function(c){"POS_INT"===a||"PROJECT_TAGS"===b.get("fieldName")?d.push({value:c,label:c}):d.push({value:c})},this)),this.model.set("values",d)},componentSelected:function(a){"IN"!==this.model.get("operation")?(this.teardownVersionAutoComplete(),f.isUndefined(a)?this.model.unset("values"):(this.component=new i({projectName:a.value,projectId:a.uuid}),this.model.set("values",[{value:a.uuid,label:a.value}]),this.setupComponentVersionAutoComplete(a.uuid))):f.isUndefined(a)||(this.setupComponentVersionAutoComplete(a.uuid),this.component=new i({projectName:a.value,projectId:a.uuid}))},versionSelected:function(a){"IN"!==this.model.get("operation")?"SINGLE_VERSION"!==this.model.get("name")||f.isUndefined(a)?(this.component.unset("releaseId"),this.component.unset("releaseVersion"),this.model.get("values")[0].value=this.component.toValueString(),this.model.get("values")[0].label=this.component.toLabelString()):(this.component.set("releaseId",a.versionId),this.component.set("releaseVersion",a.version),this.model.get("values")[0].value=this.component.toValueString(),this.model.get("values")[0].label=this.component.toLabelString()):(this.component.set("releaseId",a.versionId),this.component.set("releaseVersion",a.version))},projectSelected:function(a){var b=[];"PROJECT_NAME"!==this.model.get("name")||f.isUndefined(a)?this.model.unset("values"):(f.each(a,f.bind(function(a){b.push({value:j.constants.EntityTypes.PROJECT+"~"+a.id,label:a.name})},this)),this.model.set("values",b))},licenseSelected:function(a){var b=[];"SINGLE_LICENSE"!==this.model.get("name")||f.isUndefined(a)?this.model.unset("values"):(f.each(a,f.bind(function(a){b.push({value:j.constants.EntityTypes.LICENSE+"~"+a.id,label:a.name})},this)),this.model.set("values",b))},addComponentToCondition:function(){this.model.get("values")?this.model.get("values").push({value:this.component.toValueString(),label:this.component.toLabelString()}):this.model.set("values",[{value:this.component.toValueString(),label:this.component.toLabelString()}]),this.listComponent[0].selectize.clearOptions(),this.listComponent[0].selectize.destroy(),this.teardownVersionAutoComplete(),this.value.selector[0].selectize.clearOptions(),this.setupComponentList(),this.ui.$versionSelector.val("")},teardownVersionAutoComplete:function(){this.ui.$versionSelector.addClass("hide"),this.versionValue&&this.versionValue.destroy(),this.ui.$versionSelector.val("")},teardownListComponent:function(){this.listComponent&&(f.isUndefined(this.listComponent[0].selectize)||(this.listComponent[0].selectize.clearOptions(),this.listComponent[0].selectize.destroy())),this.ui.$listComponent.addClass("hide"),this.ui.$listComponent.val("")},teardownValueAutoComplete:function(){f.isUndefined(this.value)||(f.isUndefined(this.value.selector)||f.isUndefined(this.value.selector[0].selectize)?f.isUndefined(this.value[0])||f.isUndefined(this.value[0].selectize)||(this.value[0].selectize.clearOptions(),this.value[0].selectize.destroy()):(this.value.selector[0].selectize.clearOptions(),this.value.selector[0].selectize.destroy())),this.ui.$valueSelector.removeAttr("placeholder"),this.ui.$valueSelector.val("")}})}),define("modules/policy-management/views/condition-item",["require","exports","module","modules/i18n/main","underscore","./_condition-item"],function(a,b,c){var d=a("modules/i18n/main"),e=a("underscore"),f=a("./_condition-item");c.exports=f.extend({onRender:function(){this.policyRuleDef=this.options.policyRuleDef,this.setupAddConditions()},setupAddConditions:function(){var a=this;this.addConditions=this.ui.$addConditionSelector.selectize({optgroups:[{value:"PROJECT",label:"Project"},{value:"COMPONENT",label:"Component"}],optgroupField:"class",labelField:"label",hideSelected:!0,highlight:!1,placeholder:d.get("app.modules.policy.rules.selectConditionPlaceholder"),render:{optgroup_header:function(a){var b=d.get("app.modules.policy.rules.condition.group."+a.value);return'<span class="optgroup-header">'+b+"</span>"}},onInitialize:function(){var b=a.model.get("name");e.each(a.policyRuleDef.models,e.bind(function(b){e.contains(e.filter(a.options.setConditions,function(b){return b!==a.model.get("name")}),b.get("fieldName"))||this.addOption({class:b.get("category"),value:b.get("fieldName"),label:d.get("app.modules.policy.rules.condition."+b.get("fieldName"))})},this)),b&&(this.addItem(b),a.conditionSelected(b))}}),this.addConditions.siblings(".selectize-control").find("input").attr("readonly",!0),this.addConditions[0].selectize.on("change",function(b){a.teardownValueAutoComplete(),a.model.unset("values"),a.conditionSelected(b)})},setupOperations:function(a){var b=this;this.ui.$operationSelector.removeClass("hide"),this.operation=this.ui.$operationSelector.selectize({labelField:"label",valueField:"value",highlight:!1,onInitialize:function(){var c=b.policyRuleDef.where({fieldName:a})[0].get("operators");e.each(c,e.bind(function(a){this.addOption({value:a,label:d.get("app.modules.policy.rules.operation."+a)})},this)),b.model.get("operation")?this.addItem(b.model.get("operation")):(this.addItem("EQ"),b.model.set("operation","EQ"))}}),this.operation.siblings(".selectize-control").find("input").attr("readonly",!0),this.operation[0].selectize.on("change",function(a){b.operationSelected(a)})},setupValue:function(a,b){var c=this,f=this.policyRuleDef.where({fieldName:a})[0],g=f.get("value").type,h=f.get("value").values,i=f.get("fieldName"),j=e.isUndefined(b)?this.model.get("operation"):b,k=e.contains(["NE","LT","GT"],j)?1:5;this.ui.$valueSelector.removeClass("hide"),"SINGLE_VERSION"===i?this.setupComponentAutoComplete(j):"SINGLE_LICENSE"===i?this.setupLicenseAutoComplete(j):"PROJECT_NAME"==i?this.setupProjectAutoComplete(j):"POS_INT"===g&&e.isUndefined(h)&&"IN"!==j?(this.ui.$valueSelector.attr("placeholder",d.get("app.modules.policy.rules.selectCountPlaceholder")),c.model.get("values")&&this.ui.$valueSelector.val(c.model.get("values")[0].value),this.ui.$valueSelector.change(function(){c.valueSelected(g,f,(~~$(this).val().trim()).toString())})):(this.value=this.ui.$valueSelector.selectize({plugins:["remove_button"],labelField:"label",valueField:"value",searchField:["label"],maxItems:k,highlight:!1,onInitialize:function(){h&&e.each(h,e.bind(function(a){this.addOption({value:a,label:d.get("app.modules.policy.rules.value."+a)})},this)),c.model.get("values")&&e.each(c.model.get("values"),e.bind(function(a){this.addOption({value:a.value,label:a.label}),this.addItem(a.value)},this))},create:function(a){if(!f.get("value").values&&!isNaN(parseInt(a))||"PROJECT_TAGS"===i)return{value:a,label:a}}}),this.value[0].selectize.on("change",function(a){e.isEmpty(a)?c.model.unset("values"):c.valueSelected(g,f,a)}))},onDestroy:function(){this.unbindAndDestroy(this.addConditions),this.unbindAndDestroy(this.operation),this.unbindAndDestroy(this.value)},unbindAndDestroy:function(a){e.isUndefined(a)||(e.isUndefined(a.selector)||e.isUndefined(a.selector[0].selectize)?a[0].selectize&&(a[0].selectize.off("change"),a[0].selectize.destroy()):(a.selector[0].selectize.off("change"),a.selector[0].selectize.destroy()))}})}),define("modules/policy-management/models/conditions",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Collection.extend({model:d.Model})}),define("modules/policy-management/views/conditions",["require","exports","module","modules/i18n/main","ironclad","./condition-item","../models/conditions","underscore"],function(a,b,c){var d=(a("modules/i18n/main"),a("ironclad")),e=a("./condition-item"),f=a("../models/conditions"),g=a("underscore");c.exports=d.CompositeView.extend({template:"#policy-management-conditions",id:"add-conditions",childView:e,childViewContainer:"#conditions-list",ui:{$addCondition:".add-condition"},events:{"click @ui.$addCondition":"newCondition"},childViewOptions:function(){return{policyRuleDef:this.policyRuleDef,setConditions:g.uniq(this.setConditions)}},initialize:function(){var a=this;this.policyRuleDef=this.options.policyRuleDef,g.isUndefined(this.collection)&&(this.collection=new f),0===this.collection.size()?this.collection.add(new d.Model):this.selectedConditions(this.collection),this.listenTo(this.collection,"add change remove",function(){this.ui.$addCondition.toggleClass("hide",this.collection.length==this.policyRuleDef.length),this.selectedConditions(this.collection),this.setConditions=g.uniq(a.setConditions),
    this.checkConditionCount(),this.triggerMethod("updated:collection")})},onRender:function(){this.checkConditionCount()},newCondition:function(){this.collection.add(new d.Model)},selectedConditions:function(a){this.setConditions=g.uniq(a.pluck("name"))},checkConditionCount:function(){var a=1===this.collection.size();this.$(".remove-condition").toggleClass("hide",a)}})}),define("modules/policy-management/models/policy-rules-def",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Collection.extend({url:"/api/internal/policy-rule-definitions",parse:function(a){return a.items}})}),define("modules/policy-management/views/rules-action",["require","exports","module","underscore","modules/modals/views/layout-view","modules/i18n/main","../models/policy-rules-def"],function(a,b,c){var d=a("underscore"),e=a("modules/modals/views/layout-view"),f=a("modules/i18n/main"),g=a("../models/policy-rules-def");c.exports=e.extend({regions:{conditionsRegion:".condition-container"},childEvents:{"updated:collection":"getExpressions"},ui:d.extend({},e.prototype.ui,{$ruleName:"#rule-name",$ruleDescription:"#rule-description",$ruleEnabled:"#enabled-rule",$ruleOverridable:"#manual-override",$ruleNameError:".rule-name-form-error",$ruleConditionError:".rule-condition-form-error"}),initialize:function(){e.prototype.initialize.apply(this,arguments),this.options.large=!0,this.policyRuleDef=new g},redirect:function(){return!1},getExpressions:function(a){this.expressions=a.collection},validateExpressions:function(a){var b=this,c=!0;if(d.isEmpty(a)||!(d.size(a)>0))return this.ui.$ruleConditionError.html($("<span/>",{class:"help-block",text:f.get("app.modules.policy.rules.noCondition.message")})),!1;this.removeError();for(var e in a.models){var g=a.models[e].get("name"),h=a.models[e].get("operation"),i=a.models[e].get("values");if(d.isUndefined(g)||d.isUndefined(h)||d.isUndefined(i))d.isUndefined(g)?(b.renderError(this.$el.find(".name-container")[e]),c=!1):d.isUndefined(i)&&(b.renderError(this.$el.find(".value-container")[e]),c=!1);else if(d.isEmpty(i))c=!1,b.renderError(this.$el.find(".value-container")[e]);else{var j=b.policyRuleDef.findWhere({fieldName:g}).get("value").values;for(var k in i)if(""===i[k].value)b.renderError(this.$el.find(".value-container")[e]),c=!1;else if(j&&d.isEmpty(d.filter(j,function(a){return a==i[k].value}))&&(a.models[e].unset("values"),b.renderError(this.$el.find(".value-container")[e],f.get("app.modules.policy.rules.condition.invalid")),c=!1),"POS_INT"===b.policyRuleDef.findWhere({fieldName:g}).get("value").type){var l=parseFloat(i[k].value);l>=0!=!1&&l%1===0||(c=!1,b.renderError(this.$el.find(".value-container")[e],f.get("app.modules.policy.rules.condition.posInt")))}}}return c},renderError:function(a,b){$(a).append($("<span/>",{class:"help-block",text:b||f.get("app.modules.policy.rules.condition.empty")})),$(a).find(".selectize-input, .form-control").addClass("error")},removeError:function(){this.$(".error").removeClass("error"),this.$(".help-block").remove()},renderNameError:function(a){this.ui.$ruleName.parents(".form-group").addClass("has-error"),this.ui.$ruleNameError.html($("<span />",{class:"help-block",text:a}))}})}),define("modules/policy-management/views/create",["require","exports","module","ironclad","./conditions","./rules-action","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./conditions"),g=a("./rules-action"),h=a("modules/i18n/main");c.exports=g.extend({template:"#policy-management-create",id:"create-policy-rule",onRender:function(){var a=this;g.prototype.onRender.apply(this,arguments),this.policyRuleDef.fetch({data:$.param({limit:100})}).success(function(){a.conditionsRegion.show(new f({policyRuleDef:a.policyRuleDef}))})},ok:function(a){var b=this;a.stopPropagation(),this.model.set({name:this.ui.$ruleName.val(),description:this.ui.$ruleDescription.val(),enabled:!!this.ui.$ruleEnabled.is(":checked"),overridable:!!this.ui.$ruleOverridable.is(":checked"),policyType:"BOM_COMPONENT_DISALLOW",expression:{operator:"AND",expressions:this.expressions}});var c=this.model.validate();!c&&this.validateExpressions(this.expressions)?(this.trigger("state:waiting"),this.model.save({wait:!0}).error(function(a){if(201===a.status){b.closeModal();var c=h.get("app.modules.policy.rules.create.successMessage",{name:b.model.get("name")});e.vent.trigger("policy:rule:added",c)}else 412===a.status?b.renderNameError(a.responseJSON.errorMessage):b.ui.$ruleConditionError.html($("<span/>",{class:"help-block",text:a.responseJSON.errorMessage}))})):c?this.renderNameError(c.name):this.ui.$ruleName.parent().parent().removeClass("has-error")}})}),define("modules/policy-management/views/edit",["require","exports","module","ironclad","./conditions","./rules-action","../models/conditions","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./conditions"),g=a("./rules-action"),h=a("../models/conditions"),i=a("modules/i18n/main");c.exports=g.extend({template:"#policy-management-edit",id:"edit-policy-rule",onRender:function(){var a=this;g.prototype.onRender.apply(this,arguments),this.ui.$ruleEnabled.prop("checked",this.model.get("enabled")),this.ui.$ruleOverridable.prop("checked",this.model.get("overridable")),this.expressions=this.model.attributes.expression.expressions,this.policyRuleDef.fetch({data:$.param({limit:100})}).success(function(){a.conditionsRegion.show(new f({collection:new h(a.expressions),policyRuleDef:a.policyRuleDef}))})},ok:function(a){a.stopPropagation();var b=this;this.model.set({name:this.ui.$ruleName.val(),description:this.ui.$ruleDescription.val(),enabled:!!this.ui.$ruleEnabled.is(":checked"),overridable:!!this.ui.$ruleOverridable.is(":checked"),policyType:"BOM_COMPONENT_DISALLOW"},{silent:!0});var c=this.model.validate();!c&&this.validateExpressions(this.expressions)?(this.trigger("state:waiting"),this.model.set("expression",{operator:"AND",expressions:this.expressions},{silent:!0}),this.model.save(null,{type:"PUT",url:this.model.get("_meta").href,success:function(){b.closeModal();var a=i.get("app.modules.policy.rules.edit.successMessage",{name:b.model.get("name")});e.vent.trigger("policy:rule:updated",a)}}).error(function(a){412===a.status?b.renderNameError(a.responseJSON.errorMessage):b.ui.$ruleConditionError.html($("<span/>",{class:"help-block",text:a.responseJSON.errorMessage}))})):c?(this.ui.$ruleName.parent().parent().addClass("has-error"),this.ui.$ruleNameError.html($("<span />",{class:"help-block",text:c.name}))):this.ui.$ruleName.parent().parent().removeClass("has-error")}})}),define("modules/policy-management/views/delete",["require","exports","module","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/modals/views/layout-view");c.exports=f.extend({template:"#policy-management-delete",id:"delete-policy-rule",redirect:function(){return!1},ok:function(){var a=this;this.trigger("state:waiting");var b=this.model.get("rules");for(var c in b){var d=b[c],f=b[c].attributes._meta.href;d.set({id:f.substring(f.lastIndexOf("/")+1)}).destroy({wait:!0,async:!0,timeout:3e5}).success(function(){a.closeModal(),e.vent.trigger("policy:rule:deleted")})}}})}),define("modules/policy-management/views/menu-link",["require","exports","module","modules/suite-nav/views/side-nav-item"],function(a,b,c){var d=a("modules/suite-nav/views/side-nav-item");c.exports=d.extend({template:"#policy-management-menu-link"})}),define("modules/policy-management/main",["require","exports","module","ironclad","modules/asset/module","./views/layout","./views/header","./views/create","./views/edit","./views/delete","./views/menu-link"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/asset/module"),g=a("./views/layout"),h=a("./views/header"),i=a("./views/create"),j=a("./views/edit"),k=a("./views/delete"),l=a("./views/menu-link");d.WeightedStore.addItem("suiteSideNav",new l,3,"PolicyManagementMenu"),e.reqres.setHandler("policy-management:views:header",function(){return h}),e.reqres.setHandler("policy-management:views:content:layout",function(){return g}),e.reqres.setHandler("policy-management:views:modals:create",function(){return i}),e.reqres.setHandler("policy-management:views:modals:edit",function(){return j}),e.reqres.setHandler("policy-management:views:modals:delete",function(){return k}),c.exports=new f({name:"policy-management",defaultParams:{view:"layout"}})}),define("modules/policy-rules/models/policy-violations",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({})}),define("modules/policy-rules/controllers/policy-cell",["require","exports","module","modules/i18n/main","ironclad","anglebrackets","../models/policy-violations"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=a("anglebrackets"),g=a("../models/policy-violations");c.exports=f.TableCell.extend({template:"#policy-rules-policy-cell",initialize:function(){f.TableCell.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"table:row:expand",this.rowExpanded)},popoverTitles:{IN_VIOLATION:"app.modules.policy.violations.title",IN_VIOLATION_OVERRIDDEN:"app.modules.policy.violations.overridden.title"},popoverContent:{IN_VIOLATION:"app.modules.policy.rules.violation",IN_VIOLATION_OVERRIDDEN:"app.modules.policy.rules.overridden"},events:{click:"showViolations"},getStatus:function(){if(this.column){var a=this.column.get("name");return this.model.attributes[a]}return""},className:function(){var a=this.model.get("policyApprovalStatus")||this.model.get("policyStatus");return this.model.get("violatingPolicyRulesUrl")?"clickable policy-status-cell "+a:"policy-status-cell "+a},onRender:function(){var a=this.getStatus();if("IN_VIOLATION"===a||"IN_VIOLATION_OVERRIDDEN"===a){var b=this.popoverTitles[a],c=this.popoverContent[a];this.$el.find(".fa").popover({content:d.get(c,{count:this.model.get("activePolicyCount")},this.model.get("activePolicyCount")),html:!0,placement:"right",title:d.get(b),trigger:"hover",container:".sticky-table"})}this.model.get("violatingPolicyRulesUrl")&&this.$(".fa").attr("tabindex",0)},showViolations:function(a){var b=this.getStatus();if(this.model.get("violatingPolicyRulesUrl")&&("IN_VIOLATION"===b||"IN_VIOLATION_OVERRIDDEN"===b)){a.preventDefault(),a.stopPropagation();var c=new g;return c.url=this.model.get("violatingPolicyRulesUrl"),c.fetch().done(function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"policy-management",view:"violations",collection:new e.Collection(c.get("policyRuleViews"))},c)}),!1}}})}),define("modules/policy-rules/views/violations-list-item",["require","exports","module","modules/i18n/main","ironclad"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#policy-rules-violation-item",tagName:"li",className:"policy-rule-violation-list-item",ui:{$toggler:".toggle-conditions",$policyRuleViolations:".policy-rule-violations"},events:{"hide.bs.collapse @ui.$policyRuleViolations":"hiddenState","show.bs.collapse @ui.$policyRuleViolations":"shownState"},hiddenState:function(){this.ui.$toggler.html('<span class="fa fa-angle-right"></span> '+d.get("app.modules.policy.rules.violation.showConditions"))},shownState:function(){this.ui.$toggler.html('<span class="fa fa-angle-up"></span> '+d.get("app.modules.policy.rules.violation.hideConditions"))}})}),define("modules/policy-rules/views/violations-list",["require","exports","module","modules/i18n/main","ironclad","./violations-list-item"],function(a,b,c){var d=(a("modules/i18n/main"),a("ironclad")),e=a("./violations-list-item");c.exports=d.CollectionView.extend({tagName:"ul",childView:e})}),define("modules/policy-rules/views/violations-modal",["require","exports","module","ironclad","modules/modals/views/layout-view","./violations-list"],function(a,b,c){var d=a("ironclad"),e=a("modules/modals/views/layout-view"),f=a("./violations-list");c.exports=e.extend({hasErrorHandler:!0,regions:{violationsRegion:".js-violations-region"},getTemplate:function(){return"IN_VIOLATION"===this.model.get("approvalStatus")?this.model.canUpdate()?"#policy-rules-violations-modal":"#policy-rules-violations-modal-readonly":this.model.canUpdate()?"#policy-rules-violations-modal-overridden":"#policy-rules-violations-modal-overridden-readonly"},initialize:function(a){this.collection=a.collection,this.options.large=!0,this.listenTo(this.model,"sync",this.success),e.prototype.initialize.apply(this,arguments)},success:function(a){d.MessageBus.vent.trigger("versions:bom:component:updated"),d.MessageBus.vent.trigger("versions:files:adjustments:success"),this.closeModal(a)},templateHelpers:function(){var a=this.collection;return{isOverridable:function(){return void 0===a.findWhere({overridable:!1})}}},errorHandler:function(a,b){b&&403===b.status&&this.closeModal(),this.renderGeneralError(b.responseJSON.errorMessage)},onRender:function(){e.prototype.onRender.apply(this,arguments),this.violationsRegion.show(new f({collection:this.collection}))},redirect:function(){return!1},ok:function(a){var b="IN_VIOLATION"===this.model.get("approvalStatus")?"IN_VIOLATION_OVERRIDDEN":"IN_VIOLATION";this.model.set("approvalStatus",b),this.model.save({},{type:"put"})},clearErrors:function(){}})}),define("modules/policy-rules/main",["require","exports","module","ironclad","./controllers/policy-cell","./views/violations-modal","modules/common/controllers/hub-header-cell"],function(a,b,c){var d=a("ironclad"),e=a("./controllers/policy-cell"),f=a("./views/violations-modal"),g=a("modules/common/controllers/hub-header-cell"),h={label:"",name:"policyStatus",cell:e.extend({popoverContent:{IN_VIOLATION:"app.modules.policy.rules.project.violation",IN_VIOLATION_OVERRIDDEN:"app.modules.policy.rules.project.overridden"}}),editable:!1,sortable:!1,exposeModel:!0,headerCell:g},i={label:"",name:"policyStatus",cell:e.extend({popoverContent:{IN_VIOLATION:"app.modules.policy.rules.version.violation",IN_VIOLATION_OVERRIDDEN:"app.modules.policy.rules.version.overridden"}}),editable:!1,sortable:!1,exposeModel:!0,headerCell:g},j={label:"",name:"policyApprovalStatus",cell:e,editable:!1,sortable:!1,exposeModel:!0,headerCell:g};d.WeightedStore.addItem("bom-table-columns",j,0,"policy-cell"),d.WeightedStore.addItem("file-bom-table-columns",j,2,"policy-cell"),d.WeightedStore.addItem("myprojects-table-columns",h,0,"policy-cell"),d.WeightedStore.addItem("versions-table-columns",i,0,"policy-cell"),d.MessageBus.reqres.setHandler("policy-management:views:modals:violations",function(){return f})}),define("modules/project-members/views/delete",["require","exports","module","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("ironclad"),e=a("modules/modals/views/layout-view");c.exports=e.extend({template:"#project-members-delete",initialize:function(){this.model=this.options.model},redirect:function(){return!1},ok:function(){var a=this,b=a.model.destroy({wait:!0});b&&(a.trigger("state:waiting"),b.success(function(){d.MessageBus.commands.execute("settings:fetch:members",a),e.prototype.ok.apply(a,arguments)}))}})}),define("modules/project-members/views/add-members",["require","exports","module","ironclad","modules/i18n/main","modules/form/views/modal","modules/projects/models/current-project"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/form/views/modal"),g=a("modules/projects/models/current-project");c.exports=f.extend({formFields:{members:{type:"selectize",label:e.get("app.modules.userGroups.member.label"),binding:{selectOptions:{collection:[],remoteOptions:!0,cache:!1,selectizeOptions:{valueField:"id",searchField:["name","firstName","lastName","email","externalName"],optionTemplate:"#form-input-select-user-option",itemTemplate:"#form-input-select-user-item",selectOnTab:!1,maxItems:1e3,maxOptions:1e3,preload:"focus"},modelUrl:function(){return"/api/v1/composite/projects/"+g.id+"/users/assignable?searchText=%QUERY"}}}}},renderError:function(){},id:"reports-create-modal",headerView:e.get("app.modules.team.members.add.member"),footerTemplate:"#form-buttons-add",onSuccess:function(){d.commands.execute("settings:fetch:members")},redirect:function(){return!1}})}),define("modules/project-members/controllers/delete",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({tooltip:e.get("app.modules.team.members.remove.teamMembers"),deleteRow:function(a){a.preventDefault(),d.vent.trigger("assets:actions:modal",{assetName:"projects",view:"delete-member",projectId:this.model.collection.projectId},this.model)}})}),define("modules/project-members/views/members-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/delete"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/delete");c.exports=d.Table.extend({options:{description:e.get("app.modules.team.members.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{name:"userGravatar",label:"",cell:d.TableCell,template:"#project-members-gravatar-cell",editable:!1,sortable:!1},{name:"user.name",label:e.get("app.modules.admin.userList.name"),cell:d.TableCell,editable:!1,sortable:!0},{name:"user.firstName",displayValue:"user.firstName",label:e.get("app.modules.admin.userList.firstName"),cell:d.TableCell,editable:!1,sortable:!0},{name:"user.lastName",displayValue:"user.lastName",label:e.get("app.modules.admin.userList.lastName"),cell:d.TableCell,editable:!1,sortable:!0},{name:"user.email",displayValue:"user.email",label:e.get("app.modules.admin.userList.email"),cell:d.TableCell,editable:!1,sortable:!0},{label:e.get("common.status"),name:"user.active",cell:d.TableCell,template:"#project-members-state-cell",editable:!1,sortable:!0},{name:"user.id",label:"",editable:!1,sortable:!1,cell:f}]}}})}),define("modules/project-members/models/member",["require","exports","module","modules/i18n/main","ironclad"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad");c.exports=e.Model.extend({sync:function(a,b,c){return"create"===a&&(b.url="api/v1/projects/"+this.projectId+"/teammembers",c.data=JSON.stringify(this.get("members")),c.contentType="application/json"),e.Model.prototype.sync.call(this,a,b,c)},initialize:function(a){e.Model.prototype.initialize.apply(this,arguments),this.projectId=a.projectId},validation:{members:{required:!0,msg:d.get("app.modules.admin.user.pleaseSelect")}}})}),define("modules/project-members/models/members",["require","exports","module","modules/common/models/pageable-collection","./member"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./member");c.exports=d.extend({model:e,persistence:{active:!0},initialize:function(a){d.prototype.initialize.apply(this,arguments),this.projectId=a.projectId},url:function(){return"/api/v1/projects/"+this.projectId+"/teammembers"}})}),define("modules/project-members/views/add-members-btn",["require","exports","module","ironclad","../models/member"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("../models/member");c.exports=d.ItemView.extend({template:"#project-members-add-btn",ui:{$addMemberBtn:".js-add-members"},events:{"click @ui.$addMemberBtn":"openMemberModal"},openMemberModal:function(){var a=new f({projectId:this.options.projectId});e.vent.trigger("assets:actions:modal",{assetName:"projects",view:"add-member"},a)}})}),define("modules/project-members/views/layout",["require","exports","module","ironclad","underscore","ironclad","./members-table","../models/members","./add-members-btn","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=a("ironclad").MessageBus,g=a("./members-table"),h=a("../models/members"),i=a("./add-members-btn"),j=a("modules/tables/behaviors/sticky-headers");c.exports=d.Layout.extend({template:"#project-members-layout",id:"project-members",regions:{teamMembersTable:".project-members-table",addMembers:".add-project-members"},behaviors:{Sticky:{behaviorClass:j}},onRender:function(){var a=this.model.id,b=new h({projectId:a});b.fetch().then(e.bind(function(){this.teamMembersTable.show(new g({collection:b})),this.addMembers.show(new i({projectId:a}))},this)),f.commands.setHandler("settings:fetch:members",function(){b.fetch()})}})}),define("modules/project-members/main",["require","exports","module","ironclad","./views/delete","./views/add-members","./views/layout"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("./views/delete"),f=a("./views/add-members"),g=a("./views/layout");d.reqres.setHandler("project:settings:tab:members",function(){return g}),d.reqres.setHandler("projects:views:modals:delete-member",function(){return e}),d.reqres.setHandler("projects:views:modals:add-member",function(){return f})}),define("modules/projects-basics/views/edit-project",["require","exports","module","underscore","modules/i18n/main","modules/form/views/layout","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/form/views/layout"),g=a("ironclad").MessageBus;c.exports=f.extend({initialize:function(a){f.prototype.initialize.apply(this,arguments),this.model=a.model.get("project"),this.delegateEvents()},footerTemplate:"#projects-basics-edit-project-footer",modelEvents:{success:"refreshProject"},refreshProject:function(){g.vent.trigger("header:refresh")},hasSuccessHandler:!0,successMessage:e.get("app.modules.work.settings.successfully.saved"),ui:d.extend({},f.prototype.ui,{$delete:".js-delete-project-button"}),events:d.extend({},f.prototype.events,{"click @ui.$delete":"deleteProject"}),formFields:{name:{type:"text",label:e.get("app.projects.name")},description:{type:"textarea",label:e.get("app.projects.description")},projectOwnerId:{type:"select-user",label:e.get("app.projects.owner"),placeholder:e.get("app.modules.common.header.owner.placeholder")},tier:{type:"select",label:e.get("app.projects.tier"),placeholder:e.get("app.projects.tier.select"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.projects.tier.1"),value:1},{label:e.get("app.projects.tier.2"),value:2},{label:e.get("app.projects.tier.3"),value:3},{label:e.get("app.projects.tier.4"),value:4},{label:e.get("app.projects.tier.5"),value:5}]},defaultOption:{label:"",value:""}}}},projectLevelAdjustments:{type:"checkbox",label:e.get("app.projects.projectLevelAdjustments"),description:e.get("app.projects.projectLevelAdjustments.yes.description"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.projects.projectLevelAdjustments.yes"),value:""}]}}}}},id:"projects-basics-edit",deleteProject:function(a){g.vent.trigger("assets:actions:modal",{assetName:"myprojects",view:"delete"},this.model),a.preventDefault(),a.stopPropagation()}})}),define("modules/projects-basics/main",["require","exports","module","ironclad","./views/edit-project"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("./views/edit-project");d.reqres.setHandler("project:settings:tab:projects",function(){return e})}),define("modules/projects-group/views/delete",["require","exports","module","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("ironclad"),e=a("modules/modals/views/layout-view");c.exports=e.extend({template:"#projects-group-delete",initialize:function(a){this.model=a.model},redirect:function(){return!1},ok:function(){var a=this,b=a.model.destroy({wait:!0});b&&(a.trigger("state:waiting"),b.success(function(){d.MessageBus.commands.execute("settings:fetch:groups",a),e.prototype.ok.apply(a,arguments)}))}})}),define("modules/projects-group/views/add-group",["require","exports","module","ironclad","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/form/views/modal");c.exports=f.extend({formFields:{group:{type:"select-group",label:e.get("app.modules.userGroups.group.label"),placeholder:e.get("app.modules.common.header.groups.placeholder")},activeOnly:{type:"checkbox",label:e.get("app.modules.userGroups.activeOnly")}},headerView:e.get("app.modules.work.project.version.add.group"),footerTemplate:"#form-buttons-add",onSuccess:function(){d.commands.execute("settings:fetch:groups")},redirect:function(){return!1}})}),define("modules/projects-group/controllers/delete",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({tooltip:e.get("app.modules.work.project.version.remove.group"),deleteRow:function(a){a.preventDefault(),d.vent.trigger("assets:actions:modal",{assetName:"projects",view:"delete-group",projectId:this.model.collection.projectId},this.model)}})}),define("modules/projects-group/controllers/group-name",["require","exports","module","anglebrackets"],function(a,b,c){var d=a("anglebrackets");c.exports=d.TableCell.extend({template:"#projects-group-group-name"})}),define("modules/projects-group/views/groups-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/delete","../controllers/group-name"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/delete"),g=a("../controllers/group-name");c.exports=d.Table.extend({options:{description:e.get("app.modules.work.project.version.groups.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{label:e.get("app.modules.work.project.version.groupName"),name:"userGroup.name",cell:g,editable:!1,sortable:!0},{label:e.get("common.status"),name:"userGroup.active",cell:d.TableCell,template:"#projects-group-state-cell",editable:!1,sortable:!0},{name:"userGroup.id",label:"",editable:!1,sortable:!1,cell:f}]}}})}),define("modules/projects-group/models/group",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Model.extend({sync:function(a,b,c){if("create"===a){var e=b.get("group")[0].id.match(/.*\/usergroups\/(.*)/)[1];return b.url="api/v1/projects/"+b.get("projectId")+"/teamgroups/"+e,d.Model.prototype.sync.call(this,a,b,c)}return d.Model.prototype.sync.call(this,a,b,c)},validation:{group:{required:!0,msg:e.get("app.modules.work.project.version.group.empty")}}})}),define("modules/projects-group/models/groups",["require","exports","module","modules/common/models/pageable-collection","./group"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./group");c.exports=d.extend({model:e,initialize:function(a){this.currentProjectId=a.currentProjectId,d.prototype.initialize.apply(this,arguments)},persistence:{active:!0},url:function(){return"/api/v1/projects/"+this.currentProjectId+"/teamgroups"},parseState:function(a){var b=a.items?a.items.length:0;return{currentPage:1,totalRecords:b,pageSize:Math.max(b,this._state.pageSize)}}})}),define("modules/projects-group/views/add-group-btn",["require","exports","module","ironclad","../models/group"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("../models/group");c.exports=d.ItemView.extend({template:"#projects-group-add-btn",ui:{$addGroupBtn:"button"},events:{"click @ui.$addGroupBtn":"openModal"},openModal:function(){var a=new f({projectId:this.options.projectId});e.vent.trigger("assets:actions:modal",{assetName:"projects",view:"add-group"},a)}})}),define("modules/projects-group/views/layout",["require","exports","module","ironclad","underscore","ironclad","./groups-table","../models/groups","./add-group-btn","modules/projects/models/current-project","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=a("ironclad").MessageBus,g=a("./groups-table"),h=a("../models/groups"),i=a("./add-group-btn"),j=a("modules/projects/models/current-project"),k=a("modules/tables/behaviors/sticky-headers");c.exports=d.Layout.extend({template:"#projects-group-layout",id:"projects-group",regions:{groupsTable:".project-groups-table",addGroup:".add-project-groups"},behaviors:{Sticky:{behaviorClass:k}},onRender:function(){var a=new h({currentProjectId:j.id});a.fetch().then(e.bind(function(){this.groupsTable.show(new g({collection:a})),this.addGroup.show(new i({projectId:a.currentProjectId}))},this)),f.commands.setHandler("settings:fetch:groups",function(){a.fetch()})}})}),define("modules/projects-group/main",["require","exports","module","ironclad","./views/delete","./views/add-group","./views/layout"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("./views/delete"),f=a("./views/add-group"),g=a("./views/layout");d.reqres.setHandler("project:settings:tab:groups",function(){return g}),d.reqres.setHandler("projects:views:modals:delete-group",function(){return e}),d.reqres.setHandler("projects:views:modals:add-group",function(){return f})}),define("modules/projects-myprojects/views/delete",["require","exports","module","backbone","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=a("modules/modals/views/layout-view");c.exports=f.extend({template:"#projects-myprojects-delete",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,initialize:function(a){var b=this;b.model=a.model,b.listenTo(b.model,"destroy",function(){e.MessageBus.vent.trigger("my-projects:deleted"),b.closeModal()})},ok:function(a){a.preventDefault(),this.model.destroy({wait:!0})&&this.trigger("state:waiting")},redirect:function(){d.history.navigate("home",!0)}})}),define("modules/projects-myprojects/main",["require","exports","module","ironclad","modules/asset/module","./views/delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/asset/module"),f=a("./views/delete");d.reqres.setHandler("myprojects:views:modals:delete",function(){return f}),c.exports=new e({name:"myprojects"})}),define("modules/projects-settings/views/settings",["require","exports","module","backbone","ironclad","modules/asset/models/current-route-params"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=e.MessageBus,g=a("modules/asset/models/current-route-params");c.exports=e.Layout.extend({template:"#projects-settings-layout",ui:{$tab:".list-group-item"},events:{"click @ui.$tab":"clickTab"},regions:{tabContent:".projects-settings-content"},onRender:function(){g.get("tab")?this.showTab(g.get("tab")):this.showTab("projects")},clickTab:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.target).data("target-id");this.showTab(b),d.history.navigate($(a.target).attr("href"),{silent:!0})},showTab:function(a){this.ui.$tab.removeClass("active"),this.ui.$tab.filter('[data-target-id="'+a+'"]').addClass("active");var b=f.reqres.request("project:settings:tab:"+a);b&&this.tabContent.show(new b({model:this.model}))}})}),define("modules/projects-settings/main",["require","exports","module","ironclad","modules/link-nav/registry","./views/settings","modules/projects/models/current-project"],function(a,b,c){function d(){return!i.attributes.kb}var e=a("ironclad"),f=e.MessageBus,g=a("modules/link-nav/registry"),h=a("./views/settings"),i=a("modules/projects/models/current-project");f.reqres.setHandler("projects:views:content:settings",function(){if(d())return h}),g.addMenuItem("projects:localnav","#projects-settings-menu-link",{},1e3,d)}),define("modules/versions/models/versions-paged",["require","exports","module","./version","modules/common/models/pageable-collection"],function(a,b,c){var d=a("./version"),e=a("modules/common/models/pageable-collection");c.exports=e.extend({model:d,persistence:{active:!0},url:function(){return"/api/v1/composite/projects/"+this.projectId+"/releases"},state:{sortKey:"release.version"}})}),define("modules/projects-versions/models/versions",["require","exports","module","modules/versions/models/versions-paged"],function(a,b,c){
    var d=a("modules/versions/models/versions-paged");c.exports=d.extend({state:{currentPage:1,pageSize:100,sortKey:"bomCounts",order:"1"},queryParams:{pageSize:"limit",page:null,sortKey:"sortField",order:"ascending",additionalInfoOptions:["BomCount","VulnerabilitiesCount","ScanDate","LastBomUpdateDate","RiskProfile"],directions:{"-1":"true",1:"false"},offset:function(){return(this.state.currentPage-1)*this.state.pageSize}}})}),define("modules/versions-basics/models/version",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"api/v1/releases",validation:{version:{required:!0}},defaults:{version:"",phase:"PLANNING",distribution:"EXTERNAL"}})}),define("modules/projects-versions/views/add-version-btn",["require","exports","module","ironclad","modules/versions-basics/models/version"],function(a,b,c){var d=a("ironclad"),e=a("modules/versions-basics/models/version");c.exports=d.ItemView.extend({template:"#projects-versions-add-version-btn",ui:{$addVersionButton:"button"},events:{"click @ui.$addVersionButton":"addVersionModal"},addVersionModal:function(){var a=new e({projectId:this.model.id});d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"addversion"},a)}})}),define("modules/projects-tags/views/tag",["require","exports","module","ironclad","modules/projects/models/current-project"],function(a,b,c){var d=a("ironclad"),e=a("modules/projects/models/current-project");c.exports=d.ItemView.extend({template:"#projects-tags-tag",tagName:"li",className:function(){return e.get("kb")?"kb-tag":"project-tag"}})}),define("modules/projects-tags/views/no-tag",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#projects-tags-no-tag"})}),define("modules/projects-tags/models/tag",["require","exports","module","ironclad","modules/projects/models/current-project","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/projects/models/current-project"),f=a("modules/i18n/main");c.exports=d.Model.extend({initialize:function(){this.projectId=e.get("id")},url:function(){return"/api/v1/PJ/"+this.projectId+"/tags/"+this.get("value")},validation:{value:[{required:!0,msg:f.get("app.modules.projects.tags.value.doesNotExist")},{pattern:/^[\w\+\(\)]+$/,msg:f.get("app.modules.projects.tags.value.invalid")},{rangeLength:[1,50],msg:f.get("app.modules.projects.tags.value.length")}]}})}),define("modules/projects-tags/models/tags",["require","exports","module","underscore","ironclad","./tag"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./tag");c.exports=e.Collection.extend({model:f,addTagsFromArray:function(a){var b=d.map(a,function(a){return{value:a}});this.add(b)}})}),define("modules/projects-tags/views/current-tags",["require","exports","module","ironclad","underscore","modules/i18n/main","./tag","./no-tag","../models/tag","../models/tags","modules/projects/models/current-project"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=(a("modules/i18n/main"),a("./tag")),g=a("./no-tag"),h=a("../models/tag"),i=a("../models/tags"),j=a("modules/projects/models/current-project");c.exports=d.CompositeView.extend({template:"#projects-tags-current-tags",id:"currentTags",childViewContainer:"ul",childView:f,emptyView:g,ui:{$errors:".input-tag-form-errors",$editBtn:"#editTags",$tagsSelect:".js-select-usage"},events:{"click @ui.$editBtn":"enableEdit","blur @ui.$tagsSelect":"disableEdit"},initialize:function(){var a=j.get("tags").items;this.collection=new i,this.collection.addTagsFromArray(a)},saveTag:function(a){this.removeErrorMessage();var b=this;a.save().success(function(){b.collection.add(a)}),b.listenTo(a,"error",b.apiError),b.listenTo(a,"sync change",b.removeErrorMessage)},removeErrorMessage:function(){this.$(".help-block").remove()},renderError:function(a){this.removeErrorMessage();var b=$("<span />",{class:"help-block",text:a});this.ui.$errors.html(b)},showValidation:function(a){var b=this,c=a.validationError;e.each(c,function(a){b.renderError(a)})},apiError:function(a,b){var c=JSON.parse(b.responseText),d=e.extend.apply(e,[{}].concat(e.map(c.errors,function(a){var b={};return b[a.arguments.fieldName]=a.errorMessage,b})));this.showValidation({validationError:d})},enableEdit:function(){var a=this;this.ui.$tagsSelect.selectize({plugins:["restore_on_backspace","remove_button"],delimiter:",",persist:!1,highlight:!1,create:function(b){var c=b.trim().toLowerCase(),d=new h({value:c}),f=d.validate();return e.isObject(f)?(a.removeErrorMessage(),e.each(e.values(f),function(b){a.renderError(b)}),!1):{value:c,text:c}},onItemAdd:function(b){if(e.isEmpty(a.collection.where({value:b}))){var c=new h({value:b.trim().toLowerCase()});a.saveTag(c)}},onItemRemove:function(b){var c=a.collection.findWhere({value:b});c.set({id:"1"}).destroy().success(function(){a.collection.remove(c)}).error(function(b){a.renderError(JSON.parse(b.responseText).errorMessage)})},render:{item:function(a){return'<span class="item"><span class="fa fa-tag"></span><span>'+a.value+"</span></span>"}},onInitialize:function(){e.each(a.collection.models,e.bind(function(a){var b=a.get("value");this.addOption({value:b,text:b}),this.addItem(b)},this)),this.focus()}})},disableEdit:function(){this.ui.$tagsSelect.selectize()[0].selectize.destroy(),this.removeErrorMessage()}})}),define("modules/projects-versions/views/description",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#projects-versions-description",id:"projects-versions-description",descriptionLimit:6,defaultContentHeight:110,ui:{projectDescriptionContent:".js-project-description-content",viewMoreBtn:".js-view-more-btn",viewLessBtn:".js-view-less-btn"},events:{"click @ui.viewMoreBtn":"viewMoreHandler","click @ui.viewLessBtn":"viewLessHandler"},onRender:function(){this.model.get("project").get("description")&&d.defer(d.bind(this.truncateDescription,this))},viewMoreHandler:function(a){a.stopPropagation(),a.preventDefault(),this.ui.projectDescriptionContent.css("max-height",""),this.$el.removeClass("view-more").addClass("view-less")},viewLessHandler:function(a){a.stopPropagation(),a.preventDefault(),this.truncateDescription()},truncateDescription:function(){var a=parseFloat($(".js-project-description-content").css("height"));a>this.defaultContentHeight&&(this.$el.addClass("view-more").removeClass("view-less"),this.ui.projectDescriptionContent.css("max-height",this.defaultContentHeight+"px"))}})}),define("modules/projects-versions/views/url",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({className:function(){return this.model.collection.indexOf(this.model)>2?"link-row hidden":"link-row"},template:"#projects-versions-url"})}),define("modules/projects-versions/views/urls",["require","exports","module","ironclad","./url"],function(a,b,c){var d=a("ironclad"),e=a("./url");c.exports=d.CompositeView.extend({template:"#projects-versions-urls",className:function(){return this.collection.length>3?"view-more":""},childViewContainer:" .js-project-urls",childView:e,ui:{$viewMoreBtn:".js-view-more-btn",$viewLessBtn:".js-view-less-btn"},events:{"click @ui.$viewMoreBtn":"viewMoreHandler","click @ui.$viewLessBtn":"viewLessHandler"},viewMoreHandler:function(a){a.stopPropagation(),a.preventDefault(),this.$(".link-row").removeClass("hidden"),this.$el.removeClass("view-more").addClass("view-less")},viewLessHandler:function(a){a.stopPropagation(),a.preventDefault(),this.$(".link-row").slice(3).addClass("hidden"),this.$el.addClass("view-more").removeClass("view-less")}})}),define("modules/projects-versions/views/release-info",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#projects-versions-release-info",templateHelpers:{getReleasedDate:function(a){var b=this.formatDateFull(a);return e.get("app.modules.common.releasedOn",{releaseDate:b})}}})}),define("modules/projects-versions/views/license",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#projects-versions-license",className:"link-row"})}),define("modules/projects-versions/views/license-unknown",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#projects-versions-license-unknown"})}),define("modules/projects-versions/views/licenses",["require","exports","module","ironclad","./license","./license-unknown"],function(a,b,c){var d=a("ironclad"),e=a("./license"),f=a("./license-unknown");c.exports=d.CompositeView.extend({template:"#projects-versions-licenses",childView:e,emptyView:f,childViewContainer:".js-licenses-container",initialize:function(){if(this.model.get("licenseDefinition")){var a=this.model.get("licenseDefinition").licenses;this.collection=new d.Collection(a)}}})}),define("modules/projects-versions/views/metadata",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/projects-tags/views/current-tags","./description","./urls","./release-info","./licenses"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/projects-tags/views/current-tags"),h=a("./description"),i=a("./urls"),j=a("./release-info"),k=a("./licenses");c.exports=e.Layout.extend({template:"#projects-versions-metadata",id:"projects-versions-metadata",className:"row",regions:{releaseInfo:".js-project-release-info",tags:".js-project-tags",licenses:".js-project-licenses",urls:".js-project-urls",description:".js-project-description"},onRender:function(){this.tags.show(new g),this.description.show(new h({model:this.model}));var a=this.model.get("project"),b=d.filter(a.get("urlLinks").items,function(a){return 0===a.linkName.indexOf("Homepage")});0===b.length&&a.get("publicUrl")&&b.push({linkName:f.get("app.modules.common.openhub"),url:a.get("publicUrl")}),b&&b.length>0&&this.urls.show(new i({model:a,collection:new e.Collection(b)}));var c=this.model.get("version");void 0!==c&&(this.releaseInfo.show(new j({model:this.model})),this.licenses.show(new k({model:c})))}})}),define("modules/projects-versions/controllers/operational-risk-cell",["require","exports","module","modules/i18n/main","modules/risk-profile/controllers/basic-operational-risk-cell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/risk-profile/controllers/basic-operational-risk-cell");c.exports=e.extend({popoverOptions:{title:d.get("app.modules.vulns.affectedComponents")},getLink:function(a){var b=this.model.get("release").id,c=a.toLowerCase();return encodeURI("#versions/id:"+b+"/view:bom?filter=operationalRisk:"+c)}})}),define("modules/projects-versions/controllers/license-risk-cell",["require","exports","module","modules/i18n/main","modules/risk-profile/controllers/license-risk-cell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/risk-profile/controllers/license-risk-cell");c.exports=e.extend({popoverOptions:{title:d.get("app.modules.vulns.affectedComponents")},getLink:function(a){var b=this.model.get("release").id,c=a.toLowerCase();return encodeURI("#versions/id:"+b+"/view:bom?filter=licenseRisk:"+c)}})}),define("modules/projects-versions/controllers/security-risk-cell",["require","exports","module","modules/i18n/main","modules/risk-profile/controllers/security-risk-cell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/risk-profile/controllers/security-risk-cell");c.exports=e.extend({popoverOptions:{title:d.get("app.modules.vulns.affectedComponents")},getLink:function(a){var b=this.model.get("release").id,c=a.toLowerCase();return encodeURI("#versions/id:"+b+"/view:bom?filter=securityRisk:"+c)}})}),define("modules/projects-versions/controllers/delete-version-cell",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete");c.exports=f.extend({deleteRow:function(a){a.preventDefault(),!this.model.get("bomCounts")&&this.model.collection.state.totalRecords>1&&d.vent.trigger("assets:actions:modal",{assetName:"versions",view:"delete",versionName:this.model.get("release").version,id:this.model.get("release").id,projectId:this.model.get("release").projectId},null)},render:function(){return this.model.get("bomCounts")||1===this.model.collection.state.totalRecords?this.renderDisabled():f.prototype.render.apply(this,arguments)},getDisabledTitle:function(){return 1===this.model.collection.state.totalRecords?e.get("app.modules.versions.lastVersion"):e.get("app.modules.versions.inUse")},renderDisabled:function(){var a=$('<a class="text-muted"><span class="fa fa-trash-o"></span></a>');return a.tooltip({title:this.getDisabledTitle()}),this.$el.append(a).addClass("disabled"),this.delegateEvents(),this}})}),define("modules/projects-versions/models/default-columns",["require","exports","module","modules/i18n/main","anglebrackets","modules/link-helper/main","modules/common/controllers/hub-header-cell","../controllers/operational-risk-cell","../controllers/license-risk-cell","../controllers/security-risk-cell","../controllers/delete-version-cell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("anglebrackets"),f=a("modules/link-helper/main"),g=a("modules/common/controllers/hub-header-cell"),h=a("../controllers/operational-risk-cell"),i=a("../controllers/license-risk-cell"),j=a("../controllers/security-risk-cell"),k=a("../controllers/delete-version-cell");c.exports=[{label:d.get("app.modules.common.Version"),name:"release.version",template:"#projects-versions-version-cell",cell:e.TableCell,className:"project-version",templateHelpers:{assetLink:f.assetLink},escapeValue:!1,editable:!1,sortable:!0},{label:d.get("app.project.released.date"),name:"release.releasedOn",cell:e.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{label:d.get("app.views.release.lastScanned"),name:"lastScanDate",cell:e.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{label:d.get("app.views.release.lastUpdatedBom"),name:"lastBomUpdateDate",cell:e.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{name:"riskProfile.categories[VULNERABILITY]",label:d.get("app.modules.risk.profile.panel.reasons.securityRisk"),className:"text-center",cell:j,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g},{name:"riskProfile.categories[LICENSE]",label:d.get("app.modules.risk.profile.panel.reasons.licenseRisk"),cell:i,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g},{name:"riskProfile.categories[OPERATIONAL]",label:d.get("app.modules.risk.profile.panel.reasons.operationalRisk"),cell:h,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g},{name:"",label:"",cell:k,editable:!1,sortable:!1}]}),define("modules/projects-versions/views/versions-table",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","../models/default-columns"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/i18n/main"),h=a("../models/default-columns");c.exports=f.Table.extend({options:{description:g.get("app.project.version.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",columns:h}},initialize:function(){var a=this;d.each(e.WeightedStore.getItems("versions-table-columns"),function(b){var c=Math.min(b.weight,a.options.gridConfig.columns.length);a.options.gridConfig.columns[c].name!==b.data.name&&a.options.gridConfig.columns.splice(c,0,b.data)}),f.Table.prototype.initialize.apply(a,arguments)}})}),define("modules/licenses/controllers/license-cell",["require","exports","module","underscore","marionette","ironclad","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("ironclad"),g=a("anglebrackets"),h=f.MessageBus,i=a("modules/i18n/main"),j="00000000-0010-0000-0000-000000000000";c.exports=g.TableCell.extend({className:"license-cell",template:"#licenses-license-cell",events:{"click .btn-license-link":"licenseClicked"},getLicense:function(){return this.model.get("license")},licenseClicked:function(a){a.preventDefault(),a.stopPropagation();var b=this.getLicense();h.vent.trigger("assets:actions:modal",{assetName:"licenses",view:"list-overview",project:this.model,license:new f.Model(b),collection:this.model.collection},null)},render:function(){var a=this.getLicense();if(a){var b=e.TemplateCache.get(this.template)(d.extend({hasLink:this._hasLink(a),isReadonly:this.column.get("readonly"),licenseFlag:this._getFlag(),licenseName:this._getLicenseName(a)},f.templateHelpers));this.$el.html(b)}return this.trigger("render"),this},onRender:function(){var a=this.getLicense();if(a&&a.licenses&&a.licenses.length>1){var b=[];d.each(this.getLicense().licenses,function(a){b.push(a.spdxId||a.name)}),this.$el.find(".btn-license-link").tooltip({placement:"right auto",trigger:"hover",title:b.join(", "),container:".versions-bom"})}},_getLicenseName:function(a){if(a){var b=a.licenseDisplay;if(a.licenses&&a.licenses.length>0&&a.licenses[0].spdxId&&(b=a.licenses[0].spdxId),a.licenses.length>1){var c="DISJUNCTIVE"===a.licenseType?"app.modules.licenses.cellDisplay.OR":"app.modules.licenses.cellDisplay.AND";b=i.get(c,{licenseName:a.licenses[0].spdxId||a.licenses[0].licenseDisplay,otherCount:a.licenses.length-1})}return b}return""},_hasLink:function(a){return a.licenses&&a.licenses.length>0&&a.licenses[0].licenseId!==j},_getFlag:function(){if(d.isFunction(this.model.getCategoryLevel)){var a=this.model.getCategoryLevel("LICENSE"),b="empty",c="";return a&&d.contains(["HIGH","MEDIUM","LOW"],a)&&(b=a.toLowerCase(),c=a[0]),'<span class="risk-bubble label '+b+'">'+c+"</span>"}return""}})}),define("modules/projects-versions/controllers/license-cell",["require","exports","module","ironclad","modules/licenses/controllers/license-cell","modules/licenses/models/licenses"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/licenses/controllers/license-cell"),g=a("modules/licenses/models/licenses");c.exports=f.extend({getLicense:function(){return this.model.get("release").licenseDefinition},getFlag:function(){return""},licenseClicked:function(a){a.preventDefault(),a.stopPropagation(),e.vent.trigger("assets:actions:modal",{assetName:"licenses",view:"license-layout",version:this.model,collection:new g(this.model.get("release").licenseDefinition.licenses)},null)}})}),define("modules/projects-versions/controllers/security-risk-cell-kb",["require","exports","module","modules/i18n/main","modules/risk-profile/controllers/security-risk-cell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/risk-profile/controllers/security-risk-cell");c.exports=e.extend({popoverOptions:{title:d.get("app.modules.vulns.affectedComponents")},getLink:function(a){var b=this.model.get("release").id;return"#versions/id:"+b+"/view:vulnerabilities"}})}),define("modules/projects-versions/models/kb-columns",["require","exports","module","anglebrackets","modules/i18n/main","modules/link-helper/main","modules/common/controllers/hub-header-cell","../controllers/license-cell","../controllers/security-risk-cell-kb"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/link-helper/main"),g=a("modules/common/controllers/hub-header-cell"),h=a("../controllers/license-cell"),i=a("../controllers/security-risk-cell-kb");c.exports=[{label:e.get("app.modules.common.Version"),name:"release.version",cell:d.TableCell.extend({className:"project-version"}),template:"#projects-versions-version-cell",templateHelpers:{assetLink:f.assetLink,getPage:function(){return"overview"}},editable:!1,sortable:!0},{label:e.get("app.project.version.usages"),name:"bomCounts",cell:d.TableCell,template:"#projects-versions-usage-count-cell",defaultCellValue:0,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g},{label:e.get("app.modules.versions.bom.license"),name:"release.licenseDefinition",cell:h,editable:!1,sortable:!0,escapeValue:!1,defaultCellValue:e.get("app.modules.licenses.unknown")},{label:e.get("app.project.released.date"),name:"release.releasedOn",cell:d.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g},{name:"riskProfile.categories[VULNERABILITY]",label:e.get("app.modules.risk.profile.panel.reasons.securityRisk"),className:"text-center",cell:i,editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:g}]}),define("modules/projects-versions/views/versions-table-kb",["require","exports","module","anglebrackets","../models/kb-columns","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("../models/kb-columns"),f=a("modules/i18n/main");c.exports=d.Table.extend({options:{description:f.get("app.project.version.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:e}}})}),define("modules/projects-versions/views/layout",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","../models/versions","./add-version-btn","./metadata","./versions-table","./versions-table-kb","modules/common/views/persistent-server-filter","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/i18n/main"),h=a("../models/versions"),i=a("./add-version-btn"),j=a("./metadata"),k=a("./versions-table"),l=a("./versions-table-kb"),m=a("modules/common/views/persistent-server-filter"),n=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#projects-versions-layout",id:"projects-versions-layout",className:"project-versions container-fluid",regions:{versionsList:".js-project-version-list",addVersionBtn:"#region-projects-versions-add-version-btn",metadata:".js-project-metadata",watch:"#region-projects-versions-watch",versionsFilter:".js-versions-filter"},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.listenTo(e.MessageBus.vent,"deleted:project:version created:project:version",this.refreshVersions)},refreshVersions:function(){this.versions&&this.versions.fetch()},behaviors:{Sticky:{behaviorClass:n}},onRender:function(){this.metadata.show(new j({model:this.model}));var a=this.model.get("project"),b=this.versions=new h;b.projectId=a.id,a.get("kb")?this.versionsList.show(new l({collection:b,project:a})):this.versionsList.show(new k({collection:b})),a.get("internal")&&this.addVersionBtn.show(new i({model:this.model}));var c=new m({events:function(){return d.extend({},f.Filter.prototype.events,{"click .search":"search"})},className:"backgrid-filter form-search pull-right",collection:b,name:"q",placeholder:g.get("app.modules.versions.filter")});this.versionsFilter.show(c),b.fetch()}})}),define("modules/projects-versions/main",["require","exports","module","ironclad","./views/layout","modules/link-nav/registry","modules/projects/models/current-project"],function(a,b,c){function d(){return!i.attributes.kb}var e=a("ironclad"),f=a("./views/layout"),g=e.MessageBus,h=a("modules/link-nav/registry"),i=a("modules/projects/models/current-project");h.addMenuItem("projects:localnav","#projects-versions-menu-link",{},100,d),g.reqres.setHandler("projects:views:content:versions",function(){return f}),c.exports=f}),define("modules/common/mixins/hostname-parser",["require","exports","module","underscore"],function(a,b,c){var d=a("underscore");c.exports={templateHelpers:{parseHostname:function(a){if(void 0!==a){d.isArray(a)&&(a=d.first(a));var b=a.match(/:\/\/(\.)?(.[^\/:]+)/i);if(null!=b)return b[2]}return null}}}}),define("modules/projects/views/header",["require","exports","module","underscore","ironclad","modules/common/mixins/hostname-parser"],function(a,b,c){var d=(a("underscore"),a("ironclad")),e=d.MessageBus,f=a("modules/common/mixins/hostname-parser");c.exports=d.Layout.extend({template:"#projects-header",regions:{projectOwner:"#projectOwnerLink"},mixins:[f],initialize:function(){d.Layout.prototype.initialize.apply(this,arguments),this.listenTo(e.vent,"header:refresh",this.render)},onRender:function(){var a=this.model.get("project");if(a.get("projectOwnerId")){var b=e.reqres.request("links:user",a.get("projectOwnerId"));this.projectOwner.show(b)}}})}),define("modules/form/behaviors/collapse-fields",["require","exports","module","underscore","marionette"],function(a,b,c){var d=a("underscore"),e=a("marionette");c.exports=e.Behavior.extend({onShow:function(){var a="collapse"+d.uniqueId(),b=e.TemplateCache.get("#form-collapse-fields")({collapseId:a,expandTitle:this.options.expandTitle,collapseTitle:this.options.collapseTitle});this.$(this.options.fieldsSelector).wrapAll('<div class="collapse collapse-fields" id="'+a+'" />'),this.$("#"+a).after(b)}})}),define("modules/projects/models/create",["require","exports","module","underscore","./project"],function(a,b,c){var d=a("underscore"),e=a("./project");c.exports=e.extend({defaults:{name:"",phase:"PLANNING",distribution:"EXTERNAL",tier:"",projectOwnerId:"",projectLevelAdjustments:!0},validation:{name:{required:!0},version:{required:!0}},toJSON:function(){var a=d.clone(this.attributes),b={name:a.name,description:a.description,tier:a.tier,projectOwnerId:a.projectOwnerId,projectLevelAdjustments:a.projectLevelAdjustments};return d.has(a,"version")&&d.extend(b,{release:d.omit(a,["name","description","projectOwnerId","tier"])}),b}})}),define("modules/projects/views/create",["require","exports","module","underscore","modules/i18n/main","modules/form/views/modal","modules/form/behaviors/collapse-fields","ironclad","modules/router/router-history","../models/create"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/form/views/modal"),g=a("modules/form/behaviors/collapse-fields"),h=a("ironclad"),i=h.MessageBus,j=a("modules/router/router-history"),k=a("../models/create");c.exports=f.extend({formFields:{name:{type:"text",label:e.get("app.projects.name"),autofocus:!0},description:{type:"textarea",label:e.get("app.projects.description")},projectOwnerId:{type:"select-user",label:e.get("app.projects.owner"),placeholder:e.get("app.modules.common.header.owner.placeholder")},tier:{type:"select",label:e.get("app.projects.tier"),binding:{escape:!1,selectOptions:{collection:function(){return[{label:e.get("app.projects.tier.1"),value:1},{label:e.get("app.projects.tier.2"),value:2},{label:e.get("app.projects.tier.3"),value:3},{label:e.get("app.projects.tier.4"),value:4},{label:e.get("app.projects.tier.5"),value:5}]}}}},version:{type:"text",label:e.get("app.modules.versions.name")},releaseComments:{type:"text",label:e.get("app.modules.versions.notes")},nickname:{type:"text",label:e.get("app.modules.versions.nickname")},releasedOn:{type:"date",label:e.get("app.modules.versions.releaseDate")},phase:{type:"select",label:e.get("app.modules.work.phaseLabel"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.modules.common.phase.PLANNING"),value:"PLANNING"},{label:e.get("app.modules.common.phase.DEVELOPMENT"),value:"DEVELOPMENT"},{label:e.get("app.modules.common.phase.RELEASED"),value:"RELEASED"},{label:e.get("app.modules.common.phase.DEPRECATED"),value:"DEPRECATED"},{label:e.get("app.modules.common.phase.ARCHIVED"),value:"ARCHIVED"}]}}}},distribution:{type:"select",label:e.get("app.modules.versions.distribution"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.modules.common.distribution.EXTERNAL"),value:"EXTERNAL"},{label:e.get("app.modules.common.distribution.SAAS"),value:"SAAS"},{label:e.get("app.modules.common.distribution.INTERNAL"),value:"INTERNAL"},{label:e.get("app.modules.common.distribution.OPENSOURCE"),value:"OPENSOURCE"}]}}}},projectLevelAdjustments:{type:"checkbox",label:e.get("app.projects.projectLevelAdjustments"),description:e.get("app.projects.projectLevelAdjustments.yes.description"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.projects.projectLevelAdjustments.yes"),value:""}]}}}}},behaviors:d.extend({CollapseProjectFieldsBehavior:{behaviorClass:g,fieldsSelector:".field-description, .field-projectOwnerId, .field-tier",expandTitle:e.get("app.modules.projects.create.projectDetails"),collapseTitle:e.get("app.modules.projects.create.projectDetailsCollapse")},CollapseVersionFieldsBehavior:{behaviorClass:g,fieldsSelector:".field-releaseComments, .field-nickname, .field-releasedOn, .field-phase, .field-distribution",expandTitle:e.get("app.modules.projects.create.versionDetails"),collapseTitle:e.get("app.modules.projects.create.versionDetailsCollapse")}},f.prototype.behaviors),id:"projects-create-modal",headerView:e.get("app.projects.createModalTitle"),footerTemplate:"#form-buttons-create",initialize:function(){f.prototype.initialize.apply(this,arguments),this.model=new k,this.options.redirectOnCancel=!0,this.delegateEvents()},onRender:function(){f.prototype.onRender.apply(this,arguments),this.model.set("name",this.options.name||""),this.$('input[name="name"]').val(this.options.name)},renderError:function(){},onCancel:function(){j.moveToPreviousHash(!1,!0)},redirect:function(){return this.options.type?(i.vent.trigger("new:project:created:"+this.options.type,this.model),null):"#projects/id:"+this.model.id}})}),define("modules/projects/main",["require","exports","module","underscore","ironclad","modules/asset/module","modules/link-nav/registry","modules/i18n/main","./views/header","./views/create","./models/current-project","modules/groups/models/group","modules/users/models/user"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/asset/module"),g=a("modules/link-nav/registry"),h=a("modules/i18n/main"),i=a("./views/header"),j=a("./views/create"),k=a("./models/current-project"),l=a("modules/groups/models/group"),m=a("modules/users/models/user");e.commands.setHandler("assets:projects:data",function(a,b){k.clear(),k.set({id:a.id}),k.fetch().success(function(c){if(k.get("name")){var f=d.extend({project:k},a);b.set(f),b.trigger("loaded");var g=b.get("project"),h={icon:g.get("kb")?"fa fa-cube":"fa fa-cubes"};g.get("logos").smallLogoUrl&&"../compiled/images/generic-external-32px.png"!==g.get("logos").smallLogoUrl&&"../compiled/images/generic-internal-32px.png"!==g.get("logos").smallLogoUrl&&(h={href:g.get("logos").smallLogoUrl}),e.commands.execute("recent-item:add",g.get("id"),g.get("name"),"projects/id:"+g.get("id"),h)}}).error(function(c){if(0!==c.status){404===c.status&&e.commands.execute("recent-item:remove",a.id);var f=c.responseJSON.errorMessage;"{core.rest.type_mismatch}"===c.responseJSON.errorCode&&(f=h.get("app.modules.errors.reasons.deleted"));var g=d.extend(a,{view:"error",error:c,errorMessage:f});b.set(g)}})}),e.reqres.setHandler("projects:views:header",function(){return i}),e.reqres.setHandler("projects:views:modals:create",function(){return j}),e.commands.setHandler("assets:projects:data:modal",function(a,b){if(a.usergroupId){var c=new l({id:a.usergroupId});c.fetch().success(function(){var e=d.extend({name:c.get("name")},a);b.set(e),a.name=e.name,b.trigger("loaded")})}else if(a.userId){var e=new m({id:a.userId});e.fetch().success(function(){var c=d.extend({name:e.get("name")},a);b.set(c),a.name=c.name,b.trigger("loaded")})}else b.trigger("loaded")}),g.addMenuItem("create-menu","#projects-create-link",{},10),c.exports=new f({name:"projects",defaultParams:{view:"versions"}})}),define("modules/storage/controllers/hub-storage",["require","exports","module","underscore","marionette","modules/session/models/user"],function(a,b,c){var d=(a("underscore"),a("marionette")),e=a("modules/session/models/user"),f=d.Object.extend({setObject:function(a,b){a+=e.id,localStorage.setItem(a,JSON.stringify(b))},setItem:function(a,b){a+=e.id,localStorage.setItem(a,b)},getItem:function(a){return a+=e.id,
    localStorage.getItem(a)},removeItem:function(a){a+=e.id,localStorage.removeItem(a)}});c.exports=new f}),define("modules/recent-item/models/item-collection",["require","exports","module","ironclad","underscore","modules/storage/controllers/hub-storage"],function(a,b,c){var d=a("ironclad"),e=a("underscore"),f=a("modules/storage/controllers/hub-storage"),g=d.Collection.extend({listSize:20,dataKey:"recentItems",initialize:function(){this.constructFromLocalStorage(this.dataKey);var a=this;d.MessageBus.commands.setHandler("recent-item:add",function(b,c,d,e){a.removeRecentItem({id:b}),a.addRecentItem(c,d,e,b)}),d.MessageBus.commands.setHandler("recent-item:remove",function(b){var c=e.isString(b)?{id:b}:b;a.removeRecentItem(c)})},removeRecentItem:function(a){var b=this.findWhere(a);b&&this.removeElementFromCollection(b)},addRecentItem:function(a,b,c,d){var e=new Date,g={name:a,id:d,url:"#"+b,glyph:c||"",accessedDate:e.getTime()};this.length?this.add(g,{at:0}):this.add(g),this.length>this.listSize&&this.pop(),f.setItem(this.dataKey,JSON.stringify(this))},removeElementFromCollection:function(a){this.remove(a),f.setItem(this.dataKey,JSON.stringify(this))},constructFromLocalStorage:function(a){var b=JSON.parse(f.getItem(a)),c=!0;e.each(b,function(a){a.accessedDate&&a.name&&a.url||(c=!1)}),b&&c?this.set(b):c||f.removeItem(a)}});c.exports=g}),define("modules/recent-item/views/recent-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({tagName:"li",template:"#recent-item-item",events:{"click a":"closeSideNav","click .js-remove":"removeRecentItem"},closeSideNav:function(a){return $(document).trigger("click.side.nav"),!0},removeRecentItem:function(a){a.preventDefault(),a.stopPropagation(),d.MessageBus.commands.execute("recent-item:remove",this.model.get("id"))}})}),define("modules/recent-item/views/sidenav",["require","exports","module","ironclad","modules/i18n/main","../models/item-collection","./recent-item"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("../models/item-collection"),g=a("./recent-item");c.exports=d.CompositeView.extend({template:"#recent-item-sidenav",id:"recent-items",tagName:"li",emptyView:d.MessageView.extend({message:e.get("app.modules.notifications.noNew"),className:"no-new text-center"}),hasLoading:!0,childView:g,childViewContainer:"ul",initialize:function(){this.collection=new f,d.CompositeView.prototype.initialize.apply(this,arguments)}})}),define("modules/recent-item/main",["require","exports","module","ironclad","modules/recent-item/views/sidenav"],function(a,b,c){var d=a("ironclad"),e=a("modules/recent-item/views/sidenav");d.WeightedStore.addItem("suiteSideNav",new e,100,"RecentsMenu")}),define("modules/reports/models/report",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({})}),define("modules/reports/models/reports-paged",["require","exports","module","modules/common/models/pageable-collection","./report"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./report");c.exports=d.extend({model:e,state:{sortKey:"finishedAt",order:1},url:"/api/v1/vulnerability-reports"})}),define("modules/reports/models/report-delete",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/reports"})}),define("modules/reports/controllers/delete-cell",["require","exports","module","ironclad","modules/i18n/main","modules/common/controllers/backgrid-cell-delete","../models/report-delete"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("modules/common/controllers/backgrid-cell-delete"),g=a("../models/report-delete");c.exports=f.extend({tooltip:e.get("app.modules.reports.deleteReport"),className:function(){if(this.showDelete())return"row-action delete-button"},deleteRow:function(a){a.preventDefault();var b=new g({id:this.model.id});this.model.get("reportDeleteUrl")&&d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"reports",view:"delete"},b)},render:function(){return this.showDelete()?f.prototype.render.apply(this,arguments):this},showDelete:function(){return void 0!==this.model.get("reportDeleteUrl")}})}),define("modules/reports/views/reports-table",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/delete-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/delete-cell");c.exports=d.Table.extend({options:{description:e.get("app.modules.reports.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{name:"fileName",displayValue:"fileNamePrefix",label:e.get("common.fileName"),cell:d.TableCell,template:"#reports-report-name-cell",editable:!1,sortable:!0,templateHelpers:{constructReportUrl:function(){return"VULNERABILITY_REMEDIATION"===this.reportType?"#reports/view:remediation/id:"+this.id:"VULNERABILITY_STATUS"===this.reportType?"#reports/view:status/id:"+this.id:"VULNERABILITY_UPDATE"===this.reportType?"#reports/view:update/id:"+this.id:"#"}}},{name:"reportType",displayValue:"reportType",label:e.get("app.views.unmatched.type"),cell:d.TableCell,template:"#reports-remediation-type-cell",templateHelpers:{getType:function(){return"VULNERABILITY_REMEDIATION"===this.reportType?e.get("app.modules.reports.remediation.chart.title"):"VULNERABILITY_STATUS"===this.reportType?e.get("app.modules.reports.status.chart.title"):"VULNERABILITY_UPDATE"===this.reportType?e.get("app.modules.reports.update.chart.title"):"#"}},editable:!1,sortable:!0},{name:"status",label:e.get("common.status"),cell:d.TableCell,template:"#versions-reports-report-status-cell",editable:!1,sortable:!1},{name:"fileSize",displayValue:"fileSize",label:e.get("app.modules.version.files.browse.fileSize"),cell:d.TableCell,template:"#common-file-size-cell",editable:!1,sortable:!0},{name:"createdBy",displayValue:"createdByUserName",label:e.get("common.createdBy"),cell:d.TableCell,editable:!1,sortable:!1},{name:"createdAt",label:e.get("common.createdDate"),cell:d.TableCell,template:"#common-format-datetime-cell",editable:!1,sortable:!0},{name:"finishedAt",label:e.get("app.modules.reports.finishedAt"),cell:d.TableCell,template:"#common-format-datetime-cell",editable:!1,sortable:!0},{label:"",cell:f,editable:!1,sortable:!1}]}}})}),define("modules/reports/models/generate",["require","exports","module","ironclad","modules/i18n/main","moment"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");a("moment");c.exports=d.Model.extend({defaults:{end:new Date,start:""},url:function(){return"/api/v1/"+this.get("reportSplat")},validation:{end:function(){if("vulnerability-status-reports"!==this.get("reportSplat")){if(this.get("start")&&this.get("end")&&this.get("start")>this.get("end"))return e.get("app.modules.reports.validation.endDate");if(!this.get("end"))return e.get("app.modules.reports.end.date.required")}},start:function(){if("vulnerability-status-reports"!==this.get("reportSplat")&&!this.get("start"))return e.get("app.modules.reports.start.date.required")}}})}),define("modules/reports/views/reports-list",["require","exports","module","underscore","ironclad","../models/reports-paged","./reports-table","../models/generate","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../models/reports-paged"),h=a("./reports-table"),i=a("../models/generate"),j=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#reports-list",className:"reports container-fluid",id:"reports-reports-list",regions:{reportsTable:".reports-table"},ui:{$createBtn:".js-create-report"},events:{"click @ui.$createBtn":"openCreateModal"},behaviors:{Sticky:{behaviorClass:j}},initialize:function(){d.bindAll(this,"refreshReports"),this.listenTo(f.vent,"reports:reload",this.refreshReports)},openCreateModal:function(){var a=new i({reportFormat:"JSON",reportSplat:"vulnerability-remediation-reports"});f.vent.trigger("assets:actions:modal",{assetName:"reports",view:"create"},a)},onRender:function(){var a=this.reports=new g;this.reportsTable.show(new h({collection:a})),a.fetch()},refreshReports:function(){this.reports&&this.reports.fetch({reset:!0}).then(d.bind(function(){var a=!1;this.reports.findWhere({complete:!1,failed:!1})&&(a=!0),a&&d.delay(function(){f.vent.trigger("reports:reload")},1e4)},this))}})}),define("modules/reports/views/header",["require","exports","module","ironclad","underscore","modules/i18n/main","modules/format-date/main"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore"),g=a("modules/i18n/main"),h=a("modules/format-date/main");c.exports=d.ItemView.extend({template:"#reports-header",ui:{$creationDate:".js-creation-date",$creationAuthor:".js-creation-author",$reportStartDate:".js-report-start-date",$reportEndDate:".js-report-end-date",$reportTitle:".js-report-title"},viewTitles:{remediation:g.get("app.modules.reports.remediation"),status:g.get("app.modules.reports.status"),update:g.get("app.modules.reports.update")},initialize:function(){this.listenTo(e.vent,"report:data:loaded",this.handleAdditionalReportData)},getTemplate:function(){return f.isUndefined(this._getReportTitleByView())?"#reports-header":"#reports-header-report"},templateHelpers:function(){var a=this;return f.extend({},a.templateHelpers,{getReportTitle:function(){return a._getReportTitleByView()}})},handleAdditionalReportData:function(a){var b=a.fileContent;if(!f.isUndefined(b)){this._addValueOrHideMeta(h.formatDateFull(b.generatedAt,"",!1),this.ui.$creationDate);var c=b.vulnerabilityReportInput;if(!f.isUndefined(c)){this._addValueOrHideMeta(c.createdByUserName,this.ui.$creationAuthor);var d=c.dateTimeRange;f.isUndefined(d)||f.isUndefined(d.lowerEndpoint)&&f.isUndefined(d.upperEndpoint)||(this._addValueOrHideMeta(h.formatDateFull(d.lowerEndpoint,"-",!1),this.ui.$reportStartDate),this._addValueOrHideMeta(h.formatDateFull(d.upperEndpoint,"-",!1),this.ui.$reportEndDate))}}this._removeIfUnpopulatedMeta(this.ui.$creationDate),this._removeIfUnpopulatedMeta(this.ui.$creationAuthor),this._removeIfUnpopulatedMeta(this.ui.$reportStartDate),this._removeIfUnpopulatedMeta(this.ui.$reportEndDate)},_addValueOrHideMeta:function(a,b){f.isUndefined(a)||f.isEmpty(a)||(b.find(".asset-meta-val").html(a),b.dataLoaded=!0,b.show())},_removeIfUnpopulatedMeta:function(a){a.dataLoaded||a.remove()},_getReportTitleByView:function(){var a=this.model.get("view");return this.viewTitles[a]}})}),define("modules/reports/views/create",["require","exports","module","underscore","moment","ironclad","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("underscore"),e=a("moment"),f=a("ironclad"),g=a("modules/i18n/main"),h=a("modules/form/views/modal");c.exports=h.extend({formFields:{reportType:{type:"select",label:g.get("app.modules.reports.reportType"),defaultValue:{label:g.get("app.modules.reports.remediation"),value:"vulnerability-remediation-reports"},binding:{selectOptions:{collection:function(){return[{label:g.get("app.modules.reports.remediation"),value:"vulnerability-remediation-reports"},{label:g.get("app.modules.reports.status"),value:"vulnerability-status-reports"},{label:g.get("app.modules.reports.update"),value:"vulnerability-update-reports"}]}}}},start:{type:"date",label:g.get("app.modules.reports.start.date"),options:{maxDate:new Date}},end:{type:"date",label:g.get("app.modules.reports.end.date"),options:{maxDate:new Date}},remediationStatus:{type:"selectize",label:g.get("app.modules.reports.remediationType"),binding:{selectOptions:{collection:function(){return[{label:g.get("app.modules.versions.vulnerabilities.remediation.status.NEW"),value:"NEW"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW"),value:"NEEDS_REVIEW"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED"),value:"REMEDIATION_REQUIRED"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE"),value:"REMEDIATION_COMPLETE"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.MITIGATED"),value:"MITIGATED"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.PATCHED"),value:"PATCHED"},{label:g.get("app.modules.versions.vulnerabilities.remediation.status.IGNORED"),value:"IGNORED"}]},maxItems:1e3}}}},id:"reports-create-modal",headerView:g.get("app.modules.reports.create.new"),footerTemplate:"#form-buttons-confirm",render:function(){h.prototype.render.apply(this,arguments),this.selectReport=this.$el.find('select[name="reportType"]'),this.remediationStatus=this.$el.find('select[name="remediationStatus"]'),this.selectReport.on("change",d.bind(function(){this.activateCustomFields()},this)),this.remediationStatus.on("change",d.bind(function(){this.updateModel()},this)),this.updateModel(),this.constructFieldMap(),this.activateCustomFields()},updateModel:function(){this.model.set("remediationStatus",this.remediationStatus.val())},constructFieldMap:function(){this.fieldMap={},this.fieldMap.reportType=this.selectReport,this.fieldMap.start=this.$el.find(".field-start"),this.fieldMap.end=this.$el.find(".field-end"),this.fieldMap.remediationStatus=this.$el.find(".field-remediationStatus")},activateCustomFields:function(){"vulnerability-remediation-reports"===this.selectReport.val()?(this.model.set("reportSplat","vulnerability-remediation-reports"),this.activateRemediationFields()):"vulnerability-status-reports"===this.selectReport.val()?(this.model.set("reportSplat","vulnerability-status-reports"),this.activateStatusFields()):(this.model.set("reportSplat","vulnerability-update-reports"),this.activateUpdateFields())},activateRemediationFields:function(){this.activateAll()},activateStatusFields:function(){this.activateAll(),this.fieldMap.start.addClass("disabled"),this.fieldMap.end.addClass("disabled"),this.fieldMap.remediationStatus.addClass("disabled")},activateUpdateFields:function(){this.activateAll(),this.fieldMap.remediationStatus.addClass("disabled")},activateAll:function(){for(var a in this.fieldMap)this.fieldMap[a]&&this.fieldMap[a].removeClass("disabled")},onSuccess:function(){f.MessageBus.vent.trigger("reports:reload")},submit:function(){if(this.model.get("end")){var a=e(new Date(this.model.get("end"))).endOf("day");this.model.set("end",a),this.fieldMap.end.find("input").val(a.format("MM/DD/YYYY"))}return this.model.save()}})}),define("modules/reports/views/report-base",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.Layout.extend({emptyView:null,initialize:function(){this.listenTo(this,"report:data:empty",this.renderEmptyView)},renderEmptyView:function(){if(null!=this.emptyView){var a=new this.emptyView({model:this.model});this.$el.html(a.render().$el.html())}else this.$el.html(e.get("app.modules.common.noDataAvailable"))}})}),define("modules/c3charts/views/generic-chart",["require","exports","module","underscore","ironclad","c3","anglebrackets-charts"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("c3"),g=a("anglebrackets-charts");c.exports=g.C3Chart.extend({defaults:{bindto:"#c3-donut-chart"},template:"#c3charts-donut-chart",getColors:function(){return[]},getC3Data:function(){return[]},initialize:function(a){d.bindAll(this,"getColors","getC3Data"),this.chart={},this.chartColumns=this.getC3Data(),this.chartOptions&&(this.chartOptions.data.columns=this.chartColumns),e.ItemView.prototype.initialize.apply(this,arguments),this.listenTo(this.model||this.collection,"sync change",this.reloadData),this.on("destroy",this.cleanupEvents)},reloadData:function(){var a=this,b={};a.collection&&(b=new e.Collection(a.collection.where({active:!1})).pluck("name")),a.chart&&a.chart.load&&a.chart.load({unload:b,colors:a.getColors(),columns:a.getC3Data()}),this.trigger("chart:data:reload")},drawChart:function(){this.defaults.data.columns=this.chartColumns,"string"==typeof this.defaults.data.colors&&"function"==typeof this[this.defaults.data.colors]&&(this.defaults.data.colors=this[this.defaults.data.colors]()),this.chart=f.generate(this.defaults),$(window).on("resize",this.chart,this.resizeChart)}})}),define("modules/vulnerabilities/models/remediation-status-color",["require","exports","module"],function(a,b,c){c.exports={MITIGATED:"#337ab7",IGNORED:"#777",DUPLICATE:"#999",NEEDS_REVIEW:"#c77c11",REMEDIATION_REQUIRED:"#d9534f",REMEDIATION_COMPLETE:"#3c763d",NEW:"#f0ad4e",PATCHED:"#5bc0de"}}),define("modules/reports/views/donut-chart",["require","exports","module","underscore","modules/c3charts/views/generic-chart","modules/i18n/main","modules/vulnerabilities/models/remediation-status-color"],function(a,b,c){var d=a("underscore"),e=a("modules/c3charts/views/generic-chart"),f=a("modules/i18n/main"),g=a("modules/vulnerabilities/models/remediation-status-color");c.exports=e.extend({getColorCodes:function(){return g},defaults:{bindto:"#c3-donut-chart",size:{height:250},data:{type:"donut",colors:"getColorCodes",names:{REMEDIATION_REQUIRED:f.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED"),NEEDS_REVIEW:f.get("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW"),IGNORED:f.get("app.modules.versions.vulnerabilities.remediation.status.IGNORED"),MITIGATED:f.get("app.modules.versions.vulnerabilities.remediation.status.MITIGATED"),REMEDIATION_COMPLETE:f.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE"),NEW:f.get("app.modules.versions.vulnerabilities.remediation.status.NEW"),PATCHED:f.get("app.modules.versions.vulnerabilities.remediation.status.PATCHED")}},donut:{label:{format:function(a){return a}}},legend:{position:"right",item:{onclick:function(){}}}},template:"#c3charts-donut-chart",mappeData:{},getC3Data:function(){return this.getMappedData()},getMappedData:function(){if(this.mappeData!=={}){var a=this.model.get("fileContent");if(a&&a.remediationStatusCounts){var b=this.model.get("fileContent").remediationStatusCounts;this.mappeData=d.map(b,function(a,b){return[b,a]})}}return this.mappeData},hasDataToShow:function(){var a=!1,b=this.getMappedData();return d.each(b,function(b){b.length>1&&b[1]>0&&(a=!0)}),a}})}),define("modules/reports/models/remediation",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:function(){return"/api/v1/reports/"+this.get("id")+"/contents"},parse:function(a){return a.reportContent[0]}})}),define("modules/reports/models/vulnerabilities",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({})}),define("modules/reports/models/project-vulnerabilities",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({})}),define("modules/reports/controllers/base-score-cell",["require","exports","module","modules/risk-profile/controllers/risk-graph-cell"],function(a,b,c){var d=a("modules/risk-profile/controllers/risk-graph-cell");c.exports=d.extend({displayValue:!0,showPopover:!1,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("baseScore")},getMaxValue:function(){return 10}})}),define("modules/vulnerabilities/controllers/remediation-controller",["require","exports","module","underscore","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main");c.exports={remediationStatus:[{key:"NEW",label:e.get("app.modules.versions.vulnerabilities.remediation.status.NEW"),class:"remediation-status label-new"},{key:"NEEDS_REVIEW",label:e.get("app.modules.versions.vulnerabilities.remediation.status.NEEDS_REVIEW"),class:"remediation-status label-needs-review"},{key:"MITIGATED",label:e.get("app.modules.versions.vulnerabilities.remediation.status.MITIGATED"),class:"remediation-status label-mitigated"},{key:"REMEDIATION_REQUIRED",label:e.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_REQUIRED"),class:"remediation-status label-required"},{key:"REMEDIATION_COMPLETE",label:e.get("app.modules.versions.vulnerabilities.remediation.status.REMEDIATION_COMPLETE"),class:"remediation-status label-complete"},{key:"PATCHED",label:e.get("app.modules.versions.vulnerabilities.remediation.status.PATCHED"),class:"remediation-status label-patched"},{key:"IGNORED",label:e.get("app.modules.versions.vulnerabilities.remediation.status.IGNORED"),class:"remediation-status label-ignored"},{key:"DUPLICATE",label:e.get("app.modules.versions.vulnerabilities.remediation.status.DUPLICATE"),class:"remediation-status label-default"}],getStatusLabel:function(a){if(d.isUndefined(a))return this.remediationStatus[0].label;var b=d.findWhere(this.remediationStatus,{key:a});return b?b.label:a},getStatusLabelClass:function(a){if(d.isUndefined(a))return this.remediationStatus[0].class;var b=d.find(this.remediationStatus,function(b){return b.key===a});return b?b.class:"remediation-status label-default"}}}),define("modules/versions-vuln/controllers/remediation-status-cell",["require","exports","module","anglebrackets","underscore","modules/vulnerabilities/controllers/remediation-controller"],function(a,b,c){var d=a("anglebrackets"),e=a("underscore"),f=a("modules/vulnerabilities/controllers/remediation-controller");c.exports=d.TableCell.extend({template:"#versions-vuln-remediation-status-cell",templateHelpers:{getStatusLabel:e.bind(f.getStatusLabel,f),getStatusLabelClass:e.bind(f.getStatusLabelClass,f)}})}),define("modules/reports/views/project-vulnerabilities-details",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#reports-project-vulnerabilities-details",tagName:"tr",className:"child-row",onRender:function(){this.$el.attr("data-child-row",this.model.cid)}})}),define("modules/reports/views/project-vulnerabilities",["require","exports","module","anglebrackets","modules/i18n/main","modules/common/controllers/expander-cell","../controllers/base-score-cell","modules/versions-vuln/controllers/remediation-status-cell","./project-vulnerabilities-details"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/common/controllers/expander-cell"),g=a("../controllers/base-score-cell"),h=a("modules/versions-vuln/controllers/remediation-status-cell"),i=a("./project-vulnerabilities-details");c.exports=d.Table.extend({className:"vulnerability-container clearfix",options:{description:e.get("app.modules.reports.project-vulnerability.table.description"),paginationConfig:{enabled:!1},gridConfig:{className:"table table-hover backgrid inner-table",row:d.TableRow.extend({expandable:{expandedContent:i}}),columns:[{cell:f,name:"expander",label:"",editable:!1,sortable:!1},{name:"vulnerabilityId",label:e.get("app.modules.common.nouns.vulnerability"),cell:d.TableCell,editable:!1,sortable:!1,template:"#reports-bold-cell"},{name:"baseScore",label:e.get("app.modules.versions.vulnerabilities.baseScore"),cell:g,editable:!1,sortable:!1},{label:e.get("app.modules.reports.remediation.status"),name:"remediationStatus",cell:h,editable:!1,sortable:!1},{name:"updatedDate",displayValue:"updatedDate",label:e.get("app.modules.reports.remediation.status.updated"),cell:d.TableCell,editable:!1,sortable:!1,template:"#common-format-full-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.remediation.targetDate.label"),name:"remediationTargetAt",cell:d.TableCell,editable:!1,sortable:!1,template:"#reports-format-full-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.remediation.actualDate.label"),name:"remediationActualAt",cell:d.TableCell,editable:!1,sortable:!1,template:"#reports-format-full-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.remediation.comments.label"),name:"remediationComment",cell:d.TableCell,editable:!1,sortable:!1,template:"#reports-comments-cell"}]}}})}),define("modules/reports/views/report-item",["require","exports","module","underscore","ironclad","../models/project-vulnerabilities","../views/project-vulnerabilities"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("../models/project-vulnerabilities"),g=a("../views/project-vulnerabilities");c.exports=e.Layout.extend({initialize:function(){d.bindAll(this,"getVulnerabilityCount"),this.collection=this.getVulnerabilities(),this.templateHelpers=d.extend({},this.templateHelpers,{getVulnerabilityCount:this.getVulnerabilityCount})},className:function(){return this.hasVulnerabilities()?"clearfix report-item-group":"clearfix"},getTemplate:function(){return this.hasVulnerabilities()?"#reports-report-item":"#reports-report-item-empty"},onRender:function(){return this.hasVulnerabilities()&&this.$el.append(this.generateTable()),this},hasVulnerabilities:function(){return!d.isEmpty(this.getVulnerabilities())},generateTable:function(){var a=this.getVulnerabilities();if(a.length>0){var b=new f(a),c=new g({collection:b});return c.render(),b.trigger("loaded"),b.each(function(a){a.trigger("table:row:do:expand")}),c.$el}return""},getVulnerabilityCount:function(){return this.getVulnerabilities().length},getVulnerabilities:function(){return this.model.get("detailedRiskVulnerabilities")?this.model.get("detailedRiskVulnerabilities"):this.model.get("vulnerabilities")}})}),define("modules/reports/views/report-item-empty",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.MessageView.extend({message:e.get("app.modules.reports.noData")})}),define("modules/reports/views/version-vulnerabilities",["require","exports","module","ironclad","./report-item","./report-item-empty"],function(a,b,c){var d=a("ironclad"),e=a("./report-item"),f=a("./report-item-empty");c.exports=d.CompositeView.extend({template:"#reports-report-item",className:"project-vulnerability",childView:e,emptyView:f})}),define("modules/reports/views/report-page-empty",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#reports-page-empty"})}),define("modules/reports/views/report-remediation",["require","exports","module","ironclad","underscore","./report-base","./donut-chart","../models/remediation","../models/vulnerabilities","./version-vulnerabilities","./report-page-empty"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore"),g=a("./report-base"),h=a("./donut-chart"),i=a("../models/remediation"),j=a("../models/vulnerabilities"),k=a("./version-vulnerabilities"),l=a("./report-page-empty");c.exports=g.extend({template:"#reports-report-remediation",className:"report-remediation report-results",regions:{donutChart:".donut-chart",versionVulnerabilities:".version-vulnerabilities"},emptyView:l,initialize:function(a){g.prototype.initialize.apply(this,arguments),this.model=new i,this.model.set("id",a.model.get("id")),this.donutChartView=new h({model:this.model}),this.vulnCollection=new j},onRender:function(){this.model.fetch().success(f.bind(this._dataInitializationHandler,this))},_dataInitializationHandler:function(){if(e.vent.trigger("report:data:loaded",this.model.attributes),this.isEmptyReport())this.trigger("report:data:empty");else{this.donutChartView=new h({model:this.model}),this.vulnCollection=new j(this.model.get("fileContent").versionDetailedRiskVulnerabilities);var a=new k({collection:this.vulnCollection});this.vulnCollection.trigger("loaded"),this.donutChartView.hasDataToShow()&&this.donutChart.show(this.donutChartView),this.vulnCollection.length>0&&this.versionVulnerabilities.show(a)}},isEmptyReport:function(){return!this.donutChartView.hasDataToShow()&&0===this.vulnCollection.length}})}),define("modules/reports/views/bar-chart-project-status",["require","exports","module","modules/i18n/main","modules/c3charts/views/generic-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/c3charts/views/generic-chart");c.exports=e.extend({template:"#reports-bar-chart-project-status",getC3Data:function(){var a=this.model.get("fileContent");return a?[[d.get("app.modules.reports.chart.bar.SP"),a.numberOfSecureProjects],[d.get("app.modules.reports.chart.bar.VP"),a.numberOfVulnerableProjects]]:[]},defaults:{bindto:"#bar-chart-project-status",size:{height:250},data:{type:"bar"},bar:{title:d.get("app.modules.reports.status.chart.title"),label:{format:function(a){return a}}},legend:{position:"bottom",item:{onclick:function(){}}},axis:{x:{tick:{format:function(){return""}}}}},hasDataToShow:function(){var a=this.model.get("fileContent");return a&&(a.numberOfSecureProjects>0||a.numberOfVulnerableProjects>0)}})}),define("modules/reports/views/bar-chart-version-status",["require","exports","module","modules/i18n/main","modules/c3charts/views/generic-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/c3charts/views/generic-chart");c.exports=e.extend({template:"#reports-bar-chart-version-status",getC3Data:function(){var a=this.model.get("fileContent");return a?[[d.get("app.modules.reports.chart.bar.SV"),a.numberOfSecureVersions],[d.get("app.modules.reports.chart.bar.VV"),a.numberOfVulnerableVersions]]:[]},defaults:{bindto:"#bar-chart-version-status",size:{height:250},data:{type:"bar"},bar:{title:d.get("app.modules.reports.status.chart.title"),label:{format:function(a){return a}}},legend:{position:"bottom",item:{onclick:function(){}}},axis:{x:{tick:{format:function(){return""}}}}},hasDataToShow:function(){var a=this.model.get("fileContent");return a&&(a.numberOfSecureVersions>0||a.numberOfVulnerableVersions>0)}})}),define("modules/reports/views/report-status",["require","exports","module","ironclad","underscore","./report-base","./bar-chart-project-status","./bar-chart-version-status","../models/remediation","../models/vulnerabilities","./version-vulnerabilities","./report-page-empty"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore"),g=a("./report-base"),h=a("./bar-chart-project-status"),i=a("./bar-chart-version-status"),j=a("../models/remediation"),k=a("../models/vulnerabilities"),l=a("./version-vulnerabilities"),m=a("./report-page-empty");c.exports=g.extend({template:"#reports-report-status",className:"report-status report-results",regions:{projectBarChart:".project-status-chart",versionBarChart:".version-status-chart",exposedVulnerabilities:".exposed-vulnerabilities"},emptyView:m,initialize:function(a){g.prototype.initialize.apply(this,arguments),this.model=new j,this.model.set("id",a.model.get("id")),this.projectBarChartView=new h({model:this.model}),this.versionBarChartView=new i({model:this.model}),this.exposedCollection=new k},onRender:function(){this.model.fetch().success(f.bind(this._dataInitializationHandler,this))},_dataInitializationHandler:function(){if(e.vent.trigger("report:data:loaded",this.model.attributes),this.isEmptyReport())this.trigger("report:data:empty");else{this.projectBarChartView=new h({model:this.model}),this.versionBarChartView=new i({model:this.model});var a=this.model.get("fileContent").versionDetailedRiskVulnerabilities;if(this.exposedCollection=new k(a),this.exposedCollection.trigger("loaded"),this.exposedCollection.length>0){var b=new l({collection:this.exposedCollection});this.exposedVulnerabilities.show(b)}this.projectBarChartView.hasDataToShow()&&this.projectBarChart.show(this.projectBarChartView),this.versionBarChartView.hasDataToShow()&&this.versionBarChart.show(this.versionBarChartView)}},isEmptyReport:function(){return!this.projectBarChartView.hasDataToShow()&&!this.versionBarChartView.hasDataToShow()&&0===this.exposedCollection.length}})}),define("modules/reports/views/pie-chart-update",["require","exports","module","modules/i18n/main","modules/c3charts/views/generic-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/c3charts/views/generic-chart");
    c.exports=e.extend({template:"#reports-pie-chart-update",getC3Data:function(){var a=this.model.get("fileContent");return[[d.get("app.modules.reports.chart.pie.NRV"),a.numberOfNewRemediatedVulnerabilities],[d.get("app.modules.reports.chart.pie.NV"),a.numberOfNewVulnerabilities],[d.get("app.modules.reports.chart.pie.URV"),a.numberOfUpdatedRemediatedVulnerabilities],[d.get("app.modules.reports.chart.pie.UV"),a.numberOfUpdatedVulnerabilities]]},defaults:{bindto:"#pie-chart-update",size:{height:250},data:{type:"pie"},pie:{title:d.get("app.modules.reports.update.chart.title"),label:{format:function(a){return a}}},legend:{position:"right",item:{onclick:function(){}}}},hasDataToShow:function(){var a=this.model.get("fileContent");return a&&(a.numberOfNewRemediatedVulnerabilities>0||a.numberOfNewVulnerabilities>0||a.numberOfUpdatedRemediatedVulnerabilities>0||a.numberOfUpdatedVulnerabilities>0)}})}),define("modules/reports/views/report-update-vulnerabilities",["require","exports","module","anglebrackets","modules/i18n/main","modules/versions-vuln/controllers/remediation-status-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/versions-vuln/controllers/remediation-status-cell");c.exports=d.Table.extend({className:"vulnerability-container clearfix",options:{description:e.get("app.modules.reports.updated-vulnerabilities.table.description"),paginationConfig:{enabled:!1},gridConfig:{className:"table table-hover backgrid inner-table",row:d.TableRow,columns:[{name:"vulnerabilityId",label:e.get("app.modules.common.nouns.vulnerability"),cell:d.TableCell.extend({className:"id-cell"}),editable:!1,sortable:!1},{name:"versionSummary",label:e.get("app.modules.common.Project"),template:"#reports-sumary-version-link",cell:d.TableCell.extend({className:"project-cell"}),editable:!1,sortable:!1},{name:"producerProjectName",label:e.get("app.modules.versions.bom.projectRelease"),template:"#reports-project-version-link",cell:d.TableCell.extend({className:"component-cell"}),editable:!1,sortable:!1},{name:"createdDate",displayValue:"createdDate",label:e.get("app.modules.versions.vulnerabilities.published"),cell:d.TableCell.extend({className:"published-cell"}),editable:!1,sortable:!1,template:"#common-format-full-date-cell"},{name:"updatedDate",displayValue:"updatedDate",label:e.get("app.modules.common.updated"),cell:d.TableCell.extend({className:"updated-cell"}),editable:!1,sortable:!1,template:"#common-format-full-date-cell"},{name:"riskCreatedAt",displayValue:"riskCreatedAt",label:e.get("app.modules.reports.riskCreated"),cell:d.TableCell.extend({className:"created-cell"}),editable:!1,sortable:!1,template:"#common-format-full-date-cell"},{name:"remediationStatus",displayValue:"remediationStatus",label:"Status",cell:f.extend({className:"status-cell"}),editable:!1,sortable:!1}]}}})}),define("modules/reports/views/update-item",["require","exports","module","underscore","ironclad","modules/i18n/main","../models/project-vulnerabilities","../views/report-update-vulnerabilities"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("../models/project-vulnerabilities"),h=a("../views/report-update-vulnerabilities");c.exports=e.Layout.extend({className:"clearfix report-item-group",template:"#reports-update-item",onRender:function(){var a=this.generateTable();return a?this.$el.append(this.generateTable()):this.$el.empty(),this},generateTable:function(){var a=this.getVulnerabilities(),b=new g(a),c=new h({collection:b});return c.render(),b.trigger("loaded"),c.$el},getVulnerabilities:function(){return this.model.get("vulnerabilities")},templateHelpers:{getRiskLevel:function(a){return d.isUndefined(a)?"NONE":a>6.9?"HIGH":a>3.9?"MEDIUM":"LOW"},getSeverity:function(a){return a>6.9?f.get("app.modules.search.filtervalue.base_scoreHIGH"):a>3.9?f.get("app.modules.search.filtervalue.base_scoreMED"):f.get("app.modules.search.filtervalue.base_scoreLOW")},getDetailedTitle:function(){var a=this.vulnerabilities?this.vulnerabilities.length:0;return f.get("app.modules.reports.vulnerability.detailed")+" ("+a+" "+f.get("app.modules.common.nouns.vulnerability.pl")+")"}}})}),define("modules/reports/views/update-vulnerabilities",["require","exports","module","ironclad","./update-item","./report-item-empty"],function(a,b,c){var d=a("ironclad"),e=a("./update-item"),f=a("./report-item-empty");c.exports=d.CompositeView.extend({template:"#reports-update-item",className:"project-vulnerability",childView:e,emptyView:f})}),define("modules/reports/controllers/impact-score-cell",["require","exports","module","./base-score-cell"],function(a,b,c){var d=a("./base-score-cell");c.exports=d.extend({getActualValue:function(){return this.model.get("impactSubscore")}})}),define("modules/reports/controllers/exploit-score-cell",["require","exports","module","./base-score-cell"],function(a,b,c){var d=a("./base-score-cell");c.exports=d.extend({getActualValue:function(){return this.model.get("exploitabilitySubscore")}})}),define("modules/reports/views/report-new-remediated",["require","exports","module","anglebrackets","modules/i18n/main","../controllers/base-score-cell","../controllers/impact-score-cell","../controllers/exploit-score-cell","modules/versions-vuln/controllers/remediation-status-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("../controllers/base-score-cell"),g=a("../controllers/impact-score-cell"),h=a("../controllers/exploit-score-cell"),i=a("modules/versions-vuln/controllers/remediation-status-cell");c.exports=d.Table.extend({className:"vulnerability-container clearfix",options:{description:e.get("app.modules.reports.new-remediated.table.description"),paginationConfig:{enabled:!1},gridConfig:{className:"table table-hover backgrid inner-table",row:d.TableRow,columns:[{name:"vulnerabilityId",label:e.get("app.modules.common.nouns.vulnerability"),cell:d.TableCell,editable:!1,sortable:!1},{name:"versionSummary",label:e.get("app.modules.common.Project"),template:"#reports-sumary-version-link",cell:d.TableCell,editable:!1,sortable:!1},{name:"producerProjectName",label:e.get("app.modules.versions.bom.projectRelease"),template:"#reports-project-version-link",cell:d.TableCell,editable:!1,sortable:!1},{name:"updatedDate",displayValue:"updatedDate",label:e.get("app.modules.versions.vulnerabilities.publishedAt"),cell:d.TableCell,editable:!1,sortable:!1,template:"#common-format-full-date-cell"},{name:"baseScore",label:e.get("app.modules.versions.vulnerabilities.baseScore"),cell:f,editable:!1,sortable:!1},{name:"impactSubscore",label:e.get("app.modules.vulns.scores.impact"),cell:g,editable:!1,sortable:!1},{name:"exploitabilitySubscore",label:e.get("app.modules.vulns.scores.exploitability"),cell:h,editable:!1,sortable:!1},{name:"remediationStatus",displayValue:"remediationStatus",label:e.get("app.modules.reports.remediation.status"),cell:i,editable:!1,sortable:!1}]}}})}),define("modules/reports/views/report-update",["require","exports","module","ironclad","underscore","./pie-chart-update","./report-base","../models/remediation","../models/vulnerabilities","./update-vulnerabilities","../models/project-vulnerabilities","../views/report-new-remediated"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore"),g=a("./pie-chart-update"),h=a("./report-base"),i=a("../models/remediation"),j=a("../models/vulnerabilities"),k=a("./update-vulnerabilities"),l=a("../models/project-vulnerabilities"),m=a("../views/report-new-remediated");c.exports=h.extend({template:"#reports-report-update",className:"report-update report-results",regions:{barChart:".update-chart",exposedVulnerabilities:".update-vulnerabilities",newRemediatedVulnerabilities:".new-remediated-vulnerabilities",updatedRemediatedVulnerabilities:".updated-remediated-vulnerabilities"},initialize:function(a){h.prototype.initialize.apply(this,arguments),this.model=new i,this.model.set("id",a.model.get("id"))},onRender:function(){var a=new m({collection:new l}),b=new m({collection:new l});this.newRemediatedVulnerabilities.show(a),this.updatedRemediatedVulnerabilities.show(b),this.model.fetch().success(f.bind(this._dataInitializationHandler,this))},_dataInitializationHandler:function(){e.vent.trigger("report:data:loaded",this.model.attributes);var a=new g({model:this.model}),b=this.model.get("fileContent").newVulnerabilities,c=f.map(b,function(a,b){return{projectVersionName:b,vulnerabilities:a}}),d=new j(c),h=new k({collection:d});d.trigger("loaded");var i=this.model.get("fileContent").newRemediatedVulnerabilities,n=new l(i),o=new m({collection:n});o.render(),n.trigger("loaded");var p=this.model.get("fileContent").updatedRemediatedVulnerabilities,q=new l(p),r=new m({collection:q});q.trigger("loaded"),this.exposedVulnerabilities.show(h),this.newRemediatedVulnerabilities.show(o),this.updatedRemediatedVulnerabilities.show(r),a.hasDataToShow()&&this.barChart.show(a)}})}),define("modules/reports/views/delete-confirm",["require","exports","module","underscore","ironclad","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-view");c.exports=f.extend({template:"#reports-delete-confirm",modelEvents:d.extend({},f.prototype.modelEvents,{error:"deleteErrorHandler"}),deleteErrorHandler:function(a,b){this.genericActiveStateHandler();var c=b.statusText;b.responseJSON&&(c=b.responseJSON.errorMessage),this.renderGeneralError(c)},redirect:function(){return!1},ok:function(a){var b=this;a.preventDefault(),this.trigger("state:waiting"),this.model.destroy({wait:!0}).success(function(){e.MessageBus.vent.trigger("reports:reload"),f.prototype.closeModal.apply(b,arguments)})}})}),define("modules/reports/views/menu-link",["require","exports","module","modules/suite-nav/views/side-nav-item"],function(a,b,c){var d=a("modules/suite-nav/views/side-nav-item");c.exports=d.extend({template:"#reports-menu-link"})}),define("modules/reports/main",["require","exports","module","underscore","ironclad","modules/asset/module","./views/reports-list","./views/header","./views/create","./views/report-remediation","./views/report-status","./views/report-update","./views/delete-confirm","./views/menu-link"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/asset/module"),h=a("./views/reports-list"),i=a("./views/header"),j=a("./views/create"),k=a("./views/report-remediation"),l=a("./views/report-status"),m=a("./views/report-update"),n=a("./views/delete-confirm"),o=a("./views/menu-link");e.WeightedStore.addItem("suiteSideNav",new o,8,"ReportsMenu"),f.commands.setHandler("assets:reports:data",function(a,b){var c=d.extend(a);b.set(c),b.trigger("loaded")}),f.reqres.setHandler("reports:views:header",function(){return i}),f.reqres.setHandler("reports:views:content:browse",function(){return h}),f.reqres.setHandler("reports:views:content:remediation",function(){return k}),f.reqres.setHandler("reports:views:content:status",function(){return l}),f.reqres.setHandler("reports:views:content:update",function(){return m}),f.reqres.setHandler("reports:views:modals:create",function(){return j}),f.reqres.setHandler("reports:views:modals:delete",function(){return n}),c.exports=new g({name:"reports",defaultParams:{view:"browse"}})}),define("modules/rest-api-doc/models/apis",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:"/api/v2/api-docs",parse:function(a){return a}})}),define("modules/rest-api-doc/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#rest-api-doc-header",id:"rest-api-doc-header"})}),define("modules/rest-api-doc/views/api",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("underscore");c.exports=d.ItemView.extend({template:"#rest-api-doc-api",events:{"click ul.paths li":"showAPI"},templateHelpers:function(){return f.extend({},d.templateHelpers,{paths:this.paths})},initialize:function(){var a=this,b=[];this.options.paths.forEach(function(c){var d=Object.keys(c[1])[0],e=c[1][d];f.isEmpty(e)||a.model.get("name")!==e.tags[0]||b.push(c)}),this.paths=b},showAPI:function(a){var b=this.$(a.currentTarget),c=b[0].dataset.path,d=f.find(this.paths,function(a){return a[0]===c});b.closest("#api-list").find("li").removeClass("selected"),b.addClass("selected"),e.vent.trigger("api:path:selected",d)}})}),define("modules/rest-api-doc/views/apis",["require","exports","module","ironclad","./api","underscore"],function(a,b,c){var d=a("ironclad"),e=a("./api"),f=a("underscore");c.exports=d.CompositeView.extend({template:"#rest-api-doc-apis",id:"api-list",ui:{$apiSelector:".apiSelector"},events:{"keyup @ui.$apiSelector":"updateList"},childView:e,childViewOptions:function(){return{paths:f.pairs(this.options.paths)}},updateList:function(){var a=this;this.collection.models.forEach(function(b){var c=b.get("name"),d=c.indexOf(a.ui.$apiSelector.val())<0;a.$('a[aria-controls="'+c+'"]').toggleClass("hide",d),a.$("ul#"+c).toggleClass("hide",d)})}})}),d.languages.json={property:/"(?:\\.|[^|"])*"(?=\s*:)/gi,string:/"(?!:)(?:\\.|[^|"])*"(?!:)/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee][+-]?\d+)?)\b/g,punctuation:/[{}[\]);,]/g,operator:/:/g,boolean:/\b(true|false)\b/gi,null:/\bnull\b/gi},d.languages.jsonp=d.languages.json,define("prism-json",function(a){return function(){var b;return b||a.Prism}}(this)),define("modules/rest-api-doc/views/api-path",["require","exports","module","backbone","ironclad","underscore","prism-json"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=(e.MessageBus,a("underscore")),g=a("prism-json");c.exports=e.ItemView.extend({template:"#rest-api-doc-api-path",ui:{$runApi:".run-api",$responseModelContents:".js-response-model-contents"},events:{"click @ui.$runApi":"runApi"},templateHelpers:function(){return f.extend({},e.templateHelpers,{build:this.build,buildType:this.buildType,parsePath:function(){var a={open:'<span class="entity">',close:"</span>"};return this.model.get("path").replace(/{/g,a.open).replace(/}/g,a.close)}.bind(this)})},onRender:function(){var a=this;this.getResponseModel(),this.model.get("parameters").forEach(function(b){if(b.schema&&b.schema.$ref){var c=a.parseRef(b.schema),d={},e=a.model.get("definitions")[c];e&&a.$("#"+b.name+"-def").popover({content:"<pre>"+JSON.stringify(a.build(e.properties,d),null,2)+"</pre>",placement:"right",trigger:"click focus",html:!0,title:b.name+" Model"})}}),this.setRoutePath(this.model.get("path"))},getFirstResponseSchema:function(){var a=this.model.get("responses"),b=a[Object.keys(a)[0]];return b.schema},getResponseModel:function(){var a=this.getFirstResponseSchema();if(a&&a.$ref){var b=this.parseRef(a),c=this.model.get("definitions")[b],d=this.build(c.properties,{});d=JSON.stringify(d,null,2),d=g.highlight(d,g.languages.json),this.ui.$responseModelContents.html(d)}},parseRef:function(a){var b="#/definitions/";return a.$ref.replace(b,"")},runApi:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"rest-api-doc",view:"test"},this.model)},build:function(a,b){var c=this,d=this.definitions||this.model.get("definitions");return Object.keys(a).forEach(function(e){var f,g=a[e];if("array"===g.type){f=[];var h={},i=d[c.parseRef(g.items)].properties;Object.keys(i).forEach(function(a){var b,e=i[a];if("array"===e.type){var f=[],g={};if(e.items.$ref){var j=c.parseRef(e.items);g.items=d[j],f.push(g)}else"string"===e.type?(g.items=e.type,f.push(g)):e&&(f=c.buildType(e));b=f}else b=e.$ref?c.buildType(d[c.parseRef(e)]):e.type;h[a]=b}),f.push(h)}else if(g.$ref){var j=c.parseRef(g);f=c.buildType(d[j])}else f=g.type;b[e]=f}),b},buildType:function(a){var b=this,c=this.definitions||this.model.get("definitions"),d={};if(a.properties)Object.keys(a.properties).forEach(function(c){var e=a.properties[c];"array"===e.type?d[c]=b.buildType(e):d[c]=e.enum||e.type});else if("array"===a.type){var e=[],f={};a.items.enum?(f=a.items.enum,d=f):d=a.items.$ref?b.buildType(c[this.parseRef(a.items)]):e}return d},setRoutePath:function(a){var b="#rest-api/path:";d.history.navigate(b+a)}})}),define("modules/rest-api-doc/views/api-paths",["require","exports","module","ironclad","./api-path"],function(a,b,c){var d=a("ironclad"),e=a("./api-path");c.exports=d.CompositeView.extend({template:"#rest-api-doc-api-paths",childView:e,initialize:function(){}})}),define("modules/rest-api-doc/views/test-api",["require","exports","module","underscore","modules/modals/views/layout-view"],function(a,b,c){var d=a("underscore"),e=a("modules/modals/views/layout-view");c.exports=e.extend({template:"#rest-api-doc-test-api",id:"test-api",regions:{responseRegion:".response-body"},ui:d.extend({},e.prototype.ui,{$run:"#run"}),events:{"click @ui.$run":"run"},initialize:function(){e.prototype.initialize.apply(this,arguments),this.options.large=!0},redirect:function(){return!1},handleData:function(a,b,c){$(".response-body").html(JSON.stringify(a,null,2)),$(".response-header").html(JSON.stringify(c.getAllResponseHeaders(),null,2)),$(".response-status").html(" ("+c.status+" "+c.statusText+")")},run:function(){var a=this,b=[];this.model.get("parameters").forEach(function(a){$('input[name="'+a.name+'"]').val()&&b.push(a.name+"="+$('input[name="'+a.name+'"]').val())});var c=this.model.get("operation"),d=this.model.get("path"),e=this.model.get("consumes")[0];return $.ajax({method:c,url:d+"?"+b.join("&"),dataType:"json",contentType:e,success:this.handleData}).done(function(){a.trigger("state:active")}),$('h4[aria-controls="responseBody"]').hasClass("collapsed")&&($('h4[aria-controls="responseBody"]').click(),$("h4.expander").removeClass("hide")),this.trigger("state:waiting"),!1}})}),define("modules/rest-api-doc/views/layout",["require","exports","module","app","underscore","backbone","ironclad","./header","../models/apis","./apis","./api-paths","./test-api"],function(a,b,c){var d=(a("app"),a("underscore"),a("backbone")),e=a("ironclad"),f=e.MessageBus,g=a("./header"),h=a("../models/apis"),i=a("./apis"),j=a("./api-paths"),k=a("./test-api");c.exports=e.Layout.extend({template:"#rest-api-doc-layout",id:"rest-api-doc-layout",className:"container-fluid",regions:{headerRegion:".js-header",apiListRegion:".region-api-list",apiPathRegion:".region-api-path-detail"},restApis:new h,initialize:function(){this.listenTo(f.vent,"api:path:selected",this.showAPIPath),f.reqres.setHandler("rest-api-doc:views:modals:test",function(){return k})},onRender:function(){var a=this;this.headerRegion.show(new g),this.restApis.fetch().done(function(){a.apiListRegion.show(new i({collection:new e.Collection(a.restApis.get("tags"),{comparator:"name"}),paths:a.restApis.get("paths")})),a.selectPathFromRoute()})},selectPathFromRoute:function(){var a="rest-api/path:",b=d.history.getFragment().replace(a,""),c=this.restApis.get("paths")[b];b&&c&&this.showAPIPath([b,c])},showAPIPath:function(a){var b=this,c=[];Object.keys(a[1]).forEach(function(d){var e=a[1][d];e.operation=d,e.path=a[0],e.definitions=b.restApis.get("definitions"),c.push(e)}),this.apiPathRegion.show(new j({collection:new e.Collection(c)}))}})}),define("modules/rest-api-doc/controllers/route-controller",["require","exports","module","app","../models/apis","../views/layout"],function(a,b,c){var d=a("app"),e=a("../models/apis"),f=a("../views/layout");c.exports={showApiDocs:function(){var a=new e;d.appLayout.content.show(new f({model:a})),a.fetch()}}}),define("modules/rest-api-doc/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller");a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"rest-api(/*path)":"showApiDocs"},pageTitles:{"*":"REST API Documentation"}})}),define("modules/rest-api-doc/main",["require","exports","module","./router"],function(a,b,c){var d=a("./router");c.exports=new d}),define("modules/search/views/type-facet",["require","exports","module","ironclad","backbone","modules/i18n/main","numeral"],function(a,b,c){var d=a("ironclad"),e=a("backbone"),f=d.MessageBus,g=a("modules/i18n/main"),h=a("numeral");c.exports=d.ItemView.extend({tagName:"li",template:"#search-type-facet",className:"search-tab",ui:{$countBadge:".js-count"},events:{click:"clicked"},modelEvents:{request:"modelRequested",sync:"resultsSync",error:"modelError"},onRender:function(){var a=f.reqres.request("search:type");this.model.type===a?this.$el.addClass("active"):this.$el.removeClass("active")},modelRequested:function(){this.ui.$countBadge.empty().spin("tiny")},resultsSync:function(){this.ui.$countBadge.spin(!1),f.vent.trigger("search:results:sync",this.model),this.render()},modelError:function(a,b){0!==b.status&&this.ui.$countBadge.addClass("error").tooltip({title:b.responseJSON.errorMessage}).text(g.get("app.views.jobs.status.FAILED"))},clicked:function(a){this.$el.hasClass("active")&&(a.stopPropagation(),a.preventDefault(),e.history.navigate("#search/all/q="+this.options.searchTerm,!0),this.$el.removeClass("active"),this.model.trigger("sync"))},templateHelpers:function(){var a=this;return{linkPath:a.model.getUrl(),label:a.model.label,icon:a.model.icon,getCount:function(){return h(a.model.get("searchResultStatistics").numResultsFound).format("0,0")}}}})}),define("modules/search/views/types-facet",["require","exports","module","ironclad","./type-facet"],function(a,b,c){var d=a("ironclad"),e=a("./type-facet");c.exports=d.CompositeView.extend({template:"#search-types-facet",childView:e,childViewContainer:".js-search-types-facets",childViewOptions:function(){return{searchTerm:this.options.searchTerm}}})}),define("modules/search/views/helpers",["require","exports","module","underscore","modules/i18n/i18n"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/i18n"),f={icons:function(a){return{ce:"terminal",codeloc_id:"map-marker",language_category:"code-fork",language:"code",file_extension:"file-code-o",ownership:"map-marker",primary_language:"code",internal_rating:"thumbs-o-up",commit_activity:"signal",tags:"tags"}[a]},getFacetIcon:function(a){var b=this.icons(a);return void 0!==b?'<span class="fa fa-'+b+'"></span>':""},translateFacet:function(a,b){var c="app.modules.search.filtervalue.",f="";if(f[b])return d.result(f,b);var g=b?c+a+b:"app.modules.search.any";return e.get(g)}};c.exports=f}),define("modules/search/views/active-facet",["require","exports","module","underscore","ironclad","./helpers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("./helpers");c.exports=e.ItemView.extend({template:"#search-active-facet",tagName:"li",className:"active-facet label label-info",id:function(){return"facet-"+this.model.get("name")},events:{mouseup:"removeFacet"},initialize:function(){this.templateHelpers=d.extend({},g,this.templateHelpers)},removeFacet:function(){this.model.collection.remove(this.model),f.commands.execute("activeFacets:change")}})}),define("modules/search/views/empty-active-facets",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#search-empty-active-facets",tagName:"li",className:"no-data no-style"})}),define("modules/search/views/active-facets",["require","exports","module","app","jquery","ironclad","./active-facet","./empty-active-facets"],function(a,b,c){var d=a("app"),e=a("jquery"),f=a("ironclad"),g=a("./active-facet"),h=a("./empty-active-facets");c.exports=f.CompositeView.extend({template:"#search-active-facets",childView:g,childViewContainer:".js-active-facets-container",emptyView:h,events:{"mouseup .js-clear-facets":"clearFacets","change .js-keep-facets":"setKeepFacets"},initialize:function(){this.collection=this.model.get("activeFacets"),this.listenTo(this.model,"change:pageScope",this.render)},setKeepFacets:function(a){var b=e(a.currentTarget).prop("checked");this.model.set("keepFacets",b)},clearFacets:function(){this.collection.reset(),d.commands.execute("activeFacets:change")},onCompositeCollectionRendered:function(){var a=this.collection.length>0?"show":"hide";this.$(".clear-facets")[a]()}})}),define("modules/search/mixins/multiple-select-facet",["require","exports","module","underscore","jquery","marionette","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("marionette");a("modules/i18n/main");c.exports={ui:{input:"select.facets",searchInput:".search-field input"},options:{selectize:{valueField:"value",maxItems:10},facetOptionTemplate:"#search-facet-option",facetItemTemplate:"#search-facet-item"},template:"#search-facet-autocomplete",onRender:function(){this.options.selectize=d.extend({},this.options.selectize,{plugins:["remove_button"],onItemAdd:d.bind(function(a){this.showSelectedFacet(a)},this),highlight:!1,onItemRemove:d.bind(function(a,b){this.messageActiveFacetList(b,"remove:activeFacet")},this),render:{option:d.bind(function(a){return a?f.TemplateCache.get(this.facetOptionTemplate())(this.getFacetData(a.$order-1)):""},this),item:d.bind(function(a){return a?f.TemplateCache.get(this.facetItemTemplate())(this.getFacetData(a.$order-1)):""},this)}}),this.ui.input.selectize(this.options.selectize),this.$(".selectize-control").append('<i class="fa fa-search"></i>'),this.ui.searchInput.val(this.ui.input.data().placeholder)},facetOptionTemplate:function(){return this.options.facetOptionTemplate},facetItemTemplate:function(){return this.options.facetItemTemplate},getFacetData:function(a){var b=this.model.get("facetValues")[a];if(b){var c=this.mixinTemplateHelpers({facetName:this.model.get("facetType").fieldName,facetDisplayText:b.value,facetDataValue:b.filterValue,facetCount:b.count,facetSelected:b.selected,facetOrder:a});return c}return""},showSelectedFacet:function(a){var b=e('[data-value="'+a+'"]').data(),c=f.TemplateCache.get(this.facetOptionTemplate())(this.getFacetData(b.optionIndex));this.messageActiveFacetList(c)},messageActiveFacetList:function(a,b){var c=e(a),f=c.hasClass("active"),g=["add:activeFacet","remove:activeFacet"][1*f];b&&(g=b);var h=d.extend({},this.model.get("facetType"),c.data());this.trigger(g,h)}}}),define("modules/search/mixins/single-select-facet",["require","exports","module"],function(a,b,c){c.exports={template:"#search-facet"}}),define("modules/search/mixins/empty-facet",["require","exports","module"],function(a,b,c){c.exports={template:"#search-empty-facet"}}),define("modules/search/views/facet",["require","exports","module","underscore","ironclad","cocktail","./helpers","../mixins/multiple-select-facet","../mixins/single-select-facet","../mixins/empty-facet"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("cocktail"),h=a("./helpers"),i=a("../mixins/multiple-select-facet"),j=a("../mixins/single-select-facet"),k=a("../mixins/empty-facet");c.exports=e.ItemView.extend({className:function(){return this.model.get("facetValues").length>0?"facet":"hidden"},ui:{activeFacets:".facets",option:".js-facet-option"},events:{"click @ui.option":"toggleActiveFacet"},options:{minSearchFacetLength:5},initialize:function(){var a={initialItemCount:f.reqres.request("search:configuration").maxDisplayedCategoryFacets};this.templateHelpers=d.extend({},h,a);var b=this.model.get("facetValues"),c=this.model.get("facetType").singleSelect;b.length>this.options.minSearchFacetLength&&!c?g.mixin(this,i):0===b.length?g.mixin(this,k):g.mixin(this,j),this.events=this.normalizeUIKeys(d.result(this,"events"))},messageActiveFacetList:function(a){var b=$(a),c=b.hasClass("active"),e=["add:activeFacet","remove:activeFacet"][1*c],f=d.extend({},this.model.get("facetType"),b.data());this.trigger(e,f)},toggleActiveFacet:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.currentTarget);return this.messageActiveFacetList(b),b.toggleClass("active"),!1}})}),define("modules/search/entities/active-facet",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({initialize:function(){this.id=this.cid=this.get("name")+"_"+decodeURIComponent(this.get("filterValue"))}})}),define("modules/search/views/all-facets",["require","exports","module","backbone","ironclad","./facet","../entities/active-facet"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=e.MessageBus,g=a("./facet"),h=a("../entities/active-facet");c.exports=e.CollectionView.extend({id:"allFacetsView",childView:g,initialize:function(){this.activeFacets=this.model.get("activeFacets"),this.listenTo(this.model,"change:allFacets",this.updateCollection),this.listenTo(this,"childview:add:activeFacet",this.addActiveFacet),this.listenTo(this,"childview:remove:activeFacet",this.removeActiveFacet),this.collection=new d.Collection(this.model.get("allFacets"))},updateCollection:function(){this.collection.reset(this.model.get("allFacets"))},addActiveFacet:function(a,b){b.singleSelect&&this.activeFacets.remove(this.activeFacets.where({name:b.name})),b.hasOwnProperty("value")&&this.activeFacets.add(new h(b)),f.commands.execute("activeFacets:change")},removeActiveFacet:function(a,b){this.activeFacets.remove(new h(b)),f.commands.execute("activeFacets:change")}})}),define("modules/search/views/filters-layout",["require","exports","module","ironclad","./active-facets","./all-facets"],function(a,b,c){var d=a("ironclad"),e=a("./active-facets"),f=a("./all-facets");c.exports=d.Layout.extend({template:"#search-filters",options:{scrunch:!0},regions:{allFacets:".js-all-facets",activeFacets:".js-active-facets"},initialize:function(){this.options.allFacetsView||(this.options.allFacetsView=new f({model:this.model})),this.options.activeFacetsView||(this.options.activeFacetsView=new e({model:this.model}))},onRender:function(){this.allFacets.show(this.options.allFacetsView),this.activeFacets.show(this.options.activeFacetsView)}})}),define("modules/search/views/layout",["require","exports","module","underscore","ironclad","modules/search/views/types-facet","./filters-layout"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/search/views/types-facet"),g=e.MessageBus,h=a("./filters-layout");c.exports=e.Layout.extend({template:"#search-layout",className:"search",hasLoading:!0,hasErrorHandler:!0,regions:{results:".js-search-results",searchTypesFacet:".js-search-types",filters:".js-search-filters",searchTypes:"#searchTypes",pagination:".region-search-layout-pagination"},ui:{searchTermInput:"input.js-search-term",filters:".js-search-filters",results:".js-search-results",searchBtn:".js-search-submit"},events:{"keypress @ui.searchTermInput":"changeSearchTerm","click @ui.searchBtn":"triggerSearch"},modelEvents:{sync:"showResults",error:"showError"},onRender:function(){this.results.show(new this.resultsListView({model:this.model})),this.filters.show(new h({model:this.model}));var a=d.pluck(e.WeightedStore.getItems("searchTypesFacets"),"data");this.searchTypesFacet.show(new f({collection:new e.Collection(a),searchTerm:$("#term").val()})),this.$("#search-filters").affix({offset:{top:124}}),g.vent.trigger("search:term:change",$("#term").val())},showResults:function(){},changeSearchTerm:function(a){13===a.keyCode&&this.triggerSearch()},showError:function(){this.ui.searchTermInput.parent().addClass("has-error")},triggerSearch:function(){var a=encodeURIComponent($.trim(this.ui.searchTermInput.val()));this.model.set("term",a),this.ui.searchTermInput.parent().removeClass("has-error"),g.commands.execute("term:change")}})}),define("modules/search-all/views/result-list",["require","exports","module","underscore","jquery","ironclad","modules/i18n/main","modules/common/mixins/hostname-parser"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("ironclad"),g=f.MessageBus,h=a("modules/i18n/main"),i=a("modules/common/mixins/hostname-parser");c.exports=f.Layout.extend({template:"#search-all-result-list",tagName:"ul",className:"search-results",hasErrorHandler:!0,ui:{topLink:".js-goto-top"},events:{"click @ui.topLink":"gotoTop"},modelEvents:{"change:results":"render"},mixins:[i],initialize:function(){this.listenTo(this,"render",this.activateTooltips),
    this.listenTo(g.vent,"search:terms:counts:loaded",this.allResultsLoaded)},allResultsLoaded:function(a){var b=this;d.each(a,function(a){b.model.set(a.data.type,a.data.attributes)}),this.render(),this.noResultsFound()&&this.$el.find("#search-all-empty-block").removeClass("hidden"),e("#search-results").spin(!1)},noResultsFound:function(){return!!(this.model.get("projects")&&0===this.model.get("projects").searchResultStatistics.numResultsFound&&this.model.get("components")&&0===this.model.get("components").searchResultStatistics.numResultsFound&&this.model.get("vulnerabilities")&&0===this.model.get("vulnerabilities").searchResultStatistics.numResultsFound)},gotoTop:function(){e(document).scrollTop(0)},activateTooltips:function(){this.$el.find('[data-toggle="tooltip"]').tooltip()},templateHelpers:{getRiskLevel:function(a){return d.isUndefined(a)?"NONE":a>6.9?"HIGH":a>3.9?"MEDIUM":"LOW"},getSeverity:function(a){return a>6.9?h.get("app.modules.search.filtervalue.base_scoreHIGH"):a>3.9?h.get("app.modules.search.filtervalue.base_scoreMED"):h.get("app.modules.search.filtervalue.base_scoreLOW")},getSearchTerm:function(){return e("#term").val()},i18n:h.get}})}),define("modules/search-all/views/layout",["require","exports","module","modules/search/views/layout","./result-list"],function(a,b,c){var d=a("modules/search/views/layout"),e=a("./result-list");c.exports=d.extend({resultsListView:e,hasLoading:!0})}),define("modules/search/entities/active-facets",["require","exports","module","ironclad","./active-facet"],function(a,b,c){var d=a("ironclad"),e=a("./active-facet");c.exports=d.Collection.extend({model:e})}),define("modules/search/entities/state",["require","exports","module","underscore","./active-facets","ironclad"],function(a,b,c){var d=a("underscore"),e=a("./active-facets"),f=a("ironclad");c.exports=f.Model.extend({defaults:{activeFacets:new e,pageScope:{numResultsInThisPage:0,offset:0,totalCount:0,limit:0},recentTerms:[],keepFacets:!0},parse:function(a){if(a.facets){var b=["internal_rating","ownership"];a.facets=d.filter(a.facets,function(a){return!d.contains(b,a.facetType.fieldName)});var c=d.reduce(a.facets,function(a,b){var c=b.facetType.fieldName,e=b.facetType.translateValues,f=d.compact(d.map(b.facetValues,function(a){if(a.selected)return{name:c,value:a.value,filterValue:a.filterValue,translateValues:e}}));return a.concat(f)},[]);a.hits=d.map(a.hits,function(a){var b="";return a.fields.description&&a.fields.description[0]&&(a.fields.description[0].length>250&&(b=""),a.fields.description[0]=d.first(a.fields.description[0],250).join("")+b),a}),this.get("activeFacets")||this.set(this.defaults),this.get("activeFacets").reset(c)}return{results:a.hits,meta:a.searchResultStatistics,pageScope:{totalCount:a.searchResultStatistics.numResultsFound,limit:a.searchResultSpec.numResultsInPage,offset:a.searchResultSpec.rowStart,numResultsInThisPage:a.searchResultStatistics.numResultsInThisPage,pageEnd:a.searchResultStatistics.numResultsInThisPage+a.searchResultSpec.rowStart-(0===a.searchResultSpec.rowStart?0:1)},allFacets:a.facets,localError:a.localError||void 0,remoteError:a.remoteError||void 0}}})}),define("modules/search/controllers/data-controller",["require","exports","module","underscore","marionette","ironclad","../entities/state"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("ironclad"),g=f.MessageBus,h=a("../entities/state");c.exports=e.Object.extend({initialize:function(a){a=a||{},this.state=new h,g.reqres.setHandler("search:state",function(){return this.state},this),g.commands.setHandler("search:"+a.type+":route:change",this.handleRoute,this),g.commands.setHandler("activeFacets:change",this.filterChange,this),g.commands.setHandler("term:change",this.termChange,this),g.commands.setHandler("page:change",this.changePage,this)},decodeUriTerm:function(a){try{return decodeURIComponent(a)}catch(b){return a}},constructFacetFromParam:function(a){if(a){var b=a.split("=");return{name:this.decodeUriTerm(b[0]),value:this.decodeUriTerm(b[1]),filterValue:this.decodeUriTerm(b[1])}}},termChange:function(){var a=!this.state.get("keepFacets");this.filterChange(a),g.commands.execute("search:header:input:change",this)},destroy:function(){this.stopListening()},filterChange:function(a){var b=this.state.get("pageScope");b.rowStart=1,this.state.set("pageScope",b,{silent:!0}),a&&this.state.get("activeFacets").reset(),this.makeSearchRequest()},generateParameters:function(){var a=this.state.get("activeFacets").toJSON(),b=this.state.get("term");a.toJSON&&(a=a.toJSON()),b&&a.unshift({name:"q",filterValue:encodeURIComponent(b)}),a.push({name:"offset",filterValue:0}),a.push({name:"limit",filterValue:100});var c=d.map(a,function(a){return encodeURIComponent(a.name)+"="+a.filterValue}).join("&");return c},changePage:function(){this.makeSearchRequest()},makeSearchRequest:function(){var a=this.options.requestUrl,b="search/"+this.options.type,c=this.generateParameters();c&&(a+="?"+c,b+="/"+c),this.state.fetch({url:a})}})}),define("modules/search-all/controllers/route-controller",["require","exports","module","app","ironclad","../views/layout","modules/search/controllers/data-controller"],function(a,b,c){var d=a("app"),e=a("ironclad"),f=e.MessageBus,g=a("../views/layout"),h=a("modules/search/controllers/data-controller");c.exports={search:function(a){$("#term").val(a.substr(a.indexOf("=")+1)),new h,f.commands.execute("search:all:route:change",a),f.reqres.setHandler("search:type",function(){return"all"}),d.appLayout.content.show(new g({model:new e.Model({activeFacets:null})}))}}}),define("modules/search-all/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({appRoutes:{"search/all(/:queryString)":"search"},pageTitles:{"*":f.get("app.modules.search.searchResults")},controller:e})}),define("modules/search-all/main",["require","exports","module","./router"],function(a,b,c){var d=a("./router");new d}),define("modules/search/controllers/parse-url",["require","exports","module","underscore","backbone"],function(a,b,c){var d=a("underscore"),e=a("backbone");c.exports=function(){var a=e.history.getHash(),b=d.last(a.split("/")),c=d.object(d.compact(d.map(b.split("&"),function(a){if(a)return a.split("=")})));return c}}),define("modules/search-header-input/views/layout",["require","exports","module","backbone","ironclad","underscore","jquery","modules/search/controllers/parse-url"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=a("underscore"),g=a("jquery"),h=e.MessageBus,i=a("modules/search/controllers/parse-url");c.exports=e.Layout.extend({template:"#search-header-input-layout",id:"topNavSearch",events:{"keyup #term":"executeSearchOnEnter","click #executeSearch":"executeSearch"},ui:{$searchTerm:"#term",$form:"form"},modelEvents:{"change:searchTypes":"render"},previousSearchType:"",initialize:function(){var a=this;f.bindAll(this,"changeSearchType","executeSearchOnEnter","executeSearch"),this.model=new e.Model({selectedType:{},searchTypes:[]}),h.commands.setHandler("search:header:input:change",this.updateTerm,this),h.reqres.setHandler("search:term",function(){var b=a.ui.$searchTerm.val();return b!==a.getSearchParamFromUrl()?(g("#term").val(decodeURIComponent(a.getSearchParamFromUrl())),a.getSearchParamFromUrl()):(a.model.get("term")!==b&&a.model.set("term",b),a.model.get("term"))})},getSearchParamFromUrl:function(){var a=i();return a.q},onRender:function(){if(window.location.hash.match(/#search.*q=/)){var a,b=window.location.hash,c=b.indexOf("&");a=c!==-1?b.substr(b.indexOf("q=")+2,c-b.indexOf("q=")-2):b.substr(b.indexOf("q=")+2),this.ui.$searchTerm.val(decodeURIComponent(a)),h.vent.trigger("search:term:change",decodeURIComponent(a))}this.changeSearchType({id:"all",callback:function(a){var b="all";window.location.hash.match(/\#search\/(\S+)\//)&&(b=window.location.hash.match(/\#search\/(\S+)\//)[1]);var c;c="projects"===b?window.location.hash.match(/ownership=1/)?"search/projects/q="+encodeURIComponent(a.term)+"&ownership=1":"search/projects/q="+encodeURIComponent(a.term)+"&ownership=0":"search/"+b+"/q="+encodeURIComponent(a.term),d.history.navigate(c,!0)}}),this.delegateEvents()},updateTerm:function(a){this.ui.$searchTerm.val(decodeURIComponent(a.state.get("term")))},changeSearchType:function(a){a&&this.model.set({selectedType:a,term:this.ui.$searchTerm.val()}),this.ui.$searchTerm.focus()},executeSearchOnEnter:function(a){13===a.keyCode&&this.executeSearch()},executeSearch:function(a){a&&(a.preventDefault(),a.stopPropagation());var b=g.trim(this.ui.$searchTerm.val());return b.length>0?(this.ui.$form.removeClass("has-error"),this.model.set("term",b),this.model.get("selectedType").callback(this.model.toJSON()),this.ui.$searchTerm.attr("placeholder",this.ui.$searchTerm.attr("intialplaceholder"))):(this.ui.$form.addClass("has-error"),this.ui.$searchTerm.attr("intialplaceholder",this.ui.$searchTerm.attr("placeholder")),this.ui.$searchTerm.attr("placeholder",this.ui.$searchTerm.attr("errorplaceholder"))),this.ui.$searchTerm.focus(),!1}})}),define("modules/search-header-input/main",["require","exports","module","ironclad","./views/layout"],function(a,b,c){var d=a("ironclad"),e=a("./views/layout"),f=new e;d.WeightedStore.addItem("suiteTopNavLeft",f,1)}),define("modules/search-projects/views/result-list",["require","exports","module","jquery","ironclad","modules/common/mixins/hostname-parser"],function(a,b,c){var d=a("jquery"),e=a("ironclad"),f=a("modules/common/mixins/hostname-parser");c.exports=e.ItemView.extend({template:"#search-projects-result-list",tagName:"ul",className:"search-results",ui:{topLink:".js-goto-top"},events:{"click @ui.topLink":"gotoTop"},modelEvents:{"change:results":"render"},mixins:[f],initialize:function(){this.listenTo(this,"render",this.activateTooltips)},gotoTop:function(){d(document).scrollTop(0)},activateTooltips:function(){this.$el.find('[data-toggle="tooltip"]').tooltip()}})}),define("modules/search-projects/views/layout",["require","exports","module","modules/search/views/layout","./result-list"],function(a,b,c){var d=a("modules/search/views/layout"),e=a("./result-list");c.exports=d.extend({resultsListView:e})}),define("modules/search/controllers/facet-controller",["require","exports","module","marionette","underscore"],function(a,b,c){var d=a("marionette"),e=a("underscore");c.exports=d.Object.extend({initialize:function(a){var b=this.options.queryString,c=this.options.dataController;this.term="",this.rowStart="",this.numResultsInPage="",this.activeFacets=this.facets(b,c)},mappedFacets:function(a,b){var c=a.split("&"),d=e.map(c,function(a){return b.constructFacetFromParam(a)});return d},facets:function(a,b){var c=this,d=this.mappedFacets(a,b),f=e.filter(d,function(a){var b=c;return!!(a&&a.name&&a.value)&&("q"===a.name?(b.term=a.value,!1):"offset"===a.name?(b.rowStart=parseInt(a.value,10)+1,!1):"limit"!==a.name||(b.numResultsInPage=parseInt(a.value,10),!1))});return f}})}),define("modules/search-projects/controllers/data-controller",["require","exports","module","modules/search/controllers/data-controller","modules/search/controllers/facet-controller"],function(a,b,c){var d=a("modules/search/controllers/data-controller"),e=a("modules/search/controllers/facet-controller");c.exports=d.extend({handleRoute:function(a){var b=this.state.get("pageScope");if(a){var c=new e({queryString:a,dataController:this});this.state.set("term",c.term),this.state.set("pageScope",b,{silent:!0}),this.state.get("activeFacets").reset(c.activeFacets,{silent:!0})}else this.state.unset("term"),this.state.get("activeFacets").reset(void 0,{silent:!0}),this.state.set("pageScope",b,{silent:!0});this.makeSearchRequest()}})}),define("modules/search-projects/controllers/route-controller",["require","exports","module","app","ironclad","../views/layout","./data-controller"],function(a,b,c){var d=a("app"),e=a("ironclad"),f=e.MessageBus,g=a("../views/layout"),h=a("./data-controller");c.exports={search:function(a){var b=new h({type:"projects",requestUrl:"/api/v1/search/PROJECT"});f.commands.execute("search:projects:route:change",a);var c=a.indexOf("ownership=0")!==-1?"projects":"components";f.reqres.setHandler("search:type",function(){return c}),d.appLayout.content.show(new g({model:b.state})),b.state.trigger("loading")}}}),define("modules/search-projects/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({appRoutes:{"search/projects(/:queryString)":"search"},pageTitles:{"*":f.get("app.modules.search.searchResults")},controller:e})}),define("modules/search/models/results",["require","exports","module","ironclad","backbone"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("backbone");c.exports=d.Model.extend({defaults:{searchResultStatistics:{numResultsFound:0}},initialize:function(){var a=this;a.listenTo(e.vent,"search:term:change",function(){a.fetch()}),a.on("sync",function(){e.vent.trigger("search:terms:counts:loaded",d.WeightedStore.getItems("searchTypesFacets")),e.commands.execute("recent-item:add",a.getSearchTerm(),decodeURIComponent(a.getSearchTerm()),f.history.fragment,{icon:"fa fa-search"})})},getSearchTerm:function(){var a=decodeURIComponent(e.reqres.request("search:term"));return encodeURIComponent(a)}})}),define("modules/search-projects/models/results-project",["require","exports","module","modules/i18n/main","modules/search/models/results"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/search/models/results");c.exports=e.extend({url:function(){return"api/v1/search/PROJECT?q="+this.getSearchTerm()+"&ownership=0&limit=1"},getUrl:function(){return"#search/projects/q="+this.getSearchTerm()+"&ownership=0"},icon:"fa-cubes",label:d.get("app.modules.common.Project.pl"),type:"projects"})}),define("modules/search-projects/models/results-component",["require","exports","module","modules/i18n/main","modules/search/models/results"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/search/models/results");c.exports=e.extend({url:function(){return"api/v1/search/PROJECT?q="+this.getSearchTerm()+"&ownership=1&limit=1"},getUrl:function(){return"#search/projects/q="+this.getSearchTerm()+"&ownership=1"},icon:"fa-cube",label:d.get("app.modules.common.Component.pl"),type:"components"})}),define("modules/search-projects/main",["require","exports","module","ironclad","./router","./models/results-project","./models/results-component"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./models/results-project"),g=a("./models/results-component");d.WeightedStore.addItem("searchTypesFacets",new f,0),d.WeightedStore.addItem("searchTypesFacets",new g,1);new e}),define("modules/search-vulnerability/views/result-list",["require","exports","module","jquery","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=a("ironclad"),g=a("modules/i18n/main");c.exports=f.ItemView.extend({template:"#search-vulnerability-result-list",tagName:"ul",className:"search-results",ui:{topLink:".js-goto-top"},events:{"click @ui.topLink":"gotoTop"},modelEvents:{"change:results":"render"},initialize:function(){this.listenTo(this,"render",this.activateTooltips)},gotoTop:function(){d(document).scrollTop(0)},activateTooltips:function(){this.$el.find('[data-toggle="tooltip"]').tooltip()},templateHelpers:{getRiskLevel:function(a){return e.isUndefined(a)?"NONE":a>6.9?"HIGH":a>3.9?"MEDIUM":"LOW"},getSeverity:function(a){return a>6.9?g.get("app.modules.search.filtervalue.base_scoreHIGH"):a>3.9?g.get("app.modules.search.filtervalue.base_scoreMED"):g.get("app.modules.search.filtervalue.base_scoreLOW")}}})}),define("modules/search-vulnerability/views/layout",["require","exports","module","modules/search/views/layout","./result-list"],function(a,b,c){var d=a("modules/search/views/layout"),e=a("./result-list");c.exports=d.extend({resultsListView:e})}),define("modules/search-vulnerability/controllers/data-controller",["require","exports","module","modules/search/controllers/data-controller","modules/search/controllers/facet-controller"],function(a,b,c){var d=a("modules/search/controllers/data-controller"),e=a("modules/search/controllers/facet-controller");c.exports=d.extend({handleRoute:function(a){var b=this.state.get("pageScope");if(a){var c=new e({queryString:a,dataController:this});this.state.set("term",c.term),this.state.set("pageScope",b,{silent:!0}),this.state.get("activeFacets").reset(c.activeFacets,{silent:!0})}else this.state.unset("term"),this.state.get("activeFacets").reset(void 0,{silent:!0}),this.state.set("pageScope",b,{silent:!0});this.makeSearchRequest()}})}),define("modules/search-vulnerability/controllers/route-controller",["require","exports","module","app","ironclad","../views/layout","./data-controller"],function(a,b,c){var d=a("app"),e=a("ironclad"),f=e.MessageBus,g=a("../views/layout"),h=a("./data-controller");c.exports={search:function(a){var b=new h({type:"vulnerability",requestUrl:"/api/v1/search/VULNERABILITY"});f.commands.execute("search:vulnerability:route:change",a),f.reqres.setHandler("search:type",function(){return"vulnerabilities"}),d.appLayout.content.show(new g({model:b.state})),b.state.trigger("loading")}}}),define("modules/search-vulnerability/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({appRoutes:{"search/vulnerability(/:queryString)":"search"},pageTitles:{"*":f.get("app.modules.search.searchResults")},controller:e})}),define("modules/search-vulnerability/models/results-vuln",["require","exports","module","modules/i18n/main","modules/search/models/results"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/search/models/results");c.exports=e.extend({url:function(){return"api/v1/search/VULNERABILITY?q="+this.getSearchTerm()+"&limit=1"},getUrl:function(){return"#search/vulnerability/q="+this.getSearchTerm()},icon:"fa-shield",label:d.get("app.modules.common.nouns.vulnerability.pl"),type:"vulnerabilities"})}),define("modules/search-vulnerability/main",["require","exports","module","ironclad","./router","./models/results-vuln"],function(a,b,c){var d=a("ironclad"),e=a("./router"),f=a("./models/results-vuln");d.WeightedStore.addItem("searchTypesFacets",new f,3);new e}),define("modules/search/main",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f={maxDisplayedCategoryFacets:6};e.reqres.setHandler("search:configuration",function(){return f})}),define("modules/security-dashboard/models/remediation-status",["require","exports","module","underscore","ironclad","modules/vulnerabilities/models/remediation-status-color"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/vulnerabilities/models/remediation-status-color");c.exports=e.Collection.extend({url:function(){return"/api/v1/composite/vulnerability-remediation-counts?q="+this.queryFilter},colors:f,parse:function(a){var b=this.colors,c=[];return d.each(d.keys(a),function(d){var e=b[d]||"#eee";c.push({name:d,value:a[d],active:!0,color:e})}),d.chain(c).sortBy("name").sortBy("value").reverse().value()}})}),define("modules/security-dashboard/views/remediation-chart",["require","exports","module","ironclad","d3","underscore","modules/c3charts/views/generic-chart","modules/i18n/main"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("d3"),f=a("underscore"),g=a("modules/c3charts/views/generic-chart"),h=a("modules/i18n/main");c.exports=g.extend({defaults:{bindto:"#remediation-chart",size:{height:300},data:{type:"donut"},legend:{show:!1},donut:{label:{format:function(a){return e.format(",")(a)}}},tooltip:{format:{value:function(a){return e.format(",")(a)},name:function(a,b,c,d){return h.get("app.modules.versions.vulnerabilities.remediation.status."+a)}}}},template:"#security-dashboard-chart-remediation",ui:{$remediationChart:"#remediation-chart",$remediationMessage:".remediation-chart-message"},initialize:function(){g.prototype.initialize.apply(this,arguments),this.listenTo(this,"chart:data:reload",function(){d.vent.trigger("remediation:chart:filters:update")})},getC3Data:function(){var a=[],b=this.rawData=this.constructData();return f.each(b,function(b){a.push([b.id,b.value])}),a},getColors:function(){var a={};return f.each(this.collection.models,function(b){b.get("active")&&(a[b.get("name")]=b.get("color"))}),a},getModel:function(a){return this.collection.findWhere({name:a})},constructData:function(){var a=this,b=[],c=0;return this.collection.length>0&&(f.each(this.collection.models,function(a){a.get("active")&&(b.push({label:h.get("app.modules.versions.vulnerabilities.remediation.status."+a.get("name")),id:a.get("name"),value:a.get("value")||0,color:a.get("color")}),c+=a.get("value"))}),0===c?this.ui.$remediationChart.slideUp("slow").fadeOut("fast",function(){a.ui.$remediationMessage.removeClass("hide")}):(this.ui.$remediationMessage.addClass("hide"),this.ui.$remediationChart.fadeIn("fast").slideDown("slow"))),b}})}),define("modules/security-dashboard/views/remediation-chart-filter-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#security-dashboard-remediation-chart-filter-item",tagName:"a",className:function(){return this.model.get("active")?"list-group-item":"list-group-item disabled"},ui:{$checkbox:'input[type="checkbox"]'},triggers:{hover:"hover:legend",click:"toggle:filter"},onRender:function(){this.ui.$checkbox.attr("checked",this.model.get("active"))}})}),define("modules/security-dashboard/views/remediation-chart-filter",["require","exports","module","underscore","ironclad","./remediation-chart-filter-item"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./remediation-chart-filter-item");c.exports=e.CollectionView.extend({tagName:"div",collectionEvents:{change:"render"},className:"list-group remediation-chart-legend",childView:f,childEvents:{"toggle:filter":"onToggleFilter"},childViewContainer:"div",onToggleFilter:function(a){var b=a.model;b.set("active",!(b.get("active")&&this.collection.where({active:!0}).length>1))},getActiveFilterIds:function(){var a=this.collection.where({active:!0}),b=[];return d.each(a,function(a){b.push(a.get("name"))}),b}})});define("modules/security-dashboard/models/vulnerability",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({})});define("modules/security-dashboard/models/vulnerabilities",["require","exports","module","underscore","marionette","ironclad","modules/common/models/pageable-collection","./vulnerability"],function(a,b,c){var d=(a("underscore"),a("marionette")),e=a("ironclad"),f=a("modules/common/models/pageable-collection"),g=a("./vulnerability");c.exports=f.extend({model:g,persistence:{active:!0,filtersToPersist:["filterRemediation"]},metricsPopoverContent:d.TemplateCache.get("#versions-vuln-metrics-legend")(e.templateHelpers),url:function(){return"/api/v1/composite/projects/vulnerabilities"},parseRecords:function(a){return a.items},state:{sortKey:"baseScore",order:"1"}})}),define("modules/security-dashboard/views/table-expanded-row",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#security-dashboard-table-expanded-row",tagName:"tr",className:"child-row",ui:{$metricsLegendBtn:".js-metrics-legend"},events:{"click @ui.$metricsLegendBtn":"handlePopoverDisplay"},handlePopoverDisplay:function(a){var b=$(document);if(a.stopPropagation(),this.ui.$metricsLegendBtn.hasClass("active"))this.ui.$metricsLegendBtn.popover("hide"),b.off("click.hide:metrics:popover");else{this.ui.$metricsLegendBtn.popover("show");var c=this.ui.$metricsLegendBtn;b.on("click.hide:metrics:popover",function(){c.trigger("click")})}this.ui.$metricsLegendBtn.toggleClass("active")},onRender:function(){$(this.ui.$metricsLegendBtn).popover({content:this.model.collection.metricsPopoverContent,placement:"left",trigger:"none"})}})}),define("modules/security-dashboard/views/table",["require","exports","module","anglebrackets","modules/i18n/main","modules/risk-profile/controllers/risk-graph-cell","modules/common/controllers/hub-header-cell","./table-expanded-row","modules/common/controllers/expander-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/risk-profile/controllers/risk-graph-cell"),g=a("modules/common/controllers/hub-header-cell"),h=a("./table-expanded-row"),i=a("modules/common/controllers/expander-cell");c.exports=d.Table.extend({options:{description:e.get("app.modules.vulns.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover security-dashboard-vuln-table backgrid",row:d.TableRow.extend({expandable:{expandedContent:h}}),columns:[{cell:i,name:"expander",label:"",editable:!1,sortable:!1},{label:e.get("app.modules.versions.vulnerabilities.identifier"),name:"vulnerabilityId",headerCell:g,cell:d.TableCell,template:"#security-dashboard-identifier-cell",editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.published"),className:"cve-published",name:"publishedDate",headerCell:g,cell:d.TableCell,editable:!1,sortable:!0,template:"#common-format-full-date-cell",firstSortDirection:"descending"},{label:e.get("app.modules.versions.vulnerabilities.versionsAffected"),name:"affectedVersionCount",headerCell:g,cell:d.TableCell,editable:!1,sortable:!0,firstSortDirection:"descending"},{label:e.get("app.modules.versions.vulnerabilities.baseScore"),name:"baseScore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("baseScore")},getMaxValue:function(){return 10}}),firstSortDirection:"descending",headerCell:g,editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.exploitability"),name:"exploitabilitySubscore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("exploitabilitySubscore")},getMaxValue:function(){return 10}}),firstSortDirection:"descending",headerCell:g,editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.impact"),name:"impactSubscore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("impactSubscore")},getMaxValue:function(){return 10}}),firstSortDirection:"descending",headerCell:g,editable:!1,sortable:!0}]}}})}),define("modules/security-dashboard/views/layout",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","modules/common/views/waiting","../models/remediation-status","./remediation-chart","./remediation-chart-filter","../models/vulnerabilities","modules/common/views/persistent-server-filter","./table","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("anglebrackets"),h=a("modules/i18n/main"),i=a("modules/common/views/waiting"),j=a("../models/remediation-status"),k=a("./remediation-chart"),l=a("./remediation-chart-filter"),m=a("../models/vulnerabilities"),n=a("modules/common/views/persistent-server-filter"),o=a("./table"),p=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#security-dashboard-layout",className:"container-fluid",regions:{remediationChart:".js-remediation-chart",remediationChartFilter:".js-remediation-chart-filter",remediationFilter:".js-remediation-filter",remediationTable:".js-remediation-table"},events:{"submit .backgrid-filter.form-search":"updateRemediationStatus","click [data-backgrid-action]":"updateRemediationStatus"},behaviors:{Sticky:{behaviorClass:p}},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.listenTo(f.vent,"remediation:chart:filters:update",this.handleFilterUpdate)},handleFilterUpdate:function(){this.vulnCollection.queryParams.filterRemediation=this.chartFilters.getActiveFilterIds(),this.vulnCollection.fetch()},updateRemediationStatus:function(){this.chartCollection=new j,this.chartCollection.queryFilter=this.serverSideFilter.value,this.chartView=new k({collection:this.chartCollection}),this.chartFilters=new l({collection:this.chartCollection}),this.remediationChart.show(this.chartView),this.remediationChartFilter.show(this.chartFilters),this.chartCollection.fetch()},onRender:function(){var a=this.vulnCollection=new m;this.remediationTable.show(new i),this.serverSideFilter=new n({events:function(){return d.extend({},g.Filter.prototype.events,{"click .search":"search"})},className:"backgrid-filter form-search pull-right",collection:a,name:"q",placeholder:h.get("app.modules.vulns.filter")}),this.remediationFilter.show(this.serverSideFilter),this.remediationTable.show(new o({collection:a})),this.updateRemediationStatus()}})}),define("modules/security-dashboard/main",["require","exports","module","ironclad","modules/link-nav/registry","modules/security-dashboard/views/layout"],function(a,b,c){var d=a("ironclad").MessageBus,e=a("modules/link-nav/registry"),f=a("modules/security-dashboard/views/layout");e.addMenuItem("home:localnav","#security-dashboard-menu-link",{},3),d.reqres.setHandler("home:views:content:security",function(){return f})}),define("modules/suite-nav/views/top-nav-left",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ViewContainer.extend({template:"#suite-nav-top-nav-inner",tagName:"ul",className:"nav navbar-nav",options:{containerId:"suiteTopNavLeft"}})}),define("modules/suite-nav/views/top-nav-right",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ViewContainer.extend({template:"#suite-nav-top-nav-inner",tagName:"ul",className:"nav navbar-nav navbar-right",options:{containerId:"suiteTopNavRight"}})}),define("modules/suite-nav/views/top-nav",["require","exports","module","ironclad","./top-nav-left","./top-nav-right"],function(a,b,c){var d=a("ironclad"),e=a("./top-nav-left"),f=a("./top-nav-right");c.exports=d.Layout.extend({template:"#suite-nav-top-nav",tagName:"nav",className:"navbar navbar-default navbar-fixed-top",id:"suiteTopNav",regions:{navLeftRegion:".js-suite-top-nav-left",navRightRegion:".js-suite-top-nav-right"},initialize:function(){d.Layout.prototype.initialize.apply(this,arguments),this.listenTo(d.MessageBus.vent,"logo:updated",this.companyLogoChanged)},onRender:function(){this.navLeftRegion.show(new e),this.navRightRegion.show(new f)},companyLogoChanged:function(){var a=this.$(".brand img");a.attr("src",a.attr("src").split("?")[0]+"?"+Date.now())}})}),define("modules/suite-nav/mixins/toggle-nav",["require","exports","module","jquery","ironclad"],function(a,b,c){var d=a("jquery"),e=a("ironclad").MessageBus;c.exports={ui:{$expander:".js-toggle-nav-expand"},events:{"click @ui.$expander":"_toggleExpand"},toggleExpand:function(a){d("body").toggleClass("nav-expanded",a),this.ui.$expander.attr("aria-expanded",a)},_toggleExpand:function(a){a.stopPropagation();var b=d("body").hasClass("nav-expanded");this.toggleExpand(!b);var c=b?"collapsed":"expanded";e.vent.trigger("sidenav:state:"+c)}}}),define("modules/suite-nav/views/side-nav-items",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ViewContainer.extend({template:"#common-empty",tagName:"ul",className:"side-nav-items",options:{containerId:"suiteSideNav"}})}),define("modules/suite-nav/views/side-nav",["require","exports","module","jquery","ironclad","../mixins/toggle-nav","./side-nav-items"],function(a,b,c){
    var d=a("jquery"),e=a("ironclad"),f=a("../mixins/toggle-nav"),g=a("./side-nav-items");c.exports=e.Layout.extend({template:"#suite-nav-side-nav",tagName:"nav",id:"suiteSideNav",regions:{contentRegion:".tab-content"},mixins:[f],onRender:function(){this.cleanEvents();var a=this;d(document).on("click.side.nav",function(b){a.isTargetInSideNav(b)||a.toggleExpand(!1)}),this.contentRegion.show(new g)},onDestroy:function(){this.cleanEvents()},isTargetInSideNav:function(a){var b=d(a.target);return"suiteSideNavMenu"===b.attr("id")||b.parents("#suiteSideNavMenu").length>0},cleanEvents:function(){d(document).off("click.side.nav")}})}),define("modules/suite-nav/main",["require","exports","module","ironclad","./views/top-nav","./views/side-nav","./views/footer"],function(a,b,c){var d=a("ironclad"),e=a("./views/top-nav"),f=a("./views/side-nav"),g=a("./views/footer");d.WeightedStore.addItem("appLayout",new e,1,"SuiteTopNav"),d.WeightedStore.addItem("appLayout",new f,2),d.WeightedStore.addItem("appLayout",new g,3,"SuiteFooter")}),define("modules/tools/views/content",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad");a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#tools-content",className:"row",onRender:function(){var a=window.navigator.userAgent;if(a){var b;a.indexOf("Windows")!==-1?b=this.$(".os-windows"):a.indexOf("Macintosh")!==-1&&(b=this.$(".os-macos")),b&&b.prependTo(b.parent())}}})}),define("modules/tools/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#tools-header"})}),define("modules/tools/views/layout",["require","exports","module","ironclad","./content","./header"],function(a,b,c){var d=a("ironclad"),e=a("./content"),f=a("./header");c.exports=d.Layout.extend({template:"#tools-layout",id:"tools-layout",regions:{header:".region-tools-header",content:".region-tools-content"},onRender:function(){this.header.show(new f),this.content.show(new e)}})}),define("modules/tools/controllers/route-controller",["require","exports","module","app","../views/layout"],function(a,b,c){var d=a("app"),e=a("../views/layout");c.exports={show:function(){d.appLayout.content.show(new e)}}}),define("modules/tools/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main"),g=d.extend({controller:e,appRoutes:{tools:"show","tools/":"show"},pageTitles:{"*":f.get("app.modules.common.header.toolsLabel")}});c.exports=new g}),define("modules/tools/main",["require","exports","module","./router","modules/link-nav/registry"],function(a,b,c){var d=(a("./router"),a("modules/link-nav/registry"));d.addMenuItem("user-profile-menu","#tools-menu-link",{},85)}),define("modules/user-exts/views/empty-view",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-exts-empty-view"})}),define("modules/user-exts/views/list-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-exts-list-item",className:"list-group-item",tagName:"button",attributes:{type:"button"},triggers:{click:"show:details"},setActive:function(){this.$el.addClass("active")},setInactive:function(){this.$el.removeClass("active")}})}),define("modules/user-exts/views/list",["require","exports","module","ironclad","./list-item"],function(a,b,c){var d=a("ironclad"),e=a("./list-item");c.exports=d.CollectionView.extend({childView:e,childViewContainer:".user-extensions",onChildviewShowDetails:function(a){this.setActiveChildView(a),d.MessageBus.commands.execute("user:extensions:show-detail",a.model)},setActiveChildView:function(a){this.children.each(function(b){b!==a?b.setInactive():b.setActive()})}})}),define("modules/user-exts/views/unselected-view",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-exts-unselected-view"})}),define("modules/user-exts/views/user-config",["require","exports","module","modules/form/views/layout"],function(a,b,c){var d=a("modules/form/views/layout");c.exports=d.extend({hasSuccessHandler:!0,formFields:function(){return this.options.formFields.toJSON()},submit:function(){var a=this,b=this.model.save(null,{method:"PUT",dataType:"text"});b&&(this.ui.$submit.attr("disabled","disabled").spin("tiny"),b.always(function(){$(a.ui.$submit).removeAttr("disabled").spin(!1)}).success(function(){a.model.trigger("form:model:save:success")}).error(function(){a.model.trigger("form:model:save:error")}))}})}),define("modules/user-exts/views/layout",["require","exports","module","underscore","ironclad","./empty-view","modules/admin-exts/models/extensions","./list","modules/admin-exts/models/global-config-options","./unselected-view","./user-config","modules/errors/views/error","modules/common/views/waiting"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./empty-view"),g=a("modules/admin-exts/models/extensions"),h=a("./list"),i=a("modules/admin-exts/models/global-config-options"),j=a("./unselected-view"),k=a("./user-config"),l=a("modules/errors/views/error"),m=a("modules/common/views/waiting");c.exports=e.Layout.extend({template:"#user-exts-layout",className:"col-md-12",regions:{extsNav:".js-user-exts-nav",extsDetail:".js-user-exts-details"},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),d.bindAll(this,"showDetails"),e.MessageBus.commands.setHandler("user:extensions:show-detail",this.showDetails)},showDetails:function(a){var b=this,c=d.findWhere(a.get("_meta").links,{rel:"current-user-options"}),e=new i;e.url=c.href,b.extsDetail.show(new m),e.fetch().done(function(){b.extsDetail.show(new k({formFields:e.getFormFieldsFormatted(),model:e.getDataModel(),collection:e}))}).fail(function(a){var c=new l({response:a.responseJSON||JSON.parse(a.response),statusCode:a.status});b.extsDetail.show(c)})},onRender:function(){var a=this,b=new g;a.extsDetail.show(new j),b.fetch().done(function(){var c=b.filter(function(a){return d.findWhere(a.get("_meta").links,{rel:"current-user-options"})});c&&c.length>0?a.extsNav.show(new h({collection:new e.Collection(c)})):a.extsDetail.show(new f)})}})}),define("modules/user-exts/main",["require","exports","module","ironclad","./views/layout"],function(a,b,c){var d=a("ironclad"),e=a("./views/layout");d.MessageBus.reqres.setHandler("user:extensions:list-view",function(){return new e})}),define("modules/user-profile-menu/main",["require","exports","module","ironclad","modules/link-nav/views/link-nav-view","modules/session/models/user"],function(a,b,c){var d=a("ironclad"),e=a("modules/link-nav/views/link-nav-view"),f=a("modules/session/models/user"),g=new e({template:"#user-profile-menu-layout",menuCode:"user-profile-menu",menuSelector:".js-user-profile-menu",model:f,className:"dropdown",tagName:"li",templateHelpers:{getName:function(){return this.firstName||this.name},getFullName:function(){return this.firstName||this.lastName?this.firstName+" "+this.lastName:this.name}}});d.WeightedStore.addItem("suiteTopNavRight",g,100,"UserMenu")}),define("modules/user-profile/models/change-password",["require","exports","module","ironclad","modules/i18n/main","modules/session/models/user"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("modules/session/models/user");c.exports=d.Model.extend({url:"/api/v1/changepassword",defaults:{id:f.id,oldPassword:"",newPassword:"",newPasswordRepeat:""},validation:{oldPassword:{required:!0},newPassword:{required:!0},newPasswordRepeat:{equalTo:"newPassword",required:!0,msg:e.get("app.modules.admin.user.passwordRepeat.validation.nomatch")}}})}),define("modules/user-profile/views/edit-profile",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-profile-edit-profile"})}),define("modules/user-profile/views/disable-password",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-profile-disable-password",id:"disable-password"})}),define("modules/user-profile/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-profile-header"})}),define("modules/user-profile/views/form",["require","exports","module","modules/i18n/main","modules/form/views/layout"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/layout");c.exports=e.extend({formFields:{oldPassword:{type:"password",label:d.get("app.modules.admin.user.oldPassword")},newPassword:{type:"password",label:d.get("app.modules.admin.user.newPassword")},newPasswordRepeat:{type:"password",label:d.get("app.modules.admin.user.newPasswordRepeat")}},autocomplete:"off",headerView:d.get("app.views.changePassword.title"),hasSuccessHandler:!0,errorHandler:function(a,b){b.responseJSON.errorMessage=d.get("app.modules.admin.user.password.validation.error"),e.prototype.errorHandler.apply(this,arguments)},successMessage:d.get("app.modules.admin.user.password.validation.success")})}),define("modules/user-profile/views/roles-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#user-profile-roles-item",tagName:"li"})}),define("modules/common/views/no-data",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#common-no-data",className:"no-data"})}),define("modules/user-profile/views/roles-list",["require","exports","module","ironclad","./roles-item","modules/common/views/no-data"],function(a,b,c){var d=a("ironclad"),e=a("./roles-item"),f=a("modules/common/views/no-data");c.exports=d.CompositeView.extend({template:"#user-profile-roles-list",childViewContainer:".user-roles-list",childView:e,emptyView:f})}),define("modules/user-profile/views/user-groups-table",["require","exports","module","ironclad","anglebrackets","modules/i18n/i18n"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/i18n");c.exports=e.Table.extend({initialize:function(){return this.listenTo(this.collection,"destroy",function(){this.collection.fetch()}),e.Table.prototype.initialize.apply(this,arguments)},options:{description:f.get("app.modules.userGroups.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",columns:function(){return d.WeightedStore.getItemsData("user-profile-assigned-groups")}}}})}),define("modules/user-profile/views/usergroups",["require","exports","module","ironclad","modules/admin-users/models/user-groups","./user-groups-table"],function(a,b,c){var d=a("ironclad"),e=a("modules/admin-users/models/user-groups"),f=a("./user-groups-table");c.exports=d.Layout.extend({template:"#user-profile-user-groups",regions:{groupsRegion:".region-groups"},initialize:function(a){return this.model=a?a.model:null,d.Layout.prototype.initialize.apply(this,arguments)},onRender:function(){var a=new e(null,{userId:this.model.get("id")});this.groupsRegion.show(new f({collection:a})),a.fetch()}})}),define("modules/user-profile/views/layout",["require","exports","module","ironclad","../models/change-password","./edit-profile","./disable-password","./header","./form","./roles-list","modules/session/models/user-roles","./usergroups"],function(a,b,c){var d=a("ironclad"),e=a("../models/change-password"),f=a("./edit-profile"),g=a("./disable-password"),h=a("./header"),i=a("./form"),j=a("./roles-list"),k=a("modules/session/models/user-roles"),l=a("./usergroups");c.exports=d.Layout.extend({template:"#user-profile-layout",id:"user-profile",regions:{headerProfile:".js-header-profile",editProfile:".js-user-profile",changePassword:".js-change-password",disablePassword:".js-disable-password",userRoles:".js-user-roles",userGroups:".js-user-groups",userExtensions:".user-extensions"},onRender:function(){var a=this.model.get("externalName");this.editProfile.show(new f({model:this.model})),a?this.disablePassword.show(new g):this.changePassword.show(new i({model:new e})),this.headerProfile.show(new h({model:this.model})),this.userRoles.show(new j({collection:k.getUniqueRoles()})),this.userGroups.show(new l({model:this.model}));var b=d.MessageBus.reqres.request("user:extensions:list-view");b&&this.userExtensions.show(b)}})}),define("modules/user-profile/controllers/route-controller",["require","exports","module","app","../views/layout","modules/session/models/user"],function(a,b,c){var d=a("app"),e=a("../views/layout"),f=a("modules/session/models/user");c.exports={show:function(){d.appLayout.content.show(new e({model:f}))}}}),define("modules/user-profile/router",["require","exports","module","modules/router/main","./controllers/route-controller","modules/i18n/main"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller"),f=a("modules/i18n/main");c.exports=d.extend({controller:e,appRoutes:{"user/profile(/)":"show"},pageTitles:{"*":f.get("app.modules.common.header.profileLabel")}})}),define("modules/user-profile/main",["require","exports","module","modules/i18n/main","ironclad","anglebrackets","modules/link-nav/registry","./router","modules/admin-users/controllers/user-group-assignment-delete","modules/admin-users/controllers/user-group-roles"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/link-nav/registry"),h=a("./router"),i=a("modules/admin-users/controllers/user-group-assignment-delete"),j=a("modules/admin-users/controllers/user-group-roles");new h;g.addMenuItem("user-profile-menu","#user-profile-menu-link",{},55),e.WeightedStore.addItem("user-profile-assigned-groups",{label:d.get("app.modules.userGroups.tableGroupName"),name:"name",cell:f.TableCell,editable:!1,sortable:!0},3),e.WeightedStore.addItem("user-profile-assigned-groups",{label:d.get("app.modules.userGroups.source"),cell:f.TableCell,editable:!1,sortable:!1,defaultCellValue:function(){return this.model.get("createdFrom")?d.get("app.modules.userGroups.source."+this.model.get("createdFrom")):""}},4),e.WeightedStore.addItem("user-profile-assigned-groups",{label:d.get("common.status"),name:"active",cell:f.TableCell,template:"#admin-groups-state-cell",editable:!1,sortable:!0},5),e.WeightedStore.addItem("user-profile-assigned-groups",{label:d.get("common.roles"),name:"roles",cell:j,editable:!1,sortable:!1},5),e.WeightedStore.addItem("user-profile-assigned-groups",{name:"id",label:"",editable:!1,sortable:!1,cell:i},7)}),define("modules/users/views/reset-password",["require","exports","module","ironclad","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("modules/form/views/modal");c.exports=f.extend({id:"users-reset-password-modal",autocomplete:"off",headerView:e.get("app.views.resetPassword.title"),footerTemplate:"#form-buttons-save",formFields:{password:{type:"password",label:e.get("app.modules.admin.user.password")},passwordRepeat:{type:"password",label:e.get("app.modules.admin.user.passwordConfirm")}},onSuccess:function(){d.MessageBus.vent.trigger("user:updated:password",arguments)}})}),define("modules/users/main",["require","exports","module","underscore","ironclad","modules/asset/module","modules/users/models/user","./views/reset-password"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/asset/module"),g=a("modules/users/models/user"),h=a("./views/reset-password");e.reqres.setHandler("users:views:modals:resetpassword",function(){return h}),e.commands.setHandler("assets:users:data",function(a,b){var c=new g({id:a.id});c.fetch().success(function(){var e=d.extend({user:c},a);b.set(e),b.trigger("loaded")})}),c.exports=new f({name:"users",defaultParams:{view:"overview"}})}),define("modules/versions-basics/views/modal",["require","exports","module","modules/i18n/main","modules/form/views/modal"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/form/views/modal");c.exports=e.extend({headerView:d.get("app.modules.versions.createNew"),footerTemplate:"#form-buttons-save",formFields:{version:{type:"text",label:d.get("app.modules.versions.name")},releaseComments:{type:"text",label:d.get("app.modules.versions.notes")},nickname:{type:"text",label:d.get("app.modules.versions.nickname")},releasedOn:{type:"date",label:d.get("app.modules.versions.releaseDate")},phase:{type:"select",label:d.get("app.modules.work.phaseLabel"),binding:{selectOptions:{collection:function(){return[{label:d.get("app.modules.common.phase.PLANNING"),value:"PLANNING"},{label:d.get("app.modules.common.phase.DEVELOPMENT"),value:"DEVELOPMENT"},{label:d.get("app.modules.common.phase.RELEASED"),value:"RELEASED"},{label:d.get("app.modules.common.phase.DEPRECATED"),value:"DEPRECATED"},{label:d.get("app.modules.common.phase.ARCHIVED"),value:"ARCHIVED"}]}}}},distribution:{type:"select",label:d.get("app.modules.versions.distribution"),binding:{selectOptions:{collection:function(){return[{label:d.get("app.modules.common.distribution.EXTERNAL"),value:"EXTERNAL"},{label:d.get("app.modules.common.distribution.SAAS"),value:"SAAS"},{label:d.get("app.modules.common.distribution.INTERNAL"),value:"INTERNAL"},{label:d.get("app.modules.common.distribution.OPENSOURCE"),value:"OPENSOURCE"}]}}}}},redirect:function(){return"#versions/id:"+this.model.id+"/view:bom"}})}),define("modules/versions-basics/views/form",["require","exports","module","underscore","modules/i18n/main","modules/form/views/layout","ironclad","modules/projects/models/current-project"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/form/views/layout"),g=a("ironclad"),h=g.MessageBus,i=a("modules/projects/models/current-project");c.exports=f.extend({initialize:function(a){f.prototype.initialize.apply(this,arguments),this.model=a.model.get("version"),this.delegateEvents()},modelEvents:{success:"refreshVersion"},footerTemplate:"#versions-basics-form-footer",ui:d.extend({},f.prototype.ui,{$delete:".js-delete-version-button"}),events:d.extend({},f.prototype.events,{"click @ui.$delete":"deleteVersion"}),refreshVersion:function(){h.vent.trigger("header:refresh")},hasSuccessHandler:!0,successMessage:e.get("app.modules.work.settings.releaseDetails.saved"),formFields:{version:{type:"text",label:e.get("app.modules.versions.name")},releaseComments:{type:"text",label:e.get("app.modules.versions.notes")},nickname:{type:"text",label:e.get("app.modules.versions.nickname")},releasedOn:{type:"date",label:e.get("app.modules.versions.releaseDate")},phase:{type:"select",label:e.get("app.modules.work.phaseLabel"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.modules.common.phase.PLANNING"),value:"PLANNING"},{label:e.get("app.modules.common.phase.DEVELOPMENT"),value:"DEVELOPMENT"},{label:e.get("app.modules.common.phase.RELEASED"),value:"RELEASED"},{label:e.get("app.modules.common.phase.DEPRECATED"),value:"DEPRECATED"},{label:e.get("app.modules.common.phase.ARCHIVED"),value:"ARCHIVED"}]}}}},distribution:{type:"select",label:e.get("app.modules.versions.distribution"),binding:{selectOptions:{collection:function(){return[{label:e.get("app.modules.common.distribution.EXTERNAL"),value:"EXTERNAL"},{label:e.get("app.modules.common.distribution.SAAS"),value:"SAAS"},{label:e.get("app.modules.common.distribution.INTERNAL"),value:"INTERNAL"},{label:e.get("app.modules.common.distribution.OPENSOURCE"),value:"OPENSOURCE"}]}}}}},deleteVersion:function(a){a.preventDefault(),a.stopPropagation(),i.get("releases").items.length>1&&h.vent.trigger("assets:actions:modal",{assetName:"versions",view:"delete",versionName:this.model.get("version"),id:this.model.get("id"),projectId:this.model.get("projectId")},null)}})}),define("modules/versions-basics/main",["require","exports","module","ironclad","./views/modal","./views/form"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./views/modal"),g=a("./views/form");e.reqres.setHandler("versions:settings:tab:release",function(){return g}),e.reqres.setHandler("versions:views:modals:addversion",function(){return f})}),define("modules/licenses/controllers/licenses-parsed",["require","exports","module","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main");c.exports=e.Model.extend({initialize:function(a){this.set(this.parse(a))},parse:function(a){var b="00000000-0010-0000-0000-000000000000";if(!a||!a.length||a[0].licenses.length&&a[0].licenses[0].licenseId===b)return{licenseDisplay:f.get("app.modules.licenses.unknown"),licenses:[]};for(var c={licenseDisplay:a[0].licenseDisplay,licenseType:a[0].licenseType,licenses:[]},e=JSON.stringify(a),g=/(\{\s*"licenseId"[^\}]*\})/g,h=g.exec(e);h;){var i=JSON.parse(h[0]);d.findWhere(c.licenses,{licenseId:i.licenseId})||c.licenses.push(i),h=g.exec(e)}return c}})}),define("modules/bom/models/bom",["require","exports","module","underscore","ironclad","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main");c.exports=e.Model.extend({urlRoot:"/api/v1/boms",defaults:{ignored:!1,usage:"COMPONENT",comments:"na",matchMethod:"Manual"},getCategoryLevel:function(a){var b,c=this.get("riskProfile").categories[a];return d.each(["HIGH","MEDIUM","LOW","OK","UNKNOWN"],function(a){!b&&c&&c[a]&&(b=a)}),b},toJSON:function(){var a=e.Model.prototype.toJSON.apply(this,arguments);return a.addedBy=d.map(a.createdBys,function(a){return a.username}).join(", "),a.addedById=d.map(a.createdBys,function(a){return a.id}).join(", "),a.methodName=d.map(a.creationMethods,function(a){return f.get("app.modules.version.files.browse.matchStatus."+a)}).join(", "),a},isValid:function(){return this.get("releaseId")&&this.get("bomEntryEntityKey")},getIgnoreAdjustment:function(){return this.get("ignored")},isManualMatchType:function(){var a=this.get("matchTypes");return!!d.isArray(a)&&(a&&d.contains(a,"MANUAL"))},getEntityKey:function(){return this.get("producerRelease")?{entityType:"RL",entityId:this.get("producerRelease").id}:{entityType:"PJ",entityId:this.get("producerProject").id}}})}),define("modules/bom/models/boms-paged",["require","exports","module","underscore","modules/common/models/pageable-collection","modules/licenses/controllers/licenses-parsed","./bom"],function(a,b,c){var d=a("underscore"),e=a("modules/common/models/pageable-collection"),f=a("modules/licenses/controllers/licenses-parsed"),g=a("./bom");c.exports=e.extend({model:g,url:function(){return"/api/v1/releases/"+this.releaseId+"/component-bom-entries"},persistence:{active:!0,filtersToPersist:["inUseOnly","filter"]},state:{sortKey:"projectName",order:"-1"},queryParams:{aggregationEntityType:"RL",inUseOnly:"true"},parse:function(a){var b=e.prototype.parse.apply(this,arguments);return b=d.map(b,function(a){return a.license=new f(a.licenses).attributes,a})}})}),define("modules/versions/models/risk-profile",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Model.extend({getCategoryPercentages:function(a){var b=this.get("categories")[a],c=d.max(d.values(b));return d.object(d.map(b,function(a,b){var d=0;return c>0&&(d=100*a/c),[b,d]}))},getPercentages:function(){var a=this,b=this.get("categories");return d.object(d.map(b,function(b,c){var d=a.getCategoryPercentages(c);return[c,d]}))},setPercentages:function(){this.set("percentages",this.getPercentages())}})}),define("modules/versions-bom/views/bom-table",["require","exports","module","ironclad","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main");c.exports=e.Table.extend({options:{description:f.get("app.modules.versions.bom.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover bom-breakdown backgrid",columns:function(){return d.WeightedStore.getItemsData("bom-table-columns")}}}})}),define("modules/versions-bom/models/create-delete",["require","exports","module","ironclad","modules/versions/models/current-version","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/versions/models/current-version"),f=a("modules/i18n/main");c.exports=d.Model.extend({url:function(){return"/api/v1/releases/"+e.get("id")+"/component-bom-entries"},validation:{producerProject:{required:!0,msg:f.get("app.modules.work.bom.new.projectRequired")}}})}),define("modules/versions-bom/views/bom-table-actions",["require","exports","module","underscore","ironclad","../models/create-delete"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../models/create-delete");c.exports=e.ItemView.extend({template:"#versions-bom-table-actions",className:"btn-toolbar",ui:{$moreActionsBtn:".js-more-actions",$moreActionsContainer:".js-actions-btn-main-container",$addComponent:".js-btn-add-component"},events:{"click @ui.$addComponent":"handleAddComponentBtnClick"},initialize:function(){this.listenTo(this.collection,"table:row:deselected",this.handleBomItemInteraction),this.listenTo(this.collection,"table:row:selected",this.handleBomItemInteraction),this.listenTo(this.collection,"sync",this.resetToDefault)},handleBomItemInteraction:function(a){this.updateAvailableActionBtns(a)},handleAddComponentBtnClick:function(){f.vent.trigger("assets:actions:modal",{assetName:"versions",view:"create"},new g)},onRender:function(){this.collection.canCreate()||this.ui.$addComponent.addClass("hidden")},updateAvailableActionBtns:function(a){var b=this;this.ui.$editItemBtn.removeAttr("disabled");var c=!0,e=!0,f=!0,g=!0;a.selectedItems.length>0&&(g=!1),d.each(a.selectedItems,function(a){a.get("ignored")||a.isManualMatchType()||!c||(c=!1),a.get("ignored")&&e&&(e=!1),b._isManual(a)&&(f=!1)})},resetToDefault:function(){},_isManual:function(a){var b=a.get("matchTypes");return"undefined"!=typeof b&&d.contains(b,"MANUAL_BOM_COMPONENT")}})}),define("modules/versions-bom/views/charts-layout",["require","exports","module","ironclad","modules/risk-profile/views/license-chart","modules/risk-profile/views/operational-chart","modules/risk-profile/views/vulnerability-chart","modules/d3charts/controllers/filter-risks"],function(a,b,c){var d=a("ironclad"),e=a("modules/risk-profile/views/license-chart"),f=a("modules/risk-profile/views/operational-chart"),g=a("modules/risk-profile/views/vulnerability-chart"),h=a("modules/d3charts/controllers/filter-risks");c.exports=d.Layout.extend({template:"#versions-bom-charts-layout",className:"js-d3charts-filterable",regions:{vulnerabilityChart:".vulnerability-risk-chart",licenseChart:".license-risk-chart",operationalChart:".operational-risk-chart"},ui:{$chartsFilter:".js-d3charts-filter"},events:{"click @ui.$chartsFilter ":"filters"},triggers:{"click @ui.$chartsFilter":"ignore:filter:applied"},initialize:function(a){d.Layout.prototype.initialize.apply(this,arguments),a.bomsCollection&&this.listenTo(a.bomsCollection,"sync",this.render)},onRender:function(){var a=new g({model:this.model});this.vulnerabilityChart.show(a);var b=new e({model:this.model});this.licenseChart.show(b);var c=new f({model:this.model});this.operationalChart.show(c)},filters:function(a){h.filters(a,this.options.bomsCollection)}})}),define("modules/versions-bom/views/layout",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/bom/models/boms-paged","modules/common/views/waiting","modules/versions/models/current-version","modules/advanced-filters/views/advanced-filters","modules/versions/models/risk-profile","./bom-table","./bom-table-actions","./charts-layout","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/bom/models/boms-paged"),i=a("modules/common/views/waiting"),j=a("modules/versions/models/current-version"),k=a("modules/advanced-filters/views/advanced-filters"),l=a("modules/versions/models/risk-profile"),m=a("./bom-table"),n=a("./bom-table-actions"),o=a("./charts-layout"),p=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#versions-bom-layout",id:"versions-bom-layout",regions:{bomCharts:".versions-bom-charts",bomFilter:".versions-bom-filter",bomContainer:".versions-bom",bomTableActions:".table-actions-region"},ui:{$bomAction:".table-actions",$bomContainer:".versions-bom"},behaviors:{Sticky:{behaviorClass:p}},initialize:function(){var a=this.bomCollection=new h;a.releaseId=j.get("id"),f.reqres.setHandler("hub:bom:selected:items",function(){var b=d.where(a.models,{selected:!0});return new e.Collection(b)}),this.listenTo(f.vent,"versions:bom:component:added versions:bom:component:updated",this.refreshBomComponents)},refreshBomComponents:function(){this.bomCollection.fetch(),this.showBomsCharts()},onRender:function(){this.showLoading();var a=this,b=this.bomCollection;a.showBomsCharts(b),a.showBomsFilter(b),b.fetch().then(function(){a.bomContainer.show(new m({collection:b})),a.bomTableActions.show(new n({collection:b}))})},showLoading:function(){this.bomContainer.show(new i)},showBomsFilter:function(a){var b=new k({targetCollection:a,placeholder:g.get("app.modules.versions.bom.filterPlaceholder")});this.bomFilter.show(b)},showBomsCharts:function(a){var b=this;a=a||b.bomCollection;var c=new l;c.url=j.get("riskProfileUrl"),c.fetch().success(function(){c.setPercentages(),b.bomCharts&&b.bomCharts.show(new o({model:c,bomsCollection:a}))})}})}),define("modules/versions-bom/views/create",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/layout-form","modules/form/models/field-selectize"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=(a("modules/i18n/main"),a("modules/modals/views/layout-form")),h=a("modules/form/models/field-selectize");c.exports=g.extend({template:"#versions-bom-create",options:d.extend({},g.prototype.options,{redirect:!1}),hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,ui:d.extend({$projectSelector:"select.project-selector",$versionDefaultMsg:".default-state-msg.versions",$versionSelector:"select.version-selector",$distributionContainer:".js-select-distribution-container",$distributionSelector:"select.distribution-selector",$distributionVersionContainer:".js-select-distribution-version-container",$distributionVersionSelector:"select.distribution-version-selector"},g.prototype.ui),initialize:function(){var a=this;g.prototype.initialize.apply(a,arguments),a.options.redirect=!1,this.listenTo(this,"render",this.setupProjectAutoComplete),this.listenTo(this,"destroy",this.teardownAllAutoCompleters),a.listenTo(a.model,"sync",d.bind(function(){this.trigger("state:active"),g.prototype.ok.apply(this,arguments),f.vent.trigger("versions:bom:component:added")},a))},setupProjectAutoComplete:function(){this.projectAutocomplete=new h({selector:this.ui.$projectSelector,suggestURL:"api/v1/autocomplete/PROJECT?text=%QUERY",valueField:"uuid",labelField:"value",searchField:"value",itemTemplate:"#form-input-select-project-item",optionTemplate:"#form-input-select-project-option",searchThreshold:1,openOnFocus:!1,highlight:!1}),this.listenTo(this.projectAutocomplete,"item:selected",this.projectSelected),this.listenTo(this.projectAutocomplete,"error:no-opts",this.renderError)},setupVersionAutoComplete:function(a){this.ui.$versionDefaultMsg.addClass("hide"),this.ui.$versionSelector.removeClass("hide"),this.versionAutocomplete=new h({selector:this.ui.$versionSelector,suggestURL:"/api/v1/projects/"+a+"/version-summaries?q=%QUERY&sort=version+DESC&limit=1000",valueField:"versionId",labelField:"version",searchField:"version",preload:"focus",highlight:!1}),this.listenTo(this.versionAutocomplete,"item:selected",this.versionSelected),this.listenTo(this.versionAutocomplete,"error:no-opts",this.renderError)},setupDistributionAutoComplete:function(a){this.ui.$distributionContainer.removeClass("hide"),
    this.distributionAutocomplete=new h({selector:this.ui.$distributionSelector,suggestURL:a.channelsUrl,valueField:"channelName",labelField:"channelName",searchField:"channelName",preload:"focus",highlight:!1}),this.listenTo(this.distributionAutocomplete,"item:selected",this.distributionSelected),this.listenTo(this.distributionAutocomplete,"error:no-opts",this.renderError)},setupDistributionVersionAutoComplete:function(a){this.ui.$distributionVersionContainer.removeClass("hide"),this.distributionVersionAutocomplete=new h({selector:this.ui.$distributionVersionSelector,suggestURL:a.href+"&limit=1000",valueField:"channelVersionId",labelField:"externalId",searchField:["externalId","channelVersionName"],preload:"focus",itemTemplate:"#form-input-select-distribution-version-option",optionTemplate:"#form-input-select-distribution-version-option",highlight:!1}),this.listenTo(this.distributionVersionAutocomplete,"item:selected",this.distributionVersionSelected),this.listenTo(this.distributionVersionAutocomplete,"error:no-opts",this.renderError)},teardownAllAutoCompleters:function(){this.projectAutocomplete.unbind(),this.teardownVersionAutoComplete(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete()},teardownVersionAutoComplete:function(){this.ui.$versionDefaultMsg.removeClass("hide"),this.ui.$versionSelector.addClass("hide"),this.model.unset("producerRelease"),this.versionAutocomplete&&this.versionAutocomplete.destroy()},teardownDistributionAutoComplete:function(){this.ui.$distributionContainer.addClass("hide"),this.distributionAutocomplete&&this.distributionAutocomplete.destroy()},teardownDistributionVersionAutoComplete:function(){this.ui.$distributionVersionContainer.addClass("hide"),this.model.unset("channelRelease"),this.distributionVersionAutocomplete&&this.distributionVersionAutocomplete.destroy()},projectSelected:function(a){this.clearErrors(),this.teardownVersionAutoComplete(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete(),a?(this.model.set("producerProject",{id:a.uuid}),this.setupVersionAutoComplete(a.uuid)):this.model.unset("producerProject")},versionSelected:function(a){this.clearErrors(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete(),a?(this.model.set("producerRelease",{id:a.versionId}),a.channelsUrl&&this.setupDistributionAutoComplete(a)):this.model.unset("producerRelease")},distributionSelected:function(a){this.clearErrors(),this.teardownDistributionVersionAutoComplete();var b=d.findWhere(a._meta.links,{rel:"channel-versions"});b&&this.setupDistributionVersionAutoComplete(b)},distributionVersionSelected:function(a){this.clearErrors(),a?this.model.set("channelRelease",{id:a.channelVersionId,name:a.channelVersionName}):this.model.unset("channelRelease")},ok:function(){this.clearErrors();var a=this.preValidate(this.model);a&&(this.trigger("state:waiting"),this.model.save())},preValidate:function(a){var b=a.validate();if("object"==typeof b){for(var c in b)this.renderError(c,b[c]);return!1}return!0}})}),define("modules/modals/views/bulk-action-view",["require","exports","module","underscore","modules/i18n/main","ironclad","./layout-form"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=a("./layout-form");c.exports=g.extend({targetItemsMainCollectionView:null,targetValidItemsCollectionView:null,targetInvalidItemsCollectionView:null,action:"bulk",validItemsStatsMsgKey:"app.modules.common.bulkNbOfValidItems",invalidItemsStatsMsgKey:"app.modules.common.bulkNbOfInvalidItems",bulkItemsExpandedClass:"expanded",bulkItemsLimitDisplayClass:"limit-display",bulkItemsNoLimitDisplayClass:"no-limit-display",validationFilter:function(a){return!!a},ui:d.extend({},g.prototype.ui,{$targetValidItemsContainer:".js-target-items-container.valid",$targetInvalidItemsContainer:".js-target-items-container.invalid",$bulkValidItemsViewMoreBtn:".js-valids-more-btn",$bulkInvalidItemsViewMoreBtn:".js-invalids-more-btn",$bulkValidItemsViewLessBtn:".js-valids-less-btn",$bulkInvalidItemsViewLessBtn:".js-invalids-less-btn",$bulkSelectionValidStats:".js-selection-valid-stats",$bulkSelectionInValidStats:".js-selection-invalid-stats",$bulkValidItemsWrapper:".js-bulk-items-wrapper.valid",$bulkInvalidItemsWrapper:".js-bulk-items-wrapper.invalid",$bulkValidItemsContainer:".js-bulk-items-container.valid",$bulkInvalidItemsContainer:".js-bulk-items-container.invalid"}),events:d.extend({},g.prototype.events,{"click @ui.$bulkSelectionValidStats":"toggleValidStatusDisplay","click @ui.$bulkSelectionInValidStats":"toggleInValidStatusDisplay","click @ui.$bulkValidItemsViewMoreBtn":"toggleValidLimitDisplay","click @ui.$bulkInvalidItemsViewMoreBtn":"toggleInvalidLimitDisplay","click @ui.$bulkValidItemsViewLessBtn":"toggleValidLimitDisplay","click @ui.$bulkInvalidItemsViewLessBtn":"toggleInvalidLimitDisplay"}),initialize:function(){this.targetCollection=this.getSelectedItems(),this.targetCollection&&this.listenTo(this.targetCollection,"table:row:deselected",function(){this.targetCollection=this.getSelectedItems(),this.refreshStats()}),this.collectionData=this._prepareTargetItemsCollection(),g.prototype.initialize.apply(this,arguments)},onRender:function(){g.prototype.onRender.apply(this,arguments),d.isUndefined(this.targetCollection)||"function"!=typeof this.validationFilter||this._renderTargetItems(this.collectionData,!0)},toggleValidStatusDisplay:function(){this._genericToggleStatusDisplay(this.ui.$bulkValidItemsWrapper.find(".bulk-items-container"),this.ui.$bulkSelectionValidStats)},toggleInValidStatusDisplay:function(){this._genericToggleStatusDisplay(this.ui.$bulkInvalidItemsWrapper.find(".bulk-items-container"),this.ui.$bulkSelectionInValidStats)},toggleValidLimitDisplay:function(){this._genericToggleDisplay(this.ui.$bulkValidItemsContainer)},toggleInvalidLimitDisplay:function(){this._genericToggleDisplay(this.ui.$bulkInvalidItemsContainer)},refreshStats:function(){this.collectionData=this._prepareTargetItemsCollection(),this._renderTargetItems(this.collectionData,!1)},getSelectedItems:function(){return new f.Collection},_genericToggleDisplay:function(a){a.toggleClass(this.bulkItemsLimitDisplayClass)},_genericToggleStatusDisplay:function(a,b){a.hasClass(this.bulkItemsExpandedClass)?(b.find(".icon-control").addClass("fa-angle-right").removeClass("fa-angle-down"),a.slideUp("fast"),a.removeClass(this.bulkItemsExpandedClass)):(b.find(".icon-control").removeClass("fa-angle-right").addClass("fa-angle-down"),a.slideDown("fast"),a.addClass(this.bulkItemsExpandedClass))},_prepareTargetItemsCollection:function(){var a=this,b=new f.Collection,c=new f.Collection;return d.isUndefined(this.targetCollection)||this.targetCollection.each(function(d){a.validationFilter(d)?b.add(d):c.add(d)}),{validItems:b,invalidItems:c}},_renderTargetItems:function(a,b){var c=this._getRenderValidItemsBaseData(a);this._genericRenderItems(c,b),0===c.collection.size()&&(this.ui.$ok.prop("disabled",!0),b||this.closeModal());var d=this._getRenderInvalidItemsBaseData(a);this._genericRenderItems(d,b)},_genericRenderItems:function(a,b){if(!d.isUndefined(a.collection)&&!d.isUndefined(a.collectionView)&&a.$container.size()>0&&a.collection.size()>0){var c=new a.collectionView({collection:a.collection});b&&a.$container.html(c.render().$el);var e=c.displayLimit;!d.isUndefined(e)&&a.collection.size()>e&&b?a.$bulkItemsContainer.addClass(this.bulkItemsLimitDisplayClass):!d.isUndefined(e)&&a.collection.size()<=e&&(a.$bulkItemsContainer.removeClass(this.bulkItemsLimitDisplayClass),a.$bulkItemsContainer.addClass(this.bulkItemsNoLimitDisplayClass)),this._renderLimitControl(a,e)}else a.$bulkItemsWrapper.hide()},_renderLimitControl:function(a,b){if(b){var c=a.collection.size()-b;a.$bulkItemsViewMoreBtn.html(e.get("app.modules.common.bulkItemsViewMore",{nb:c}))}var d=e.get(a.bulkSelectionMsgKey,{nb:a.collection.size(),action:this.action},a.collection.size());a.$bulkSelectionStats.find(".text-block").html(d)},_getRenderValidItemsBaseData:function(a){return{collection:a.validItems,collectionView:this.targetValidItemsCollectionView||this.targetItemsMainCollectionView,bulkSelectionMsgKey:this.validItemsStatsMsgKey,$container:this.ui.$targetValidItemsContainer,$bulkItemsViewMoreBtn:this.ui.$bulkValidItemsViewMoreBtn,$bulkSelectionStats:this.ui.$bulkSelectionValidStats,$bulkItemsContainer:this.ui.$bulkValidItemsContainer,$bulkItemsWrapper:this.ui.$bulkValidItemsWrapper}},_getRenderInvalidItemsBaseData:function(a){return{collection:a.invalidItems,collectionView:this.targetInvalidItemsCollectionView||this.targetItemsMainCollectionView,bulkSelectionMsgKey:this.invalidItemsStatsMsgKey,$container:this.ui.$targetInvalidItemsContainer,$bulkItemsViewMoreBtn:this.ui.$bulkInvalidItemsViewMoreBtn,$bulkSelectionStats:this.ui.$bulkSelectionInValidStats,$bulkItemsContainer:this.ui.$bulkInvalidItemsContainer,$bulkItemsWrapper:this.ui.$bulkInvalidItemsWrapper}}})}),define("modules/versions/views/_bulk-edit",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","modules/form/models/field-selectize","modules/projects/models/project"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("modules/modals/views/bulk-action-view"),h=a("modules/form/models/field-selectize"),i=a("modules/projects/models/project");c.exports=g.extend({action:f.get("app.modules.work.bom.bulk.editActionLabel"),hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,ui:d.extend({},g.prototype.ui,{$projectSelector:"select.project-selector",$versionDefaultMsg:".default-state-msg.versions",$versionSelector:"select.version-selector",$distributionContainer:".js-select-distribution-container",$distributionSelector:"select.distribution-selector",$distributionVersionContainer:".js-select-distribution-version-container",$distributionVersionSelector:"select.distribution-version-selector",$usageSelector:"select.usage-selector"}),initialize:function(){var a=this;g.prototype.initialize.apply(a,arguments),a.options.large=!0,this.listenTo(this,"destroy",this.teardownAllAutoCompleters),this.collection.reset({silent:!0})},onRender:function(){g.prototype.onRender.apply(this,arguments),this.setupInitialData();var a=this;this.$el.on("shown.bs.modal",function(){"string"==typeof a.options.focusInput&&a.$("select."+a.options.focusInput+"-selector").selectize()[0].selectize.focus()})},setupInitialData:function(){},setupProjectAutoComplete:function(a){this.projectAutocomplete=new h({selector:this.ui.$projectSelector,suggestURL:"api/v1/autocomplete/PROJECT?text=%QUERY",valueField:"uuid",labelField:"value",searchField:"value",itemTemplate:"#form-input-select-project-item",optionTemplate:"#form-input-select-project-option",searchThreshold:1,openOnFocus:!1,highlight:!1,onInitialize:function(){if(a){var b=this,c=new i({id:a});c.fetch().done(function(){var d={uuid:a,value:c.get("name"),fields:{description:[c.get("description")],ownership:[c.get("kb")?"1":"0"]}};c.get("logos")&&c.get("logos").smallLogoUrl&&(d.fields.small_logo_url=[c.get("logos").smallLogoUrl]),b.addOption(d),b.refreshOptions(!1),b.addItem(d[b.settings.valueField],!0)})}}}),this.listenTo(this.projectAutocomplete,"item:selected",this.projectSelected),this.listenTo(this.projectAutocomplete,"error:no-opts",this.renderError)},setupVersionAutoComplete:function(a,b){this.ui.$versionDefaultMsg.addClass("hide"),this.ui.$versionSelector.removeClass("hide"),this.versionAutocomplete=new h({selector:this.ui.$versionSelector,suggestURL:"/api/v1/projects/"+a+"/version-summaries?q=%QUERY&sort=version+DESC&limit=1000",valueField:"versionId",labelField:"version",searchField:"version",preload:"focus",highlight:!1,onInitialize:function(){b&&(this.addOption(b),this.refreshOptions(!1),this.addItem(b[this.settings.valueField],!0))}}),this.listenTo(this.versionAutocomplete,"item:selected",this.versionSelected),this.listenTo(this.versionAutocomplete,"error:no-opts",this.renderError)},setupDistributionAutoComplete:function(a,b){this.ui.$distributionContainer.removeClass("hide"),this.distributionAutocomplete=new h({selector:this.ui.$distributionSelector,suggestURL:a.channelsUrl,valueField:"channelName",labelField:"channelName",searchField:"channelName",preload:"focus",highlight:!1,onInitialize:function(){b&&(this.addOption(b),this.refreshOptions(!1),this.addItem(b[this.settings.valueField],!0))}}),this.listenTo(this.distributionAutocomplete,"item:selected",this.distributionSelected),this.listenTo(this.distributionAutocomplete,"error:no-opts",this.renderError)},setupDistributionVersionAutoComplete:function(a,b){var c=d.findWhere(a._meta.links,{rel:"channel-versions"});this.ui.$distributionVersionContainer.removeClass("hide"),this.distributionVersionAutocomplete=new h({selector:this.ui.$distributionVersionSelector,suggestURL:c.href+"&limit=1000",valueField:"channelVersionId",labelField:"externalId",searchField:"externalId",preload:"focus",highlight:!1,itemTemplate:"#form-input-select-distribution-version-option",optionTemplate:"#form-input-select-distribution-version-option",onInitialize:function(){b&&(this.addOption(b),this.refreshOptions(!1),this.addItem(b[this.settings.valueField],!0))}}),this.listenTo(this.distributionVersionAutocomplete,"item:selected",this.distributionVersionSelected),this.listenTo(this.distributionVersionAutocomplete,"error:no-opts",this.renderError)},setupUsageAutoComplete:function(a){this.usageAutocomplete=new h({selector:this.ui.$usageSelector,options:[{name:f.get("app.modules.versions.bom.DYNAMICALLY_LINKED"),id:"DYNAMICALLY_LINKED"},{name:f.get("app.modules.versions.bom.STATICALLY_LINKED"),id:"STATICALLY_LINKED"},{name:f.get("app.modules.versions.bom.SOURCE_CODE"),id:"SOURCE_CODE"},{name:f.get("app.modules.versions.bom.SEPARATE_WORK"),id:"SEPARATE_WORK"},{name:f.get("app.modules.versions.bom.IMPLEMENTATION_OF_STANDARD"),id:"IMPLEMENTATION_OF_STANDARD"},{name:f.get("app.modules.versions.bom.DEV_TOOL_EXCLUDED"),id:"DEV_TOOL_EXCLUDED"}],labelField:"name",searchField:"name",valueField:"id",highlight:!1}),this.ui.$usageSelector[0].selectize.setValue(a.id,!0)},teardownAllAutoCompleters:function(){this.teardownProjectAutoComplete(),this.teardownVersionAutoComplete(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete(),this.teardownUsageAutoComplete()},teardownProjectAutoComplete:function(){this.ui.$versionSelector.addClass("hide"),this.projectAutocomplete&&this.projectAutocomplete.destroy()},teardownVersionAutoComplete:function(){this.ui.$versionDefaultMsg.removeClass("hide"),this.ui.$versionSelector.addClass("hide"),this.versionAutocomplete&&this.versionAutocomplete.destroy()},teardownDistributionAutoComplete:function(){this.ui.$distributionContainer.addClass("hide"),this.distributionAutocomplete&&this.distributionAutocomplete.destroy()},teardownDistributionVersionAutoComplete:function(){this.ui.$distributionVersionContainer.addClass("hide"),this.distributionVersionAutocomplete&&this.distributionVersionAutocomplete.destroy()},teardownUsageAutoComplete:function(){this.usageAutocomplete&&this.usageAutocomplete.destroy()},projectSelected:function(a){this.clearErrors(),this.teardownVersionAutoComplete(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete(),a&&this.setupVersionAutoComplete(a.uuid)},versionSelected:function(a){this.clearErrors(),this.teardownDistributionAutoComplete(),this.teardownDistributionVersionAutoComplete(),a&&a.channelsUrl&&this.setupDistributionAutoComplete(a)},distributionSelected:function(a){this.clearErrors(),this.teardownDistributionVersionAutoComplete(),a&&this.setupDistributionVersionAutoComplete(a)},distributionVersionSelected:function(){this.clearErrors()},templateHelpers:function(){var a=this;return d.extend({},this.templateHelpers,{getCollectionDataItemsCount:function(){return a.collectionData.invalidItems.length+a.collectionData.validItems.length}})},getAdjustmentModel:function(){var a=new e.Model,b=this.projectAutocomplete.getSelectedOption();if(b&&a.set("projectId",b.uuid),this.versionAutocomplete){var c=this.versionAutocomplete.getSelectedOption();c&&a.set("releaseId",c.versionId)}if(this.distributionVersionAutocomplete){var d=this.distributionVersionAutocomplete.getSelectedOption();d&&a.set("channelRelease",{id:d.channelVersionId,name:d.channelVersionName})}var f=this.usageAutocomplete.getSelectedOption();return f&&a.set("usage",f.id),a},redirect:function(){return!1}})}),define("modules/versions-bom/models/bulk-edit-items",["require","exports","module","modules/versions/models/current-version","modules/common/models/generic-bulk-action-collection"],function(a,b,c){var d=a("modules/versions/models/current-version"),e=a("modules/common/models/generic-bulk-action-collection");c.exports=e.extend({url:function(){return"/api/v1/releases/"+d.get("id")+"/component-bom-entries"}})}),define("modules/versions-bom/views/bulk-target-item",["require","exports","module","underscore","modules/i18n/main","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad");c.exports=f.ItemView.extend({template:"#versions-bom-bulk-target-item",tagName:"li",className:"well well-sm",ui:{$removeBtn:".remove-item"},events:{"click @ui.$removeBtn":"removeItem"},removeItem:function(){var a=this;this.model.trigger("table:row:do:deselect"),this.$el.fadeOut("fast",function(){a.$el.remove()})},templateHelpers:function(){return d.extend({},f.templateHelpers,{getMatchType:this.getMatchType,getUsageType:this.getUsageType})},getMatchType:function(){var a=this.producerMatchTypes,b="";if(a&&a.length>0)for(var c=0;c<a.length;c++)b+=e.get("app.modules.version.files.browse.matchStatus."+a[c]),c<a.length-1&&(b+=", ");return b},getUsageType:function(){return this.usages&&this.usages.length>0?e.get("app.modules.versions.bom."+this.usages[0]):""}})}),define("modules/versions-bom/views/bulk-target-valid-items",["require","exports","module","ironclad","modules/i18n/main","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("./bulk-target-item");c.exports=d.CollectionView.extend({tagName:"ul",displayLimit:3,emptyView:d.MessageView.extend({message:e.get("app.modules.common.bulkNoItems"),className:"no-new text-center"}),childView:f})}),define("modules/versions-bom/views/bulk-target-invalid-items",["require","exports","module","ironclad","modules/i18n/main","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=(a("modules/i18n/main"),a("./bulk-target-item"));c.exports=d.CollectionView.extend({tagName:"ul",childView:e})}),define("modules/versions-bom/views/bulk-edit",["require","exports","module","ironclad","modules/versions/views/_bulk-edit","../models/bulk-edit-items","./bulk-target-valid-items","./bulk-target-invalid-items","modules/form/models/field-selectize","underscore"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/versions/views/_bulk-edit"),g=a("../models/bulk-edit-items"),h=a("./bulk-target-valid-items"),i=a("./bulk-target-invalid-items"),j=a("modules/form/models/field-selectize"),k=a("underscore");c.exports=f.extend({template:"#versions-bom-bulk-edit",targetValidItemsCollectionView:h,targetInvalidItemsCollectionView:i,collection:new g,getSelectedItems:function(){return e.reqres.request("hub:bom:selected:items")},getInitialData:function(){var a=k.uniq(this.collectionData.validItems.models,function(a){return a.get("projectId")});return 1===a.length?a[0]:null},setupInitialData:function(){var a=this.getInitialData();null!==a?this._loadInitialData(a):(this.setupProjectAutoComplete(),this.setupUsageAutoComplete())},_loadInitialData:function(a){var b=a.get("projectId");if(this.setupProjectAutoComplete(b),b){var c=a.get("releaseId");if(c){var d="/api/internal/projects/"+b+"/versions/"+c,e=d+"/channels",f={versionId:c,version:a.get("releaseVersion"),channelsUrl:e};this.setupVersionAutoComplete(b,f);var g=a.get("channelReleases");if(g&&1===g.length){var h={channelName:g[0].externalNamespace,_meta:{links:[{rel:"channel-versions",href:d+"/channel-versions?filter=channelName:"+g[0].externalNamespace}]}};this.setupDistributionAutoComplete(f,h);var i=g[0].externalId||g[0].name;this.setupDistributionVersionAutoComplete(h,{channelVersionId:g[0].id,externalId:i})}else this.setupDistributionAutoComplete(f)}else this.setupVersionAutoComplete(b)}var j=k.uniq(a.get("usages"));j&&1===j.length?this.setupUsageAutoComplete({id:j[0]}):this.setupUsageAutoComplete()},setupLicenseAutoComplete:function(a){this.licenseAutocomplete=new j({selector:this.ui.$licenseSelector,suggestURL:"/api/v1/licenses?limit=100&searchTerm=%QUERY",valueField:"id",labelField:"name",searchField:"name",preload:"focus",highlight:!1,onInitialize:function(){a&&(this.addOption(a),this.refreshOptions(!1),this.addItem(a[this.settings.valueField],!0))}}),this.listenTo(this.licenseAutocomplete,"item:selected",this.licenseSelected),this.listenTo(this.licenseAutocomplete,"error:no-opts",this.renderError)},teardownAllAutoCompleters:function(){f.prototype.teardownAllAutoCompleters.apply(this,arguments),this.teardownLicenseAutoComplete()},teardownLicenseAutoComplete:function(){this.licenseAutocomplete&&this.licenseAutocomplete.destroy()},ok:function(){var a=this,b=this.getAdjustmentModel();a.collection.reset(null,{silent:!0}),this.collectionData.validItems.each(function(c){a._setModel(b,a.collection,c)}),this.trigger("state:waiting"),a.collection.saveAll().success(function(){e.vent.trigger("versions:bom:component:updated",this),a.collection.reset(),f.prototype.ok.apply(a)})},redirect:function(){return!1},getAdjustmentModel:function(){return f.prototype.getAdjustmentModel.apply(this,arguments)},_setModel:function(a,b,c){var e=new d.Model(k.extend({},c.attributes)),f=a.get("projectId"),g=a.get("releaseId"),h=a.get("usage"),i=a.get("channelRelease");k.isUndefined(f)||(e.set("projectId",f),k.isUndefined(g)?e.unset("releaseId"):"unknown"===g?e.unset("releaseId"):e.set("releaseId",g),k.isUndefined(i)?e.unset("channelReleases"):e.set("channelReleases",[i])),k.isUndefined(h)||e.set("usages",[h]),e.unset("licenses"),b.add(e)},onDestroy:function(){f.prototype.onDestroy.apply(this,arguments)}})}),define("modules/versions-bom/views/bulk-ignore",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","./bulk-target-valid-items","./bulk-target-invalid-items","../models/bulk-edit-items"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/modals/views/bulk-action-view"),i=a("./bulk-target-valid-items"),j=a("./bulk-target-invalid-items"),k=a("../models/bulk-edit-items");c.exports=h.extend({template:"#versions-bom-bulk-ignore",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,targetValidItemsCollectionView:i,targetInvalidItemsCollectionView:j,action:g.get("app.modules.work.bom.bulk.ignoreActionLabel"),ui:d.extend({$confirmationBlock:".confirmation-block",$bulkHeader:".bulk-header"},h.prototype.ui),initialize:function(){this.collection=new k,this.listenTo(this.collection,"error",function(){this.trigger("state:active")}),h.prototype.initialize.apply(this,arguments)},onRender:function(){h.prototype.onRender.apply(this,arguments);var a=this.collectionData.validItems.size();this.ui.$confirmationBlock.text(g.get("app.modules.versions.bom.ignore.confirmation",a)),this.ui.$bulkHeader.text(g.get("app.modules.work.bom.ignoreComponent",a))},validationFilter:function(a){var b=a.get("ignored");return!d.isUndefined(b)&&(!b&&!a.isManualMatchType())},getSelectedItems:function(){return f.reqres.request("hub:bom:selected:items")},ok:function(){var a=this;this.collectionData.validItems.each(function(b){a.setModel(a.collection,b)}),this.trigger("state:waiting"),this.collection.saveAll().success(function(){f.vent.trigger("versions:bom:component:updated",this),h.prototype.ok.apply(a)})},redirect:function(){return!1},setModel:function(a,b){var c=b.clone();c.set({id:b.cid,ignored:!0}),c.get("licenses")&&!c.get("licenses")[0].licenseId&&c.set("licenses",[]),a.add(c)}})}),define("modules/versions-bom/views/bulk-unignore",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","./bulk-target-valid-items","./bulk-target-invalid-items","../models/bulk-edit-items"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/modals/views/bulk-action-view"),i=a("./bulk-target-valid-items"),j=a("./bulk-target-invalid-items"),k=a("../models/bulk-edit-items");c.exports=h.extend({template:"#versions-bom-bulk-unignore",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,targetValidItemsCollectionView:i,targetInvalidItemsCollectionView:j,action:g.get("app.modules.work.bom.bulk.unignoreActionLabel"),ui:d.extend({$confirmationBlock:".confirmation-block",$bulkHeader:".bulk-header"},h.prototype.ui),initialize:function(){this.collection=new k,this.listenTo(this.collection,"error",function(){this.trigger("state:active")}),h.prototype.initialize.apply(this,arguments)},onRender:function(){h.prototype.onRender.apply(this,arguments);var a=this.collectionData.validItems.size();this.ui.$confirmationBlock.text(g.get("app.modules.versions.bom.unignore.confirmation",a)),this.ui.$bulkHeader.text(g.get("app.modules.work.bom.unignoreComponent",a))},validationFilter:function(a){var b=a.get("ignored");return!d.isUndefined(b)&&b},getSelectedItems:function(){return f.reqres.request("hub:bom:selected:items")},ok:function(){var a=this;this.collectionData.validItems.each(function(b){a.setModel(a.collection,b)}),this.trigger("state:waiting"),this.collection.saveAll().success(function(){f.vent.trigger("versions:bom:component:updated",this),h.prototype.ok.apply(a)})},redirect:function(){return!1},setModel:function(a,b){var c=b.clone();c.set({id:b.cid,ignored:!1}),c.get("licenses")&&!c.get("licenses")[0].licenseId&&c.set("licenses",[]),a.add(c)}})}),define("modules/versions-bom/views/bulk-delete",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","./bulk-target-valid-items","./bulk-target-invalid-items","../models/bulk-edit-items"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/modals/views/bulk-action-view"),i=a("./bulk-target-valid-items"),j=a("./bulk-target-invalid-items"),k=a("../models/bulk-edit-items");c.exports=h.extend({template:"#versions-bom-bulk-delete",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,targetValidItemsCollectionView:i,targetInvalidItemsCollectionView:j,action:g.get("app.modules.work.bom.bulk.deleteActionLabel"),initialize:function(){this.collection=new k,this.listenTo(this.collection,"error",function(){this.trigger("state:active")}),h.prototype.initialize.apply(this,arguments)},ui:d.extend({$confirmationBlock:".confirmation-block",$bulkHeader:".bulk-header"},h.prototype.ui),onRender:function(){h.prototype.onRender.apply(this,arguments),this.ui.$confirmationBlock.text(g.get("app.modules.work.bom.confirmMessage",this.collectionData.validItems.size())),this.ui.$bulkHeader.text(g.get("app.modules.work.bom.deleteComponent",this.collectionData.validItems.size()))},validationFilter:function(a){var b=a.get("matchTypes");return"undefined"!=typeof b&&d.contains(b,"MANUAL_BOM_COMPONENT")},getSelectedItems:function(){return f.reqres.request("hub:bom:selected:items")},ok:function(){var a=this;this.collectionData.validItems.each(function(b){a.setModel(a.collection,b)}),this.trigger("state:waiting"),this.collection.destroyAll().success(function(){f.vent.trigger("versions:bom:component:updated",this),h.prototype.ok.apply(a)})},redirect:function(){return!1},setModel:function(a,b){var c=new e.Model,f=b.get("releaseId")?b.get("releaseId"):void 0,g={};d.isUndefined(f)?(g.entityId=b.get("projectId"),g.entityType="PJ"):(g.entityId=f,g.entityType="RL"),c.set("entityKey",g),a.add(c)}})}),define("modules/versions-bom/controllers/reviewed-cell",["require","exports","module","modules/i18n/main","ironclad","anglebrackets","modules/versions/models/current-version","modules/common/models/adjustment","modules/format-date/main"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=e.MessageBus,g=a("anglebrackets"),h=a("modules/versions/models/current-version"),i=a("modules/common/models/adjustment"),j=a("modules/format-date/main");c.exports=g.TableCell.extend({template:"#versions-bom-reviewed-cell",className:function(){return this.model.collection.canUpdate()?"reviewed-cell":"reviewed-cell no-permission"},events:{click:"toggleReview"},onRender:function(){var a=this;"REVIEWED"===this.model.get("reviewSummary").reviewStatus&&this.$el.tooltip({placement:"left auto",trigger:"hover",title:d.get("app.modules.versions.bom.reviewedStatus",{reviewedBy:a.model.get("reviewSummary").reviewedBy.username,reviewedAt:j.formatDateTime(a.model.get("reviewSummary").reviewedAt)}),container:".versions-bom"}),this.component=new i(this.model.attributes),this.component.url=this.model.collection._meta.href||"/api/v1/releases/"+h.get("id")+"/component-bom-entries"},toggleReview:function(){var a=this;this.model.collection.canUpdate()&&(this.$el.spin("tiny"),this.$(".fa").hide(),setTimeout(function(){a.component.unset("licenses"),a.component.get("reviewSummary").reviewStatus="REVIEWED"===a.component.get("reviewSummary").reviewStatus?"NOT_REVIEWED":"REVIEWED",a.component.save(null,{type:"put"}).done(function(){a.$el.tooltip("destroy"),f.vent.trigger("versions:bom:component:updated",a)}).fail(function(){a.$el.find(".fa").show(),a.$el.spin(!1)})},500))}})}),define("modules/versions-bom/controllers/match-count-cell",["require","exports","module","underscore","anglebrackets","modules/i18n/main","modules/versions/models/current-version","modules/mixins/shared-data"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets"),f=(a("modules/i18n/main"),a("modules/versions/models/current-version")),g=a("modules/mixins/shared-data");c.exports=e.TableCell.extend({template:"#versions-bom-match-count-cell",className:"file-match-count-cell",templateHelpers:{getFilesViewLinkHref:function(){var a=g.constants.EntityTypes.PROJECT+"~"+this.projectId;return d.isUndefined(this.releaseId)||(a=g.constants.EntityTypes.RELEASE+"~"+this.releaseId),"#versions/id:"+f.id+"/view:files?filter=bomComponents:"+a}}})}),define("modules/versions-bom/controllers/match-type-cell",["require","exports","module","anglebrackets","modules/i18n/main","underscore"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("underscore");c.exports=d.TableCell.extend({className:"match-type renderable",template:"#versions-bom-match-type-cell",templateHelpers:{getMatchtype:function(){if(this.matchTypes)return f.map(this.matchTypes,function(a){return e.get("app.modules.version.files.browse.matchStatus."+a)}).join(", ")},isManual:function(){return f.contains(this.matchTypes,"MANUAL_BOM_COMPONENT")||f.contains(this.matchTypes,"MANUAL_BOM_FILE")}}})}),define("modules/versions-bom/controllers/license-cell",["require","exports","module","modules/licenses/controllers/license-cell"],function(a,b,c){var d=a("modules/licenses/controllers/license-cell");c.exports=d.extend({className:"risk-panel license-risk-cell"})}),define("modules/versions-bom/controllers/security-risk-cell",["require","exports","module","anglebrackets","modules/i18n/main","modules/versions/models/current-version"],function(a,b,c){var d=a("anglebrackets"),e=(a("modules/i18n/main"),a("modules/versions/models/current-version"));c.exports=d.TableCell.extend({template:"#versions-bom-vulnerability-cell",className:"bom-vulnerability-cell",templateHelpers:{getSecurityLink:function(){return"#versions/id:"+e.id+"/view:vulnerabilities?selectedItem@comp="+this.releaseId+"&q@comp="+this.projectName}}})}),define("modules/versions-bom/controllers/operational-risk-cell",["require","exports","module","underscore","ironclad","marionette","anglebrackets","modules/i18n/main","moment"],function(a,b,c){
    var d=a("underscore"),e=a("ironclad"),f=a("marionette"),g=a("anglebrackets"),h=a("modules/i18n/main"),i=a("moment");c.exports=g.TableCell.extend({template:"#versions-bom-operational-risk-cell",events:{"mouseover .risk-bubble":"showOperationalRiskDetails","mouseout .risk-bubble":"hideOperationalRiskDetails"},additionalTemplateHelpers:{getDaysSince:function(a){return i().diff(a,"days")},isMoreThanOneYearOld:function(a){return i().diff(a,"years",!0)>=1}},showOperationalRiskDetails:function(){if(this._showPopover()){var a=this.$el.find(".risk-bubble");d.isUndefined(this.popover)&&(this.popover=a.popover({title:h.get("app.modules.risk.profile.panel.reasons.operationalRisk.factors"),html:!0,container:"#versions-bom-layout",content:this._getPopoverContent(),trigger:"manual",placement:"left"})),a.popover("show")}},hideOperationalRiskDetails:function(){void 0!==this.popover&&(this.$(".risk-bubble").popover("destroy"),delete this.popover)},_getPopoverContent:function(){return f.TemplateCache.get("#versions-bom-operational-risk-cell-popover")(d.extend({obj:this.model.attributes},e.templateHelpers,this.additionalTemplateHelpers))},_showPopover:function(){var a=this.model.get("riskProfile").categories.OPERATIONAL;return a.HIGH||a.LOW||a.MEDIUM}})}),define("modules/comments/models/comment",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({validation:{comment:{required:!0}}})}),define("modules/versions-bom/models/comments",["require","exports","module","modules/common/models/pageable-collection","modules/comments/models/comment"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("modules/comments/models/comment");c.exports=d.extend({model:e,url:function(){if(this.componentReleaseId)return"api/projects/"+this.projectId+"/versions/"+this.versionId+"/components/"+this.componentProjectId+"/component-versions/"+this.componentReleaseId+"/comments";if(this.componentProjectId)return"api/projects/"+this.projectId+"/versions/"+this.versionId+"/components/"+this.componentProjectId+"/comments";throw new Error("componentReleaseId or componentProjectId is required for getting comments")}})}),define("modules/versions-bom/controllers/comment",["require","exports","module","ironclad","anglebrackets","modules/i18n/main","../models/comments"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main"),g=a("../models/comments");c.exports=e.TableCell.extend({template:"#versions-bom-comment-cell",className:"component-comment-cell",events:{"click a.show-comments":"handleCommentClick"},handleCommentClick:function(){var a=new d.Model({title:this.model.get("releaseVersion")?f.get("app.modules.versions.bom.comments.componentVersion.title",{componentName:this.model.get("projectName"),componentVersionName:this.model.get("releaseVersion")}):f.get("app.modules.versions.bom.comments.component.title",{componentName:this.model.get("projectName")}),component:this.model,comments:new g});d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"comments",view:"layout"},a)}})}),define("modules/versions-bom/controllers/row-actions",["require","exports","module","underscore","ironclad","anglebrackets","modules/i18n/main","../models/comments"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/i18n/main"),h=a("../models/comments");c.exports=f.TableCell.extend({template:"#versions-bom-row-actions",ui:{$edit:"li.edit-component",$delete:"li.delete-component",$ignore:"li.ignore-component",$unignore:"li.unignore-component"},events:{"click li.edit-component":"handleEditBtnClick","click li.delete-component":"handleDeleteBtnClick","click li.ignore-component":"handleIgnoreBtnClick","click li.unignore-component":"handleUnignoreBtnClick","click li.comment-component":"handleCommentBtnClick"},onRender:function(){this.model.get("ignored")&&(this.ui.$unignore.removeClass("hidden"),this.ui.$ignore.addClass("hidden")),d.contains(this.model.get("matchTypes"),"MANUAL_BOM_COMPONENT")&&(this.ui.$delete.removeClass("hidden"),this.ui.$ignore.addClass("hidden"))},setCurrentModelActive:function(){this.model.collection.collection=this.model.collection.map(function(a){return a.selected=!1,a}),this.model.selected=!0},handleEditBtnClick:function(){this.setCurrentModelActive(),e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"bulk-edit"},null)},handleIgnoreBtnClick:function(){this.setCurrentModelActive(),e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"bulk-ignore"},null)},handleUnignoreBtnClick:function(){this.setCurrentModelActive(),e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"bulk-unignore"},null)},handleDeleteBtnClick:function(){this.setCurrentModelActive(),e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"bulk-delete"},null)},handleCommentBtnClick:function(){var a=new e.Model({title:this.model.get("releaseVersion")?g.get("app.modules.versions.bom.comments.componentVersion.title",{componentName:this.model.get("projectName"),componentVersionName:this.model.get("releaseVersion")}):g.get("app.modules.versions.bom.comments.component.title",{componentName:this.model.get("projectName")}),component:this.model,comments:new h});e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"comments",view:"layout"},a)}})}),define("modules/versions-bom/controllers/adjusted-flag-cell",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.TableCell.extend({template:"#versions-bom-adjusted-flag",onRender:function(){this.model.get("adjusted")&&this.$el.tooltip({placement:"left auto",trigger:"hover",title:e.get("app.modules.bom.adjustedFlag"),container:".versions-bom"})}})}),define("modules/versions-bom/main",["require","exports","module","anglebrackets","backbone","ironclad","./views/layout","modules/link-nav/registry","./views/create","./views/bulk-edit","./views/bulk-ignore","./views/bulk-unignore","./views/bulk-delete","modules/projects/models/current-project","modules/common/controllers/hub-header-cell","modules/i18n/main","./controllers/reviewed-cell","./controllers/match-count-cell","./controllers/match-type-cell","./controllers/license-cell","./controllers/security-risk-cell","./controllers/operational-risk-cell","./controllers/comment","./controllers/row-actions","./controllers/adjusted-flag-cell"],function(a,b,c){function d(){return!p.attributes.kb}var e=a("anglebrackets"),f=a("backbone"),g=a("ironclad"),h=g.MessageBus,i=a("./views/layout"),j=a("modules/link-nav/registry"),k=a("./views/create"),l=a("./views/bulk-edit"),m=a("./views/bulk-ignore"),n=a("./views/bulk-unignore"),o=a("./views/bulk-delete"),p=a("modules/projects/models/current-project");j.addMenuItem("versions:localnav","#versions-bom-menu-link",{},200,d),h.reqres.setHandler("versions:views:content:bom",function(){return i}),h.reqres.setHandler("versions:views:modals:create",function(){return k}),h.reqres.setHandler("versions:views:modals:bulk-edit",function(){return l}),h.reqres.setHandler("versions:views:modals:bulk-ignore",function(){return m}),h.reqres.setHandler("versions:views:modals:bulk-unignore",function(){return n}),h.reqres.setHandler("versions:views:modals:bulk-delete",function(){return o});var q=a("modules/common/controllers/hub-header-cell"),r=a("modules/i18n/main");g.WeightedStore.addItem("bom-table-columns",{label:"",name:"reviewed",cell:a("./controllers/reviewed-cell"),editable:!1,sortable:!1,headerCell:q},3),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.projectRelease"),name:"projectName",cell:e.TableCell,template:"#versions-bom-project-cell",editable:!1,sortable:!0},4),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.matchCount"),name:"fileMatchCount",cell:a("./controllers/match-count-cell"),editable:!1,sortable:!0},5),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.matchType"),name:"producerMatchTypes",cell:a("./controllers/match-type-cell"),editable:!1,sortable:!1},6),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.usage"),name:"usages",cell:e.TableCell,template:"#versions-bom-usage-cell",editable:!1,sortable:!1,className:"bom-usage-cell"},7),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.license"),name:"license",cell:a("./controllers/license-cell"),editable:!1,sortable:!0},8),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.securityRisk"),name:"riskProfile.categories.VULNERABILITY",cell:a("./controllers/security-risk-cell"),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:q},9),g.WeightedStore.addItem("bom-table-columns",{label:r.get("app.modules.versions.bom.operationalRisk"),name:"riskProfile.categories.OPERATIONAL",cell:a("./controllers/operational-risk-cell"),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:q},10),g.WeightedStore.addItem("bom-table-columns",{name:"componentComments",cell:a("./controllers/comment"),label:"",editable:!1,sortable:!1},10),g.WeightedStore.addItem("bom-table-columns",{name:"componentAction",cell:a("./controllers/row-actions"),label:"",editable:!1,sortable:!1,renderable:function(a){var b=a;return a instanceof f.Collection||(b=a.collection),b&&(b.canUpdate()||b.canDelete())}},11),g.WeightedStore.addItem("bom-table-columns",{label:"",name:"adjustedFlag",cell:a("./controllers/adjusted-flag-cell"),editable:!1,sortable:!1},12),c.exports=i}),define("modules/versions-files-browse/views/generic-dependencies-modal",["require","exports","module","modules/modals/views/layout-view","modules/i18n/main","underscore"],function(a,b,c){var d=a("modules/modals/views/layout-view"),e=a("modules/i18n/main"),f=a("underscore");c.exports=d.extend({template:"#versions-files-browse-dependency-modal",titleKey:"",events:f.extend({},d.prototype.events,{"click a":"openLink"}),templateHelpers:function(){var a=this;return{getModalTitle:function(){return e.get(a.titleKey,{name:a.model.get("fileName")})}}},initialize:function(){d.prototype.initialize.apply(this,arguments),this.options.large=!0},openLink:function(a){return this.beforeOk(a),!0},redirect:function(){return!1}})}),define("modules/versions-files-browse/controllers/files-selectable-headcell",["require","exports","module","modules/i18n/main","modules/common/controllers/selectable-headcell"],function(a,b,c){var d=a("modules/i18n/main"),e=a("modules/common/controllers/selectable-headcell");c.exports=e.extend({extraOptions:[{attr:"fileBomMatchType",heading:d.get("app.modules.versions.bom.matchType"),mapper:function(a){var b=a.get("fileBomMatchType"),c=d.get("app.modules.version.files.browse.matchStatus."+b);if(b&&"UNMATCHED"!==b){var e=a.get("matchBomComponent");e&&e.versionBomMatchType&&(c=d.get("app.modules.version.files.browse.matchStatus."+e.versionBomMatchType))}return this._constructCustomOptionObj(c,c)}},{attr:"adjustment",heading:d.get("app.modules.versions.bom.adjustment"),mapper:function(a){var b=d.get("app.modules.versions.bom.adjustment.false"),c=a.get("matchBomComponent");return c&&c.adjusted&&(b=d.get("app.modules.versions.bom.adjustment.true")),this._constructCustomOptionObj(b,b)}},{attr:"usage",heading:d.get("app.modules.versions.bom.usage"),mapper:function(a){var b=a.get("matchBomComponent");return b&&b.usage?this._constructCustomOptionObj(b.usage,d.get("app.modules.versions.bom."+b.usage)):this._constructCustomOptionObj("",d.get("app.modules.common.notavailable"))}},{attr:"license",heading:d.get("app.modules.versions.bom.license"),mapper:function(a){var b=d.get("app.modules.licenses.unknown"),c=a.get("license");return c&&c.licenseDisplay!==b?this._constructCustomOptionObj(c.licenses,c.licenseDisplay):this._constructCustomOptionObj("unknown",b)}}]})}),define("modules/versions-files-browse/controllers/path-cell",["require","exports","module","anglebrackets","ironclad"],function(a,b,c){var d=a("anglebrackets"),e=a("ironclad"),f=e.MessageBus;c.exports=d.TableCell.extend({events:{"click .clickable-path":"selectCorrespondingNode","click .find-in-tree":"findInTree"},className:"path-cell",initialize:function(){d.TableCell.prototype.initialize.apply(this,arguments),this.model.set("isRoot",this.model.isRoot())},findInTree:function(a){var b=f.reqres.request("version:files:filters:get");b.removeFilter({name:"component"});var c=this.model.get("fullPath").split("/");"FILE"===this.model.get("type")&&c.pop(),f.vent.trigger("version:files:scan:expand",{scanId:this.model.get("scanId"),pathArray:c}),a.stopPropagation()},selectCorrespondingNode:function(a){var b={parentId:this.model.collection.parentId,nodeId:this.model.get("compositeId")};f.vent.trigger("version:browse:select:node",b),a.stopPropagation()},templateHelpers:{getLabel:function(){return this.fileIcon(this.type)+this.name},isTreeNodeSelected:function(){var a=f.reqres.request("versions:files:selectedNodes");return!(!a||!a.length)}}})}),define("modules/versions-files-browse/controllers/file-match",["require","exports","module","modules/i18n/main","anglebrackets","ironclad"],function(a,b,c){var d=(a("modules/i18n/main"),a("anglebrackets")),e=a("ironclad"),f=e.MessageBus;c.exports=d.TableCell.extend({template:"#versions-files-browse-file-match",events:{"click .partial-dependencies-link":"openPartialDependencies"},openPartialDependencies:function(a){a.preventDefault(),a.stopPropagation(),f.vent.trigger("assets:actions:modal",{assetName:"versions",view:"view-partial-dependencies"},this.model)}})}),define("modules/versions-files-browse/controllers/adjusted-flag-cell",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.TableCell.extend({template:"#versions-files-browse-adjusted-flag",onRender:function(){var a=this.model.get("matchBomComponent");a&&a.adjusted&&this.$el.tooltip({placement:"left auto",trigger:"hover",title:e.get("app.modules.bom.adjustedFlag"),container:"#files-table"})}})}),define("modules/versions-files-browse/main",["require","exports","module","backbone","ironclad","./views/generic-dependencies-modal","anglebrackets","modules/i18n/main","modules/common/controllers/expander-cell","modules/common/controllers/selectable-cell","./controllers/files-selectable-headcell","./controllers/path-cell","./controllers/file-match","modules/licenses/controllers/license-cell","./controllers/adjusted-flag-cell"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=e.MessageBus,g=a("./views/generic-dependencies-modal");f.reqres.setHandler("versions:views:modals:view-partial-dependencies",function(){return g.extend({template:"#versions-files-browse-partial-dependency-modal",titleKey:"app.modules.versions.bom.matchType.partial_dependencies_for"})});var h=a("anglebrackets"),i=a("modules/i18n/main");e.WeightedStore.addItem("file-bom-table-columns",{cell:a("modules/common/controllers/expander-cell"),name:"expander",label:"",editable:!1,sortable:!1},0),e.WeightedStore.addItem("file-bom-table-columns",{cell:a("modules/common/controllers/selectable-cell"),headerCell:a("./controllers/files-selectable-headcell"),editable:!1,sortable:!1,renderable:function(a){var b=a;return a instanceof d.Collection||(b=a.collection),b&&(b.canUpdate()||b.canDelete())}},1),e.WeightedStore.addItem("file-bom-table-columns",{label:i.get("common.name"),name:"name",cell:a("./controllers/path-cell"),template:"#versions-files-browse-path",editable:!1,sortable:!0},3),e.WeightedStore.addItem("file-bom-table-columns",{label:i.get("app.modules.versions.bom.projectRelease"),name:"fileMatchComponentName",template:"#versions-files-browse-project-version",cell:h.TableCell,editable:!1,sortable:!0},4),e.WeightedStore.addItem("file-bom-table-columns",{label:i.get("app.modules.version.files.browse.matchStatus"),name:"fileBomMatchType",cell:a("./controllers/file-match"),editable:!1,sortable:!1},6),e.WeightedStore.addItem("file-bom-table-columns",{label:i.get("app.modules.versions.bom.license"),name:"fileMatchComponentLicense",cell:a("modules/licenses/controllers/license-cell"),editable:!1,sortable:!0,readonly:!0},7),e.WeightedStore.addItem("file-bom-table-columns",{label:i.get("app.modules.versions.bom.usage"),name:"fileMatchComponentUsage",template:"#versions-files-browse-usage",cell:h.TableCell,editable:!1,sortable:!0},8),"true"===localStorage.getItem("kbDebug")&&e.WeightedStore.addItem("file-bom-table-columns",{label:"Signature data",name:"fileSignaturePair",template:"#versions-files-browse-signature",cell:h.TableCell,editable:!1,sortable:!1},9),e.WeightedStore.addItem("file-bom-table-columns",{label:"",name:"adjustedFlag",cell:a("./controllers/adjusted-flag-cell"),editable:!1,sortable:!1},10)}),define("modules/versions-files/models/code-tree",["require","exports","module","ironclad","modules/versions/models/current-version"],function(a,b,c){var d=a("ironclad"),e=a("modules/versions/models/current-version");c.exports=d.Model.extend({url:function(){return e.get("fileBomCodeLocationsUrl")}})}),function(a){"use strict";"function"==typeof define&&define.amd?define("jstree",["jquery"],a):"undefined"!=typeof module&&module.exports?module.exports=a(require("jquery")):a(jQuery)}(function(a,b){"use strict";if(!a.jstree){var c=0,d=!1,e=!1,f=!1,g=[],h=a("script:last").attr("src"),i=window.document;a.jstree={version:"3.3.3",defaults:{plugins:[]},plugins:{},path:h&&h.indexOf("/")!==-1?h.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},a.jstree.create=function(b,d){var e=new a.jstree.core(++c),f=d;return d=a.extend(!0,{},a.jstree.defaults,d),f&&f.plugins&&(d.plugins=f.plugins),a.each(d.plugins,function(a,b){"core"!==a&&(e=e.plugin(b,d[b]))}),a(b).data("jstree",e),e.init(b,d),e},a.jstree.destroy=function(){a(".jstree:jstree").jstree("destroy"),a(i).off(".jstree")},a.jstree.core=function(a){this._id=a,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},a.jstree.reference=function(b){var c=null,d=null;if(!b||!b.id||b.tagName&&b.nodeType||(b=b.id),!d||!d.length)try{d=a(b)}catch(a){}if(!d||!d.length)try{d=a("#"+b.replace(a.jstree.idregex,"\\$&"))}catch(a){}return d&&d.length&&(d=d.closest(".jstree")).length&&(d=d.data("jstree"))?c=d:a(".jstree").each(function(){var d=a(this).data("jstree");if(d&&d._model.data[b])return c=d,!1}),c},a.fn.jstree=function(c){var d="string"==typeof c,e=Array.prototype.slice.call(arguments,1),f=null;return!(c===!0&&!this.length)&&(this.each(function(){var g=a.jstree.reference(this),h=d&&g?g[c]:null;if(f=d&&h?h.apply(g,e):null,g||d||c!==b&&!a.isPlainObject(c)||a.jstree.create(this,c),(g&&!d||c===!0)&&(f=g||!1),null!==f&&f!==b)return!1}),null!==f&&f!==b?f:this)},a.expr.pseudos.jstree=a.expr.createPseudo(function(c){return function(c){return a(c).hasClass("jstree")&&a(c).data("jstree")!==b}}),a.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:a.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0},a.jstree.core.prototype={plugin:function(b,c){var d=a.jstree.plugins[b];return d?(this._data[b]={},d.prototype=this,new d(c,this)):this},init:function(b,c){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[a.jstree.root]={id:a.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=a(b).addClass("jstree jstree-"+this._id),this.settings=c,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='tree-item'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().height()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(a.jstree.root)},destroy:function(a){if(this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(a){}a||this.element.empty(),this.teardown()},_create_prototype_node:function(){var a,b,c=i.createElement("LI");return c.setAttribute("role","treeitem"),a=i.createElement("I"),a.className="jstree-icon jstree-ocl",a.setAttribute("role","presentation"),c.appendChild(a),a=i.createElement("A"),a.className="jstree-anchor",a.setAttribute("href","#"),a.setAttribute("tabindex","-1"),b=i.createElement("I"),b.className="jstree-icon jstree-themeicon",b.setAttribute("role","presentation"),a.appendChild(b),c.appendChild(a),a=b=null,c},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")}),this.element=null},bind:function(){var b="",c=null,d=0;this.element.on("dblclick.jstree",function(a){if(a.target.tagName&&"input"===a.target.tagName.toLowerCase())return!0;if(i.selection&&i.selection.empty)i.selection.empty();else if(window.getSelection){var b=window.getSelection();try{b.removeAllRanges(),b.collapse()}catch(a){}}}).on("mousedown.jstree",a.proxy(function(a){a.target===this.element[0]&&(a.preventDefault(),d=+new Date)},this)).on("mousedown.jstree",".jstree-ocl",function(a){a.preventDefault()}).on("click.jstree",".jstree-ocl",a.proxy(function(a){this.toggle_node(a.target)},this)).on("dblclick.jstree",".jstree-anchor",a.proxy(function(a){return!(!a.target.tagName||"input"!==a.target.tagName.toLowerCase())||void(this.settings.core.dblclick_toggle&&this.toggle_node(a.target))},this)).on("click.jstree",".jstree-anchor",a.proxy(function(b){b.preventDefault(),b.currentTarget!==i.activeElement&&a(b.currentTarget).focus(),this.activate_node(b.currentTarget,b)},this)).on("keydown.jstree",".jstree-anchor",a.proxy(function(b){if(b.target.tagName&&"input"===b.target.tagName.toLowerCase())return!0;if(32!==b.which&&13!==b.which&&(b.shiftKey||b.ctrlKey||b.altKey||b.metaKey))return!0;var c=null;switch(this._data.core.rtl&&(37===b.which?b.which=39:39===b.which&&(b.which=37)),b.which){case 32:b.ctrlKey&&(b.type="click",a(b.currentTarget).trigger(b));break;case 13:b.type="click",a(b.currentTarget).trigger(b);break;case 37:b.preventDefault(),this.is_open(b.currentTarget)?this.close_node(b.currentTarget):(c=this.get_parent(b.currentTarget),c&&c.id!==a.jstree.root&&this.get_node(c,!0).children(".jstree-anchor").focus());break;case 38:b.preventDefault(),c=this.get_prev_dom(b.currentTarget),c&&c.length&&c.children(".jstree-anchor").focus();break;case 39:b.preventDefault(),this.is_closed(b.currentTarget)?this.open_node(b.currentTarget,function(a){this.get_node(a,!0).children(".jstree-anchor").focus()}):this.is_open(b.currentTarget)&&(c=this.get_node(b.currentTarget,!0).children(".jstree-children")[0],c&&a(this._firstChild(c)).children(".jstree-anchor").focus());break;case 40:b.preventDefault(),c=this.get_next_dom(b.currentTarget),c&&c.length&&c.children(".jstree-anchor").focus();break;case 106:this.open_all();break;case 36:b.preventDefault(),c=this._firstChild(this.get_container_ul()[0]),c&&a(c).children(".jstree-anchor").filter(":visible").focus();break;case 35:b.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().focus();break;case 113:b.preventDefault(),this.edit(b.currentTarget)}},this)).on("load_node.jstree",a.proxy(function(b,c){c.status&&(c.node.id!==a.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(a.proxy(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var b,c,d=[];for(b=0,c=this._data.core.selected.length;b<c;b++)d=d.concat(this._model.data[this._data.core.selected[b]].parents);for(d=a.vakata.array_unique(d),b=0,c=d.length;b<c;b++)this.open_node(d[b],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}},this),0))},this)).on("keypress.jstree",a.proxy(function(d){if(d.target.tagName&&"input"===d.target.tagName.toLowerCase())return!0;c&&clearTimeout(c),c=setTimeout(function(){b=""},500);var e=String.fromCharCode(d.which).toLowerCase(),f=this.element.find(".jstree-anchor").filter(":visible"),g=f.index(i.activeElement)||0,h=!1;if(b+=e,b.length>1){if(f.slice(g).each(a.proxy(function(c,d){if(0===a(d).text().toLowerCase().indexOf(b))return a(d).focus(),h=!0,!1},this)),h)return;if(f.slice(0,g).each(a.proxy(function(c,d){if(0===a(d).text().toLowerCase().indexOf(b))return a(d).focus(),h=!0,!1},this)),h)return}if(new RegExp("^"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(b)){if(f.slice(g+1).each(a.proxy(function(b,c){if(a(c).text().toLowerCase().charAt(0)===e)return a(c).focus(),h=!0,!1},this)),h)return;if(f.slice(0,g+1).each(a.proxy(function(b,c){if(a(c).text().toLowerCase().charAt(0)===e)return a(c).focus(),h=!0,!1},this)),h)return}},this)).on("init.jstree",a.proxy(function(){var a=this.settings.core.themes;this._data.core.themes.dots=a.dots,this._data.core.themes.stripes=a.stripes,this._data.core.themes.icons=a.icons,this._data.core.themes.ellipsis=a.ellipsis,this.set_theme(a.name||"default",a.url),this.set_theme_variant(a.variant)},this)).on("loading.jstree",a.proxy(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()},this)).on("blur.jstree",".jstree-anchor",a.proxy(function(b){this._data.core.focused=null,a(b.currentTarget).filter(".jstree-hovered").mouseleave(),this.element.attr("tabindex","0")},this)).on("focus.jstree",".jstree-anchor",a.proxy(function(b){var c=this.get_node(b.currentTarget);c&&c.id&&(this._data.core.focused=c.id),this.element.find(".jstree-hovered").not(b.currentTarget).mouseleave(),a(b.currentTarget).mouseenter(),this.element.attr("tabindex","-1")},this)).on("focus.jstree",a.proxy(function(){if(+new Date-d>500&&!this._data.core.focused){d=0;var a=this.get_node(this.element.attr("aria-activedescendant"),!0);a&&a.find("> .jstree-anchor").focus()}},this)).on("mouseenter.jstree",".jstree-anchor",a.proxy(function(a){this.hover_node(a.currentTarget)},this)).on("mouseleave.jstree",".jstree-anchor",a.proxy(function(a){this.dehover_node(a.currentTarget)},this))},unbind:function(){this.element.off(".jstree"),a(i).off(".jstree-"+this._id)},trigger:function(a,b){b||(b={}),b.instance=this,this.element.triggerHandler(a.replace(".jstree","")+".jstree",b)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(b){var c=this.settings.core.strings;return a.isFunction(c)?c.call(this,b):c&&c[b]?c[b]:b},_firstChild:function(a){for(a=a?a.firstChild:null;null!==a&&1!==a.nodeType;)a=a.nextSibling;return a},_nextSibling:function(a){for(a=a?a.nextSibling:null;null!==a&&1!==a.nodeType;)a=a.nextSibling;return a},_previousSibling:function(a){for(a=a?a.previousSibling:null;null!==a&&1!==a.nodeType;)a=a.previousSibling;return a},get_node:function(b,c){b&&b.id&&(b=b.id);var d;try{if(this._model.data[b])b=this._model.data[b];else if("string"==typeof b&&this._model.data[b.replace(/^#/,"")])b=this._model.data[b.replace(/^#/,"")];else if("string"==typeof b&&(d=a("#"+b.replace(a.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[d.closest(".jstree-node").attr("id")])b=this._model.data[d.closest(".jstree-node").attr("id")];else if((d=a(b,this.element)).length&&this._model.data[d.closest(".jstree-node").attr("id")])b=this._model.data[d.closest(".jstree-node").attr("id")];else{if(!(d=a(b,this.element)).length||!d.hasClass("jstree"))return!1;b=this._model.data[a.jstree.root]}return c&&(b=b.id===a.jstree.root?this.element:a("#"+b.id.replace(a.jstree.idregex,"\\$&"),this.element)),b}catch(a){return!1}},get_path:function(b,c,d){if(b=b.parents?b:this.get_node(b),!b||b.id===a.jstree.root||!b.parents)return!1;var e,f,g=[];for(g.push(d?b.id:b.text),e=0,f=b.parents.length;e<f;e++)g.push(d?b.parents[e]:this.get_text(b.parents[e]));return g=g.reverse().slice(1),c?g.join(c):g},get_next_dom:function(b,c){var d;if(b=this.get_node(b,!0),b[0]===this.element[0]){for(d=this._firstChild(this.get_container_ul()[0]);d&&0===d.offsetHeight;)d=this._nextSibling(d);return!!d&&a(d)}if(!b||!b.length)return!1;if(c){d=b[0];do d=this._nextSibling(d);while(d&&0===d.offsetHeight);return!!d&&a(d)}if(b.hasClass("jstree-open")){for(d=this._firstChild(b.children(".jstree-children")[0]);d&&0===d.offsetHeight;)d=this._nextSibling(d);if(null!==d)return a(d)}d=b[0];do d=this._nextSibling(d);while(d&&0===d.offsetHeight);return null!==d?a(d):b.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(b,c){var d;if(b=this.get_node(b,!0),b[0]===this.element[0]){for(d=this.get_container_ul()[0].lastChild;d&&0===d.offsetHeight;)d=this._previousSibling(d);return!!d&&a(d)}if(!b||!b.length)return!1;if(c){d=b[0];do d=this._previousSibling(d);while(d&&0===d.offsetHeight);return!!d&&a(d)}d=b[0];do d=this._previousSibling(d);while(d&&0===d.offsetHeight);if(null!==d){for(b=a(d);b.hasClass("jstree-open");)b=b.children(".jstree-children").first().children(".jstree-node:visible:last");return b}return d=b[0].parentNode.parentNode,!(!d||!d.className||d.className.indexOf("jstree-node")===-1)&&a(d)},get_parent:function(b){return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&b.parent},get_children_dom:function(a){return a=this.get_node(a,!0),a[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!a||!a.length)&&a.children(".jstree-children").children(".jstree-node")},is_parent:function(a){return a=this.get_node(a),a&&(a.state.loaded===!1||a.children.length>0)},is_loaded:function(a){return a=this.get_node(a),a&&a.state.loaded},is_loading:function(a){return a=this.get_node(a),a&&a.state&&a.state.loading},is_open:function(a){return a=this.get_node(a),a&&a.state.opened},is_closed:function(a){return a=this.get_node(a),a&&this.is_parent(a)&&!a.state.opened},is_leaf:function(a){return!this.is_parent(a)},load_node:function(b,c){var d,e,f,g,h;if(a.isArray(b))return this._load_nodes(b.slice(),c),!0;if(b=this.get_node(b),!b)return c&&c.call(this,b,!1),!1;if(b.state.loaded){for(b.state.loaded=!1,f=0,g=b.parents.length;f<g;f++)this._model.data[b.parents[f]].children_d=a.vakata.array_filter(this._model.data[b.parents[f]].children_d,function(c){return a.inArray(c,b.children_d)===-1});for(d=0,e=b.children_d.length;d<e;d++)this._model.data[b.children_d[d]].state.selected&&(h=!0),delete this._model.data[b.children_d[d]];
    h&&(this._data.core.selected=a.vakata.array_filter(this._data.core.selected,function(c){return a.inArray(c,b.children_d)===-1})),b.children=[],b.children_d=[],h&&this.trigger("changed",{action:"load_node",node:b,selected:this._data.core.selected})}return b.state.failed=!1,b.state.loading=!0,this.get_node(b,!0).addClass("jstree-loading").attr("aria-busy",!0),this._load_node(b,a.proxy(function(a){b=this._model.data[b.id],b.state.loading=!1,b.state.loaded=a,b.state.failed=!b.state.loaded;var d=this.get_node(b,!0),e=0,f=0,g=this._model.data,h=!1;for(e=0,f=b.children.length;e<f;e++)if(g[b.children[e]]&&!g[b.children[e]].state.hidden){h=!0;break}b.state.loaded&&d&&d.length&&(d.removeClass("jstree-closed jstree-open jstree-leaf"),h?"#"!==b.id&&d.addClass(b.state.opened?"jstree-open":"jstree-closed"):d.addClass("jstree-leaf")),d.removeClass("jstree-loading").attr("aria-busy",!1),this.trigger("load_node",{node:b,status:a}),c&&c.call(this,b,a)},this)),!0},_load_nodes:function(a,b,c,d){var e,f,g=!0,h=function(){this._load_nodes(a,b,!0)},i=this._model.data,j=[];for(e=0,f=a.length;e<f;e++)i[a[e]]&&(!i[a[e]].state.loaded&&!i[a[e]].state.failed||!c&&d)&&(this.is_loading(a[e])||this.load_node(a[e],h),g=!1);if(g){for(e=0,f=a.length;e<f;e++)i[a[e]]&&i[a[e]].state.loaded&&j.push(a[e]);b&&!b.done&&(b.call(this,j),b.done=!0)}},load_all:function(b,c){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var d,e,f=[],g=this._model.data,h=g[b.id].children_d;for(b.state&&!b.state.loaded&&f.push(b.id),d=0,e=h.length;d<e;d++)g[h[d]]&&g[h[d]].state&&!g[h[d]].state.loaded&&f.push(h[d]);f.length?this._load_nodes(f,function(){this.load_all(b,c)}):(c&&c.call(this,b),this.trigger("load_all",{node:b}))},_load_node:function(b,c){var d,e=this.settings.core.data,f=function(){return 3!==this.nodeType&&8!==this.nodeType};return e?a.isFunction(e)?e.call(this,b,a.proxy(function(d){d===!1?c.call(this,!1):this["string"==typeof d?"_append_html_data":"_append_json_data"](b,"string"==typeof d?a(a.parseHTML(d)).filter(f):d,function(a){c.call(this,a)})},this)):"object"==typeof e?e.url?(e=a.extend(!0,{},e),a.isFunction(e.url)&&(e.url=e.url.call(this,b)),a.isFunction(e.data)&&(e.data=e.data.call(this,b)),a.ajax(e).done(a.proxy(function(d,e,g){var h=g.getResponseHeader("Content-Type");return h&&h.indexOf("json")!==-1||"object"==typeof d?this._append_json_data(b,d,function(a){c.call(this,a)}):h&&h.indexOf("html")!==-1||"string"==typeof d?this._append_html_data(b,a(a.parseHTML(d)).filter(f),function(a){c.call(this,a)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:g})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1))},this)).fail(a.proxy(function(a){c.call(this,!1),this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:b.id,xhr:a})},this.settings.core.error.call(this,this._data.core.last_error)},this))):(d=a.isArray(e)||a.isPlainObject(e)?JSON.parse(JSON.stringify(e)):e,b.id===a.jstree.root?this._append_json_data(b,d,function(a){c.call(this,a)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:b.id})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1))):"string"==typeof e?b.id===a.jstree.root?this._append_html_data(b,a(a.parseHTML(e)).filter(f),function(a){c.call(this,a)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:b.id})},this.settings.core.error.call(this,this._data.core.last_error),c.call(this,!1)):c.call(this,!1):b.id===a.jstree.root?this._append_html_data(b,this._data.core.original_container_html.clone(!0),function(a){c.call(this,a)}):c.call(this,!1)},_node_changed:function(a){a=this.get_node(a),a&&this._model.changed.push(a.id)},_append_html_data:function(b,c,d){b=this.get_node(b),b.children=[],b.children_d=[];var e,f,g,h=c.is("ul")?c.children():c,i=b.id,j=[],k=[],l=this._model.data,m=l[i],n=this._data.core.selected.length;for(h.each(a.proxy(function(b,c){e=this._parse_model_from_html(a(c),i,m.parents.concat()),e&&(j.push(e),k.push(e),l[e].children_d.length&&(k=k.concat(l[e].children_d)))},this)),m.children=j,m.children_d=k,f=0,g=m.parents.length;f<g;f++)l[m.parents[f]].children_d=l[m.parents[f]].children_d.concat(k);this.trigger("model",{nodes:k,parent:i}),i!==a.jstree.root?(this._node_changed(i),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==n&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),d.call(this,!0)},_append_json_data:function(b,c,d,e){if(null!==this.element){b=this.get_node(b),b.children=[],b.children_d=[],c.d&&(c=c.d,"string"==typeof c&&(c=JSON.parse(c))),a.isArray(c)||(c=[c]);var f=null,g={df:this._model.default_state,dat:c,par:b.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},h=function(a,b){a.data&&(a=a.data);var c,d,e,f,g=a.dat,h=a.par,i=[],j=[],k=[],l=a.df,m=a.t_id,n=a.t_cnt,o=a.m,p=o[h],q=a.sel,r=function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e,f,g,h,i=a.id.toString(),j={id:i,text:a.text||"",icon:a.icon===b||a.icon,parent:c,parents:d,children:a.children||[],children_d:a.children_d||[],data:a.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in l)l.hasOwnProperty(e)&&(j.state[e]=l[e]);if(a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(j.icon=a.data.jstree.icon),j.icon!==b&&null!==j.icon&&""!==j.icon||(j.icon=!0),a&&a.data&&(j.data=a.data,a.data.jstree))for(e in a.data.jstree)a.data.jstree.hasOwnProperty(e)&&(j.state[e]=a.data.jstree[e]);if(a&&"object"==typeof a.state)for(e in a.state)a.state.hasOwnProperty(e)&&(j.state[e]=a.state[e]);if(a&&"object"==typeof a.li_attr)for(e in a.li_attr)a.li_attr.hasOwnProperty(e)&&(j.li_attr[e]=a.li_attr[e]);if(j.li_attr.id||(j.li_attr.id=i),a&&"object"==typeof a.a_attr)for(e in a.a_attr)a.a_attr.hasOwnProperty(e)&&(j.a_attr[e]=a.a_attr[e]);for(a&&a.children&&a.children===!0&&(j.state.loaded=!1,j.children=[],j.children_d=[]),o[j.id]=j,e=0,f=j.children.length;e<f;e++)g=r(o[j.children[e]],j.id,d),h=o[g],j.children_d.push(g),h.children_d.length&&(j.children_d=j.children_d.concat(h.children_d));return delete a.data,delete a.children,o[j.id].original=a,j.state.selected&&k.push(j.id),j.id},s=function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e,f,g,h,i,j=!1;do j="j"+m+"_"+ ++n;while(o[j]);i={id:!1,text:"string"==typeof a?a:"",icon:"object"!=typeof a||a.icon===b||a.icon,parent:c,parents:d,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in l)l.hasOwnProperty(e)&&(i.state[e]=l[e]);if(a&&a.id&&(i.id=a.id.toString()),a&&a.text&&(i.text=a.text),a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(i.icon=a.data.jstree.icon),i.icon!==b&&null!==i.icon&&""!==i.icon||(i.icon=!0),a&&a.data&&(i.data=a.data,a.data.jstree))for(e in a.data.jstree)a.data.jstree.hasOwnProperty(e)&&(i.state[e]=a.data.jstree[e]);if(a&&"object"==typeof a.state)for(e in a.state)a.state.hasOwnProperty(e)&&(i.state[e]=a.state[e]);if(a&&"object"==typeof a.li_attr)for(e in a.li_attr)a.li_attr.hasOwnProperty(e)&&(i.li_attr[e]=a.li_attr[e]);if(i.li_attr.id&&!i.id&&(i.id=i.li_attr.id.toString()),i.id||(i.id=j),i.li_attr.id||(i.li_attr.id=i.id),a&&"object"==typeof a.a_attr)for(e in a.a_attr)a.a_attr.hasOwnProperty(e)&&(i.a_attr[e]=a.a_attr[e]);if(a&&a.children&&a.children.length){for(e=0,f=a.children.length;e<f;e++)g=s(a.children[e],i.id,d),h=o[g],i.children.push(g),h.children_d.length&&(i.children_d=i.children_d.concat(h.children_d));i.children_d=i.children_d.concat(i.children)}return a&&a.children&&a.children===!0&&(i.state.loaded=!1,i.children=[],i.children_d=[]),delete a.data,delete a.children,i.original=a,o[i.id]=i,i.state.selected&&k.push(i.id),i.id};if(g.length&&g[0].id!==b&&g[0].parent!==b){for(d=0,e=g.length;d<e;d++)g[d].children||(g[d].children=[]),o[g[d].id.toString()]=g[d];for(d=0,e=g.length;d<e;d++)o[g[d].parent.toString()].children.push(g[d].id.toString()),p.children_d.push(g[d].id.toString());for(d=0,e=p.children.length;d<e;d++)c=r(o[p.children[d]],h,p.parents.concat()),j.push(c),o[c].children_d.length&&(j=j.concat(o[c].children_d));for(d=0,e=p.parents.length;d<e;d++)o[p.parents[d]].children_d=o[p.parents[d]].children_d.concat(j);f={cnt:n,mod:o,sel:q,par:h,dpc:j,add:k}}else{for(d=0,e=g.length;d<e;d++)c=s(g[d],h,p.parents.concat()),c&&(i.push(c),j.push(c),o[c].children_d.length&&(j=j.concat(o[c].children_d)));for(p.children=i,p.children_d=j,d=0,e=p.parents.length;d<e;d++)o[p.parents[d]].children_d=o[p.parents[d]].children_d.concat(j);f={cnt:n,mod:o,sel:q,par:h,dpc:j,add:k}}return"undefined"!=typeof window&&"undefined"!=typeof window.document?f:void postMessage(f)},i=function(b,c){if(null!==this.element){this._cnt=b.cnt;var e,f=this._model.data;for(e in f)f.hasOwnProperty(e)&&f[e].state&&f[e].state.loading&&b.mod[e]&&(b.mod[e].state.loading=!0);if(this._model.data=b.mod,c){var g,h=b.add,i=b.sel,j=this._data.core.selected.slice();if(f=this._model.data,i.length!==j.length||a.vakata.array_unique(i.concat(j)).length!==i.length){for(e=0,g=i.length;e<g;e++)a.inArray(i[e],h)===-1&&a.inArray(i[e],j)===-1&&(f[i[e]].state.selected=!1);for(e=0,g=j.length;e<g;e++)a.inArray(j[e],i)===-1&&(f[j[e]].state.selected=!0)}}b.add.length&&(this._data.core.selected=this._data.core.selected.concat(b.add)),this.trigger("model",{nodes:b.dpc,parent:b.par}),b.par!==a.jstree.root?(this._node_changed(b.par),this.redraw()):this.redraw(!0),b.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),d.call(this,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+h.toString()],{type:"text/javascript"}))),!this._data.core.working||e?(this._data.core.working=!0,f=new window.Worker(this._wrk),f.onmessage=a.proxy(function(a){i.call(this,a.data,!0);try{f.terminate(),f=null}catch(a){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1},this),g.par?f.postMessage(g):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([b,c,d,!0])}catch(a){i.call(this,h(g),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else i.call(this,h(g),!1)}},_parse_model_from_html:function(c,d,e){e=e?[].concat(e):[],d&&e.unshift(d);var f,g,h,i,j,k=this._model.data,l={id:!1,text:!1,icon:!0,parent:d,parents:e,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(h in this._model.default_state)this._model.default_state.hasOwnProperty(h)&&(l.state[h]=this._model.default_state[h]);if(i=a.vakata.attributes(c,!0),a.each(i,function(b,c){return c=a.trim(c),!c.length||(l.li_attr[b]=c,void("id"===b&&(l.id=c.toString())))}),i=c.children("a").first(),i.length&&(i=a.vakata.attributes(i,!0),a.each(i,function(b,c){c=a.trim(c),c.length&&(l.a_attr[b]=c)})),i=c.children("a").first().length?c.children("a").first().clone():c.clone(),i.children("ins, i, ul").remove(),i=i.html(),i=a("<div />").html(i),l.text=this.settings.core.force_text?i.text():i.html(),i=c.data(),l.data=i?a.extend(!0,{},i):null,l.state.opened=c.hasClass("jstree-open"),l.state.selected=c.children("a").hasClass("jstree-clicked"),l.state.disabled=c.children("a").hasClass("jstree-disabled"),l.data&&l.data.jstree)for(h in l.data.jstree)l.data.jstree.hasOwnProperty(h)&&(l.state[h]=l.data.jstree[h]);i=c.children("a").children(".jstree-themeicon"),i.length&&(l.icon=!i.hasClass("jstree-themeicon-hidden")&&i.attr("rel")),l.state.icon!==b&&(l.icon=l.state.icon),l.icon!==b&&null!==l.icon&&""!==l.icon||(l.icon=!0),i=c.children("ul").children("li");do j="j"+this._id+"_"+ ++this._cnt;while(k[j]);return l.id=l.li_attr.id?l.li_attr.id.toString():j,i.length?(i.each(a.proxy(function(b,c){f=this._parse_model_from_html(a(c),l.id,e),g=this._model.data[f],l.children.push(f),g.children_d.length&&(l.children_d=l.children_d.concat(g.children_d))},this)),l.children_d=l.children_d.concat(l.children)):c.hasClass("jstree-closed")&&(l.state.loaded=!1),l.li_attr.class&&(l.li_attr.class=l.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),l.a_attr.class&&(l.a_attr.class=l.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),k[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_parse_model_from_flat_json:function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e,f,g,h,i=a.id.toString(),j=this._model.data,k=this._model.default_state,l={id:i,text:a.text||"",icon:a.icon===b||a.icon,parent:c,parents:d,children:a.children||[],children_d:a.children_d||[],data:a.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in k)k.hasOwnProperty(e)&&(l.state[e]=k[e]);if(a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(l.icon=a.data.jstree.icon),l.icon!==b&&null!==l.icon&&""!==l.icon||(l.icon=!0),a&&a.data&&(l.data=a.data,a.data.jstree))for(e in a.data.jstree)a.data.jstree.hasOwnProperty(e)&&(l.state[e]=a.data.jstree[e]);if(a&&"object"==typeof a.state)for(e in a.state)a.state.hasOwnProperty(e)&&(l.state[e]=a.state[e]);if(a&&"object"==typeof a.li_attr)for(e in a.li_attr)a.li_attr.hasOwnProperty(e)&&(l.li_attr[e]=a.li_attr[e]);if(l.li_attr.id||(l.li_attr.id=i),a&&"object"==typeof a.a_attr)for(e in a.a_attr)a.a_attr.hasOwnProperty(e)&&(l.a_attr[e]=a.a_attr[e]);for(a&&a.children&&a.children===!0&&(l.state.loaded=!1,l.children=[],l.children_d=[]),j[l.id]=l,e=0,f=l.children.length;e<f;e++)g=this._parse_model_from_flat_json(j[l.children[e]],l.id,d),h=j[g],l.children_d.push(g),h.children_d.length&&(l.children_d=l.children_d.concat(h.children_d));return delete a.data,delete a.children,j[l.id].original=a,l.state.selected&&this._data.core.selected.push(l.id),l.id},_parse_model_from_json:function(a,c,d){d=d?d.concat():[],c&&d.unshift(c);var e,f,g,h,i,j=!1,k=this._model.data,l=this._model.default_state;do j="j"+this._id+"_"+ ++this._cnt;while(k[j]);i={id:!1,text:"string"==typeof a?a:"",icon:"object"!=typeof a||a.icon===b||a.icon,parent:c,parents:d,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in l)l.hasOwnProperty(e)&&(i.state[e]=l[e]);if(a&&a.id&&(i.id=a.id.toString()),a&&a.text&&(i.text=a.text),a&&a.data&&a.data.jstree&&a.data.jstree.icon&&(i.icon=a.data.jstree.icon),i.icon!==b&&null!==i.icon&&""!==i.icon||(i.icon=!0),a&&a.data&&(i.data=a.data,a.data.jstree))for(e in a.data.jstree)a.data.jstree.hasOwnProperty(e)&&(i.state[e]=a.data.jstree[e]);if(a&&"object"==typeof a.state)for(e in a.state)a.state.hasOwnProperty(e)&&(i.state[e]=a.state[e]);if(a&&"object"==typeof a.li_attr)for(e in a.li_attr)a.li_attr.hasOwnProperty(e)&&(i.li_attr[e]=a.li_attr[e]);if(i.li_attr.id&&!i.id&&(i.id=i.li_attr.id.toString()),i.id||(i.id=j),i.li_attr.id||(i.li_attr.id=i.id),a&&"object"==typeof a.a_attr)for(e in a.a_attr)a.a_attr.hasOwnProperty(e)&&(i.a_attr[e]=a.a_attr[e]);if(a&&a.children&&a.children.length){for(e=0,f=a.children.length;e<f;e++)g=this._parse_model_from_json(a.children[e],i.id,d),h=k[g],i.children.push(g),h.children_d.length&&(i.children_d=i.children_d.concat(h.children_d));i.children_d=i.children_d.concat(i.children)}return a&&a.children&&a.children===!0&&(i.state.loaded=!1,i.children=[],i.children_d=[]),delete a.data,delete a.children,i.original=a,k[i.id]=i,i.state.selected&&this._data.core.selected.push(i.id),i.id},_redraw:function(){var b,c,d,e=this._model.force_full_redraw?this._model.data[a.jstree.root].children.concat([]):this._model.changed.concat([]),f=i.createElement("UL"),g=this._data.core.focused;for(c=0,d=e.length;c<d;c++)b=this.redraw_node(e[c],!0,this._model.force_full_redraw),b&&this._model.force_full_redraw&&f.appendChild(b);this._model.force_full_redraw&&(f.className=this.get_container_ul()[0].className,f.setAttribute("role","group"),this.element.empty().append(f)),null!==g&&(b=this.get_node(g,!0),b&&b.length&&b.children(".jstree-anchor")[0]!==i.activeElement?b.children(".jstree-anchor").focus():this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:e})},redraw:function(a){a&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(b){var c=this.get_node(b),d=!1,e=!1,f=!1,g=i;if(!c)return!1;if(c.id===a.jstree.root)return this.redraw(!0);if(b=this.get_node(b,!0),!b||!b.length)return!1;if(b.children(".jstree-children").remove(),b=b[0],c.children.length&&c.state.loaded){for(f=g.createElement("UL"),f.setAttribute("role","group"),f.className="jstree-children",d=0,e=c.children.length;d<e;d++)f.appendChild(this.redraw_node(c.children[d],!0,!0));b.appendChild(f)}},redraw_node:function(b,c,d,e){var f=this.get_node(b),g=!1,h=!1,j=!1,k=!1,l=!1,m=!1,n="",o=i,p=this._model.data,q=!1,r=null,s=0,t=0,u=!1,v=!1;if(!f)return!1;if(f.id===a.jstree.root)return this.redraw(!0);if(c=c||0===f.children.length,b=i.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(f.id[0])!==-1?"\\3"+f.id[0]+" "+f.id.substr(1).replace(a.jstree.idregex,"\\$&"):f.id.replace(a.jstree.idregex,"\\$&"))):i.getElementById(f.id))b=a(b),d||(g=b.parent().parent()[0],g===this.element[0]&&(g=null),h=b.index()),c||!f.children.length||b.children(".jstree-children").length||(c=!0),c||(j=b.children(".jstree-children")[0]),q=b.children(".jstree-anchor")[0]===i.activeElement,b.remove();else if(c=!0,!d){if(g=f.parent!==a.jstree.root?a("#"+f.parent.replace(a.jstree.idregex,"\\$&"),this.element)[0]:null,!(null===g||g&&p[f.parent].state.opened))return!1;h=a.inArray(f.id,null===g?p[a.jstree.root].children:p[f.parent].children)}b=this._data.core.node.cloneNode(!0),n="jstree-node ";for(k in f.li_attr)if(f.li_attr.hasOwnProperty(k)){if("id"===k)continue;"class"!==k?b.setAttribute(k,f.li_attr[k]):n+=f.li_attr[k]}for(f.a_attr.id||(f.a_attr.id=f.id+"_anchor"),b.setAttribute("aria-selected",!!f.state.selected),b.setAttribute("aria-level",f.parents.length),b.setAttribute("aria-labelledby",f.a_attr.id),f.state.disabled&&b.setAttribute("aria-disabled",!0),k=0,l=f.children.length;k<l;k++)if(!p[f.children[k]].state.hidden){u=!0;break}if(null!==f.parent&&p[f.parent]&&!f.state.hidden&&(k=a.inArray(f.id,p[f.parent].children),v=f.id,k!==-1))for(k++,l=p[f.parent].children.length;k<l&&(p[p[f.parent].children[k]].state.hidden||(v=p[f.parent].children[k]),v===f.id);k++);f.state.hidden&&(n+=" jstree-hidden"),f.state.loaded&&!u?n+=" jstree-leaf":(n+=f.state.opened&&f.state.loaded?" jstree-open":" jstree-closed",b.setAttribute("aria-expanded",f.state.opened&&f.state.loaded)),v===f.id&&(n+=" jstree-last"),b.id=f.id,b.className=n,n=(f.state.selected?" jstree-clicked":"")+(f.state.disabled?" jstree-disabled":"");for(l in f.a_attr)if(f.a_attr.hasOwnProperty(l)){if("href"===l&&"#"===f.a_attr[l])continue;"class"!==l?b.childNodes[1].setAttribute(l,f.a_attr[l]):n+=" "+f.a_attr[l]}if(n.length&&(b.childNodes[1].className="jstree-anchor "+n),(f.icon&&f.icon!==!0||f.icon===!1)&&(f.icon===!1?b.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":f.icon.indexOf("/")===-1&&f.icon.indexOf(".")===-1?b.childNodes[1].childNodes[0].className+=" "+f.icon+" jstree-themeicon-custom":(b.childNodes[1].childNodes[0].style.backgroundImage='url("'+f.icon+'")',b.childNodes[1].childNodes[0].style.backgroundPosition="center center",b.childNodes[1].childNodes[0].style.backgroundSize="auto",b.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?b.childNodes[1].appendChild(o.createTextNode(f.text)):b.childNodes[1].innerHTML+=f.text,c&&f.children.length&&(f.state.opened||e)&&f.state.loaded){for(m=o.createElement("UL"),m.setAttribute("role","group"),m.className="jstree-children",k=0,l=f.children.length;k<l;k++)m.appendChild(this.redraw_node(f.children[k],c,!0));b.appendChild(m)}if(j&&b.appendChild(j),!d){for(g||(g=this.element[0]),k=0,l=g.childNodes.length;k<l;k++)if(g.childNodes[k]&&g.childNodes[k].className&&g.childNodes[k].className.indexOf("jstree-children")!==-1){r=g.childNodes[k];break}r||(r=o.createElement("UL"),r.setAttribute("role","group"),r.className="jstree-children",g.appendChild(r)),g=r,h<g.childNodes.length?g.insertBefore(b,g.childNodes[h]):g.appendChild(b),q&&(s=this.element[0].scrollTop,t=this.element[0].scrollLeft,b.childNodes[1].focus(),this.element[0].scrollTop=s,this.element[0].scrollLeft=t)}return f.state.opened&&!f.state.loaded&&(f.state.opened=!1,setTimeout(a.proxy(function(){this.open_node(f.id,!1,0)},this),0)),b},open_node:function(c,d,e){var f,g,h,i;if(a.isArray(c)){for(c=c.slice(),f=0,g=c.length;f<g;f++)this.open_node(c[f],d,e);return!0}return c=this.get_node(c),!(!c||c.id===a.jstree.root)&&(e=e===b?this.settings.core.animation:e,this.is_closed(c)?this.is_loaded(c)?(h=this.get_node(c,!0),i=this,h.length&&(e&&h.children(".jstree-children").length&&h.children(".jstree-children").stop(!0,!0),c.children.length&&!this._firstChild(h.children(".jstree-children")[0])&&this.draw_children(c),e?(this.trigger("before_open",{node:c}),h.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").attr("aria-expanded",!0).children(".jstree-children").stop(!0,!0).slideDown(e,function(){this.style.display="",i.element&&i.trigger("after_open",{node:c})})):(this.trigger("before_open",{node:c}),h[0].className=h[0].className.replace("jstree-closed","jstree-open"),h[0].setAttribute("aria-expanded",!0))),c.state.opened=!0,d&&d.call(this,c,!0),h.length||this.trigger("before_open",{node:c}),this.trigger("open_node",{node:c}),e&&h.length||this.trigger("after_open",{node:c}),!0):this.is_loading(c)?setTimeout(a.proxy(function(){this.open_node(c,d,e)},this),500):void this.load_node(c,function(a,b){return b?this.open_node(a,d,e):!!d&&d.call(this,a,!1)}):(d&&d.call(this,c,!1),!1))},_open_to:function(b){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var c,d,e=b.parents;for(c=0,d=e.length;c<d;c+=1)c!==a.jstree.root&&this.open_node(e[c],!1,0);return a("#"+b.id.replace(a.jstree.idregex,"\\$&"),this.element)},close_node:function(c,d){var e,f,g,h;if(a.isArray(c)){for(c=c.slice(),e=0,f=c.length;e<f;e++)this.close_node(c[e],d);return!0}return c=this.get_node(c),!(!c||c.id===a.jstree.root)&&(!this.is_closed(c)&&(d=d===b?this.settings.core.animation:d,g=this,h=this.get_node(c,!0),c.state.opened=!1,this.trigger("close_node",{node:c}),void(h.length?d?h.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").attr("aria-expanded",!1).children(".jstree-children").stop(!0,!0).slideUp(d,function(){this.style.display="",h.children(".jstree-children").remove(),g.element&&g.trigger("after_close",{node:c})}):(h[0].className=h[0].className.replace("jstree-open","jstree-closed"),h.attr("aria-expanded",!1).children(".jstree-children").remove(),this.trigger("after_close",{node:c})):this.trigger("after_close",{node:c}))))},toggle_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.toggle_node(b[c]);return!0}return this.is_closed(b)?this.open_node(b):this.is_open(b)?this.close_node(b):void 0},open_all:function(b,c,d){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var e,f,g,h=b.id===a.jstree.root?this.get_container_ul():this.get_node(b,!0);if(!h.length){for(e=0,f=b.children_d.length;e<f;e++)this.is_closed(this._model.data[b.children_d[e]])&&(this._model.data[b.children_d[e]].state.opened=!0);return this.trigger("open_all",{node:b})}d=d||h,g=this,h=this.is_closed(b)?h.find(".jstree-closed").addBack():h.find(".jstree-closed"),h.each(function(){g.open_node(this,function(a,b){b&&this.is_parent(a)&&this.open_all(a,c,d)},c||0)}),0===d.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(d)})},close_all:function(b,c){if(b||(b=a.jstree.root),b=this.get_node(b),!b)return!1;var d,e,f=b.id===a.jstree.root?this.get_container_ul():this.get_node(b,!0),g=this;for(f.length&&(f=this.is_open(b)?f.find(".jstree-open").addBack():f.find(".jstree-open"),a(f.get().reverse()).each(function(){g.close_node(this,c||0)})),d=0,e=b.children_d.length;d<e;d++)this._model.data[b.children_d[d]].state.opened=!1;this.trigger("close_all",{node:b})},is_disabled:function(a){return a=this.get_node(a),a&&a.state&&a.state.disabled},enable_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.enable_node(b[c]);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(b.state.disabled=!1,this.get_node(b,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),void this.trigger("enable_node",{node:b}))},disable_node:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.disable_node(b[c]);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(b.state.disabled=!0,this.get_node(b,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),void this.trigger("disable_node",{node:b}))},is_hidden:function(a){return a=this.get_node(a),a.state.hidden===!0},hide_node:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;d<e;d++)this.hide_node(b[d],!0);return c||this.redraw(),!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&void(b.state.hidden||(b.state.hidden=!0,this._node_changed(b.parent),c||this.redraw(),this.trigger("hide_node",{node:b})))},show_node:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;d<e;d++)this.show_node(b[d],!0);return c||this.redraw(),!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&void(b.state.hidden&&(b.state.hidden=!1,this._node_changed(b.parent),c||this.redraw(),this.trigger("show_node",{node:b})))},hide_all:function(b){var c,d=this._model.data,e=[];for(c in d)d.hasOwnProperty(c)&&c!==a.jstree.root&&!d[c].state.hidden&&(d[c].state.hidden=!0,e.push(c));return this._model.force_full_redraw=!0,b||this.redraw(),this.trigger("hide_all",{nodes:e}),e},show_all:function(b){var c,d=this._model.data,e=[];for(c in d)d.hasOwnProperty(c)&&c!==a.jstree.root&&d[c].state.hidden&&(d[c].state.hidden=!1,e.push(c));return this._model.force_full_redraw=!0,b||this.redraw(),this.trigger("show_all",{nodes:e}),e},activate_node:function(a,c){if(this.is_disabled(a))return!1;if(c&&"object"==typeof c||(c={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==b?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&(!c.shiftKey||this._data.core.last_clicked&&this.get_parent(a)&&this.get_parent(a)===this._data.core.last_clicked.parent))if(c.shiftKey){var d,e,f=this.get_node(a).id,g=this._data.core.last_clicked.id,h=this.get_node(this._data.core.last_clicked.parent).children,i=!1;for(d=0,e=h.length;d<e;d+=1)h[d]===f&&(i=!i),h[d]===g&&(i=!i),this.is_disabled(h[d])||!i&&h[d]!==f&&h[d]!==g?this.deselect_node(h[d],!0,c):this.is_hidden(h[d])||this.select_node(h[d],!0,!1,c);this.trigger("changed",{action:"select_node",node:this.get_node(a),selected:this._data.core.selected,event:c})}else this.is_selected(a)?this.deselect_node(a,!1,c):this.select_node(a,!1,!1,c);else!this.settings.core.multiple&&(c.metaKey||c.ctrlKey||c.shiftKey)&&this.is_selected(a)?this.deselect_node(a,!1,c):(this.deselect_all(!0),this.select_node(a,!1,!1,c),this._data.core.last_clicked=this.get_node(a));this.trigger("activate_node",{node:this.get_node(a),event:c})},hover_node:function(a){if(a=this.get_node(a,!0),!a||!a.length||a.children(".jstree-hovered").length)return!1;var b=this.element.find(".jstree-hovered"),c=this.element;b&&b.length&&this.dehover_node(b),a.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(a)}),setTimeout(function(){c.attr("aria-activedescendant",a[0].id)},0)},dehover_node:function(a){return a=this.get_node(a,!0),!!(a&&a.length&&a.children(".jstree-hovered").length)&&(a.children(".jstree-anchor").removeClass("jstree-hovered"),void this.trigger("dehover_node",{node:this.get_node(a)}))},select_node:function(b,c,d,e){var f,g,h;if(a.isArray(b)){for(b=b.slice(),g=0,h=b.length;g<h;g++)this.select_node(b[g],c,d,e);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(f=this.get_node(b,!0),void(b.state.selected||(b.state.selected=!0,this._data.core.selected.push(b.id),d||(f=this._open_to(b)),f&&f.length&&f.attr("aria-selected",!0).children(".jstree-anchor").addClass("jstree-clicked"),this.trigger("select_node",{node:b,selected:this._data.core.selected,event:e}),c||this.trigger("changed",{action:"select_node",node:b,selected:this._data.core.selected,event:e}))))},deselect_node:function(b,c,d){var e,f,g;if(a.isArray(b)){for(b=b.slice(),e=0,f=b.length;e<f;e++)this.deselect_node(b[e],c,d);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(g=this.get_node(b,!0),void(b.state.selected&&(b.state.selected=!1,this._data.core.selected=a.vakata.array_remove_item(this._data.core.selected,b.id),g.length&&g.attr("aria-selected",!1).children(".jstree-anchor").removeClass("jstree-clicked"),this.trigger("deselect_node",{node:b,selected:this._data.core.selected,event:d}),c||this.trigger("changed",{action:"deselect_node",node:b,selected:this._data.core.selected,event:d}))))},select_all:function(b){var c,d,e=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[a.jstree.root].children_d.concat(),c=0,d=this._data.core.selected.length;c<d;c++)this._model.data[this._data.core.selected[c]]&&(this._model.data[this._data.core.selected[c]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),b||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:e})},deselect_all:function(a){var b,c,d=this._data.core.selected.concat([]);for(b=0,c=this._data.core.selected.length;b<c;b++)this._model.data[this._data.core.selected[b]]&&(this._model.data[this._data.core.selected[b]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").parent().attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:d}),a||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:d})},is_selected:function(b){return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&b.state.selected},get_selected:function(b){return b?a.map(this._data.core.selected,a.proxy(function(a){return this.get_node(a)},this)):this._data.core.selected.slice()},get_top_selected:function(b){var c,d,e,f,g=this.get_selected(!0),h={};for(c=0,d=g.length;c<d;c++)h[g[c].id]=g[c];for(c=0,d=g.length;c<d;c++)for(e=0,f=g[c].children_d.length;e<f;e++)h[g[c].children_d[e]]&&delete h[g[c].children_d[e]];g=[];for(c in h)h.hasOwnProperty(c)&&g.push(c);return b?a.map(g,a.proxy(function(a){return this.get_node(a)},this)):g},get_bottom_selected:function(b){var c,d,e=this.get_selected(!0),f=[];for(c=0,d=e.length;c<d;c++)e[c].children.length||f.push(e[c].id);return b?a.map(f,a.proxy(function(a){return this.get_node(a)},this)):f},get_state:function(){var b,c={core:{open:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(b in this._model.data)this._model.data.hasOwnProperty(b)&&b!==a.jstree.root&&(this._model.data[b].state.opened&&c.core.open.push(b),this._model.data[b].state.selected&&c.core.selected.push(b));return c},set_state:function(c,d){
    if(c){if(c.core){var e,f;if(c.core.open)return a.isArray(c.core.open)&&c.core.open.length?this._load_nodes(c.core.open,function(a){this.open_node(a,!1,0),delete c.core.open,this.set_state(c,d)}):(delete c.core.open,this.set_state(c,d)),!1;if(c.core.scroll)return c.core.scroll&&c.core.scroll.left!==b&&this.element.scrollLeft(c.core.scroll.left),c.core.scroll&&c.core.scroll.top!==b&&this.element.scrollTop(c.core.scroll.top),delete c.core.scroll,this.set_state(c,d),!1;if(c.core.selected)return e=this,this.deselect_all(),a.each(c.core.selected,function(a,b){e.select_node(b,!1,!0)}),delete c.core.selected,this.set_state(c,d),!1;for(f in c)c.hasOwnProperty(f)&&"core"!==f&&a.inArray(f,this.settings.plugins)===-1&&delete c[f];if(a.isEmptyObject(c.core))return delete c.core,this.set_state(c,d),!1}return!a.isEmptyObject(c)||(c=null,d&&d.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(b,c){this._data.core.state=c===!0?{}:this.get_state(),c&&a.isFunction(c)&&(this._data.core.state=c.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[a.jstree.root]={id:a.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var d=this.get_container_ul()[0].className;b||(this.element.html("<ul class='"+d+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='treeitem' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(a.jstree.root,function(b,c){c&&(this.get_container_ul()[0].className=d,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(a.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(b){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var c=[],d=[],e=this._data.core.selected.concat([]);d.push(b.id),b.state.opened===!0&&c.push(b.id),this.get_node(b,!0).find(".jstree-open").each(function(){d.push(this.id),c.push(this.id)}),this._load_nodes(d,a.proxy(function(a){this.open_node(c,!1,0),this.select_node(e),this.trigger("refresh_node",{node:b,nodes:a})},this),!1,!0)},set_id:function(b,c){if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;var d,e,f=this._model.data,g=b.id;for(c=c.toString(),f[b.parent].children[a.inArray(b.id,f[b.parent].children)]=c,d=0,e=b.parents.length;d<e;d++)f[b.parents[d]].children_d[a.inArray(b.id,f[b.parents[d]].children_d)]=c;for(d=0,e=b.children.length;d<e;d++)f[b.children[d]].parent=c;for(d=0,e=b.children_d.length;d<e;d++)f[b.children_d[d]].parents[a.inArray(b.id,f[b.children_d[d]].parents)]=c;return d=a.inArray(b.id,this._data.core.selected),d!==-1&&(this._data.core.selected[d]=c),d=this.get_node(b.id,!0),d&&(d.attr("id",c),this.element.attr("aria-activedescendant")===b.id&&this.element.attr("aria-activedescendant",c)),delete f[b.id],b.id=c,b.li_attr.id=c,f[c]=b,this.trigger("set_id",{node:b,new:b.id,old:g}),!0},get_text:function(b){return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&b.text},set_text:function(b,c){var d,e;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;d<e;d++)this.set_text(b[d],c);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(b.text=c,this.get_node(b,!0).length&&this.redraw_node(b.id),this.trigger("set_text",{obj:b,text:c}),!0)},get_json:function(b,c,d){if(b=this.get_node(b||a.jstree.root),!b)return!1;c&&c.flat&&!d&&(d=[]);var e,f,g={id:b.id,text:b.text,icon:this.get_icon(b),li_attr:a.extend(!0,{},b.li_attr),a_attr:a.extend(!0,{},b.a_attr),state:{},data:(!c||!c.no_data)&&a.extend(!0,{},b.data)};if(c&&c.flat?g.parent=b.parent:g.children=[],c&&c.no_state)delete g.state;else for(e in b.state)b.state.hasOwnProperty(e)&&(g.state[e]=b.state[e]);if(c&&c.no_li_attr&&delete g.li_attr,c&&c.no_a_attr&&delete g.a_attr,c&&c.no_id&&(delete g.id,g.li_attr&&g.li_attr.id&&delete g.li_attr.id,g.a_attr&&g.a_attr.id&&delete g.a_attr.id),c&&c.flat&&b.id!==a.jstree.root&&d.push(g),!c||!c.no_children)for(e=0,f=b.children.length;e<f;e++)c&&c.flat?this.get_json(b.children[e],c,d):g.children.push(this.get_json(b.children[e],c));return c&&c.flat?d:b.id===a.jstree.root?g.children:g},create_node:function(c,d,e,f,g){if(null===c&&(c=a.jstree.root),c=this.get_node(c),!c)return!1;if(e=e===b?"last":e,!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(c))return this.load_node(c,function(){this.create_node(c,d,e,f,!0)});d||(d={text:this.get_string("New node")}),"string"==typeof d&&(d={text:d}),d.text===b&&(d.text=this.get_string("New node"));var h,i,j,k;switch(c.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":h=this.get_node(c.parent),e=a.inArray(c.id,h.children),c=h;break;case"after":h=this.get_node(c.parent),e=a.inArray(c.id,h.children)+1,c=h;break;case"inside":case"first":e=0;break;case"last":e=c.children.length;break;default:e||(e=0)}if(e>c.children.length&&(e=c.children.length),d.id||(d.id=!0),!this.check("create_node",d,c,e))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(d.id===!0&&delete d.id,d=this._parse_model_from_json(d,c.id,c.parents.concat()),!d)return!1;for(h=this.get_node(d),i=[],i.push(d),i=i.concat(h.children_d),this.trigger("model",{nodes:i,parent:c.id}),c.children_d=c.children_d.concat(i),j=0,k=c.parents.length;j<k;j++)this._model.data[c.parents[j]].children_d=this._model.data[c.parents[j]].children_d.concat(i);for(d=h,h=[],j=0,k=c.children.length;j<k;j++)h[j>=e?j+1:j]=c.children[j];return h[e]=d.id,c.children=h,this.redraw_node(c,!0),f&&f.call(this,this.get_node(d)),this.trigger("create_node",{node:this.get_node(d),parent:c.id,position:e}),d.id},rename_node:function(b,c){var d,e,f;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;d<e;d++)this.rename_node(b[d],c);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(f=b.text,this.check("rename_node",b,this.get_parent(b),c)?(this.set_text(b,c),this.trigger("rename_node",{node:b,text:c,old:f}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(b){var c,d,e,f,g,h,i,j,k,l,m,n;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.delete_node(b[c]);return!0}if(b=this.get_node(b),!b||b.id===a.jstree.root)return!1;if(e=this.get_node(b.parent),f=a.inArray(b.id,e.children),l=!1,!this.check("delete_node",b,e,f))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(f!==-1&&(e.children=a.vakata.array_remove(e.children,f)),g=b.children_d.concat([]),g.push(b.id),h=0,i=b.parents.length;h<i;h++)this._model.data[b.parents[h]].children_d=a.vakata.array_filter(this._model.data[b.parents[h]].children_d,function(b){return a.inArray(b,g)===-1});for(j=0,k=g.length;j<k;j++)if(this._model.data[g[j]].state.selected){l=!0;break}for(l&&(this._data.core.selected=a.vakata.array_filter(this._data.core.selected,function(b){return a.inArray(b,g)===-1})),this.trigger("delete_node",{node:b,parent:e.id}),l&&this.trigger("changed",{action:"delete_node",node:b,selected:this._data.core.selected,parent:e.id}),j=0,k=g.length;j<k;j++)delete this._model.data[g[j]];return a.inArray(this._data.core.focused,g)!==-1&&(this._data.core.focused=null,m=this.element[0].scrollTop,n=this.element[0].scrollLeft,e.id===a.jstree.root?this._model.data[a.jstree.root].children[0]&&this.get_node(this._model.data[a.jstree.root].children[0],!0).children(".jstree-anchor").focus():this.get_node(e,!0).children(".jstree-anchor").focus(),this.element[0].scrollTop=m,this.element[0].scrollLeft=n),this.redraw_node(e,!0),!0},check:function(b,c,d,e,f){c=c&&c.id?c:this.get_node(c),d=d&&d.id?d:this.get_node(d);var g=b.match(/^move_node|copy_node|create_node$/i)?d:c,h=this.settings.core.check_callback;return"move_node"!==b&&"copy_node"!==b||f&&f.is_multi||c.id!==d.id&&("move_node"!==b||a.inArray(c.id,d.children)!==e)&&a.inArray(d.id,c.children_d)===-1?(g&&g.data&&(g=g.data),g&&g.functions&&(g.functions[b]===!1||g.functions[b]===!0)?(g.functions[b]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+b,data:JSON.stringify({chk:b,pos:e,obj:!(!c||!c.id)&&c.id,par:!(!d||!d.id)&&d.id})}),g.functions[b]):!(h===!1||a.isFunction(h)&&h.call(this,b,c,d,e,f)===!1||h&&h[b]===!1)||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+b,data:JSON.stringify({chk:b,pos:e,obj:!(!c||!c.id)&&c.id,par:!(!d||!d.id)&&d.id})},!1)):(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:b,pos:e,obj:!(!c||!c.id)&&c.id,par:!(!d||!d.id)&&d.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(d=this.get_node(d),e=e===b?0:e,!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(d))return this.load_node(d,function(){this.move_node(c,d,e,f,!0,!1,i)});if(a.isArray(c)){if(1!==c.length){for(j=0,k=c.length;j<k;j++)(r=this.move_node(c[j],d,e,f,g,!1,i))&&(d=r,e="after");return this.redraw(),!0}c=c[0]}if(c=c&&c.id?c:this.get_node(c),!c||c.id===a.jstree.root)return!1;if(l=(c.parent||a.jstree.root).toString(),n=e.toString().match(/^(before|after)$/)&&d.id!==a.jstree.root?this.get_node(d.parent):d,o=i?i:this._model.data[c.id]?this:a.jstree.reference(c.id),p=!o||!o._id||this._id!==o._id,m=o&&o._id&&l&&o._model.data[l]&&o._model.data[l].children?a.inArray(c.id,o._model.data[l].children):-1,o&&o._id&&(c=o._model.data[c.id]),p)return!!(r=this.copy_node(c,d,e,f,g,!1,i))&&(o&&o.delete_node(c),r);switch(d.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":e=a.inArray(d.id,n.children);break;case"after":e=a.inArray(d.id,n.children)+1;break;case"inside":case"first":e=0;break;case"last":e=n.children.length;break;default:e||(e=0)}if(e>n.children.length&&(e=n.children.length),!this.check("move_node",c,n,e,{core:!0,origin:i,is_multi:o&&o._id&&o._id!==this._id,is_foreign:!o||!o._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(c.parent===n.id){for(q=n.children.concat(),r=a.inArray(c.id,q),r!==-1&&(q=a.vakata.array_remove(q,r),e>r&&e--),r=[],s=0,t=q.length;s<t;s++)r[s>=e?s+1:s]=q[s];r[e]=c.id,n.children=r,this._node_changed(n.id),this.redraw(n.id===a.jstree.root)}else{for(r=c.children_d.concat(),r.push(c.id),s=0,t=c.parents.length;s<t;s++){for(q=[],w=o._model.data[c.parents[s]].children_d,u=0,v=w.length;u<v;u++)a.inArray(w[u],r)===-1&&q.push(w[u]);o._model.data[c.parents[s]].children_d=q}for(o._model.data[l].children=a.vakata.array_remove_item(o._model.data[l].children,c.id),s=0,t=n.parents.length;s<t;s++)this._model.data[n.parents[s]].children_d=this._model.data[n.parents[s]].children_d.concat(r);for(q=[],s=0,t=n.children.length;s<t;s++)q[s>=e?s+1:s]=n.children[s];for(q[e]=c.id,n.children=q,n.children_d.push(c.id),n.children_d=n.children_d.concat(c.children_d),c.parent=n.id,r=n.parents.concat(),r.unshift(n.id),w=c.parents.length,c.parents=r,r=r.concat(),s=0,t=c.children_d.length;s<t;s++)this._model.data[c.children_d[s]].parents=this._model.data[c.children_d[s]].parents.slice(0,w*-1),Array.prototype.push.apply(this._model.data[c.children_d[s]].parents,r);l!==a.jstree.root&&n.id!==a.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(l),this._node_changed(n.id)),h||this.redraw()}return f&&f.call(this,c,n,e),this.trigger("move_node",{node:c,parent:n.id,position:e,old_parent:l,old_position:m,is_multi:o&&o._id&&o._id!==this._id,is_foreign:!o||!o._id,old_instance:o,new_instance:this}),c.id},copy_node:function(c,d,e,f,g,h,i){var j,k,l,m,n,o,p,q,r,s,t;if(d=this.get_node(d),e=e===b?0:e,!d)return!1;if(!e.toString().match(/^(before|after)$/)&&!g&&!this.is_loaded(d))return this.load_node(d,function(){this.copy_node(c,d,e,f,!0,!1,i)});if(a.isArray(c)){if(1!==c.length){for(j=0,k=c.length;j<k;j++)(m=this.copy_node(c[j],d,e,f,g,!0,i))&&(d=m,e="after");return this.redraw(),!0}c=c[0]}if(c=c&&c.id?c:this.get_node(c),!c||c.id===a.jstree.root)return!1;switch(q=(c.parent||a.jstree.root).toString(),r=e.toString().match(/^(before|after)$/)&&d.id!==a.jstree.root?this.get_node(d.parent):d,s=i?i:this._model.data[c.id]?this:a.jstree.reference(c.id),t=!s||!s._id||this._id!==s._id,s&&s._id&&(c=s._model.data[c.id]),d.id===a.jstree.root&&("before"===e&&(e="first"),"after"===e&&(e="last")),e){case"before":e=a.inArray(d.id,r.children);break;case"after":e=a.inArray(d.id,r.children)+1;break;case"inside":case"first":e=0;break;case"last":e=r.children.length;break;default:e||(e=0)}if(e>r.children.length&&(e=r.children.length),!this.check("copy_node",c,r,e,{core:!0,origin:i,is_multi:s&&s._id&&s._id!==this._id,is_foreign:!s||!s._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(p=s?s.get_json(c,{no_id:!0,no_data:!0,no_state:!0}):c,!p)return!1;if(p.id===!0&&delete p.id,p=this._parse_model_from_json(p,r.id,r.parents.concat()),!p)return!1;for(m=this.get_node(p),c&&c.state&&c.state.loaded===!1&&(m.state.loaded=!1),l=[],l.push(p),l=l.concat(m.children_d),this.trigger("model",{nodes:l,parent:r.id}),n=0,o=r.parents.length;n<o;n++)this._model.data[r.parents[n]].children_d=this._model.data[r.parents[n]].children_d.concat(l);for(l=[],n=0,o=r.children.length;n<o;n++)l[n>=e?n+1:n]=r.children[n];return l[e]=m.id,r.children=l,r.children_d.push(m.id),r.children_d=r.children_d.concat(m.children_d),r.id===a.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(r.id),h||this.redraw(r.id===a.jstree.root),f&&f.call(this,m,r,e),this.trigger("copy_node",{node:m,original:c,parent:r.id,position:e,old_parent:q,old_position:s&&s._id&&q&&s._model.data[q]&&s._model.data[q].children?a.inArray(c.id,s._model.data[q].children):-1,is_multi:s&&s._id&&s._id!==this._id,is_foreign:!s||!s._id,old_instance:s,new_instance:this}),m.id},cut:function(b){if(b||(b=this._data.core.selected.concat()),a.isArray(b)||(b=[b]),!b.length)return!1;var c,g,h,i=[];for(g=0,h=b.length;g<h;g++)c=this.get_node(b[g]),c&&c.id&&c.id!==a.jstree.root&&i.push(c);return!!i.length&&(d=i,f=this,e="move_node",void this.trigger("cut",{node:b}))},copy:function(b){if(b||(b=this._data.core.selected.concat()),a.isArray(b)||(b=[b]),!b.length)return!1;var c,g,h,i=[];for(g=0,h=b.length;g<h;g++)c=this.get_node(b[g]),c&&c.id&&c.id!==a.jstree.root&&i.push(c);return!!i.length&&(d=i,f=this,e="copy_node",void this.trigger("copy",{node:b}))},get_buffer:function(){return{mode:e,node:d,inst:f}},can_paste:function(){return e!==!1&&d!==!1},paste:function(a,b){return a=this.get_node(a),!!(a&&e&&e.match(/^(copy_node|move_node)$/)&&d)&&(this[e](d,a,b,!1,!1,!1,f)&&this.trigger("paste",{parent:a.id,node:d,mode:e}),d=!1,e=!1,void(f=!1))},clear_buffer:function(){d=!1,e=!1,f=!1,this.trigger("clear_buffer")},edit:function(b,c,d){var e,f,g,h,j,k,l,m,n,o=!1;return!!(b=this.get_node(b))&&(this.settings.core.check_callback===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_07",reason:"Could not edit node because of check_callback"},this.settings.core.error.call(this,this._data.core.last_error),!1):(n=b,c="string"==typeof c?c:b.text,this.set_text(b,""),b=this._open_to(b),n.text=c,e=this._data.core.rtl,f=this.element.width(),this._data.core.focused=n.id,g=b.children(".jstree-anchor").focus(),h=a("<span>"),j=c,k=a("<div />",{css:{position:"absolute",top:"-200px",left:e?"0px":"-1000px",visibility:"hidden"}}).appendTo("body"),l=a("<input />",{value:j,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:a.proxy(function(c){c.stopImmediatePropagation(),c.preventDefault();var e,f=h.children(".jstree-rename-input"),i=f.val(),m=this.settings.core.force_text;""===i&&(i=j),k.remove(),h.replaceWith(g),h.remove(),j=m?j:a("<div></div>").append(a.parseHTML(j)).html(),this.set_text(b,j),e=!!this.rename_node(b,m?a("<div></div>").text(i).text():a("<div></div>").append(a.parseHTML(i)).html()),e||this.set_text(b,j),this._data.core.focused=n.id,setTimeout(a.proxy(function(){var a=this.get_node(n.id,!0);a.length&&(this._data.core.focused=n.id,a.children(".jstree-anchor").focus())},this),0),d&&d.call(this,n,e,o),l=null},this),keydown:function(a){var b=a.which;27===b&&(o=!0,this.value=j),27!==b&&13!==b&&37!==b&&38!==b&&39!==b&&40!==b&&32!==b||a.stopImmediatePropagation(),27!==b&&13!==b||(a.preventDefault(),this.blur())},click:function(a){a.stopImmediatePropagation()},mousedown:function(a){a.stopImmediatePropagation()},keyup:function(a){l.width(Math.min(k.text("pW"+this.value).width(),f))},keypress:function(a){if(13===a.which)return!1}}),m={fontFamily:g.css("fontFamily")||"",fontSize:g.css("fontSize")||"",fontWeight:g.css("fontWeight")||"",fontStyle:g.css("fontStyle")||"",fontStretch:g.css("fontStretch")||"",fontVariant:g.css("fontVariant")||"",letterSpacing:g.css("letterSpacing")||"",wordSpacing:g.css("wordSpacing")||""},h.attr("class",g.attr("class")).append(g.contents().clone()).append(l),g.replaceWith(h),k.css(m),l.css(m).width(Math.min(k.text("pW"+l[0].value).width(),f))[0].select(),void a(i).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(b){l&&b.target!==l&&a(l).blur()})))},set_theme:function(b,c){if(!b)return!1;if(c===!0){var d=this.settings.core.themes.dir;d||(d=a.jstree.path+"/themes"),c=d+"/"+b+"/style.css"}c&&a.inArray(c,g)===-1&&(a("head").append('<link rel="stylesheet" href="'+c+'" type="text/css" />'),g.push(c)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=b,this.element.addClass("jstree-"+b),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+b+"-responsive"),this.trigger("set_theme",{theme:b})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(a){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=a,a&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(c,d){var e,f,g,h;if(a.isArray(c)){for(c=c.slice(),e=0,f=c.length;e<f;e++)this.set_icon(c[e],d);return!0}return c=this.get_node(c),!(!c||c.id===a.jstree.root)&&(h=c.icon,c.icon=d===!0||null===d||d===b||""===d||d,g=this.get_node(c,!0).children(".jstree-anchor").children(".jstree-themeicon"),d===!1?this.hide_icon(c):d===!0||null===d||d===b||""===d?(g.removeClass("jstree-themeicon-custom "+h).css("background","").removeAttr("rel"),h===!1&&this.show_icon(c)):d.indexOf("/")===-1&&d.indexOf(".")===-1?(g.removeClass(h).css("background",""),g.addClass(d+" jstree-themeicon-custom").attr("rel",d),h===!1&&this.show_icon(c)):(g.removeClass(h).css("background",""),g.addClass("jstree-themeicon-custom").css("background","url('"+d+"') center center no-repeat").attr("rel",d),h===!1&&this.show_icon(c)),!0)},get_icon:function(b){return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&b.icon},hide_icon:function(b){var c,d;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.hide_icon(b[c]);return!0}return b=this.get_node(b),!(!b||b===a.jstree.root)&&(b.icon=!1,this.get_node(b,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.show_icon(b[c]);return!0}return b=this.get_node(b),!(!b||b===a.jstree.root)&&(e=this.get_node(b,!0),b.icon=!e.length||e.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),b.icon||(b.icon=!0),e.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},a.vakata={},a.vakata.attributes=function(b,c){b=a(b)[0];var d=c?{}:[];return b&&b.attributes&&a.each(b.attributes,function(b,e){a.inArray(e.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&null!==e.value&&""!==a.trim(e.value)&&(c?d[e.name]=e.value:d.push(e.name))}),d},a.vakata.array_unique=function(a){var c,d,e=[],f={};for(c=0,d=a.length;c<d;c++)f[a[c]]===b&&(e.push(a[c]),f[a[c]]=!0);return e},a.vakata.array_remove=function(a,b){return a.splice(b,1),a},a.vakata.array_remove_item=function(b,c){var d=a.inArray(c,b);return d!==-1?a.vakata.array_remove(b,d):b},a.vakata.array_filter=function(a,b,c,d,e){if(a.filter)return a.filter(b,c);d=[];for(e in a)~~e+""==e+""&&e>=0&&b.call(c,a[e],+e,a)&&d.push(a[e]);return d},a.jstree.plugins.changed=function(a,b){var c=[];this.trigger=function(a,d){var e,f;if(d||(d={}),"changed"===a.replace(".jstree","")){d.changed={selected:[],deselected:[]};var g={};for(e=0,f=c.length;e<f;e++)g[c[e]]=1;for(e=0,f=d.selected.length;e<f;e++)g[d.selected[e]]?g[d.selected[e]]=2:d.changed.selected.push(d.selected[e]);for(e=0,f=c.length;e<f;e++)1===g[c[e]]&&d.changed.deselected.push(c[e]);c=d.selected.slice()}b.trigger.call(this,a,d)},this.refresh=function(a,d){return c=[],b.refresh.apply(this,arguments)}};var j=i.createElement("I");j.className="jstree-icon jstree-checkbox",j.setAttribute("role","presentation"),a.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0},a.jstree.plugins.checkbox=function(c,d){this.bind=function(){d.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",a.proxy(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")},this)).on("loading.jstree",a.proxy(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()},this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",a.proxy(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)},this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",a.proxy(function(a,b){var c,d,e=this._model.data,f=(e[b.parent],b.nodes);for(c=0,d=f.length;c<d;c++)e[f[c]].state.checked=e[f[c]].state.checked||e[f[c]].original&&e[f[c]].original.state&&e[f[c]].original.state.checked,e[f[c]].state.checked&&this._data.checkbox.selected.push(f[c])},this)),this.settings.checkbox.cascade.indexOf("up")===-1&&this.settings.checkbox.cascade.indexOf("down")===-1||this.element.on("model.jstree",a.proxy(function(b,c){var d,e,f,g,h,i,j=this._model.data,k=j[c.parent],l=c.nodes,m=[],n=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection;if(n.indexOf("down")!==-1)if(k.state[o?"selected":"checked"]){for(e=0,f=l.length;e<f;e++)j[l[e]].state[o?"selected":"checked"]=!0;this._data[o?"core":"checkbox"].selected=this._data[o?"core":"checkbox"].selected.concat(l)}else for(e=0,f=l.length;e<f;e++)if(j[l[e]].state[o?"selected":"checked"]){for(g=0,h=j[l[e]].children_d.length;g<h;g++)j[j[l[e]].children_d[g]].state[o?"selected":"checked"]=!0;this._data[o?"core":"checkbox"].selected=this._data[o?"core":"checkbox"].selected.concat(j[l[e]].children_d)}if(n.indexOf("up")!==-1){for(e=0,f=k.children_d.length;e<f;e++)j[k.children_d[e]].children.length||m.push(j[k.children_d[e]].parent);for(m=a.vakata.array_unique(m),g=0,h=m.length;g<h;g++)for(k=j[m[g]];k&&k.id!==a.jstree.root;){for(d=0,e=0,f=k.children.length;e<f;e++)d+=j[k.children[e]].state[o?"selected":"checked"];if(d!==f)break;k.state[o?"selected":"checked"]=!0,this._data[o?"core":"checkbox"].selected.push(k.id),i=this.get_node(k,!0),i&&i.length&&i.attr("aria-selected",!0).children(".jstree-anchor").addClass(o?"jstree-clicked":"jstree-checked"),k=this.get_node(k.parent)}}this._data[o?"core":"checkbox"].selected=a.vakata.array_unique(this._data[o?"core":"checkbox"].selected)},this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",a.proxy(function(b,c){var d,e,f,g,h=c.node,i=this._model.data,j=this.get_node(h.parent),k=this.get_node(h,!0),l=this.settings.checkbox.cascade,m=this.settings.checkbox.tie_selection,n={},o=this._data[m?"core":"checkbox"].selected;for(d=0,e=o.length;d<e;d++)n[o[d]]=!0;if(l.indexOf("down")!==-1)for(d=0,e=h.children_d.length;d<e;d++)n[h.children_d[d]]=!0,g=i[h.children_d[d]],g.state[m?"selected":"checked"]=!0,g&&g.original&&g.original.state&&g.original.state.undetermined&&(g.original.state.undetermined=!1);if(l.indexOf("up")!==-1)for(;j&&j.id!==a.jstree.root;){for(f=0,d=0,e=j.children.length;d<e;d++)f+=i[j.children[d]].state[m?"selected":"checked"];if(f!==e)break;j.state[m?"selected":"checked"]=!0,n[j.id]=!0,g=this.get_node(j,!0),g&&g.length&&g.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"),j=this.get_node(j.parent)}o=[];for(d in n)n.hasOwnProperty(d)&&o.push(d);this._data[m?"core":"checkbox"].selected=o,l.indexOf("down")!==-1&&k.length&&k.find(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!0)},this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",a.proxy(function(b,c){var d,e,f,g=this.get_node(a.jstree.root),h=this._model.data;for(d=0,e=g.children_d.length;d<e;d++)f=h[g.children_d[d]],f&&f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=!1)},this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",a.proxy(function(b,c){var d,e,f,g=c.node,h=this.get_node(g,!0),i=this.settings.checkbox.cascade,j=this.settings.checkbox.tie_selection,k=this._data[j?"core":"checkbox"].selected,l={};if(g&&g.original&&g.original.state&&g.original.state.undetermined&&(g.original.state.undetermined=!1),i.indexOf("down")!==-1)for(d=0,e=g.children_d.length;d<e;d++)f=this._model.data[g.children_d[d]],f.state[j?"selected":"checked"]=!1,f&&f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=!1);if(i.indexOf("up")!==-1)for(d=0,e=g.parents.length;d<e;d++)f=this._model.data[g.parents[d]],f.state[j?"selected":"checked"]=!1,f&&f.original&&f.original.state&&f.original.state.undetermined&&(f.original.state.undetermined=!1),f=this.get_node(g.parents[d],!0),f&&f.length&&f.attr("aria-selected",!1).children(".jstree-anchor").removeClass(j?"jstree-clicked":"jstree-checked");for(l={},d=0,e=k.length;d<e;d++)i.indexOf("down")!==-1&&a.inArray(k[d],g.children_d)!==-1||i.indexOf("up")!==-1&&a.inArray(k[d],g.parents)!==-1||(l[k[d]]=!0);k=[];for(d in l)l.hasOwnProperty(d)&&k.push(d);this._data[j?"core":"checkbox"].selected=k,i.indexOf("down")!==-1&&h.length&&h.find(".jstree-anchor").removeClass(j?"jstree-clicked":"jstree-checked").parent().attr("aria-selected",!1)},this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",a.proxy(function(b,c){for(var d,e,f,g,h=this.get_node(c.parent),i=this._model.data,j=this.settings.checkbox.tie_selection;h&&h.id!==a.jstree.root&&!h.state[j?"selected":"checked"];){for(f=0,d=0,e=h.children.length;d<e;d++)f+=i[h.children[d]].state[j?"selected":"checked"];if(!(e>0&&f===e))break;h.state[j?"selected":"checked"]=!0,this._data[j?"core":"checkbox"].selected.push(h.id),g=this.get_node(h,!0),g&&g.length&&g.attr("aria-selected",!0).children(".jstree-anchor").addClass(j?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}},this)).on("move_node.jstree",a.proxy(function(b,c){var d,e,f,g,h,i=c.is_multi,j=c.old_parent,k=this.get_node(c.parent),l=this._model.data,m=this.settings.checkbox.tie_selection;if(!i)for(d=this.get_node(j);d&&d.id!==a.jstree.root&&!d.state[m?"selected":"checked"];){for(e=0,f=0,g=d.children.length;f<g;f++)e+=l[d.children[f]].state[m?"selected":"checked"];if(!(g>0&&e===g))break;d.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(d.id),h=this.get_node(d,!0),h&&h.length&&h.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"),d=this.get_node(d.parent)}for(d=k;d&&d.id!==a.jstree.root;){for(e=0,f=0,g=d.children.length;f<g;f++)e+=l[d.children[f]].state[m?"selected":"checked"];if(e===g)d.state[m?"selected":"checked"]||(d.state[m?"selected":"checked"]=!0,this._data[m?"core":"checkbox"].selected.push(d.id),h=this.get_node(d,!0),h&&h.length&&h.attr("aria-selected",!0).children(".jstree-anchor").addClass(m?"jstree-clicked":"jstree-checked"));else{if(!d.state[m?"selected":"checked"])break;d.state[m?"selected":"checked"]=!1,this._data[m?"core":"checkbox"].selected=a.vakata.array_remove_item(this._data[m?"core":"checkbox"].selected,d.id),h=this.get_node(d,!0),h&&h.length&&h.attr("aria-selected",!1).children(".jstree-anchor").removeClass(m?"jstree-clicked":"jstree-checked")}d=this.get_node(d.parent)}},this))},this._undetermined=function(){if(null!==this.element){var c,d,e,f,g={},h=this._model.data,i=this.settings.checkbox.tie_selection,j=this._data[i?"core":"checkbox"].selected,k=[],l=this;for(c=0,d=j.length;c<d;c++)if(h[j[c]]&&h[j[c]].parents)for(e=0,f=h[j[c]].parents.length;e<f&&g[h[j[c]].parents[e]]===b;e++)h[j[c]].parents[e]!==a.jstree.root&&(g[h[j[c]].parents[e]]=!0,k.push(h[j[c]].parents[e]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i,j=l.get_node(this);if(j.state.loaded){for(c=0,d=j.children_d.length;c<d;c++)if(i=h[j.children_d[c]],!i.state.loaded&&i.original&&i.original.state&&i.original.state.undetermined&&i.original.state.undetermined===!0)for(g[i.id]===b&&i.id!==a.jstree.root&&(g[i.id]=!0,k.push(i.id)),e=0,f=i.parents.length;e<f;e++)g[i.parents[e]]===b&&i.parents[e]!==a.jstree.root&&(g[i.parents[e]]=!0,k.push(i.parents[e]))}else if(j.original&&j.original.state&&j.original.state.undetermined&&j.original.state.undetermined===!0)for(g[j.id]===b&&j.id!==a.jstree.root&&(g[j.id]=!0,
    k.push(j.id)),e=0,f=j.parents.length;e<f;e++)g[j.parents[e]]===b&&j.parents[e]!==a.jstree.root&&(g[j.parents[e]]=!0,k.push(j.parents[e]))}),this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),c=0,d=k.length;c<d;c++)h[k[c]].state[i?"selected":"checked"]||(j=this.get_node(k[c],!0),j&&j.length&&j.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined"))}},this.redraw_node=function(b,c,e,f){if(b=d.redraw_node.apply(this,arguments)){var g,h,i=null,k=null;for(g=0,h=b.childNodes.length;g<h;g++)if(b.childNodes[g]&&b.childNodes[g].className&&b.childNodes[g].className.indexOf("jstree-anchor")!==-1){i=b.childNodes[g];break}i&&(!this.settings.checkbox.tie_selection&&this._model.data[b.id].state.checked&&(i.className+=" jstree-checked"),k=j.cloneNode(!1),this._model.data[b.id].state.checkbox_disabled&&(k.className+=" jstree-checkbox-disabled"),i.insertBefore(k,i.childNodes[0]))}return e||this.settings.checkbox.cascade.indexOf("undetermined")===-1||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(a.proxy(this._undetermined,this),50)),b},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(b){b=this.get_node(b);var c,d,e=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection,g=this._data[f?"core":"checkbox"].selected,h=this._model.data;if(!b||b.state[f?"selected":"checked"]===!0||e.indexOf("undetermined")===-1||e.indexOf("down")===-1&&e.indexOf("up")===-1)return!1;if(!b.state.loaded&&b.original.state.undetermined===!0)return!0;for(c=0,d=b.children_d.length;c<d;c++)if(a.inArray(b.children_d[c],g)!==-1||!h[b.children_d[c]].state.loaded&&h[b.children_d[c]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.disable_checkbox(b[c]);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(e=this.get_node(b,!0),void(b.state.checkbox_disabled||(b.state.checkbox_disabled=!0,e&&e.length&&e.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:b}))))},this.enable_checkbox=function(b){var c,d,e;if(a.isArray(b)){for(b=b.slice(),c=0,d=b.length;c<d;c++)this.enable_checkbox(b[c]);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(e=this.get_node(b,!0),void(b.state.checkbox_disabled&&(b.state.checkbox_disabled=!1,e&&e.length&&e.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:b}))))},this.activate_node=function(b,c){return!a(c.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||a(c.target).hasClass("jstree-checkbox"))&&(c.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!a(c.target).hasClass("jstree-checkbox")?d.activate_node.call(this,b,c):!this.is_disabled(b)&&(this.is_checked(b)?this.uncheck_node(b,c):this.check_node(b,c),void this.trigger("activate_node",{node:this.get_node(b)})))},this.check_node=function(b,c){if(this.settings.checkbox.tie_selection)return this.select_node(b,!1,!0,c);var d,e,f;if(a.isArray(b)){for(b=b.slice(),e=0,f=b.length;e<f;e++)this.check_node(b[e],c);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(d=this.get_node(b,!0),void(b.state.checked||(b.state.checked=!0,this._data.checkbox.selected.push(b.id),d&&d.length&&d.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:b,selected:this._data.checkbox.selected,event:c}))))},this.uncheck_node=function(b,c){if(this.settings.checkbox.tie_selection)return this.deselect_node(b,!1,c);var d,e,f;if(a.isArray(b)){for(b=b.slice(),d=0,e=b.length;d<e;d++)this.uncheck_node(b[d],c);return!0}return b=this.get_node(b),!(!b||b.id===a.jstree.root)&&(f=this.get_node(b,!0),void(b.state.checked&&(b.state.checked=!1,this._data.checkbox.selected=a.vakata.array_remove_item(this._data.checkbox.selected,b.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:b,selected:this._data.checkbox.selected,event:c}))))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var b,c;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[a.jstree.root].children_d.concat(),b=0,c=this._data.checkbox.selected.length;b<c;b++)this._model.data[this._data.checkbox.selected[b]]&&(this._model.data[this._data.checkbox.selected[b]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var a,b,c=this._data.checkbox.selected.concat([]);for(a=0,b=this._data.checkbox.selected.length;a<b;a++)this._model.data[this._data.checkbox.selected[a]]&&(this._model.data[this._data.checkbox.selected[a]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:c})},this.is_checked=function(b){return this.settings.checkbox.tie_selection?this.is_selected(b):(b=this.get_node(b),!(!b||b.id===a.jstree.root)&&b.state.checked)},this.get_checked=function(b){return this.settings.checkbox.tie_selection?this.get_selected(b):b?a.map(this._data.checkbox.selected,a.proxy(function(a){return this.get_node(a)},this)):this._data.checkbox.selected},this.get_top_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_top_selected(b);var c,d,e,f,g=this.get_checked(!0),h={};for(c=0,d=g.length;c<d;c++)h[g[c].id]=g[c];for(c=0,d=g.length;c<d;c++)for(e=0,f=g[c].children_d.length;e<f;e++)h[g[c].children_d[e]]&&delete h[g[c].children_d[e]];g=[];for(c in h)h.hasOwnProperty(c)&&g.push(c);return b?a.map(g,a.proxy(function(a){return this.get_node(a)},this)):g},this.get_bottom_checked=function(b){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(b);var c,d,e=this.get_checked(!0),f=[];for(c=0,d=e.length;c<d;c++)e[c].children.length||f.push(e[c].id);return b?a.map(f,a.proxy(function(a){return this.get_node(a)},this)):f},this.load_node=function(b,c){var e,f,g,h;if(!a.isArray(b)&&!this.settings.checkbox.tie_selection&&(h=this.get_node(b),h&&h.state.loaded))for(e=0,f=h.children_d.length;e<f;e++)this._model.data[h.children_d[e]].state.checked&&(g=!0,this._data.checkbox.selected=a.vakata.array_remove_item(this._data.checkbox.selected,h.children_d[e]));return d.load_node.apply(this,arguments)},this.get_state=function(){var a=d.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection?a:(a.checkbox=this._data.checkbox.selected.slice(),a)},this.set_state=function(b,c){var e=d.set_state.apply(this,arguments);if(e&&b.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var f=this;a.each(b.checkbox,function(a,b){f.check_node(b)})}return delete b.checkbox,this.set_state(b,c),!1}return e},this.refresh=function(a,b){return this.settings.checkbox.tie_selection||(this._data.checkbox.selected=[]),d.refresh.apply(this,arguments)}},a.jstree.defaults.conditionalselect=function(){return!0},a.jstree.plugins.conditionalselect=function(a,b){this.activate_node=function(a,c){this.settings.conditionalselect.call(this,this.get_node(a),c)&&b.activate_node.call(this,a,c)}},a.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(b,c){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.create_node(d,{},"last",function(a){setTimeout(function(){c.edit(a)},0)})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.edit(d)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.delete_node(c.get_selected()):c.delete_node(d)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.cut(c.get_top_selected()):c.cut(d)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.is_selected(d)?c.copy(c.get_top_selected()):c.copy(d)}},paste:{separator_before:!1,icon:!1,_disabled:function(b){return!a.jstree.reference(b.reference).can_paste()},separator_after:!1,label:"Paste",action:function(b){var c=a.jstree.reference(b.reference),d=c.get_node(b.reference);c.paste(d)}}}}}}},a.jstree.plugins.contextmenu=function(c,d){this.bind=function(){d.bind.call(this);var b,c,e=0,f=null;this.element.on("contextmenu.jstree",".jstree-anchor",a.proxy(function(a,b){"input"!==a.target.tagName.toLowerCase()&&(a.preventDefault(),e=a.ctrlKey?+new Date:0,(b||f)&&(e=+new Date+1e4),f&&clearTimeout(f),this.is_loading(a.currentTarget)||this.show_contextmenu(a.currentTarget,a.pageX,a.pageY,a))},this)).on("click.jstree",".jstree-anchor",a.proxy(function(b){this._data.contextmenu.visible&&(!e||+new Date-e>250)&&a.vakata.context.hide(),e=0},this)).on("touchstart.jstree",".jstree-anchor",function(d){d.originalEvent&&d.originalEvent.changedTouches&&d.originalEvent.changedTouches[0]&&(b=d.originalEvent.changedTouches[0].clientX,c=d.originalEvent.changedTouches[0].clientY,f=setTimeout(function(){a(d.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(a){f&&a.originalEvent&&a.originalEvent.changedTouches&&a.originalEvent.changedTouches[0]&&(Math.abs(b-a.originalEvent.changedTouches[0].clientX)>50||Math.abs(c-a.originalEvent.changedTouches[0].clientY)>50)&&clearTimeout(f)}).on("touchend.vakata.jstree",function(a){f&&clearTimeout(f)}),a(i).on("context_hide.vakata.jstree",a.proxy(function(b,c){this._data.contextmenu.visible=!1,a(c.reference).removeClass("jstree-context")},this))},this.teardown=function(){this._data.contextmenu.visible&&a.vakata.context.hide(),d.teardown.call(this)},this.show_contextmenu=function(c,d,e,f){if(c=this.get_node(c),!c||c.id===a.jstree.root)return!1;var g=this.settings.contextmenu,h=this.get_node(c,!0),i=h.children(".jstree-anchor"),j=!1,k=!1;(g.show_at_node||d===b||e===b)&&(j=i.offset(),d=j.left,e=j.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(c)&&this.activate_node(c,f),k=g.items,a.isFunction(k)&&(k=k.call(this,c,a.proxy(function(a){this._show_contextmenu(c,d,e,a)},this))),a.isPlainObject(k)&&this._show_contextmenu(c,d,e,k)},this._show_contextmenu=function(b,c,d,e){var f=this.get_node(b,!0),g=f.children(".jstree-anchor");a(i).one("context_show.vakata.jstree",a.proxy(function(b,c){var d="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";a(c.element).addClass(d),g.addClass("jstree-context")},this)),this._data.contextmenu.visible=!0,a.vakata.context.show(g,{x:c,y:d},e),this.trigger("show_contextmenu",{node:b,x:c,y:d})}},function(a){var b=!1,c={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};a.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(b){a(i).triggerHandler("context_"+b+".vakata",{reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}})},_execute:function(b){return b=c.items[b],!(!b||b._disabled&&(!a.isFunction(b._disabled)||b._disabled({item:b,reference:c.reference,element:c.element}))||!b.action)&&b.action.call(null,{item:b,reference:c.reference,element:c.element,position:{x:c.position_x,y:c.position_y}})},_parse:function(b,d){if(!b)return!1;d||(c.html="",c.items=[]);var e,f="",g=!1;return d&&(f+="<ul>"),a.each(b,function(b,d){return!d||(c.items.push(d),!g&&d.separator_before&&(f+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>"),g=!1,f+="<li class='"+(d._class||"")+(d._disabled===!0||a.isFunction(d._disabled)&&d._disabled({item:d,reference:c.reference,element:c.element})?" vakata-contextmenu-disabled ":"")+"' "+(d.shortcut?" data-shortcut='"+d.shortcut+"' ":"")+">",f+="<a href='#' rel='"+(c.items.length-1)+"' "+(d.title?"title='"+d.title+"'":"")+">",a.vakata.context.settings.icons&&(f+="<i ",d.icon&&(f+=d.icon.indexOf("/")!==-1||d.icon.indexOf(".")!==-1?" style='background:url(\""+d.icon+"\") center center no-repeat' ":" class='"+d.icon+"' "),f+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),f+=(a.isFunction(d.label)?d.label({item:b,reference:c.reference,element:c.element}):d.label)+(d.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+d.shortcut+'">'+(d.shortcut_label||"")+"</span>":"")+"</a>",d.submenu&&(e=a.vakata.context._parse(d.submenu,!0),e&&(f+=e)),f+="</li>",void(d.separator_after&&(f+="<li class='vakata-context-separator'><a href='#' "+(a.vakata.context.settings.icons?"":'style="margin-left:0px;"')+">&#160;</a></li>",g=!0)))}),f=f.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),d&&(f+="</ul>"),d||(c.html=f,a.vakata.context._trigger("parse")),f.length>10&&f},_show_submenu:function(c){if(c=a(c),c.length&&c.children("ul").length){var d=c.children("ul"),e=c.offset().left,f=e+c.outerWidth(),g=c.offset().top,h=d.width(),i=d.height(),j=a(window).width()+a(window).scrollLeft(),k=a(window).height()+a(window).scrollTop();b?c[f-(h+10+c.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):c[f+h>j&&e>j-f?"addClass":"removeClass"]("vakata-context-right"),g+i+10>k&&d.css("bottom","-1px"),c.hasClass("vakata-context-right")?e<h&&d.css("margin-right",e-h):j-f<h&&d.css("margin-left",j-f-h),d.show()}},show:function(d,e,f){var g,h,i,j,k,l,m,n,o=!0;switch(c.element&&c.element.length&&c.element.width(""),o){case!e&&!d:return!1;case!!e&&!!d:c.reference=d,c.position_x=e.x,c.position_y=e.y;break;case!e&&!!d:c.reference=d,g=d.offset(),c.position_x=g.left+d.outerHeight(),c.position_y=g.top;break;case!!e&&!d:c.position_x=e.x,c.position_y=e.y}d&&!f&&a(d).data("vakata_contextmenu")&&(f=a(d).data("vakata_contextmenu")),a.vakata.context._parse(f)&&c.element.html(c.html),c.items.length&&(c.element.appendTo("body"),h=c.element,i=c.position_x,j=c.position_y,k=h.width(),l=h.height(),m=a(window).width()+a(window).scrollLeft(),n=a(window).height()+a(window).scrollTop(),b&&(i-=h.outerWidth()-a(d).outerWidth(),i<a(window).scrollLeft()+20&&(i=a(window).scrollLeft()+20)),i+k+20>m&&(i=m-(k+20)),j+l+20>n&&(j=n-(l+20)),c.element.css({left:i,top:j}).show().find("a").first().focus().parent().addClass("vakata-context-hover"),c.is_visible=!0,a.vakata.context._trigger("show"))},hide:function(){c.is_visible&&(c.element.hide().find("ul").hide().end().find(":focus").blur().end().detach(),c.is_visible=!1,a.vakata.context._trigger("hide"))}},a(function(){b="rtl"===a("body").css("direction");var d=!1;c.element=a("<ul class='vakata-context'></ul>"),c.element.on("mouseenter","li",function(b){b.stopImmediatePropagation(),a.contains(this,b.relatedTarget)||(d&&clearTimeout(d),c.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),a(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),a.vakata.context._show_submenu(this))}).on("mouseleave","li",function(b){a.contains(this,b.relatedTarget)||a(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(b){a(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),a.vakata.context.settings.hide_onmouseleave&&(d=setTimeout(function(b){return function(){a.vakata.context.hide()}}(this),a.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(b){b.preventDefault(),a(this).blur().parent().hasClass("vakata-context-disabled")||a.vakata.context._execute(a(this).attr("rel"))===!1||a.vakata.context.hide()}).on("keydown","a",function(b){var d=null;switch(b.which){case 13:case 32:b.type="click",b.preventDefault(),a(b.currentTarget).trigger(b);break;case 37:c.is_visible&&(c.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 38:c.is_visible&&(d=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),d.length||(d=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),d.addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 39:c.is_visible&&(c.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 40:c.is_visible&&(d=c.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),d.length||(d=c.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),d.addClass("vakata-context-hover").children("a").focus(),b.stopImmediatePropagation(),b.preventDefault());break;case 27:a.vakata.context.hide(),b.preventDefault()}}).on("keydown",function(a){a.preventDefault();var b=c.element.find(".vakata-contextmenu-shortcut-"+a.which).parent();b.parent().not(".vakata-context-disabled")&&b.click()}),a(i).on("mousedown.vakata.jstree",function(b){c.is_visible&&!a.contains(c.element[0],b.target)&&a.vakata.context.hide()}).on("context_show.vakata.jstree",function(a,d){c.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),b&&c.element.addClass("vakata-context-rtl").css("direction","rtl"),c.element.find("ul").hide().end()})})}(a),a.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1};var k,l;a.jstree.plugins.dnd=function(b,c){this.init=function(a,b){c.init.call(this,a,b),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in i.createElement("span")},this.bind=function(){c.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",a.proxy(function(b){if(this.settings.dnd.large_drag_target&&a(b.target).closest(".jstree-node")[0]!==b.currentTarget)return!0;if("touchstart"===b.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var c=this.get_node(b.target),d=this.is_selected(c)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,e=d>1?d+" "+this.get_string("nodes"):this.get_text(b.currentTarget);if(this.settings.core.force_text&&(e=a.vakata.html.escape(e)),c&&c.id&&c.id!==a.jstree.root&&(1===b.which||"touchstart"===b.type||"dragstart"===b.type)&&(this.settings.dnd.is_draggable===!0||a.isFunction(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,d>1?this.get_top_selected(!0):[c],b))){if(k={jstree:!0,origin:this,obj:this.get_node(c,!0),nodes:d>1?this.get_top_selected():[c.id]},l=b.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),a.vakata.dnd.start(b,k,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+e+'<ins class="jstree-copy" style="display:none;">+</ins></div>');a.vakata.dnd._trigger("start",b,{helper:a(),element:l,data:k})}},this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(b){return b.preventDefault(),a.vakata.dnd._trigger("move",b,{helper:a(),element:l,data:k}),!1}).on("drop.jstree",a.proxy(function(b){return b.preventDefault(),a.vakata.dnd._trigger("stop",b,{helper:a(),element:l,data:k}),!1},this))},this.redraw_node=function(a,b,d,e){if(a=c.redraw_node.apply(this,arguments),a&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)a.setAttribute("draggable",!0);else{var f,g,h=null;for(f=0,g=a.childNodes.length;f<g;f++)if(a.childNodes[f]&&a.childNodes[f].className&&a.childNodes[f].className.indexOf("jstree-anchor")!==-1){h=a.childNodes[f];break}h&&h.setAttribute("draggable",!0)}return a}},a(function(){var c=!1,d=!1,e=!1,f=!1,g=a('<div id="jstree-marker">&#160;</div>').hide();a(i).on("dnd_start.vakata.jstree",function(a,b){c=!1,e=!1,b&&b.data&&b.data.jstree&&g.appendTo("body")}).on("dnd_move.vakata.jstree",function(h,i){if(f&&(i.event&&"dragover"===i.event.type&&i.event.target===e.target||clearTimeout(f)),i&&i.data&&i.data.jstree&&(!i.event.target.id||"jstree-marker"!==i.event.target.id)){e=i.event;var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z=a.jstree.reference(i.event.target),A=!1,B=!1,C=!1;if(z&&z._data&&z._data.dnd)if(g.attr("class","jstree-"+z.get_theme()+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")),x=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey)),i.helper.children().attr("class","jstree-"+z.get_theme()+" jstree-"+z.get_theme()+"-"+z.get_theme_variant()+" "+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[x?"show":"hide"](),i.event.target!==z.element[0]&&i.event.target!==z.get_container_ul()[0]||0!==z.get_container_ul().children().length){if(A=z.settings.dnd.large_drop_target?a(i.event.target).closest(".jstree-node").children(".jstree-anchor"):a(i.event.target).closest(".jstree-anchor"),A&&A.length&&A.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(B=A.offset(),C=(i.event.pageY!==b?i.event.pageY:i.event.originalEvent.pageY)-B.top,l=A.outerHeight(),o=C<l/3?["b","i","a"]:C>l-l/3?["a","i","b"]:C>l/2?["i","a","b"]:["i","b","a"],a.each(o,function(b,e){switch(e){case"b":j=B.left-6,k=B.top,m=z.get_parent(A),n=A.parent().index();break;case"i":v=z.settings.dnd.inside_pos,w=z.get_node(A.parent()),j=B.left-2,k=B.top+l/2+1,m=w.id,n="first"===v?0:"last"===v?w.children.length:Math.min(v,w.children.length);break;case"a":j=B.left-6,k=B.top+l,m=z.get_parent(A),n=A.parent().index()+1}for(p=!0,q=0,r=i.data.nodes.length;q<r;q++)if(s=i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",t=n,"move_node"===s&&"a"===e&&i.data.origin&&i.data.origin===z&&m===z.get_parent(i.data.nodes[q])&&(u=z.get_node(m),t>a.inArray(i.data.nodes[q],u.children)&&(t-=1)),p=p&&(z&&z.settings&&z.settings.dnd&&z.settings.dnd.check_while_dragging===!1||z.check(s,i.data.origin&&i.data.origin!==z?i.data.origin.get_node(i.data.nodes[q]):i.data.nodes[q],m,t,{dnd:!0,ref:z.get_node(A.parent()),pos:e,origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==z,is_foreign:!i.data.origin})),!p){z&&z.last_error&&(d=z.last_error());break}if("i"===e&&A.parent().is(".jstree-closed")&&z.settings.dnd.open_timeout&&(f=setTimeout(function(a,b){return function(){a.open_node(b)}}(z,A),z.settings.dnd.open_timeout)),p)return y=z.get_node(m,!0),y.hasClass(".jstree-dnd-parent")||(a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),y.addClass("jstree-dnd-parent")),c={ins:z,par:m,pos:"i"!==e||"last"!==v||0!==n||z.is_loaded(w)?n:"last"},g.css({left:j+"px",top:k+"px"}).show(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"),d={},o=!0,!1}),o===!0))return}else{for(p=!0,q=0,r=i.data.nodes.length;q<r&&(p=p&&z.check(i.data.origin&&(i.data.origin.settings.dnd.always_copy||i.data.origin.settings.dnd.copy&&(i.event.metaKey||i.event.ctrlKey))?"copy_node":"move_node",i.data.origin&&i.data.origin!==z?i.data.origin.get_node(i.data.nodes[q]):i.data.nodes[q],a.jstree.root,"last",{dnd:!0,ref:z.get_node(a.jstree.root),pos:"i",origin:i.data.origin,is_multi:i.data.origin&&i.data.origin!==z,is_foreign:!i.data.origin}),p);q++);if(p)return c={ins:z,par:a.jstree.root,pos:"last"},g.hide(),i.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"))}a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),c=!1,i.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),i.event.originalEvent&&i.event.originalEvent.dataTransfer&&(i.event.originalEvent.dataTransfer.dropEffect="none"),g.hide()}}).on("dnd_scroll.vakata.jstree",function(a,b){b&&b.data&&b.data.jstree&&(g.hide(),c=!1,e=!1,b.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(b,h){if(a(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),f&&clearTimeout(f),h&&h.data&&h.data.jstree){g.hide().detach();var i,j,k=[];if(c){for(i=0,j=h.data.nodes.length;i<j;i++)k[i]=h.data.origin?h.data.origin.get_node(h.data.nodes[i]):h.data.nodes[i];c.ins[h.data.origin&&(h.data.origin.settings.dnd.always_copy||h.data.origin.settings.dnd.copy&&(h.event.metaKey||h.event.ctrlKey))?"copy_node":"move_node"](k,c.par,c.pos,!1,!1,!1,h.data.origin)}else i=a(h.event.target).closest(".jstree"),i.length&&d&&d.error&&"check"===d.error&&(i=i.jstree(!0),i&&i.settings.core.error.call(this,d));e=!1,c=!1}}).on("keyup.jstree keydown.jstree",function(b,h){h=a.vakata.dnd._get(),h&&h.data&&h.data.jstree&&("keyup"===b.type&&27===b.which?(f&&clearTimeout(f),c=!1,d=!1,e=!1,f=!1,g.hide().detach(),a.vakata.dnd._clean()):(h.helper.find(".jstree-copy").first()[h.data.origin&&(h.data.origin.settings.dnd.always_copy||h.data.origin.settings.dnd.copy&&(b.metaKey||b.ctrlKey))?"show":"hide"](),e&&(e.metaKey=b.metaKey,e.ctrlKey=b.ctrlKey,a.vakata.dnd._trigger("move",e))))})}),function(a){a.vakata.html={div:a("<div />"),escape:function(b){return a.vakata.html.div.text(b).html()},strip:function(b){return a.vakata.html.div.empty().append(a.parseHTML(b)).text()}};var c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};a.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:50},_trigger:function(c,d,e){e===b&&(e=a.vakata.dnd._get()),e.event=d,a(i).triggerHandler("dnd_"+c+".vakata",e)},_get:function(){return{data:c.data,element:c.element,helper:c.helper}},_clean:function(){c.helper&&c.helper.remove(),c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),c={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},a(i).off("mousemove.vakata.jstree touchmove.vakata.jstree",a.vakata.dnd.drag),a(i).off("mouseup.vakata.jstree touchend.vakata.jstree",a.vakata.dnd.stop)},_scroll:function(b){if(!c.scroll_e||!c.scroll_l&&!c.scroll_t)return c.scroll_i&&(clearInterval(c.scroll_i),c.scroll_i=!1),!1;if(!c.scroll_i)return c.scroll_i=setInterval(a.vakata.dnd._scroll,100),!1;if(b===!0)return!1;var d=c.scroll_e.scrollTop(),e=c.scroll_e.scrollLeft();c.scroll_e.scrollTop(d+c.scroll_t*a.vakata.dnd.settings.scroll_speed),c.scroll_e.scrollLeft(e+c.scroll_l*a.vakata.dnd.settings.scroll_speed),d===c.scroll_e.scrollTop()&&e===c.scroll_e.scrollLeft()||a.vakata.dnd._trigger("scroll",c.scroll_e)},start:function(b,d,e){"touchstart"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag&&a.vakata.dnd.stop({});try{b.currentTarget.unselectable="on",b.currentTarget.onselectstart=function(){return!1},b.currentTarget.style&&(b.currentTarget.style.touchAction="none",b.currentTarget.style.msTouchAction="none",b.currentTarget.style.MozUserSelect="none")}catch(a){}return c.init_x=b.pageX,c.init_y=b.pageY,c.data=d,c.is_down=!0,c.element=b.currentTarget,c.target=b.target,c.is_touch="touchstart"===b.type,e!==!1&&(c.helper=a("<div id='vakata-dnd'></div>").html(e).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),a(i).on("mousemove.vakata.jstree touchmove.vakata.jstree",a.vakata.dnd.drag),a(i).on("mouseup.vakata.jstree touchend.vakata.jstree",a.vakata.dnd.stop),!1},drag:function(b){if("touchmove"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_down){if(!c.is_drag){if(!(Math.abs(b.pageX-c.init_x)>(c.is_touch?a.vakata.dnd.settings.threshold_touch:a.vakata.dnd.settings.threshold)||Math.abs(b.pageY-c.init_y)>(c.is_touch?a.vakata.dnd.settings.threshold_touch:a.vakata.dnd.settings.threshold)))return;c.helper&&(c.helper.appendTo("body"),c.helper_w=c.helper.outerWidth()),c.is_drag=!0,a(c.target).one("click.vakata",!1),a.vakata.dnd._trigger("start",b)}var d=!1,e=!1,f=!1,g=!1,h=!1,j=!1,k=!1,l=!1,m=!1,n=!1;return c.scroll_t=0,c.scroll_l=0,c.scroll_e=!1,a(a(b.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return/^auto|scroll$/.test(a(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var d=a(this),e=d.offset();if(this.scrollHeight>this.offsetHeight&&(e.top+d.height()-b.pageY<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),b.pageY-e.top<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(e.left+d.width()-b.pageX<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),b.pageX-e.left<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1)),c.scroll_t||c.scroll_l)return c.scroll_e=a(this),!1}),c.scroll_e||(d=a(i),e=a(window),f=d.height(),g=e.height(),h=d.width(),j=e.width(),k=d.scrollTop(),l=d.scrollLeft(),f>g&&b.pageY-k<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=-1),f>g&&g-(b.pageY-k)<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_t=1),h>j&&b.pageX-l<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=-1),h>j&&j-(b.pageX-l)<a.vakata.dnd.settings.scroll_proximity&&(c.scroll_l=1),(c.scroll_t||c.scroll_l)&&(c.scroll_e=d)),c.scroll_e&&a.vakata.dnd._scroll(!0),c.helper&&(m=parseInt(b.pageY+a.vakata.dnd.settings.helper_top,10),n=parseInt(b.pageX+a.vakata.dnd.settings.helper_left,10),f&&m+25>f&&(m=f-50),h&&n+c.helper_w>h&&(n=h-(c.helper_w+2)),c.helper.css({left:n+"px",top:m+"px"})),a.vakata.dnd._trigger("move",b),!1}},stop:function(b){if("touchend"===b.type&&b.originalEvent&&b.originalEvent.changedTouches&&b.originalEvent.changedTouches[0]&&(b.pageX=b.originalEvent.changedTouches[0].pageX,
        b.pageY=b.originalEvent.changedTouches[0].pageY,b.target=i.elementFromPoint(b.originalEvent.changedTouches[0].pageX-window.pageXOffset,b.originalEvent.changedTouches[0].pageY-window.pageYOffset)),c.is_drag)b.target!==c.target&&a(c.target).off("click.vakata"),a.vakata.dnd._trigger("stop",b);else if("touchend"===b.type&&b.target===c.target){var d=setTimeout(function(){a(b.target).click()},100);a(b.target).one("click",function(){d&&clearTimeout(d)})}return a.vakata.dnd._clean(),!1}}}(a),a.jstree.defaults.massload=null,a.jstree.plugins.massload=function(b,c){this.init=function(a,b){this._data.massload={},c.init.call(this,a,b)},this._load_nodes=function(b,d,e,f){var g,h,i,j=this.settings.massload,k=(JSON.stringify(b),[]),l=this._model.data;if(!e){for(g=0,h=b.length;g<h;g++)l[b[g]]&&(l[b[g]].state.loaded||l[b[g]].state.failed)&&!f||(k.push(b[g]),i=this.get_node(b[g],!0),i&&i.length&&i.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},k.length){if(a.isFunction(j))return j.call(this,k,a.proxy(function(a){var g,h;if(a)for(g in a)a.hasOwnProperty(g)&&(this._data.massload[g]=a[g]);for(g=0,h=b.length;g<h;g++)i=this.get_node(b[g],!0),i&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1);c._load_nodes.call(this,b,d,e,f)},this));if("object"==typeof j&&j&&j.url)return j=a.extend(!0,{},j),a.isFunction(j.url)&&(j.url=j.url.call(this,k)),a.isFunction(j.data)&&(j.data=j.data.call(this,k)),a.ajax(j).done(a.proxy(function(a,g,h){var j,k;if(a)for(j in a)a.hasOwnProperty(j)&&(this._data.massload[j]=a[j]);for(j=0,k=b.length;j<k;j++)i=this.get_node(b[j],!0),i&&i.length&&i.removeClass("jstree-loading").attr("aria-busy",!1);c._load_nodes.call(this,b,d,e,f)},this)).fail(a.proxy(function(a){c._load_nodes.call(this,b,d,e,f)},this))}}return c._load_nodes.call(this,b,d,e,f)},this._load_node=function(b,d){var e,f=this._data.massload[b.id],g=null;return f?(g=this["string"==typeof f?"_append_html_data":"_append_json_data"](b,"string"==typeof f?a(a.parseHTML(f)).filter(function(){return 3!==this.nodeType}):f,function(a){d.call(this,a)}),e=this.get_node(b.id,!0),e&&e.length&&e.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[b.id],g):c._load_node.call(this,b,d)}},a.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},a.jstree.plugins.search=function(c,d){this.bind=function(){d.bind.call(this),this._data.search.str="",this._data.search.dom=a(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",a.proxy(function(b,c){if(this._data.search.som&&c.res.length){var d,e,f,g,h=this._model.data,i=[];for(d=0,e=c.res.length;d<e;d++)if(h[c.res[d]]&&!h[c.res[d]].state.hidden&&(i.push(c.res[d]),i=i.concat(h[c.res[d]].parents),this._data.search.smc))for(f=0,g=h[c.res[d]].children_d.length;f<g;f++)h[h[c.res[d]].children_d[f]]&&!h[h[c.res[d]].children_d[f]].state.hidden&&i.push(h[c.res[d]].children_d[f]);i=a.vakata.array_remove_item(a.vakata.array_unique(i),a.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(i,!0),this.redraw(!0)}},this)).on("clear_search.jstree",a.proxy(function(a,b){this._data.search.som&&b.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))},this))},this.search=function(c,d,e,f,g,h){if(c===!1||""===a.trim(c.toString()))return this.clear_search();f=this.get_node(f),f=f&&f.id?f.id:null,c=c.toString();var i,j,k=this.settings.search,l=!!k.ajax&&k.ajax,m=this._model.data,n=null,o=[],p=[];if(this._data.search.res.length&&!g&&this.clear_search(),e===b&&(e=k.show_only_matches),h===b&&(h=k.show_only_matches_children),!d&&l!==!1)return a.isFunction(l)?l.call(this,c,a.proxy(function(b){b&&b.d&&(b=b.d),this._load_nodes(a.isArray(b)?a.vakata.array_unique(b):[],function(){this.search(c,!0,e,f,g,h)})},this),f):(l=a.extend({},l),l.data||(l.data={}),l.data.str=c,f&&(l.data.inside=f),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=a.ajax(l).fail(a.proxy(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(l)},this.settings.core.error.call(this,this._data.core.last_error)},this)).done(a.proxy(function(b){b&&b.d&&(b=b.d),this._load_nodes(a.isArray(b)?a.vakata.array_unique(b):[],function(){this.search(c,!0,e,f,g,h)})},this)),this._data.search.lastRequest);if(g||(this._data.search.str=c,this._data.search.dom=a(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=e,this._data.search.smc=h),n=new a.vakata.search(c,!0,{caseSensitive:k.case_sensitive,fuzzy:k.fuzzy}),a.each(m[f?f:a.jstree.root].children_d,function(a,b){var d=m[b];d.text&&!d.state.hidden&&(!k.search_leaves_only||d.state.loaded&&0===d.children.length)&&(k.search_callback&&k.search_callback.call(this,c,d)||!k.search_callback&&n.search(d.text).isMatch)&&(o.push(b),p=p.concat(d.parents))}),o.length){for(p=a.vakata.array_unique(p),i=0,j=p.length;i<j;i++)p[i]!==a.jstree.root&&m[p[i]]&&this.open_node(p[i],null,0)===!0&&this._data.search.opn.push(p[i]);g?(this._data.search.dom=this._data.search.dom.add(a(this.element[0].querySelectorAll("#"+a.map(o,function(b){return"0123456789".indexOf(b[0])!==-1?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=a.vakata.array_unique(this._data.search.res.concat(o))):(this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(o,function(b){return"0123456789".indexOf(b[0])!==-1?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=o),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:c,res:this._data.search.res,show_only_matches:e})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=a(this.element[0].querySelectorAll("#"+a.map(this._data.search.res,function(b){return"0123456789".indexOf(b[0])!==-1?"\\3"+b[0]+" "+b.substr(1).replace(a.jstree.idregex,"\\$&"):b.replace(a.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=a()},this.redraw_node=function(b,c,e,f){if(b=d.redraw_node.apply(this,arguments),b&&a.inArray(b.id,this._data.search.res)!==-1){var g,h,i=null;for(g=0,h=b.childNodes.length;g<h;g++)if(b.childNodes[g]&&b.childNodes[g].className&&b.childNodes[g].className.indexOf("jstree-anchor")!==-1){i=b.childNodes[g];break}i&&(i.className+=" jstree-search")}return b}},function(a){a.vakata.search=function(b,c,d){d=d||{},d=a.extend({},a.vakata.search.defaults,d),d.fuzzy!==!1&&(d.fuzzy=!0),b=d.caseSensitive?b:b.toLowerCase();var e,f,g,h,i=d.location,j=d.distance,k=d.threshold,l=b.length;return l>32&&(d.fuzzy=!1),d.fuzzy&&(e=1<<l-1,f=function(){var a={},c=0;for(c=0;c<l;c++)a[b.charAt(c)]=0;for(c=0;c<l;c++)a[b.charAt(c)]|=1<<l-c-1;return a}(),g=function(a,b){var c=a/l,d=Math.abs(i-b);return j?c+d/j:d?1:c}),h=function(a){if(a=d.caseSensitive?a:a.toLowerCase(),b===a||a.indexOf(b)!==-1)return{isMatch:!0,score:0};if(!d.fuzzy)return{isMatch:!1,score:1};var c,h,j,m,n,o,p,q,r,s=a.length,t=k,u=a.indexOf(b,i),v=l+s,w=1,x=[];for(u!==-1&&(t=Math.min(g(0,u),t),u=a.lastIndexOf(b,i+l),u!==-1&&(t=Math.min(g(0,u),t))),u=-1,c=0;c<l;c++){for(j=0,m=v;j<m;)g(c,i+m)<=t?j=m:v=m,m=Math.floor((v-j)/2+j);for(v=m,o=Math.max(1,i-m+1),p=Math.min(i+m,s)+l,q=new Array(p+2),q[p+1]=(1<<c)-1,h=p;h>=o;h--)if(r=f[a.charAt(h-1)],0===c?q[h]=(q[h+1]<<1|1)&r:q[h]=(q[h+1]<<1|1)&r|((n[h+1]|n[h])<<1|1)|n[h+1],q[h]&e&&(w=g(c,h-1),w<=t)){if(t=w,u=h-1,x.push(u),!(u>i))break;o=Math.max(1,2*i-u)}if(g(c+1,i)>t)break;n=q}return{isMatch:u>=0,score:w}},c===!0?{search:h}:h(c)},a.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(a),a.jstree.defaults.sort=function(a,b){return this.get_text(a)>this.get_text(b)?1:-1},a.jstree.plugins.sort=function(b,c){this.bind=function(){c.bind.call(this),this.element.on("model.jstree",a.proxy(function(a,b){this.sort(b.parent,!0)},this)).on("rename_node.jstree create_node.jstree",a.proxy(function(a,b){this.sort(b.parent||b.node.parent,!1),this.redraw_node(b.parent||b.node.parent,!0)},this)).on("move_node.jstree copy_node.jstree",a.proxy(function(a,b){this.sort(b.parent,!1),this.redraw_node(b.parent,!0)},this))},this.sort=function(b,c){var d,e;if(b=this.get_node(b),b&&b.children&&b.children.length&&(b.children.sort(a.proxy(this.settings.sort,this)),c))for(d=0,e=b.children_d.length;d<e;d++)this.sort(b.children_d[d],!1)}};var m=!1;a.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1},a.jstree.plugins.state=function(b,c){this.bind=function(){c.bind.call(this);var b=a.proxy(function(){this.element.on(this.settings.state.events,a.proxy(function(){m&&clearTimeout(m),m=setTimeout(a.proxy(function(){this.save_state()},this),100)},this)),this.trigger("state_ready")},this);this.element.on("ready.jstree",a.proxy(function(a,c){this.element.one("restore_state.jstree",b),this.restore_state()||b()},this))},this.save_state=function(){var b={state:this.get_state(),ttl:this.settings.state.ttl,sec:+new Date};a.vakata.storage.set(this.settings.state.key,JSON.stringify(b))},this.restore_state=function(){var b=a.vakata.storage.get(this.settings.state.key);if(b)try{b=JSON.parse(b)}catch(a){return!1}return!(b&&b.ttl&&b.sec&&+new Date-b.sec>b.ttl)&&(b&&b.state&&(b=b.state),b&&a.isFunction(this.settings.state.filter)&&(b=this.settings.state.filter.call(this,b)),!!b&&(this.element.one("set_state.jstree",function(c,d){d.instance.trigger("restore_state",{state:a.extend(!0,{},b)})}),this.set_state(b),!0))},this.clear_state=function(){return a.vakata.storage.del(this.settings.state.key)}},function(a,b){a.vakata.storage={set:function(a,b){return window.localStorage.setItem(a,b)},get:function(a){return window.localStorage.getItem(a)},del:function(a){return window.localStorage.removeItem(a)}}}(a),a.jstree.defaults.types={default:{}},a.jstree.defaults.types[a.jstree.root]={},a.jstree.plugins.types=function(c,d){this.init=function(c,e){var f,g;if(e&&e.types&&e.types.default)for(f in e.types)if("default"!==f&&f!==a.jstree.root&&e.types.hasOwnProperty(f))for(g in e.types.default)e.types.default.hasOwnProperty(g)&&e.types[f][g]===b&&(e.types[f][g]=e.types.default[g]);d.init.call(this,c,e),this._model.data[a.jstree.root].type=a.jstree.root},this.refresh=function(b,c){d.refresh.call(this,b,c),this._model.data[a.jstree.root].type=a.jstree.root},this.bind=function(){this.element.on("model.jstree",a.proxy(function(c,d){var e,f,g,h=this._model.data,i=d.nodes,j=this.settings.types,k="default";for(e=0,f=i.length;e<f;e++){if(k="default",h[i[e]].original&&h[i[e]].original.type&&j[h[i[e]].original.type]&&(k=h[i[e]].original.type),h[i[e]].data&&h[i[e]].data.jstree&&h[i[e]].data.jstree.type&&j[h[i[e]].data.jstree.type]&&(k=h[i[e]].data.jstree.type),h[i[e]].type=k,h[i[e]].icon===!0&&j[k].icon!==b&&(h[i[e]].icon=j[k].icon),j[k].li_attr!==b&&"object"==typeof j[k].li_attr)for(g in j[k].li_attr)if(j[k].li_attr.hasOwnProperty(g)){if("id"===g)continue;h[i[e]].li_attr[g]===b?h[i[e]].li_attr[g]=j[k].li_attr[g]:"class"===g&&(h[i[e]].li_attr.class=j[k].li_attr.class+" "+h[i[e]].li_attr.class)}if(j[k].a_attr!==b&&"object"==typeof j[k].a_attr)for(g in j[k].a_attr)if(j[k].a_attr.hasOwnProperty(g)){if("id"===g)continue;h[i[e]].a_attr[g]===b?h[i[e]].a_attr[g]=j[k].a_attr[g]:"href"===g&&"#"===h[i[e]].a_attr[g]?h[i[e]].a_attr.href=j[k].a_attr.href:"class"===g&&(h[i[e]].a_attr.class=j[k].a_attr.class+" "+h[i[e]].a_attr.class)}}h[a.jstree.root].type=a.jstree.root},this)),d.bind.call(this)},this.get_json=function(b,c,e){var f,g,h=this._model.data,i=c?a.extend(!0,{},c,{no_id:!1}):{},j=d.get_json.call(this,b,i,e);if(j===!1)return!1;if(a.isArray(j))for(f=0,g=j.length;f<g;f++)j[f].type=j[f].id&&h[j[f].id]&&h[j[f].id].type?h[j[f].id].type:"default",c&&c.no_id&&(delete j[f].id,j[f].li_attr&&j[f].li_attr.id&&delete j[f].li_attr.id,j[f].a_attr&&j[f].a_attr.id&&delete j[f].a_attr.id);else j.type=j.id&&h[j.id]&&h[j.id].type?h[j.id].type:"default",c&&c.no_id&&(j=this._delete_ids(j));return j},this._delete_ids=function(b){if(a.isArray(b)){for(var c=0,d=b.length;c<d;c++)b[c]=this._delete_ids(b[c]);return b}return delete b.id,b.li_attr&&b.li_attr.id&&delete b.li_attr.id,b.a_attr&&b.a_attr.id&&delete b.a_attr.id,b.children&&a.isArray(b.children)&&(b.children=this._delete_ids(b.children)),b},this.check=function(c,e,f,g,h){if(d.check.call(this,c,e,f,g,h)===!1)return!1;e=e&&e.id?e:this.get_node(e),f=f&&f.id?f:this.get_node(f);var i,j,k,l,m=e&&e.id?h&&h.origin?h.origin:a.jstree.reference(e.id):null;switch(m=m&&m._model&&m._model.data?m._model.data:null,c){case"create_node":case"move_node":case"copy_node":if("move_node"!==c||a.inArray(e.id,f.children)===-1){if(i=this.get_rules(f),i.max_children!==b&&i.max_children!==-1&&i.max_children===f.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:!(!e||!e.id)&&e.id,par:!(!f||!f.id)&&f.id})},!1;if(i.valid_children!==b&&i.valid_children!==-1&&a.inArray(e.type||"default",i.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:!(!e||!e.id)&&e.id,par:!(!f||!f.id)&&f.id})},!1;if(m&&e.children_d&&e.parents){for(j=0,k=0,l=e.children_d.length;k<l;k++)j=Math.max(j,m[e.children_d[k]].parents.length);j=j-e.parents.length+1}(j<=0||j===b)&&(j=1);do{if(i.max_depth!==b&&i.max_depth!==-1&&i.max_depth<j)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+c,data:JSON.stringify({chk:c,pos:g,obj:!(!e||!e.id)&&e.id,par:!(!f||!f.id)&&f.id})},!1;f=this.get_node(f.parent),i=this.get_rules(f),j++}while(f)}}return!0},this.get_rules=function(a){if(a=this.get_node(a),!a)return!1;var c=this.get_type(a,!0);return c.max_depth===b&&(c.max_depth=-1),c.max_children===b&&(c.max_children=-1),c.valid_children===b&&(c.valid_children=-1),c},this.get_type=function(b,c){return b=this.get_node(b),!!b&&(c?a.extend({type:b.type},this.settings.types[b.type]):b.type)},this.set_type=function(c,d){var e,f,g,h,i,j,k,l,m=this._model.data;if(a.isArray(c)){for(c=c.slice(),f=0,g=c.length;f<g;f++)this.set_type(c[f],d);return!0}if(e=this.settings.types,c=this.get_node(c),!e[d]||!c)return!1;if(k=this.get_node(c,!0),k&&k.length&&(l=k.children(".jstree-anchor")),h=c.type,i=this.get_icon(c),c.type=d,(i===!0||!e[h]||e[h].icon!==b&&i===e[h].icon)&&this.set_icon(c,e[d].icon===b||e[d].icon),e[h]&&e[h].li_attr!==b&&"object"==typeof e[h].li_attr)for(j in e[h].li_attr)if(e[h].li_attr.hasOwnProperty(j)){if("id"===j)continue;"class"===j?(m[c.id].li_attr.class=(m[c.id].li_attr.class||"").replace(e[h].li_attr[j],""),k&&k.removeClass(e[h].li_attr[j])):m[c.id].li_attr[j]===e[h].li_attr[j]&&(m[c.id].li_attr[j]=null,k&&k.removeAttr(j))}if(e[h]&&e[h].a_attr!==b&&"object"==typeof e[h].a_attr)for(j in e[h].a_attr)if(e[h].a_attr.hasOwnProperty(j)){if("id"===j)continue;"class"===j?(m[c.id].a_attr.class=(m[c.id].a_attr.class||"").replace(e[h].a_attr[j],""),l&&l.removeClass(e[h].a_attr[j])):m[c.id].a_attr[j]===e[h].a_attr[j]&&("href"===j?(m[c.id].a_attr[j]="#",l&&l.attr("href","#")):(delete m[c.id].a_attr[j],l&&l.removeAttr(j)))}if(e[d].li_attr!==b&&"object"==typeof e[d].li_attr)for(j in e[d].li_attr)if(e[d].li_attr.hasOwnProperty(j)){if("id"===j)continue;m[c.id].li_attr[j]===b?(m[c.id].li_attr[j]=e[d].li_attr[j],k&&("class"===j?k.addClass(e[d].li_attr[j]):k.attr(j,e[d].li_attr[j]))):"class"===j&&(m[c.id].li_attr.class=e[d].li_attr[j]+" "+m[c.id].li_attr.class,k&&k.addClass(e[d].li_attr[j]))}if(e[d].a_attr!==b&&"object"==typeof e[d].a_attr)for(j in e[d].a_attr)if(e[d].a_attr.hasOwnProperty(j)){if("id"===j)continue;m[c.id].a_attr[j]===b?(m[c.id].a_attr[j]=e[d].a_attr[j],l&&("class"===j?l.addClass(e[d].a_attr[j]):l.attr(j,e[d].a_attr[j]))):"href"===j&&"#"===m[c.id].a_attr[j]?(m[c.id].a_attr.href=e[d].a_attr.href,l&&l.attr("href",e[d].a_attr.href)):"class"===j&&(m[c.id].a_attr.class=e[d].a_attr.class+" "+m[c.id].a_attr.class,l&&l.addClass(e[d].a_attr[j]))}return!0}},a.jstree.defaults.unique={case_sensitive:!1,duplicate:function(a,b){return a+" ("+b+")"}},a.jstree.plugins.unique=function(c,d){this.check=function(b,c,e,f,g){if(d.check.call(this,b,c,e,f,g)===!1)return!1;if(c=c&&c.id?c:this.get_node(c),e=e&&e.id?e:this.get_node(e),!e||!e.children)return!0;var h,i,j="rename_node"===b?f:c.text,k=[],l=this.settings.unique.case_sensitive,m=this._model.data;for(h=0,i=e.children.length;h<i;h++)k.push(l?m[e.children[h]].text:m[e.children[h]].text.toLowerCase());switch(l||(j=j.toLowerCase()),b){case"delete_node":return!0;case"rename_node":return h=a.inArray(j,k)===-1||c.text&&c.text[l?"toString":"toLowerCase"]()===j,h||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+j+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:!(!c||!c.id)&&c.id,par:!(!e||!e.id)&&e.id})}),h;case"create_node":return h=a.inArray(j,k)===-1,h||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+j+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:!(!c||!c.id)&&c.id,par:!(!e||!e.id)&&e.id})}),h;case"copy_node":return h=a.inArray(j,k)===-1,h||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+j+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:!(!c||!c.id)&&c.id,par:!(!e||!e.id)&&e.id})}),h;case"move_node":return h=c.parent===e.id&&(!g||!g.is_multi)||a.inArray(j,k)===-1,h||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+j+" already exists. Preventing: "+b,data:JSON.stringify({chk:b,pos:f,obj:!(!c||!c.id)&&c.id,par:!(!e||!e.id)&&e.id})}),h}return!0},this.create_node=function(c,e,f,g,h){if(!e||e.text===b){if(null===c&&(c=a.jstree.root),c=this.get_node(c),!c)return d.create_node.call(this,c,e,f,g,h);if(f=f===b?"last":f,!f.toString().match(/^(before|after)$/)&&!h&&!this.is_loaded(c))return d.create_node.call(this,c,e,f,g,h);e||(e={});var i,j,k,l,m,n=this._model.data,o=this.settings.unique.case_sensitive,p=this.settings.unique.duplicate;for(j=i=this.get_string("New node"),k=[],l=0,m=c.children.length;l<m;l++)k.push(o?n[c.children[l]].text:n[c.children[l]].text.toLowerCase());for(l=1;a.inArray(o?j:j.toLowerCase(),k)!==-1;)j=p.call(this,i,++l).toString();e.text=j}return d.create_node.call(this,c,e,f,g,h)}};var n=i.createElement("DIV");if(n.setAttribute("unselectable","on"),n.setAttribute("role","presentation"),n.className="jstree-wholerow",n.innerHTML="&#160;",a.jstree.plugins.wholerow=function(b,c){this.bind=function(){c.bind.call(this),this.element.on("ready.jstree set_state.jstree",a.proxy(function(){this.hide_dots()},this)).on("init.jstree loading.jstree ready.jstree",a.proxy(function(){this.get_container_ul().addClass("jstree-wholerow-ul")},this)).on("deselect_all.jstree",a.proxy(function(a,b){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")},this)).on("changed.jstree",a.proxy(function(a,b){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var c,d,e=!1;for(c=0,d=b.selected.length;c<d;c++)e=this.get_node(b.selected[c],!0),e&&e.length&&e.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("open_node.jstree",a.proxy(function(a,b){this.get_node(b.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")},this)).on("hover_node.jstree dehover_node.jstree",a.proxy(function(a,b){"hover_node"===a.type&&this.is_disabled(b.node)||this.get_node(b.node,!0).children(".jstree-wholerow")["hover_node"===a.type?"addClass":"removeClass"]("jstree-wholerow-hovered")},this)).on("contextmenu.jstree",".jstree-wholerow",a.proxy(function(b){if(this._data.contextmenu){b.preventDefault();var c=a.Event("contextmenu",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey,pageX:b.pageX,pageY:b.pageY});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c)}},this)).on("click.jstree",".jstree-wholerow",function(b){b.stopImmediatePropagation();var c=a.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()}).on("dblclick.jstree",".jstree-wholerow",function(b){b.stopImmediatePropagation();var c=a.Event("dblclick",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()}).on("click.jstree",".jstree-leaf > .jstree-ocl",a.proxy(function(b){b.stopImmediatePropagation();var c=a.Event("click",{metaKey:b.metaKey,ctrlKey:b.ctrlKey,altKey:b.altKey,shiftKey:b.shiftKey});a(b.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(c).focus()},this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",a.proxy(function(a){return a.stopImmediatePropagation(),this.is_disabled(a.currentTarget)||this.hover_node(a.currentTarget),!1},this)).on("mouseleave.jstree",".jstree-node",a.proxy(function(a){this.dehover_node(a.currentTarget)},this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),c.teardown.call(this)},this.redraw_node=function(b,d,e,f){if(b=c.redraw_node.apply(this,arguments)){var g=n.cloneNode(!0);a.inArray(b.id,this._data.core.selected)!==-1&&(g.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===b.id&&(g.className+=" jstree-wholerow-hovered"),b.insertBefore(g,b.childNodes[0])}return b}},i.registerElement&&Object&&Object.create){var o=Object.create(HTMLElement.prototype);o.createdCallback=function(){var b,c={core:{},plugins:[]};for(b in a.jstree.plugins)a.jstree.plugins.hasOwnProperty(b)&&this.attributes[b]&&(c.plugins.push(b),this.getAttribute(b)&&JSON.parse(this.getAttribute(b))&&(c[b]=JSON.parse(this.getAttribute(b))));for(b in a.jstree.defaults.core)a.jstree.defaults.core.hasOwnProperty(b)&&this.attributes[b]&&(c.core[b]=JSON.parse(this.getAttribute(b))||this.getAttribute(b));a(this).jstree(c)};try{i.registerElement("vakata-jstree",{prototype:o})}catch(a){}}}}),define("modules/versions-files-sidebar/views/folder-tree",["require","exports","module","jquery","underscore","ironclad","jstree","modules/versions/models/current-version"],function(a,b,c){var d=a("jquery"),e=a("underscore"),f=a("ironclad"),g=f.MessageBus;a("jstree");var h=a("modules/versions/models/current-version");c.exports=f.ItemView.extend({template:"#versions-files-sidebar-folder-tree",className:"panel panel-default",ui:{$jsTree:".js-tree",$jsTreePreview:".js-tree-preview",$expand:".js-tree-expand",$collapse:".js-tree-collapse",$expandCollapseCommands:".js-expand-collapse-commands",$filterMatchedFiles:"#filter-show-matched-files",$filterAllFiles:"#filter-show-all-files",$filterLabel:".tree-filter .filter-label"},events:{"click @ui.$expand":"expandClicked","click @ui.$collapse":"collapseClicked","click @ui.$filterMatchedFiles":"filterMatchedFiles","click @ui.$filterAllFiles":"filterAllFiles"},filterAllFiles:function(a){this.showTree("tree")},filterMatchedFiles:function(a){this.showTree("previewTree")},_selectNode:function(a,b){b.node.original.filesUrl&&(e.contains(this.selectedNodes,b.node.id)?b.instance.deselect_node(b.node):g.vent.trigger("version:files:filters:node",{url:b.node.original.filesUrl,scanId:b.node.original.scanId,parentId:b.node.original.id,detailsUrl:b.node.original.detailsUrl,isRoot:"#"===b.node.parent})),this.selectedNodes=e.clone(b.selected)},_deselectNode:function(){g.vent.trigger("version:files:filters:node",{url:h.get("fileBomEntriesUrl")})},onRender:function(){var a=this,b=h.get("fileBomCodeLocationsUrl"),c=g.reqres.request("version:files:filters:get");this.ui.$jsTree.jstree({plugins:["wholerow"],core:{data:function(c,f){var h=c.original?c.original.url:b;d.ajax({url:h,dataType:"json",contentType:"application/json",cache:!1,error:function(b){b.responseJSON&&a.ui.$jsTree.html(b.responseJSON.errorMessage)}}).done(function(d){var i=e.map(d,function(b){var c=a.extractCompositeId(b.filesUrl);return{id:e.uniqueId(),children:Boolean(b.childrenUrl),compositeId:c,detailsUrl:b.detailsUrl,filesUrl:b.filesUrl,icon:a.getNodeIcon(b),scanId:b.scanId,text:b.name,url:b.childrenUrl}});h===b&&g.reqres.setHandler("version:files:scan:data",function(a){var b=e.find(i,{scanId:a});return b||1!==i.length?b:i[0]}),c.state.loading=!1,c.state.loaded=!0,f(i)})},themes:{stripes:!1,dots:!1,icons:!0},multiple:!1}}).on("select_node.jstree",e.bind(a._selectNode,this)).on("deselect_node.jstree",e.bind(a._deselectNode,this)),this.ui.$jsTreePreview.jstree({plugins:["wholerow"],check_callback:!0,core:{themes:{stripes:!1,dots:!1,icons:!0},multiple:!1}}).on("refresh.jstree",function(){a.ui.$jsTreePreview.jstree("open_all")}).on("select_node.jstree",function(a,b){b.node.text=b.node.text.replace(/\s<span.*/,"");var c=e.compact(e.reduce(b.node.parents,function(a,c){var d=b.instance.get_node(c).text;return d&&a.unshift(d.replace(/\s<span.*/,"")),a},[b.node.text])),d=e.map(c,function(a){return a.replace(/\s\(\d+\)/,"")}).join("/");g.trigger("files:list:filter:path",{path:d,scanId:b.node.original.scanId})}),g.reqres.setHandler("versions:files:selectedNodes",function(){return a.selectedNodes}),this.listenTo(g.vent,"version:files:scan:expand",this.expandScan),this.listenTo(g.vent,"version:files:node:center:tree",this.centerTreeNode),this.listenTo(g.vent,"version:files:node:highlight:add",this.highlightNode),this.listenTo(g.vent,"version:files:node:highlight:remove",function(){this.ui.$jsTreePreview.find(".jstree-node").removeClass("highlight main-highlight")}),this.listenTo(g.vent,"version:files:nofilter",function(){this.showTree("tree")}),this.listenTo(g.vent,"version:files:tree:show:data",this.showDataInTree),this.listenTo(g.vent,"version:files:tree:show:all",function(){this.showTree("tree")}),this.listenTo(c,"remove",function(a){"path"===a.get("name")&&this.ui.$jsTree.data("jstree").deselect_all(!0)}),window.location.href.indexOf("filter")!==-1&&this.showTree("previewTree")},showDataInTree:function(a){var b=this.ui.$jsTreePreview;b.jstree(!0).settings.core.data=a.treeData,b.jstree(!0).refresh()},highlightNode:function(a){var b=this,c=this.ui.$jsTreePreview.data("jstree"),d=e.pluck(a.getTreePath(),"text");d.shift();var f,g=function(a,b){return c.get_node(e.find(c.get_node(a).children,function(a){var d=new RegExp("^"+b+"(\\s<span.+)?");return d.test(c.get_node(a).original.text)}))},h=c.get_node("#").children;f=1===h.length?c.get_node(h[0]):c.get_node(e.find(c.get_node("#").children,function(b){return c.get_node(b).original.scanId===a.get("scanId")})),function a(c,e){if(c){b.ui.$jsTreePreview.find("#"+c.id).addClass("highlight");var f=g(c,d.shift());a(f,c)}else e&&(b.currentExpandedChildId=e.id,b.ui.$jsTreePreview.find("#"+e.id).addClass("highlight main-highlight"))}(f)},centerTreeNode:function(){if(!this.ui.$jsTreePreview.hasClass("hidden")){var a=this.currentExpandedChildId;if(a){var b=d("#"+a);b.length>0&&d(".region-sidebar").animate({scrollTop:b[0].offsetTop-300},100)}}},expandScan:function(a){this.showTree("tree");var b=this.ui.$jsTree.data("jstree");b.deselect_all();var c,f=function(a,c){return b.get_node(e.find(b.get_node(a).children,function(a){return b.get_node(a).original.text===c}))},g=b.get_node("#").children;c=1===g.length?b.get_node(g[0]):b.get_node(e.find(b.get_node("#").children,function(c){return a.scanId?b.get_node(c).original.scanId===a.scanId:a.scanName?b.get_node(c).text===a.scanName:void 0})),function c(e,g){e?b.open_node(e,function(b){var d=f(b,a.pathArray.shift());c(d,e)}):g&&(d(".region-sidebar").animate({scrollTop:d("#"+g.id)[0].offsetTop},1e3),b.select_node(g.id))}(c)},showTree:function(a){switch(a){case"tree":this.ui.$expandCollapseCommands.css("display","none"),this.ui.$jsTreePreview.addClass("hidden"),this.ui.$jsTreePreview.data("jstree").deselect_all(),this.ui.$jsTree.removeClass("hidden");var b=this.selectedNodes=this.ui.$jsTree.data("jstree").get_selected();return b.length&&d(".region-sidebar").animate({scrollTop:d("#"+b[0])[0].offsetTop},300),this.ui.$filterMatchedFiles.removeClass("active"),this.ui.$filterAllFiles.addClass("active"),void this.ui.$filterLabel.text(this.ui.$filterAllFiles.text());case"previewTree":this.ui.$expandCollapseCommands.css("display","block"),this.ui.$jsTreePreview.data("jstree").deselect_all(),this.ui.$jsTreePreview.removeClass("hidden"),this.ui.$jsTree.addClass("hidden"),this.ui.$filterMatchedFiles.addClass("active"),this.ui.$filterAllFiles.removeClass("active"),this.ui.$filterLabel.text(this.ui.$filterMatchedFiles.text())}},extractCompositeId:function(a){if(a.indexOf("nodes/")>-1){if(a.indexOf("/file-bom-entries")>-1)return parseInt(a.substring(a.indexOf("nodes/")+6,a.indexOf("/file-bom-entries")));if(a.indexOf("/declared-bom-entries")>-1)return parseInt(a.substring(a.indexOf("nodes/")+6,a.indexOf("/declared-bom-entries")))}return""},getNodeIcon:function(a){switch(a.nodeType){case"DIRECTORY":return"fa fa-folder";case"ARCHIVE":return"fa fa-file-archive-o";case"FILE":return"fa fa-file-o";case"DECLARED_COMPONENT":return a.childrenUrl?"fa fa-cubes":"fa fa-cube";default:return""}},selectNode:function(a){if(this.showTree("tree"),a.parentId){var b=a;this.ui.$jsTree.jstree().open_node("#"+b.parentId,function(a){if(!e.isUndefined(b.nodeId))for(var c=a.children,d=0;d<c.length;d++){var f=this.get_node(c[d]);f.original.compositeId===b.nodeId&&this.open_node("#"+f.id,function(a){this.deselect_node("#"+b.parentId,!1,"no-load"),this.select_node("#"+a.id),this.element.closest(".region-sidebar").animate({scrollTop:this.element.find("#"+a.id)[0].offsetTop},1e3)})}})}},expandClicked:function(){this.ui.$jsTreePreview.jstree("open_all")},collapseClicked:function(){this.ui.$jsTreePreview.jstree("close_all")}})}),define("modules/versions-files-sidebar/views/layout",["require","exports","module","ironclad","./folder-tree"],function(a,b,c){var d=a("ironclad"),e=a("./folder-tree"),f=d.MessageBus;c.exports=d.Layout.extend({id:"versions-files-sidebar-layout",className:"panel-group",template:"#versions-files-sidebar-layout",regions:{folderTree:".region-folder-tree"},initialize:function(a){this.assetData=a,this.listenTo(f.vent,"version:browse:select:node",this.selectNode)},onRender:function(){this.folderTree.show(new e)},selectNode:function(a){this.folderTree.currentView.selectNode(a)}})}),define("modules/versions-files-browse/views/file-path-clickable-item",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus;c.exports=d.ItemView.extend({template:"#versions-files-browse-file-path-clickable-item",tagName:"span",className:function(){var a="file-path-node";return"fa fa-file-o"===this.model.get("icon")&&(a+=" node-file"),1===this.model.collection.length&&(a+=" root-node"),a},ui:{$nodeText:".file-node-text"},events:{"click @ui.$nodeText":"nodeClicked"},nodeClicked:function(a){if("fa fa-file-o"!==this.model.get("icon")){var b=this.model.collection,c=b.pluck("text").slice(1,b.indexOf(this.model)+1),d=e.reqres.request("version:files:filters:get");
    d.removeFilter({name:"component"}),e.vent.trigger("version:files:scan:expand",{scanId:this.model.collection.initialModel.get("scanId"),pathArray:c})}a.stopPropagation()}})}),define("modules/versions-files-browse/views/file-path-clickable",["require","exports","module","ironclad","./file-path-clickable-item"],function(a,b,c){var d=a("ironclad");c.exports=d.CollectionView.extend({tagName:"span",childView:a("./file-path-clickable-item"),initialize:function(a){var b=a.model.getTreePath();this.collection=new d.Collection(b),this.collection.initialModel=a.model}})}),define("modules/versions-files-browse/views/expanded-row",["require","exports","module","underscore","ironclad","modules/i18n/main","./file-path-clickable"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/i18n/main"),g=a("./file-path-clickable");c.exports=e.Layout.extend({template:"#versions-files-browse-expanded-row",tagName:"tr",className:"child-row",ui:{$copyPath:".js-copy-path"},events:{"click @ui.$copyPath":"copyPath"},regions:{path:".region-version-files-browse-expanded-row-path"},attributes:function(){return{"data-child-row":this.model.cid}},onRender:function(){this.path.show(new g({model:this.model}))},copyPath:function(){var a=d.pluck(this.model.getTreePath(),"text").join("/");$("body").append($('<input type="text" name="fname" class="textToCopyInput"/>').val(a)).find(".textToCopyInput").select(),document.execCommand("copy"),$(".textToCopyInput").remove(),this.ui.$copyPath.tooltip({title:f.get("app.modules.version.files.browse.copyPathConfirm"),trigger:"manual"}).tooltip("show");var b=this;d.delay(function(){b.ui.$copyPath.tooltip("destroy")},1e3)},templateHelpers:function(){return{getPathCellColspan:function(){return e.WeightedStore.getItems("file-bom-table-columns").length}}}})}),define("modules/versions-files-browse/controllers/row-controller",["require","exports","module","underscore","anglebrackets","ironclad","../views/expanded-row"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets"),f=a("ironclad"),g=f.MessageBus,h=a("../views/expanded-row");c.exports=e.TableRow.extend({initialize:function(){e.TableRow.prototype.initialize.apply(this,arguments),this.listenTo(this.model,this.internal.expandable.expandEvent,function(){g.vent.trigger("version:files:node:center:tree",this.model)}),this.listenTo(this.model,this.internal.expandable.collapseEvent,function(){g.vent.trigger("version:files:node:highlight:remove",this.model)})},selectable:{multipleSelect:!0,stateChangeCondition:function(a){if(d.isUndefined(a))return!0;var b=$(a.target);return b.hasClass("selectable-cell")||b.closest(".selectable-cell").length>0}},expandable:{expandedContent:h,stateChangeCondition:function(a){if(d.isUndefined(a))return!0;var b=$(a.target);return!b.hasClass("selectable-cell")&&0===b.closest(".selectable-cell").length}},render:function(){var a=e.TableRow.prototype.render.apply(this,arguments),b=this.model,c=g.reqres.request("versions:files:selectedNodes");return c&&0!==c.length||(this.$el.mouseover(function(){g.vent.trigger("version:files:node:highlight:add",b)}),this.$el.mouseout(function(){$(this).hasClass("expanded")||g.vent.trigger("version:files:node:highlight:remove",b)})),this.listenTo(g.vent,"files:list:filter:path",function(a){var b=d.pluck(this.model.getTreePath(),"text").join("/"),c=b.startsWith(a.path)&&this.model.get("scanId")===a.scanId;this.$el.toggleClass("hidden",!c),this.$el.next(".child-row.expanded-content").toggleClass("hidden",!c)}),a}})}),define("modules/versions-files-browse/views/files-table",["require","exports","module","ironclad","anglebrackets","modules/i18n/main","../controllers/row-controller"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/i18n/main"),g=a("../controllers/row-controller");c.exports=e.Table.extend({options:{description:f.get("app.modules.version.files.browse.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover files-breakdown backgrid",row:g,columns:function(){return d.WeightedStore.getItemsData("file-bom-table-columns")}}}})}),define("modules/versions-files-browse/models/file",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus;c.exports=e.Model.extend({initialize:function(){d.bindAll(this,"getIcon","getTreePath","getCategoryLevel")},isRoot:function(){return!this.collection.parentId},getTreePath:function(){var a=this,b=this.get("scanId"),c=f.reqres.request("version:files:scan:data",b),e=d.compact(this.get("fullPath").split("/")),g=d.map(d.clone(e),function(b,c){var d="!"===b.substr(-1)?"fa fa-file-archive-o":"fa fa-folder";return"DECLARED_COMPONENT"===a.get("type")&&(d="fa fa-cubes"),{text:b,icon:d,children:[]}});return g.unshift(d.extend({},c,{children:[]})),g=d.map(g,function(b,c){return c===g.length-1?d.extend({},b,{icon:a.getIcon()}):b.text&&"!"===b.text.substr(-1)?{text:b.text.substr(0,b.text.length-1),icon:"fa fa-file-archive-o",children:[]}:b})},getIcon:function(){switch(this.get("type")){case"DIRECTORY":return"fa fa-folder";case"ARCHIVE":return"fa fa-file-archive-o";case"DECLARED_COMPONENT":return"fa fa-cube";default:return"fa fa-file-o"}},getCategoryLevel:function(a){return!1},_parseFileMatch:function(a){var b=a.compositePath.path;if(a.compositePath.compositePathContext){var c=a.compositePath.compositePathContext;c=c.substr(c.indexOf("#")+1).replace("!",""),c+=b,b=c}return b=b.replace("//","/").replace("!","").replace(/zip:/g,"").replace(/bdjar:/g,""),b=b.split("/"),b=d.compact(b).join("/"),a.fullPath=b,a.license=a.fileMatchComponentLicense,a.matchBomComponent=a.fileMatchBomComponent,a},_parseDependencyMatch:function(a){if(d.isArray(a.declaredComponentPath.externalIds)&&(a.fullPath=a.declaredComponentPath.externalIds.reverse().join("/")),d.isArray(a.fileDependencyBomComponents)){var b=d.first(a.fileDependencyBomComponents);d.isUndefined(b)||(b.usage&&(a.matchBomComponent=b),a.license=b.license)}return a},parse:function(a){return a.compositePath?this._parseFileMatch(a):a.declaredComponentPath?this._parseDependencyMatch(a):a}})}),define("modules/versions-files-browse/models/files",["require","exports","module","underscore","ironclad","numeral","modules/common/models/pageable-collection","modules/versions/models/current-version","./file"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=(a("numeral"),e.MessageBus),g=a("modules/common/models/pageable-collection"),h=a("modules/versions/models/current-version"),i=a("./file");c.exports=g.extend({url:function(){return h.get("fileBomEntriesUrl")},model:i,persistence:{active:!0,filtersToPersist:["filter"]},initialize:function(){g.prototype.initialize.apply(this,arguments),d.bindAll(this,"updateFilters","updateNode")},fetch:function(a){return 0===this.queryParams.limit?g.prototype.fetch.apply(this,arguments):(this.xhrFetch&&this.xhrFetch.readyState>0&&this.xhrFetch.readyState<4&&this.xhrFetch.abort(),this.state.currentPage=a&&a.to?a.to:1,this.parentId||this.queryParams&&((this.queryParams.filter&&this.queryParams.filter.length)>0||!d.isEmpty(this.queryParams.q))?this.xhrFetch=g.prototype.fetch.apply(this,arguments):(this.reset(),this._persistParameters({}),f.vent.trigger("version:files:nofilter"),this.trigger("nofilters")),this.xhrFetch)},updateFilters:function(a,b){this.currentFilters=a;var c=this.currentFilters.getQueryParamsFormat();b&&(this.state.currentPage=1),delete this.queryParams.component,delete this.queryParams.license,delete this.queryParams.fileBomMatchType,delete this.queryParams.fileMatchType,d.extend(this.queryParams,c),this.fetch()},updateNode:function(a){this.url=a.url,this.parentId=a.parentId,this.state.currentPage=1,this.fetch()},parseRecords:function(a){if(this.state.sortKey)return a.items;var b=["DIRECTORY","ARCHIVE","FILE"];return d.sortBy(a.items,function(a){return b.indexOf(a.type)})},getTreeNodes:function(){var a=this,b=function(a,b,c){var e=a;return d.each(b,function(a){if(e.length>0){var b=d.findWhere(e,{text:a,scanId:c.get("scanId")});b&&(e=b.children)}}),e},c=[];return this.each(function(e){var f=e.getTreePath();f[0].matchedChildren=a.where({scanId:e.get("scanId")}).length-1,d.reduce(f,function(a,f){if(a.length){var g=b(c,a,e);if(0!==g.length&&d.findWhere(g,{text:f.text})){if(d.findWhere(g,{text:f.text})){var h=d.findWhere(g,{text:f.text,scanId:e.get("scanId")});h&&h.matchedChildren++}}else{var i=d.extend(f,{children:[],matchedChildren:1,scanId:e.get("scanId")});g.push(i)}}else d.findWhere(c,{text:f.text,scanId:e.get("scanId")})||f.text&&(f.matchedChildren++,c.push(f));return a.push(f.text),a},[])}),c}})}),define("modules/versions-files-browse/views/filter",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({tagName:"li",template:"#versions-files-browse-filter",className:"label label-default applied-filter",triggers:{"click .js-remove-filter":"remove:filter"},modelEvents:{change:"render"},onRender:function(){this.model.get("value")||this.$el.hide()}})}),define("modules/versions-files-browse/views/filters",["require","exports","module","ironclad","./filter"],function(a,b,c){var d=a("ironclad"),e=a("./filter");c.exports=d.CollectionView.extend({id:"versions-files-browse-filters",tagName:"ul",childView:e,childEvents:{"remove:filter":function(a){this.collection.remove(a.model)}}})}),define("modules/code-locations/models/scan",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({urlRoot:"/api/v1/scans/"})}),define("modules/versions-files-browse/views/scan-overview-details",["require","exports","module","modules/code-locations-fs/views/overview-details"],function(a,b,c){var d=a("modules/code-locations-fs/views/overview-details");c.exports=d.extend({template:"#versions-files-browse-overview-details"})}),define("modules/versions-files-browse/views/file-component",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-files-browse-file-component",tagName:"span",className:"asset-meta"})}),define("modules/versions-files-browse/views/file-size",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-files-browse-file-size",tagName:"span",className:"asset-meta"})}),define("modules/versions-files-browse/views/file-license",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#versions-files-browse-file-license",className:"asset-meta",tagName:"span",events:{"click a":"licenseClicked"},onRender:function(){this._canDisplay()&&this.$el.addClass("has-link")},licenseClicked:function(){var a=this.model.get("fileMatchComponentLicense");this._canDisplay()&&e.vent.trigger("assets:actions:modal",{assetName:"licenses",view:"list-overview",license:new d.Model(a)},null)},_canDisplay:function(){var a=this.model.get("fileMatchComponentLicense");return a.licenses.length&&"Unknown License"!==a.licenseDisplay},templateHelpers:{getLicenseDisplay:function(){var a=this.fileMatchComponentLicense;if(a){var b=a.licenseDisplay;if(a.licenses&&a.licenses.length>0&&a.licenses[0].spdxId&&(b=a.licenses[0].spdxId),a.licenses.length>1){var c="DISJUNCTIVE"===a.licenses[0].licenseType?"app.modules.licenses.cellDisplay.OR":"app.modules.licenses.cellDisplay.AND";b=f.get(c,{licenseName:a.licenses[0].spdxId||a.licenses[0].licenseDisplay,otherCount:a.licenses.length-1})}}return b}}})}),define("modules/versions-files-browse/views/file-match-meta",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#versions-files-browse-file-match-meta",className:"asset-meta",tagName:"span",templateHelpers:{getMatchtype:function(){var a=new Array;if(this.fileMatchBomComponent&&a.push(this.fileMatchBomComponent.versionBomMatchType),this.partialFileMatchBomComponents&&this.partialFileMatchBomComponents.length&&a.push("PARTIAL_FILE"),this.fileDependencyBomComponents&&this.fileDependencyBomComponents.length&&a.push("FILE_DEPENDENCY"),a)return a.map(function(a){return e.get("app.modules.version.files.browse.matchStatus."+a)}).join(", ")}}})}),define("modules/versions-files-browse/views/file-meta-data",["require","exports","module","ironclad","./file-component","./file-size","./file-license","./file-match-meta"],function(a,b,c){var d=a("ironclad"),e=a("./file-component"),f=a("./file-size"),g=a("./file-license"),h=a("./file-match-meta");c.exports=d.CollectionView.extend({className:"asset-meta-block",getChildView:function(a){switch(a.get("objType")){case"component":return e;case"license":return g;case"filesize":return f;case"matchType":return h;default:throw new Error("Unknown meta-data view: "+a.get("objType"))}},initialize:function(a){var b=a.model;if(this.collection=new d.Collection,b.get("size")){var c=b.clone();c.set("objType","filesize"),this.collection.add(c)}if(b.get("matchBomComponent")){var e=b.clone();e.set("objType","component"),this.collection.add(e)}if(b.get("fileMatchComponentLicense")){var f=b.clone();f.set("objType","license"),this.collection.add(f)}var g=b.get("fileBomMatchType"),h=b.get("partialFileMatchBomComponents"),i=b.get("fileDependencyBomComponents");if(g&&"UNMATCHED"!==g||h&&h.length>0||i&&i.length>0){var j=b.clone();j.set("objType","matchType"),this.collection.add(j)}d.CollectionView.prototype.initialize.apply(this,arguments)}})}),define("modules/versions-files-browse/views/details",["require","exports","module","ironclad","modules/code-locations/models/scan","./scan-overview-details","./file-path-clickable","./file-meta-data"],function(a,b,c){var d=a("ironclad"),e=a("modules/code-locations/models/scan"),f=a("./scan-overview-details"),g=a("./file-path-clickable"),h=a("./file-meta-data");c.exports=d.Layout.extend({template:"#versions-files-browse-details",regions:{path:".region-version-files-browse-file-path",scanDetails:".region-version-files-browse-file-scan-details",metaDataRegion:".file-meta-data"},onRender:function(){if(this.path.show(new g({model:this.model})),this.metaDataRegion.show(new h({model:this.model})),this.model.scanId){var a=this,b=new e({id:this.model.scanId});b.fetch().success(function(){a.scanDetails.show(new f({model:b}))})}},templateHelpers:function(){var a=this.model;return{getIcon:a.getIcon}}})}),define("modules/versions-files-browse/views/files-table-actions",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({template:"#versions-files-browse-table-actions",className:"btn-toolbar",ui:{$editItemBtn:".js-btn-edit",$deleteItemBtn:".js-btn-delete"},events:{"click @ui.$editItemBtn":"handleEditBtnClick","click @ui.$deleteItemBtn":"handleDeleteBtnClick"},initialize:function(){d.bindAll(this,"refreshCollection"),this.listenTo(this.collection,"table:row:deselected",this.handleTableItemInteraction),this.listenTo(this.collection,"table:row:selected",this.handleTableItemInteraction),this.listenTo(this.collection,"request",this.resetToDefault),this.listenTo(this.collection,"sync",this.render),this.listenTo(e.MessageBus.vent,"versions:files:reset:success versions:files:adjustments:success",this.refreshCollection)},onRender:function(){this.collection.canDelete()||this.ui.$deleteItemBtn.addClass("hidden"),this.collection.canUpdate()||this.ui.$editItemBtn.addClass("hidden")},refreshCollection:function(){this.collection.fetch()},handleTableItemInteraction:function(a){var b=!0,c=!0;a.selectedItems.length>0&&(b=!1),d.each(a.selectedItems,function(a){"DECLARED_COMPONENT"===a.get("type")&&(b=!0)}),d.each(a.selectedItems,function(a){"UNMATCHED"!==a.get("fileBomMatchType")&&"AUTO"!==a.get("fileBomMatchType")&&(c=!1)}),this.ui.$editItemBtn.prop("disabled",b),this.ui.$deleteItemBtn.prop("disabled",c)},handleEditBtnClick:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"files-bulk-edit"},null)},handleDeleteBtnClick:function(){e.MessageBus.vent.trigger("assets:actions:modal",{assetName:"versions",view:"files-bulk-delete"},null)},resetToDefault:function(){this.ui.$editItemBtn.prop("disabled",!0),this.ui.$deleteItemBtn.prop("disabled",!0)}})}),define("modules/versions-files-browse/views/no-filters-selected",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-files-browse-no-filters-selected"})}),define("modules/versions-files-browse/views/layout",["require","exports","module","underscore","modules/i18n/main","ironclad","./files-table","../models/files","../models/file","./filters","./details","./files-table-actions","./no-filters-selected","modules/advanced-filters/views/advanced-filters","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=f.MessageBus,h=a("./files-table"),i=a("../models/files"),j=a("../models/file"),k=a("./filters"),l=a("./details"),m=a("./files-table-actions"),n=a("./no-filters-selected"),o=a("modules/advanced-filters/views/advanced-filters"),p=a("modules/tables/behaviors/sticky-headers");c.exports=f.Layout.extend({template:"#versions-files-browse-layout",id:"files-table",regions:{detailsRegion:".region-node-details",filesTable:".region-files-table",filesNoFilters:".region-files-no-filters",filesTableActions:".region-files-table-actions",filesFilter:".versions-bom-file-filter",appliedFilters:".region-files-applied-filters"},behaviors:{Sticky:{behaviorClass:p}},initialize:function(){this.collection=new i,f.Layout.prototype.initialize.apply(this,arguments),this.advancedFilters=new o({targetCollection:this.collection,placeholder:e.get("app.modules.version.files.browse.filterFiles"),prefetchFilters:!0}),this.listenToOnce(this.advancedFilters,"advanced-filter-target-collection:prefetched",function(){this.collection.fetch()})},onRender:function(){var a=this;this.filesFilter.show(this.advancedFilters),g.reqres.setHandler("hub:files:selected:items",function(){var b=d.where(a.collection.models,{selected:!0});return new f.Collection(b)});var b=g.reqres.request("version:files:filters:get");this.listenTo(b,"add remove change initialized",function(){this.collection.updateFilters(b,!0)}),this.appliedFilters.show(new k({collection:b})),this.listenTo(this.collection,"request",function(){a.collection.trigger("loading")}),this.listenTo(this.collection,"sync",this.displayFiles),this.listenTo(this.collection,"nofilters",this.displayNoFilters),this.listenTo(g.vent,"version:files:filters:node",function(b){a.collection.updateNode(b),a.displayDetails(b)}),this.listenTo(this.collection,"sync",function(){g.vent.trigger("version:files:tree:show:data",{treeData:a.collection.getTreeNodes()})})},displayDetails:function(a){var b=this;if(b.detailsRegion.reset(),a.detailsUrl){var c=new j;c.url=a.detailsUrl,a.isRoot&&a.scanId&&(c.scanId=a.scanId),c.fetch().success(function(){b.detailsRegion.show(new l({model:c})),b.triggerMethod("RecalculateScroll")})}else b.triggerMethod("RecalculateScroll")},displayFiles:function(a){void 0===this.filesTable.currentView&&(this.filesNoFilters.empty(),this.filesTable.show(new h({collection:a})),this.filesTableActions.show(new m({collection:a})))},displayNoFilters:function(){this.filesNoFilters.show(new n),this.filesTable.empty(),this.filesTableActions.empty()}})}),define("modules/versions-files/views/empty",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-files-empty",id:"versions-files-no-results",className:"row"})}),define("modules/versions-files-filters/models/filters",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Collection.extend({initialize:function(){d.bindAll(this,"addFilter","addFilters","removeFilter","_removeExistingFilters")},addFilters:function(a){this._removeExistingFilters(a),this.add(a)},_removeExistingFilters:function(a){var b=this,c=[];d.each(a,function(a){var d=b.getFilter(a.name);d&&c.push(d)}),this.remove(c)},addFilter:function(a,b){var c=this.getFilter(a.name);c?c.set({value:a.value,label:a.label},{silent:b}):this.add(a,{silent:b})},removeFilter:function(a,b){var c=this.getFilter(a.name);c&&this.remove(c,{silent:b})},getQueryParamsFormat:function(){return this.reduce(function(a,b){return a[b.get("name")]=b.get("value"),a},{})},getUrlParamsFormat:function(){return this.reduce(function(a,b){return b.get("value")&&(a+="|"+b.get("name")+":"+b.get("value")),a},"")},hasFilter:function(a){var b=this.findWhere({name:a.name,value:a.value});return!!b},getFilter:function(a){return this.findWhere({name:a})},constructFilter:function(a,b){return{name:a,value:b}}})}),define("modules/tables/behaviors/expand-sidebar",["require","exports","module","underscore","ironclad","marionette"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("marionette"),h=150;c.exports=g.Behavior.extend({ui:{$sidebarRegion:".region-sidebar",$tableRegion:".region-table",$expanderRegion:".extend-sidebar",$expanderHandle:".extend-sidebar-handle"},events:{"mousedown @ui.$expanderRegion":"extendSidebar","mousemove @ui.$expanderRegion":"_moveHandle"},initialize:function(){d.bindAll(this,"handleResize","_mouseMoveResize"),$(window).on("resize",this.handleResize)},handleResize:function(){this.ui.$sidebarRegion.css("left",this.getSideNavOffset()+"px"),this.ui.$expanderRegion.css("left",this.ui.$sidebarRegion.outerWidth()+this.getSideNavOffset()+"px"),f.vent.trigger("window:resize")},_moveHandle:function(a){var b=Math.max(a.clientY-this.ui.$expanderRegion.position().top+this.ui.$expanderHandle.height()/2,0);this.ui.$expanderHandle.css("top",b)},_mouseMoveResize:function(a){a.preventDefault();var b=this.calculateExpanderLocation(a);this.ui.$expanderRegion.css("left",b.positionX+"px"),this.ui.$sidebarRegion.css("left",b.navOffset+"px"),this.ui.$sidebarRegion.css("width",b.sideBarWidth+"px"),this.ui.$tableRegion.css("margin-left",b.sideBarWidth+"px"),f.vent.trigger("window:resize")},calculateExpanderLocation:function(a){var b=$(window).width(),c=a.clientX,d=this.getSideNavOffset(),e=c-d;return b-c<h&&(c=b-h,e=b-150-d),e<150&&(e=150,c=e+d),{positionX:c,navOffset:d,sideBarWidth:e}},getSideNavOffset:function(){return $("#sidenavExpander").is(":visible")?0:$("#suiteSideNavMenu").outerWidth()},extendSidebar:function(a){var b=this;$(document).on("mousemove",b._mouseMoveResize),$(document).one("mouseup",function(a){a.preventDefault(),$(document).off("mousemove",b._mouseMoveResize)})},onDestroy:function(){$(window).off("resize",this.handleResize)}})}),define("modules/versions-files/views/layout",["require","exports","module","underscore","ironclad","../models/code-tree","modules/versions-files-sidebar/views/layout","modules/versions-files-browse/views/layout","modules/versions-files/views/empty","modules/versions-files-filters/models/filters","modules/errors/views/error","modules/tables/behaviors/expand-sidebar"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../models/code-tree"),h=a("modules/versions-files-sidebar/views/layout"),i=a("modules/versions-files-browse/views/layout"),j=a("modules/versions-files/views/empty"),k=a("modules/versions-files-filters/models/filters"),l=a("modules/errors/views/error"),m=a("modules/tables/behaviors/expand-sidebar");c.exports=e.Layout.extend({id:"versions-files-layout",className:"container-fluid",template:"#versions-files-layout",regions:{versionSidebar:".region-sidebar",versionTable:".region-table"},behaviors:{ExpandSideBar:{behaviorClass:m}},initialize:function(){this.codeTree=new g;var a=this.filters=new k;f.reqres.setHandler("version:files:filters:get",function(){return a})},onRender:function(){this.$el.spin("large","#777"),this.codeTree.fetch().success(d.bind(function(){this.$el.spin(!1),this.codeTree.get("0")?(this.versionTable.show(new i),this.versionSidebar.show(new h(this.options.assetData))):this.versionTable.show(new j)},this)).error(d.bind(function(a){this.$el.spin(!1),this.versionTable.show(new l({statusCode:"timeout"===a.statusText?504:500}))},this))}})}),define("modules/versions-files-browse/models/bulk-edit-items",["require","exports","module","modules/versions/models/current-version","modules/common/models/generic-bulk-action-collection"],function(a,b,c){var d=a("modules/versions/models/current-version"),e=a("modules/common/models/generic-bulk-action-collection");c.exports=e.extend({url:function(){return"/api/v1/releases/"+d.get("id")+"/file-bom-entries"}})}),define("modules/versions-files-browse/views/bulk-target-item",["require","exports","module","underscore","modules/i18n/main","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad");c.exports=f.ItemView.extend({template:"#versions-files-browse-bulk-target-item",tagName:"li",className:"well well-sm",ui:{$removeBtn:".remove-item",$matchTypeContainer:".match-type"},events:{"click @ui.$removeBtn":"removeItem"},onRender:function(){"UNMATCHED"===this.model.get("fileBomMatchType")&&this.ui.$matchTypeContainer.addClass("attention")},removeItem:function(){var a=this;this.model.trigger("table:row:do:deselect"),this.$el.fadeOut("fast",function(){a.destroy()})},templateHelpers:function(){return d.extend({},f.templateHelpers,{getMatchType:this.getMatchType,getUsageType:this.getUsageType})},getMatchType:function(){return e.get("app.modules.version.files.browse.matchStatus."+this.fileBomMatchType)},getUsageType:function(){if(!d.isUndefined(this.usages)&&this.usages.length>0)return e.get("app.modules.versions.bom."+this.usages[0])}})}),define("modules/versions-files-browse/views/bulk-target-valid-items",["require","exports","module","ironclad","modules/i18n/main","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("./bulk-target-item");c.exports=d.CollectionView.extend({tagName:"ul",displayLimit:3,emptyView:d.MessageView.extend({message:e.get("app.modules.common.bulkNoItems"),className:"no-new text-center"}),childView:f})}),define("modules/versions-files-browse/views/bulk-target-invalid-items",["require","exports","module","ironclad","modules/i18n/main","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=(a("modules/i18n/main"),a("./bulk-target-item"));c.exports=d.CollectionView.extend({tagName:"ul",childView:e})}),define("modules/versions-files-browse/views/bulk-edit",["require","exports","module","underscore","modules/i18n/main","ironclad","modules/versions/views/_bulk-edit","../models/bulk-edit-items","./bulk-target-valid-items","./bulk-target-invalid-items"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=f.MessageBus,h=a("modules/versions/views/_bulk-edit"),i=a("../models/bulk-edit-items"),j=a("./bulk-target-valid-items"),k=a("./bulk-target-invalid-items");c.exports=h.extend({template:"#versions-files-browse-bulk-edit",collection:new i,targetValidItemsCollectionView:j,targetInvalidItemsCollectionView:k,ui:d.extend({},h.prototype.ui,{$attention:".bulk-action-attention"}),getSelectedItems:function(){return g.reqres.request("hub:files:selected:items")},getInitialData:function(){var a=d.uniq(this.collectionData.validItems.models,function(a){return a.get("fileMatchBomComponent")?a.get("fileMatchBomComponent").project.id:null});return 1===a.length?a[0]:null},setupInitialData:function(){var a=this.getInitialData();null!==a&&a.get("fileMatchBomComponent")?this._loadInitialData(a):(this.setupProjectAutoComplete(),this.setupUsageAutoComplete())},_loadInitialData:function(a){var b=a.get("fileMatchBomComponent").project;if(this.setupProjectAutoComplete(b.id),b){var c=a.get("fileMatchBomComponent").release;if(c){var d="/api/internal/projects/"+b.id+"/versions/"+c.id,e=d+"/channels",f={versionId:c.id,version:c.version,channelsUrl:e};this.setupVersionAutoComplete(b.id,f);var g=a.get("fileMatchBomComponent").channelRelease;if(g){var h={channelName:g.externalNamespace,_meta:{links:[{rel:"channel-versions",href:d+"/channel-versions?filter=channelName:"+g.externalNamespace}]}};this.setupDistributionAutoComplete(f,h);var i=g.externalId||g.name;this.setupDistributionVersionAutoComplete(h,{channelVersionId:g.id,externalId:i})}else this.setupDistributionAutoComplete(f)}else this.setupVersionAutoComplete(b.id)}this.setupUsageAutoComplete({id:a.get("fileMatchBomComponent").usage})},ok:function(){this.ui.$projectSelector.parent().removeClass("has-error");var a=this.getAdjustmentModel();if(this.validateSelectedItems(a),this.collectionData.allValid){var b=this;b.collection.reset(null,{silent:!0}),this.collectionData.validItems.each(function(c){b._setModel(a,b.collection,c)}),this.trigger("state:waiting"),this.collection.saveAll().success(function(){g.vent.trigger("versions:files:adjustments:success",this),b.collection.reset(null,{silent:!0}),h.prototype.ok.apply(b)})}},redirect:function(){return!1},validateSelectedItems:function(a){var b=d.find(this.collectionData.validItems.models,function(a){return"UNMATCHED"===a.get("fileBomMatchType")});b&&!a.get("projectId")?(this.renderError("projectId",e.get("app.modules.versions.vulnerabilities.remediation.bulk.action.attention.unmatched")),this.collectionData.allValid=!1):this.collectionData.allValid=!0},_setModel:function(a,b,c){var e=new f.Model(d.extend({fileMatchBomComponent:new Object},c.attributes)),g=a.get("projectId");g&&(e.get("fileMatchBomComponent").project={id:g});var h=a.get("releaseId");d.isUndefined(h)?e.get("fileMatchBomComponent").release=null:e.get("fileMatchBomComponent").release={id:h};var i=a.get("usage");i&&(e.get("fileMatchBomComponent").usage=i);var j=a.get("channelRelease");d.isUndefined(j)?e.get("fileMatchBomComponent").channelRelease=null:e.get("fileMatchBomComponent").channelRelease={id:j.id};var k=c.get("fileSignaturePair");d.isEmpty(k)||e.set("fileSignaturePair",k),b.add(e)}})}),define("modules/versions-files-browse/models/bulk-delete-items",["require","exports","module","modules/versions/models/current-version","modules/common/models/generic-bulk-action-collection"],function(a,b,c){var d=a("modules/versions/models/current-version"),e=a("modules/common/models/generic-bulk-action-collection");c.exports=e.extend({url:function(){return"/api/v1/releases/"+d.get("id")+"/file-bom-entries"}})}),define("modules/versions-files-browse/views/bulk-delete",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","./bulk-target-valid-items","./bulk-target-invalid-items","../models/bulk-delete-items"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/modals/views/bulk-action-view"),i=a("./bulk-target-valid-items"),j=a("./bulk-target-invalid-items"),k=a("../models/bulk-delete-items");c.exports=h.extend({template:"#versions-files-browse-bulk-delete",hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,targetValidItemsCollectionView:i,targetInvalidItemsCollectionView:j,action:g.get("app.modules.version.files.action.resetAdjustment"),initialize:function(){this.collection=new k,this.listenTo(this.collection,"error",function(){this.trigger("state:active")}),h.prototype.initialize.apply(this,arguments)},ui:d.extend({$confirmationBlock:".confirmation-block"},h.prototype.ui),onRender:function(){h.prototype.onRender.apply(this,arguments);var a=g.get("app.modules.version.files.resetAdjustment.confirmMessage",this.collectionData.validItems.size());this.ui.$confirmationBlock.text(a)},getSelectedItems:function(){return f.reqres.request("hub:files:selected:items")},ok:function(){var a=this;this.collectionData.validItems.each(function(b){a.setModel(a.collection,b)}),a.collection.size()>0&&(a.collection.url=this.getDestroyCollectionUrl(this.collectionData.validItems)),this.trigger("state:waiting"),this.collection.destroyAll().success(function(){f.vent.trigger("versions:files:reset:success",this),
    h.prototype.ok.apply(a)})},getDestroyCollectionUrl:function(a){var b=a.models[0].collection.url;return d.isUndefined(b)?this.collection.url:b},validationFilter:function(a){return"UNMATCHED"!==a.get("fileBomMatchType")&&"AUTO"!==a.get("fileBomMatchType")},redirect:function(){return!1},setModel:function(a,b){var c={scanId:b.get("scanId"),compositeId:b.get("compositeId"),compositePath:b.get("compositePath"),fileMatchBomComponent:b.get("fileMatchBomComponent")};a.add(c)}})}),define("modules/versions-files/main",["require","exports","module","backbone","ironclad","./views/layout","modules/link-nav/registry","modules/versions-files-browse/views/bulk-edit","modules/versions-files-browse/views/bulk-delete","modules/projects/models/current-project"],function(a,b,c){function d(){return!k.attributes.kb}var e=a("backbone"),f=a("ironclad").MessageBus,g=a("./views/layout"),h=a("modules/link-nav/registry"),i=a("modules/versions-files-browse/views/bulk-edit"),j=a("modules/versions-files-browse/views/bulk-delete"),k=a("modules/projects/models/current-project");h.addMenuItem("versions:localnav","#versions-files-menu-link",{},400,d),f.reqres.setHandler("versions:views:content:files",function(){return g}),f.reqres.setHandler("versions:views:modals:files-bulk-edit",function(){return i}),f.reqres.setHandler("versions:views:modals:files-bulk-delete",function(){return j}),f.commands.setHandler("link:bom:files:view",function(a,b){var c="#versions/id:"+a+"/view:files";b&&(c+="?filter=bomComponents:"+b),e.history.navigate(c,{trigger:!0})})}),define("modules/versions-usage/models/usage-paged",["require","exports","module","modules/common/models/pageable-collection"],function(a,b,c){var d=a("modules/common/models/pageable-collection");c.exports=d.extend({url:function(){return"/api/v1/releases/"+this.releaseId+"/bom-releases"},persistence:{active:!0},state:{sortKey:"version",order:"1"}})}),define("modules/versions-usage/views/table",["require","exports","module","anglebrackets","modules/i18n/main"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.usage.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{label:e.get("app.modules.common.Project"),name:"projectDelegate.name",displayValue:"project.name",cell:d.TableCell,escapeValue:!1,template:"#versions-usage-project-cell",editable:!1,sortable:!0},{label:e.get("app.modules.common.Version"),name:"releaseDelegate.version",displayValue:"version.version",cell:d.TableCell,escapeValue:!1,template:"#versions-usage-version-cell",editable:!1,sortable:!0},{label:e.get("app.projects.tier"),name:"projectDelegate.tier",displayValue:"project.tier",cell:d.TableCell,escapeValue:!1,editable:!1,sortable:!0},{label:e.get("app.project.released.date"),name:"releaseDelegate.releasedOn",cell:d.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{label:e.get("app.modules.versions.distribution"),name:"releaseDelegate.distribution",cell:d.TableCell,template:"#versions-usage-distribution-cell",editable:!1,sortable:!0},{label:e.get("app.modules.work.phaseLabel"),name:"releaseDelegate.phase",displayValue:"version.phase",className:"text-center",cell:d.TableCell,escapeValue:!1,template:"#versions-usage-phase-cell",editable:!1,sortable:!0}]}}})}),define("modules/versions-usage/views/usages-table-header",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.MessageView.extend({message:e.get("app.modules.versions.usage"),className:"table-header"})}),define("modules/versions-overview/views/layout",["require","exports","module","ironclad","modules/projects-versions/views/metadata","modules/versions-usage/models/usage-paged","modules/versions-usage/views/table","modules/versions-usage/views/usages-table-header","modules/common/views/waiting"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/projects-versions/views/metadata"),g=a("modules/versions-usage/models/usage-paged"),h=a("modules/versions-usage/views/table"),i=a("modules/versions-usage/views/usages-table-header"),j=a("modules/common/views/waiting");c.exports=d.Layout.extend({template:"#versions-overview-layout",id:"versions-overview-layout",className:"container-fluid",regions:{usageList:".js-usages-list",vulnCounterRegion:".js-vuln-counter",usageHeader:".js-usages-header",metadata:".js-project-metadata"},onRender:function(){var a=this.model.get("version");this.metadata.show(new f({model:this.model}));var b=new g;b.releaseId=a.get("id"),this.usageList.show(new h({collection:b})),this.usageHeader.show(new i({collection:b}));var c=e.reqres.request("versions:vulnerabilities:widget:count");if(c){var d=this;d.vulnCounterRegion.show(new j),c.model.fetch().success(function(){d.vulnCounterRegion.show(c)})}b.fetch()}})}),define("modules/versions-overview/main",["require","exports","module","ironclad","./views/layout","modules/link-nav/registry","modules/versions-bom/views/layout","modules/projects/models/current-project","modules/asset/models/current-route-params"],function(a,b,c){function d(){return j.attributes.kb}var e=a("ironclad"),f=e.MessageBus,g=a("./views/layout"),h=a("modules/link-nav/registry"),i=a("modules/versions-bom/views/layout"),j=a("modules/projects/models/current-project"),k=a("modules/asset/models/current-route-params");h.addMenuItem("versions:localnav","#versions-overview-menu-link",{},100,d),f.reqres.setHandler("versions:views:content:overview",function(){return j.get("internal")?(k.set("view","bom"),i):g}),c.exports=g}),define("modules/versions-reports-notices/models/notice",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Collection.extend({parse:function(a){return a.reportContent}})}),define("modules/versions-reports-notices/views/notices-section",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({className:"row",template:"#versions-reports-notices-notices-section",templateHelpers:function(){return{getLicenseComponents:function(a){var b=[];return d.each(a,function(a){var c=a.projectName;a.versionName&&(c+=" "+a.versionName),b.push(c)}),b.join(", ")}}}})}),define("modules/versions-reports-notices/views/layout",["require","exports","module","ironclad","./notices-section"],function(a,b,c){var d=a("ironclad"),e=a("./notices-section");c.exports=d.CollectionView.extend({className:"container",childView:e,childViewContainer:".container"})}),define("modules/versions-reports-notices/controllers/route-controller",["require","exports","module","app","../models/notice","../views/layout"],function(a,b,c){var d=a("app"),e=a("../models/notice"),f=a("../views/layout");c.exports={showVersionReport:function(a){var b=new e;b.url=a,b.fetch().success(function(){d.appLayout.content.show(new f({collection:b}))})}}}),define("modules/versions-reports-notices/router",["require","exports","module","modules/router/main","./controllers/route-controller"],function(a,b,c){var d=a("modules/router/main"),e=a("./controllers/route-controller");c.exports=d.extend({controller:e,appRoutes:{"versions-reports-notices?contentUrl=:contentUrl":"showVersionReport"}})}),define("modules/versions-reports-notices/main",["require","exports","module","./router"],function(a,b,c){var d=a("./router");new d}),define("modules/versions-reports/models/reports",["require","exports","module","ironclad","modules/common/models/pageable-collection"],function(a,b,c){var d=a("ironclad"),e=a("modules/common/models/pageable-collection");c.exports=e.extend({model:d.Model,initialize:function(a,b){this.versionId=b.versionId,e.prototype.initialize.apply(this,arguments)},url:function(){return"/api/v1/versions/"+this.versionId+"/reports"}})}),define("modules/versions-reports/views/reports-table",["require","exports","module","anglebrackets","modules/i18n/main","modules/reports/controllers/delete-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/reports/controllers/delete-cell");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.reports.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover backgrid",row:d.TableRow,columns:[{name:"fileName",displayValue:"fileNamePrefix",label:e.get("common.fileName"),cell:d.TableCell,template:"#versions-reports-report-name-cell",editable:!1,sortable:!0},{name:"reportFormat",label:e.get("app.modules.common.format"),cell:d.TableCell,template:"#versions-reports-report-format-cell",editable:!1,sortable:!1},{name:"reportType",label:e.get("app.modules.versions.reports.type"),cell:d.TableCell,template:"#versions-reports-report-type-cell",editable:!1,sortable:!1},{name:"fileSize",displayValue:"fileSize",label:e.get("app.modules.version.files.browse.fileSize"),cell:d.TableCell,template:"#common-file-size-cell",editable:!1,sortable:!0},{name:"createdByUserName",displayValue:"createdByUserName",label:e.get("common.createdBy"),cell:d.TableCell,editable:!1,sortable:!0},{name:"createdAt",label:e.get("common.createdDate"),cell:d.TableCell,template:"#common-format-datetime-cell",editable:!1,sortable:!0},{name:"complete",label:e.get("common.status"),cell:d.TableCell,template:"#versions-reports-report-status-cell",editable:!1,sortable:!1},{label:"",cell:f,editable:!1,sortable:!1}]}}})}),define("modules/versions-reports/models/report",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({initialize:function(a){this.versionId=a.versionId},url:function(){return"/api/v1/versions/"+this.versionId+"/reports"}})}),define("modules/versions-reports/views/create-reports-button",["require","exports","module","ironclad","../models/report"],function(a,b,c){var d=a("ironclad"),e=a("../models/report");c.exports=d.ItemView.extend({template:"#versions-reports-create-button",className:"create-reports-button",ui:{$button:"button"},events:{"click @ui.$button":"openCreateModal"},openCreateModal:function(a){a.preventDefault();var b=new e({versionId:this.options.versionId}),c=this.model.get("data");d.MessageBus.vent.trigger("assets:actions:modal",{assetName:c.asset,view:c.view},b)}})}),define("modules/versions-reports/views/create-reports-menu-item",["require","exports","module","./create-reports-button"],function(a,b,c){var d=a("./create-reports-button");c.exports=d.extend({template:"#versions-reports-create-menu-item",tagName:"li",attributes:{role:"presentation"},ui:{$menuItem:"a"},events:{"click @ui.$menuItem":"openCreateModal"}})}),define("modules/versions-reports/views/create-reports-menu",["require","exports","module","ironclad","./create-reports-menu-item"],function(a,b,c){var d=a("ironclad"),e=a("./create-reports-menu-item");c.exports=d.CompositeView.extend({template:"#versions-reports-create-menu",className:"create-reports-button",childView:e,childViewContainer:"ul",childViewOptions:function(){return{versionId:this.options.versionId}}})}),define("modules/versions-reports/views/layout",["require","exports","module","underscore","ironclad","../models/reports","./reports-table","./create-reports-button","./create-reports-menu","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("../models/reports"),h=a("./reports-table"),i=a("./create-reports-button"),j=a("./create-reports-menu"),k=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#versions-reports-layout",className:"container-fluid",regions:{reportsCreate:".reports-create-btn",reportsTable:".reports-table"},behaviors:{Sticky:{behaviorClass:k}},initialize:function(){var a=this.collection=new g(null,{versionId:this.model.id}),b=this;f.commands.setHandler("versions-reports:reload",function(c){b.currentDelay=d.delay(function(){a.fetch(),b.currentDelay=null},c)}),b.listenTo(f.vent,"reports:reload",function(){a.fetch()}),b.listenTo(a,"sync",function(){a.findWhere({complete:!1})&&a.findWhere({failed:!1})&&f.commands.execute("versions-reports:reload",1e4)})},onDestroy:function(){this.currentDelay&&clearTimeout(this.currentDelay)},onRender:function(){var a=this,b=a.getCreateView();a.reportsCreate.show(b);var c=new h({collection:a.collection});a.reportsTable.show(c),a.collection.fetch()},getCreateView:function(){var a=e.WeightedStore.getItems("CreateVersionReportType");return 1===a.length?new i({versionId:this.model.id,model:new e.Model(a[0])}):new j({versionId:this.model.id,collection:new e.Collection(a)})}})}),define("modules/versions-reports/views/generate-report",["require","exports","module","underscore","ironclad","modules/modals/views/layout-form"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-form");c.exports=f.extend({template:"#versions-reports-generate-report",hasErrorHandler:!0,ui:d.extend({},f.prototype.ui,{$categories:'[name="categories"]'}),modelEvents:d.extend({},f.prototype.modelEvents,{error:"modelErrorHandler",sync:"success"}),events:d.extend({},f.prototype.events,{"click @ui.$categories":"selectCategories"}),ok:function(a){a.stopPropagation(),this.model.set("reportType","VERSION"),this.model.set("reportFormat","CSV"),this.model.set("categories",this.ui.$categories.filter(":checked").map(function(){return $(this).val()}).get()),this.model.save()&&this.trigger("state:waiting")},redirect:function(){return!1},success:function(){e.MessageBus.commands.execute("versions-reports:reload",1),this.closeModal()},modelErrorHandler:function(a,b){this.trigger("state:active"),this.handleApiErrors(a,b)},errorHandler:e.ItemView.prototype.errorHandler,selectCategories:function(){this.ui.$submit.attr("disabled",this.ui.$categories.filter(":checked").length<1)}})}),define("modules/versions-reports/views/generate-notice",["require","exports","module","underscore","ironclad","modules/modals/views/layout-form"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("modules/modals/views/layout-form");c.exports=f.extend({template:"#versions-reports-generate-notice",hasErrorHandler:!0,ui:d.extend({},f.prototype.ui,{$reportFormat:'[name="reportFormat"]'}),modelEvents:d.extend({},f.prototype.modelEvents,{error:"modelErrorHandler",sync:"success"}),ok:function(a){a.stopPropagation(),this.model.set("reportType","VERSION_LICENSE"),this.model.set("reportFormat",this.ui.$reportFormat.val()),this.model.save()&&this.trigger("state:waiting")},redirect:function(){return!1},success:function(){e.MessageBus.commands.execute("versions-reports:reload",1),this.closeModal()},modelErrorHandler:function(a,b){this.trigger("state:active"),this.handleApiErrors(a,b)},errorHandler:e.ItemView.prototype.errorHandler})}),define("modules/versions-reports/main",["require","exports","module","ironclad","modules/i18n/main","modules/link-nav/registry","./views/layout","./views/generate-report","./views/generate-notice","modules/projects/models/current-project"],function(a,b,c){function d(){return!l.get("kb")}var e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/link-nav/registry"),i=a("./views/layout"),j=a("./views/generate-report"),k=a("./views/generate-notice"),l=a("modules/projects/models/current-project");e.WeightedStore.addItem("CreateVersionReportType",{name:g.get("app.modules.versions.reports.generateNewReport"),asset:"versions",view:"generate-report"},100),f.reqres.setHandler("versions:views:modals:generate-report",function(){return j}),e.WeightedStore.addItem("CreateVersionReportType",{name:g.get("app.modules.versions.notices.createNew"),asset:"versions",view:"generate-notice"},200),f.reqres.setHandler("versions:views:modals:generate-notice",function(){return k}),f.reqres.setHandler("versions:views:content:reports",function(){return i}),h.addMenuItem("versions:localnav","#versions-reports-menu-link",{},800,d)}),define("modules/versions-scanlocations/views/scans-table",["require","exports","module","anglebrackets","modules/i18n/main","modules/code-locations/controllers/status-cell","modules/code-locations/controllers/scan-name-cell","modules/code-locations/controllers/row-actions"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/code-locations/controllers/status-cell"),g=a("modules/code-locations/controllers/scan-name-cell"),h=a("modules/code-locations/controllers/row-actions");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.scans.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover code-locations-table backgrid",row:d.TableRow.extend({selectable:!0}),columns:[{name:"locationType",label:e.get("app.views.jobs.location.type.caption"),cell:d.TableCell,template:"#code-locations-type-cell",editable:!1,sortable:!1},{name:"name",label:e.get("common.name"),cell:g,editable:!1,sortable:!0},{name:"status",label:e.get("app.views.jobs.statusHeader"),cell:f,editable:!1,sortable:!1},{name:"updatedAt",label:e.get("app.views.jobs.location.details.jobHistory.updatedAt"),cell:d.TableCell,template:"#common-format-date-cell",editable:!1,sortable:!0},{name:"rowActions",cell:h,label:"",editable:!1,sortable:!1}]}}})}),define("modules/versions-scanlocations/views/scans-details",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({getTemplate:function(){return this.hasCodeLocations()?"#versions-scanlocations-details":"#common-empty"},hasCodeLocations:function(){var a=this.model.get("codeLocations");return a&&a.length>0},templateHelpers:function(){var a=this;return{getCodeLocationsDescription:function(){if(a.hasCodeLocations()){var b=a.model.get("totalFileSystemSize")||0,c=a.model.get("codeLocations").length;return e.get("app.modules.scans.projectUsage",{totalCodeLocations:c,totalCodeSize:this.formatFileSize(b)},c)}}}}})}),define("modules/versions-scanlocations/models/scanlocations",["require","exports","module","modules/common/models/pageable-collection","modules/code-locations/models/location"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("modules/code-locations/models/location");c.exports=d.extend({url:function(){return"/api/internal/projects/"+this.projectId+"/versions/"+this.versionId+"/codelocations"},persistence:{active:!0},model:e})}),define("modules/versions-scanlocations/views/layout",["require","exports","module","ironclad","modules/versions/models/current-version","./scans-table","./scans-details","../models/scanlocations"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/versions/models/current-version"),g=a("./scans-table"),h=a("./scans-details"),i=a("../models/scanlocations");c.exports=d.Layout.extend({template:"#versions-scanlocations-layout",regions:{scanLocations:"#scanLocations",scanLocationsDetails:"#scanLocationsDetails"},onRender:function(){var a=this;this.scanLocationsDetails.show(new h({model:f})),this.scans=new i,this.scans.versionId=f.id,this.scans.projectId=f.get("projectId"),this.scans.fetch().done(function(){a.scanLocations.show(new g({collection:a.scans}))}),this.listenTo(e.vent,"code-location:updated code-location:deleted",function(){a.scans.fetch()})}})}),define("modules/versions-scanlocations/main",["require","exports","module","ironclad","./views/layout"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("./views/layout");e.reqres.setHandler("versions:settings:tab:scans",function(){return f})}),define("modules/versions-settings/views/settings",["require","exports","module","backbone","ironclad","modules/asset/models/current-route-params"],function(a,b,c){var d=a("backbone"),e=a("ironclad"),f=e.MessageBus,g=a("modules/asset/models/current-route-params");c.exports=e.Layout.extend({template:"#versions-settings-layout",ui:{$tab:".list-group-item"},events:{"click @ui.$tab":"clickTab"},regions:{tabContent:".versions-settings-content"},onRender:function(){g.get("tab")?this.showTab(g.get("tab")):this.showTab("release")},clickTab:function(a){a.preventDefault(),a.stopPropagation();var b=$(a.target).data("target-id");this.showTab(b),d.history.navigate($(a.target).attr("href"),{silent:!0})},showTab:function(a){this.ui.$tab.removeClass("active"),this.ui.$tab.filter('[data-target-id="'+a+'"]').addClass("active");var b=f.reqres.request("versions:settings:tab:"+a);b&&this.tabContent.show(new b({model:this.model}))}})}),define("modules/versions-settings/main",["require","exports","module","ironclad","modules/link-nav/registry","./views/settings","modules/projects/models/current-project"],function(a,b,c){function d(){return!i.get("kb")}var e=a("ironclad"),f=e.MessageBus,g=a("modules/link-nav/registry"),h=a("./views/settings"),i=a("modules/projects/models/current-project");f.reqres.setHandler("versions:views:content:settings",function(){if(d())return h}),g.addMenuItem("versions:localnav","#versions-settings-menu-link",{},1e3,d)}),define("modules/versions-usage/views/layout",["require","exports","module","ironclad","modules/versions/models/current-version","../models/usage-paged","./table"],function(a,b,c){var d=a("ironclad"),e=a("modules/versions/models/current-version"),f=a("../models/usage-paged"),g=a("./table");c.exports=d.Layout.extend({template:"#versions-usage-layout",className:"version-usage",regions:{usageList:".js-version-usage-table"},onRender:function(){var a=new f;a.releaseId=e.id,this.usageList.show(new g({collection:a})),a.fetch()}})}),define("modules/versions-usage/main",["require","exports","module","ironclad","modules/link-nav/registry","modules/projects/models/current-project","./views/layout"],function(a,b,c){function d(){return h.attributes.kb}var e=a("ironclad"),f=e.MessageBus,g=a("modules/link-nav/registry"),h=a("modules/projects/models/current-project"),i=a("./views/layout");g.addMenuItem("versions:localnav","#versions-usage-menu-link",{},100,d),f.reqres.setHandler("versions:views:content:usage",function(){return i}),c.exports=i}),define("modules/versions-vuln/models/vulnerability",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.Model.extend({remediationComplete:["REMEDIATION_COMPLETE","IGNORED","MITIGATED","PATCHED"],url:function(){return"/api/v1/releases/"+this.get("consumerReleaseId")+"/producers/"+this.get("producerReleaseId")+"/vulnerabilities"},isRemediationComplete:function(){var a=this.get("remediationStatus");return d.contains(this.remediationComplete,a)}})}),define("modules/versions-vuln/models/vulnerabilities",["require","exports","module","underscore","marionette","ironclad","modules/common/models/pageable-collection","./vulnerability"],function(a,b,c){var d=a("underscore"),e=a("marionette"),f=a("ironclad"),g=a("modules/common/models/pageable-collection"),h=a("./vulnerability");c.exports=g.extend({model:h,releaseId:{},persistence:{active:!0,filtersToPersist:["filter"],filtersContext:"vuln"},metricsPopoverContent:e.TemplateCache.get("#versions-vuln-metrics-legend")(f.templateHelpers),initialize:function(a,b){g.prototype.initialize.apply(this,arguments),b&&(this.releaseId=b.releaseId||{})},parseRecords:function(a){var b=a.items,c=this;return d.each(b,function(a){return a.consumerReleaseId||(a.consumerReleaseId=c.releaseId),a.producerReleaseId||(a.producerReleaseId=c.releaseId),a}),b},state:{sortKey:"baseScore",order:"descending"}})}),define("modules/versions-vuln/views/expanded-row-kb",["require","exports","module","ironclad","moment"],function(a,b,c){var d=a("ironclad"),e=a("moment");c.exports=d.ItemView.extend({template:"#versions-vuln-expanded-row-kb",tagName:"tr",className:"child-row",generalDatepickerOptions:{autoclose:!0,pickTime:!1,format:"MM/DD/YYYY"},ui:{$metricsLegendBtn:".js-metrics-legend"},events:{"click @ui.$metricsLegendBtn":"handlePopoverDisplay"},completionStatus:["REMEDIATION_COMPLETE","MITIGATED","IGNORED","PATCHED"],templateHelpers:function(){return{moment:e,getCveDateValue:this.getCveDateValue,getCveDateLabel:this.getCveDateLabel}},onRender:function(){this.$el.attr("data-child-row",this.model.cid),$(this.ui.$metricsLegendBtn).popover({content:this.model.collection.metricsPopoverContent,trigger:"none",placement:"left",container:".kb-project"})},handlePopoverDisplay:function(a){var b=$(document);if(a.stopPropagation(),this.ui.$metricsLegendBtn.hasClass("active"))this.ui.$metricsLegendBtn.popover("hide"),b.off("click.hide:metrics:popover");else{this.ui.$metricsLegendBtn.popover("show");var c=this.ui.$metricsLegendBtn;b.on("click.hide:metrics:popover",function(){c.trigger("click")})}this.ui.$metricsLegendBtn.toggleClass("active")}})}),define("modules/versions-vuln/views/vulnerabilities-table-kb",["require","exports","module","anglebrackets","modules/i18n/main","modules/risk-profile/controllers/risk-graph-cell","modules/common/controllers/expander-cell","./expanded-row-kb"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/risk-profile/controllers/risk-graph-cell"),g=a("modules/common/controllers/expander-cell"),h=a("./expanded-row-kb");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.vulnerabilities.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover cve-table-list backgrid",row:d.TableRow.extend({expandable:{expandedContent:h}}),columns:[{cell:g,name:"expander",label:"",editable:!1,sortable:!1},{label:e.get("app.modules.versions.vulnerabilities.identifier"),name:"id",cell:d.TableCell,editable:!1,sortable:!0,template:"#versions-vuln-identifier-cell"},{label:e.get("app.modules.versions.vulnerabilities.published"),className:"cve-published",name:"publishedDate",cell:d.TableCell,editable:!1,sortable:!0,template:"#common-format-full-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.baseScore"),name:"baseScore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("baseScore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.exploitability"),name:"exploitabilitySubscore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("exploitabilitySubscore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.impact"),name:"impactSubscore",cell:f.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("impactSubscore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0}]}}})}),define("modules/versions-vuln/views/layout-kb",["require","exports","module","underscore","ironclad","anglebrackets","modules/versions/models/current-version","modules/i18n/main","../models/vulnerabilities","../views/vulnerabilities-table-kb","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=a("modules/versions/models/current-version"),h=a("modules/i18n/main"),i=a("../models/vulnerabilities"),j=a("../views/vulnerabilities-table-kb"),k=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#versions-vuln-layout-kb",className:"kb-project container-fluid",regions:{cvesHeader:"#components-vulns .cves-header",cvesFilter:"#components-vulns .js-filter",cvesTable:"#components-vulns .cves-table"},behaviors:{Sticky:{behaviorClass:k}},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.model=this.model||new e.Model;var a=new i(null,{releaseId:g.get("id")});a.url="/api/v1/releases/"+g.id+"/vulnerabilities";var b=new j({collection:a}),c=this;a.fetch().done(function(){c.showCVEFilter(a),c.cvesTable.show(b)})},showCVEFilter:function(a){this.cvesFilter.show(new f.Filter({events:function(){return d.extend({},f.Filter.prototype.events,{"click .search":"search"})},collection:a,name:"q",placeholder:h.get("app.modules.versions.vulnerabilities.filterPlaceholder")}))}})}),define("modules/projects/models/risk-profile",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({url:function(){return"/api/v1/releases/"+this.releaseId+"/bom-risk-profile?channelReleaseAggregation="+this.channelReleaseAggregation},initialize:function(a,b){this.options=b,d.requireOptions(this,"releaseId"),this.releaseId=b.releaseId,this.channelReleaseAggregation=b.channelReleaseAggregation||!1}})}),define("modules/d3charts/views/temporary-base-chart",["require","exports","module","underscore","ironclad","d3","modules/d3charts/controllers/standard-bar-base"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("d3");a("modules/d3charts/controllers/standard-bar-base"),c.exports=e.ItemView.extend({template:"#d3charts-bar-chart",filterQueryParamsMapping:{riskCategoryFilterKey:"riskCategoryFilter",riskPriorityFilterKey:"riskPriorityFilter"},riskChart:{},riskType:null,initialize:function(a){this.filtersController=f.reqres.request("hub:filters:controller"),this.riskCategoryActiveFilter=this.filtersController.getFilter({key:this.filterQueryParamsMapping.riskCategoryFilterKey}),this.riskPriorityActiveFilter=this.filtersController.getFilter({key:this.filterQueryParamsMapping.riskPriorityFilterKey}),e.ItemView.prototype.initialize.apply(this,arguments),this.on("destroy",this.cleanupEvents),d.extend(this,a)},cleanupEvents:function(){this.riskChart&&$(window).off("resize",this.resizeChart)},resizeChart:function(a){a.data.redraw()},getData:function(){},onAttach:function(){var a=this.getData(),b=$("#"+this.id).width()-100;this.riskChart=g.select("#"+this.id).append("svg").attr("class","bar-chart").attr("display","inline-block").chart("StandardBar",{width:b,height:100,numCategories:4,rowSpacing:4,extraSpacing:0,suggestedMax:5,margin:{top:10,right:10,left:10,bottom:10}}),this.riskChart.draw(a),this.riskChart.redraw(),this.markActiveFilters(),$(window).on("resize",this.riskChart,this.resizeChart)},markActiveFilters:function(){if(this.riskType&&this.riskCategoryActiveFilter&&this.riskCategoryActiveFilter.get("value")===this.riskType&&this.riskPriorityActiveFilter){var a=this.riskCategoryActiveFilter.get("value"),b=this.riskPriorityActiveFilter.get("value");this.$el.find('[data-category="'+a+'"][data-value="'+b+'"]').attr("data-active","true")}}})}),define("modules/risk-profile/views/temporary-vulnerability-chart",["require","exports","module","modules/i18n/main","./../../d3charts/views/temporary-base-chart"],function(a,b,c){var d=a("modules/i18n/main"),e=a("./../../d3charts/views/temporary-base-chart");c.exports=e.extend({id:"vulnerability-risk-chart",riskType:"VULNERABILITY",getData:function(){var a=this.model.get("categories").VULNERABILITY;return[{name:d.get("app.modules.versions.bom.high"),value:"HIGH",number:a.HIGH,category:"VULNERABILITY"},{name:d.get("app.modules.versions.bom.medium"),value:"MEDIUM",number:a.MEDIUM,category:"VULNERABILITY"},{name:d.get("app.modules.versions.bom.low"),value:"LOW",number:a.LOW,category:"VULNERABILITY"},{name:d.get("app.modules.versions.bom.ok"),value:"OK",number:a.OK,category:"VULNERABILITY"}]}})}),define("modules/versions-vuln/controllers/filter-risks",["require","exports","module","underscore"],function(a,b,c){var d=a("underscore");c.exports={filters:function(a,b){var c=$(a.currentTarget),d=c.data(),e=c.attr("data-active"),f=c.closest(".js-d3charts-filterable");this.deactivateFilters(f),e&&"false"!==e?(this.removeFilters(b),this.deactivateFilters(f)):(this.activateFilters(f,d),this.applyFilters(d,b))},deactivateFilters:function(a){a.find('[data-active="true"]').attr({"data-active":"false"})},activateFilters:function(a,b){var c=a.find('[data-category="'+b.category+'"][data-value="'+b.value+'"]');c.attr({"data-active":"true"
})},applyFilters:function(a,b){a.category&&(d.extend(b.queryParams,{riskPriorityFilter:a.value}),b.state.currentPage=1,b.fetch())},removeFilters:function(a){a.queryParams=d.omit(a.queryParams,"riskPriorityFilter"),a.fetch()}}}),define("modules/versions-vuln/models/components",["require","exports","module","underscore","modules/bom/models/boms-paged"],function(a,b,c){var d=a("underscore"),e=a("modules/bom/models/boms-paged");c.exports=e.extend({url:function(){return"/api/v1/releases/"+this.releaseId+"/vulnerability-bom"},persistence:{active:!0,persistBaseParams:!1,filtersToPersist:["q","riskPriorityFilter"],filtersContext:"comp"},state:{sortKey:"project.name",order:"-1"},fetch:function(){return this.queryParams.riskPriorityFilter?this.queryParams=d.omit(this.queryParams,"filter"):this.queryParams.filter=["remediationType:NEEDS_REVIEW","remediationType:REMEDIATION_REQUIRED","remediationType:NEW"],e.prototype.fetch.apply(this,arguments)}})}),define("modules/versions-vuln/controllers/comp-risk-cell",["require","exports","module","underscore","d3","backgrid","marionette","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("d3"),f=a("backgrid"),g=a("marionette"),h=a("modules/i18n/main");c.exports=f.StringCell.extend({id:function(){return"risk-chart-"+this.getComponentId()},templates:{popoverContentTemplate:g.TemplateCache.get("#versions-vuln-risk-popover")},getComponentId:function(){var a,b=this.model.get("release"),c=this.model.get("project");return d.isUndefined(b)?d.isUndefined(c)||(a=c.id):a=b.id,this.model.get("channelRelease")&&(a+=this.model.get("channelRelease").id),a},className:"risk-profile text-right",render:function(){var a=this.getData();return d.defer(function(a,b){a.renderChart(b)},this,a),this},renderChart:function(a){this.$el.html('<div class="chart-legend" data-toggle="popover"></div>'),this.riskChart=e.select(this.el).append("svg").attr("class","bar-chart").attr("display","inline-block").chart("StandardBar",{width:60,height:50,numCategories:3,rowSpacing:6,suggestedMax:10,margin:{top:12,right:10,left:0,bottom:10}}),this.riskChart.draw(a),$(window).on("resize",this.riskChart,this.resizeChart)},resizeChart:function(a){a.data.redraw()},getContentData:function(){return this.templates.popoverContentTemplate(this.getData())},getData:function(){var a=this.model.get("riskPriorityDistribution"),b=[{name:h.get("app.modules.versions.vulnerabilities.high"),number:a.HIGH,class:"high"},{name:h.get("app.modules.versions.vulnerabilities.medium"),number:a.MEDIUM,class:"medium"},{name:h.get("app.modules.versions.vulnerabilities.low"),number:a.LOW,class:"low"}];return b}})}),define("modules/versions-vuln/views/component-table",["require","exports","module","underscore","anglebrackets","modules/i18n/main","../controllers/comp-risk-cell"],function(a,b,c){var d=a("underscore"),e=a("anglebrackets"),f=a("modules/i18n/main"),g=a("../controllers/comp-risk-cell");c.exports=e.Table.extend({options:{description:f.get("app.modules.versions.vulnerabilities.components.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover components-list backgrid",row:e.TableRow.extend({selectable:{multipleSelect:!1,selectTarget:"td"}}),columns:[{label:f.get("app.modules.versions.bom.projectRelease"),name:"project.name",cell:e.TableCell.extend({className:"component-cell",templateHelpers:{getReleaseName:function(){if(!d.isUndefined(this.release))return this.release.version}}}),template:"#versions-vuln-component-cell",editable:!1,sortable:!1},{label:f.get("app.modules.common.nouns.vulnerability.pl"),name:"vuln-charts",cell:g,editable:!1,sortable:!1}]}}})}),define("modules/versions-vuln/views/expanded-row-int",["require","exports","module","ironclad","modules/i18n/main","moment","underscore"],function(a,b,c){var d=a("ironclad"),e=d.MessageBus,f=a("modules/i18n/main"),g=a("moment"),h=a("underscore");c.exports=d.ItemView.extend({template:"#versions-vuln-expanded-row-int",tagName:"tr",className:"child-row",generalDatepickerOptions:{format:"L",widgetPositioning:{vertical:"bottom"}},ui:{$targetDateDatepicker:".js-target-date",$targetDateInput:".js-target-date-input",$actualDateDatepicker:".js-actual-date",$actualDateInput:".js-actual-date-input",$remediationStatusSelect:".js-remediation-status",$commentContainer:".js-comment-container",$commentDisplay:"div.js-remediation-comment",$commentEditTextarea:"textarea.js-remediation-comment",$updateBtn:".btn-primary.update",$metricsLegendBtn:".js-metrics-legend",$remediationStatusBlock:".remediation-status-block",$remediationInfoBlock:".remediation-info-block",$statusValidationErrorContainer:".js-status-validation-error-container"},events:{"click @ui.$updateBtn":"updateVulnerabilityRemediation","click @ui.$commentContainer":"editMode","click @ui.$metricsLegendBtn":"handlePopoverDisplay","mouseenter @ui.$commentDisplay":"handleMouseEnterOnCommentContainer","mouseleave @ui.$commentDisplay":"handleMouseLeaveOnCommentContainer","click @ui.$remediationStatusSelect":"handleClickRemediationSelect"},completionStatus:["REMEDIATION_COMPLETE","MITIGATED","IGNORED","PATCHED"],templateHelpers:function(){var a=this;return{moment:g,getCveDateValue:this.getCveDateValue,getCveDateLabel:this.getCveDateLabel,getUpdated:function(){return f.get("app.modules.versions.vulnerabilities.remediation.updated",{user:function(){return"undefined"!==a.model.get("createdByUser")?a.model.get("updatedByUser"):"-"},date:g(a.model.get("updatedAt")).format("ll")})}}},onRender:function(){this.ui.$remediationStatusSelect.selectize(),this.$el.attr("data-child-row",this.model.cid);var a=this.model.get("targetAt"),b=this.model.get("actualAt");this.setUpDatePicker(this.ui.$targetDateDatepicker,this.ui.$targetDateInput,a),this.setUpDatePicker(this.ui.$actualDateDatepicker,this.ui.$actualDateInput,b),this.checkSelected(this.model.get("remediationStatus")),$(this.ui.$metricsLegendBtn).popover({content:this.model.collection.metricsPopoverContent,trigger:"none"}),h.defer(h.bind(this.syncCommentBlocksHeight,this)),this.model.collection.canUpdate()||(this.ui.$remediationStatusBlock.addClass("hidden"),this.ui.$remediationInfoBlock.addClass("hidden"),this.ui.$commentEditTextarea.attr("disabled","disabled"),this.ui.$updateBtn.addClass("hidden"),this.ui.$commentContainer.find(".edit-label").addClass("hidden"))},handlePopoverDisplay:function(a){var b=$(document);if(a.stopPropagation(),this.ui.$metricsLegendBtn.hasClass("active"))this.ui.$metricsLegendBtn.popover("hide"),b.off("click.hide:metrics:popover");else{this.ui.$metricsLegendBtn.popover("show");var c=this.ui.$metricsLegendBtn;b.on("click.hide:metrics:popover",function(){c.trigger("click")})}this.ui.$metricsLegendBtn.toggleClass("active")},setUpDatePicker:function(a,b,c){var d=this.generalDatepickerOptions;if(c&&$.trim(c).length>0){var e=new g(c);d.defaultDate=new Date(e)}a.datetimepicker(d)},checkSelected:function(a){a&&this.ui.$remediationStatusSelect[0].selectize.setValue(a,!0)},updateVulnerabilityRemediation:function(){this.ui.$remediationStatusSelect.parent().removeClass("has-error"),this.ui.$statusValidationErrorContainer.empty();var a=this.ui.$remediationStatusSelect.val();if(!a)return this.ui.$remediationStatusSelect.parent().addClass("has-error"),void this.ui.$statusValidationErrorContainer.append(f.get("app.modules.common.validation.required"));var b=this.formatDateForModelUpdate(g(new Date(this.ui.$targetDateInput.val())).format("x")),c=this.formatDateForModelUpdate(g(new Date(this.ui.$actualDateInput.val())).format("x")),d=this.ui.$commentEditTextarea.val();this.model.set("remediationStatus",a),this.model.set("comment",d),this.model.set("targetAt",b),this.model.set("actualAt",c),this.model.save({},{type:"put"}).done(h.bind(function(){e.vent.trigger("vulnerabilitites:remediation:update"),this.render()},this))},formatDateForModelUpdate:function(a){return $.trim(a).length>0?parseInt(a,10):null},editMode:function(){this.ui.$commentContainer.addClass("edit-layout"),this.ui.$commentEditTextarea.focus()},handleMouseEnterOnCommentContainer:function(){this.ui.$commentContainer.addClass("mouse-over")},handleMouseLeaveOnCommentContainer:function(){this.ui.$commentContainer.removeClass("mouse-over")},syncCommentBlocksHeight:function(){this.ui.$commentEditTextarea.height(this.ui.$commentDisplay.height())},handleClickRemediationSelect:function(){this.ui.$remediationStatusSelect.parent().removeClass("has-error"),this.ui.$statusValidationErrorContainer.empty()}})}),define("modules/versions-vuln/views/vulnerability-row-int",["require","exports","module","anglebrackets","ironclad","./expanded-row-int"],function(a,b,c){var d=a("anglebrackets"),e=a("ironclad"),f=e.MessageBus,g=a("./expanded-row-int");c.exports=d.TableRow.extend({expandable:{expandedContent:g},initialize:function(){d.TableRow.prototype.initialize.apply(this,arguments),this.listenTo(f.vent,"vulnerabilitites:remediation:update",this._refreshRemediationStatus)},render:function(){return d.TableRow.prototype.render.apply(this,arguments),this._refreshRemediationStatus(),this},_refreshRemediationStatus:function(){this.model.isRemediationComplete()?this.$el.addClass("remediation-complete"):this.$el.removeClass("remediation-complete")}})}),define("modules/versions-vuln/views/vulnerabilities-table-int",["require","exports","module","anglebrackets","modules/i18n/main","modules/common/controllers/expander-cell","modules/risk-profile/controllers/risk-graph-cell","modules/common/controllers/hub-header-cell","./vulnerability-row-int","../controllers/remediation-status-cell"],function(a,b,c){var d=a("anglebrackets"),e=a("modules/i18n/main"),f=a("modules/common/controllers/expander-cell"),g=a("modules/risk-profile/controllers/risk-graph-cell"),h=a("modules/common/controllers/hub-header-cell"),i=a("./vulnerability-row-int"),j=a("../controllers/remediation-status-cell");c.exports=d.Table.extend({options:{description:e.get("app.modules.versions.vulnerabilities.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table table-hover cve-table-list backgrid",row:i,columns:[{cell:f,name:"expander",label:"",editable:!1,sortable:!1},{label:e.get("app.modules.versions.vulnerabilities.identifier"),name:"id",cell:d.TableCell,editable:!1,sortable:!0,template:"#versions-vuln-identifier-cell"},{label:e.get("app.modules.versions.vulnerabilities.published"),className:"cve-published",name:"publishedDate",cell:d.TableCell,editable:!1,sortable:!0,template:"#common-format-full-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.baseScore"),name:"baseScore",cell:g.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("baseScore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:h},{label:e.get("app.modules.versions.vulnerabilities.exploitability"),name:"exploitabilitySubscore",cell:g.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("exploitabilitySubscore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:h},{label:e.get("app.modules.versions.vulnerabilities.impact"),name:"impactSubscore",cell:g.extend({displayValue:!0,getData:function(){var a=[{name:"",value:this.getActualValue(),type:this.getTriStatusClass()}];return a},getActualValue:function(){return this.model.get("impactSubscore")},getMaxValue:function(){return 10}}),editable:!1,sortable:!0,firstSortDirection:"descending",headerCell:h},{label:e.get("app.modules.versions.vulnerabilities.remediation.status.label"),name:"remediationStatus",cell:j,editable:!1,sortable:!0},{label:e.get("app.modules.versions.vulnerabilities.remediation.targetDate.label"),name:"targetAt",cell:d.TableCell,editable:!1,sortable:!0,template:"#common-format-date-cell"},{label:e.get("app.modules.versions.vulnerabilities.remediation.actualDate.label"),name:"actualAt",cell:d.TableCell,editable:!1,sortable:!0,template:"#common-format-date-cell"}]}}})}),define("modules/versions-vuln/views/vulnerabilities-header",["require","exports","module","underscore","modules/i18n/main","ironclad"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad");c.exports=f.ItemView.extend({template:"#versions-vuln-vulnerability-header",_getVulnComponentName:function(){var a=this.model.get("bomEntry");return a?this.model.get("bomEntry").get("project").name:""},_getVulnComponentVersion:function(){if(this.model.get("bomEntry")){var a=this.model.get("bomEntry").get("release");if(!d.isUndefined(a))return a.version}return""},templateHelpers:function(){var a=this;return{getVulnCountTitle:function(){var b=a.model.get("vulnerabilities");if(b){var c=b.state.totalRecords||0;return e.get("app.modules.versions.vulnerabilities.header.component",{vulnCount:""+c,componentName:a._getVulnComponentName(),componentVersion:a._getVulnComponentVersion()},c)}return""}}}})}),define("modules/versions-vuln/views/vulnerabilities-table-actions",["require","exports","module","modules/i18n/main","ironclad","modules/advanced-filters/views/advanced-filters"],function(a,b,c){var d=a("modules/i18n/main"),e=a("ironclad"),f=a("modules/advanced-filters/views/advanced-filters");c.exports=e.Layout.extend({template:"#versions-vuln-vuln-actions",regions:{cvesRemediationTypeFilter:".region-remediation-filter"},render:function(){e.Layout.prototype.render.apply(this,arguments),this.cvesRemediationTypeFilter.show(new f({targetCollection:this.collection,placeholder:d.get("app.modules.versions.vulnerabilities.filterPlaceholder")}))}})}),define("modules/versions-vuln/views/vulnerabilities-empty",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-vuln-vuln-empty"})}),define("modules/versions-vuln/views/vulnerabilities-no-component-selected",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#versions-vuln-vuln-no-component-selected"})}),define("modules/versions-vuln/views/layout-int",["require","exports","module","underscore","ironclad","anglebrackets","modules/versions/models/current-version","modules/i18n/main","modules/projects/models/risk-profile","modules/risk-profile/views/temporary-vulnerability-chart","../controllers/filter-risks","modules/common/views/persistent-server-filter","../models/components","./component-table","../models/vulnerabilities","../views/vulnerabilities-table-int","../views/vulnerabilities-header","../views/vulnerabilities-table-actions","../views/vulnerabilities-empty","../views/vulnerabilities-no-component-selected","modules/tables/behaviors/sticky-headers"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("anglebrackets"),g=e.MessageBus,h=a("modules/versions/models/current-version"),i=a("modules/i18n/main"),j=a("modules/projects/models/risk-profile"),k=a("modules/risk-profile/views/temporary-vulnerability-chart"),l=a("../controllers/filter-risks"),m=a("modules/common/views/persistent-server-filter"),n=a("../models/components"),o=a("./component-table"),p=a("../models/vulnerabilities"),q=a("../views/vulnerabilities-table-int"),r=a("../views/vulnerabilities-header"),s=a("../views/vulnerabilities-table-actions"),t=a("../views/vulnerabilities-empty"),u=a("../views/vulnerabilities-no-component-selected"),v=a("modules/tables/behaviors/sticky-headers");c.exports=e.Layout.extend({template:"#versions-vuln-layout-int",className:"int-project container-fluid",regions:{componentsFilter:"#components-list .js-filter",componentsLevelFilter:"#components-list .js-levels-filter",componentsTable:"#vuln-components-table",cvesHeader:"#components-vulns .cves-header",cvesTable:"#components-vulns .cves-table",cvesTableFilters:"#components-vulns .table-actions"},events:{"click .component-filters .js-d3charts-filter":"filtersClickHandler"},behaviors:{Sticky:{behaviorClass:v}},initialize:function(){this.skipVulnerabilitiesRefresh=!1,this.filtersController=g.reqres.request("hub:filters:controller"),this.riskProfileModel=new j(null,{releaseId:h.get("id"),channelReleaseAggregation:!0}),this.bomsCollection=new n,this.bomsCollection.releaseId=h.get("id"),this.vulnerabilityCollection=new p(null,{releaseId:h.get("id")}),this.listenTo(this.bomsCollection,"table:row:selected",this.rowSelectedHandler),this.listenTo(this.bomsCollection,"sync",this._bomsSyncHandler),this.listenTo(this.riskProfileModel,"sync",this._showVulnChart),this.listenTo(this.vulnerabilityCollection,"sync",this._showCvesHeader),this.listenTo(g.vent,"vulnerabilitites:remediation:update",this._refreshBomCollection)},onRender:function(){var a=this;a._showComponents(),a._showCves(),a.bomsCollection.fetch().then(function(){a.riskProfileModel.fetch()})},rowSelectedHandler:function(a){this.skipVulnerabilitiesRefresh||this._updateVulnerabilities(a.targetItem.model),this.skipVulnerabilitiesRefresh=!1},filtersClickHandler:function(a){this.filtersController.removeFilter({key:"selectedItem",context:"comp"}),l.filters(a,this.bomsCollection)},_updateVulnerabilities:function(a){var b=this,c=d.findWhere(a.get("links"),{rel:"vulnerability"});d.extend(b.vulnerabilityCollection.state,{currentPage:1,lastPage:1,totalPages:1,totalRecords:0}),b.vulnerabilityCollection.reset(),c&&c.href?(b.vulnerabilityCollection.url=c.href,b.vulnerabilityCollection.fetch().then(function(){b._showCvesHeader({bomEntry:a})})):(b.vulnerabilityCollection.trigger("loaded"),b._showCvesHeader({bomEntry:a})),b.vulnerabilityCollection.state.firstLoad||(b.filtersController.updateFilter({key:"selectedItem",value:b.vulnerabilityCollection.producerEntityId||b._getProjectId(a),context:"comp"}),this._showCves())},_bomsSyncHandler:function(){var a=this.bomsCollection.first(),b=this.filtersController.getFilter({key:"selectedItem",context:"comp"});if(b){var c=this,e=b.get("value");this.bomsCollection.each(function(b){var f=c._getProjectId(b),g=c._getReleaseId(b);(!d.isUndefined(f)&&f===e||!d.isUndefined(g)&&g===e)&&(a=b)})}a?a.trigger("table:row:do:select"):this._renderNoComponentSelected()},_renderEmptyView:function(){this.cvesTable.show(new t),this.cvesHeader.empty(),this.cvesTableFilters.empty(),this.$("#components-list").remove(),this.$("#components-vulns").attr("class","col-md-12")},_renderNoComponentSelected:function(){this.cvesTable.show(new u),this.cvesHeader.empty(),this.cvesTableFilters.empty()},_getProjectId:function(a){var b=a.get("project");if(!d.isUndefined(b))return b.id},_getReleaseId:function(a){var b=a.get("release");if(!d.isUndefined(b))return b.id},_showVulnChart:function(){var a=this.riskProfileModel.get("categories");if(a&&a.VULNERABILITY){var b=a.VULNERABILITY,c=b.HIGH||b.MEDIUM||b.LOW||b.OK;c?this.componentsLevelFilter.show(new k({model:this.riskProfileModel})):this._renderEmptyView()}},_showComponents:function(){this.componentsFilter.show(new m({events:function(){return d.extend({},f.Filter.prototype.events,{"click .search":"search"})},className:"backgrid-filter form-search pull-right",context:"comp",collection:this.bomsCollection,name:"q",placeholder:i.get("app.modules.versions.bom.filterPlaceholder")})),this.componentsTable.show(new o({collection:this.bomsCollection}))},_showCves:function(){this.cvesTable.show(new q({collection:this.vulnerabilityCollection})),this.cvesTableFilters.show(new s({collection:this.vulnerabilityCollection}))},_showCvesHeader:function(a){var b=a&&a.bomEntry||d.findWhere(this.bomsCollection.models,{selected:!0})||this.bomsCollection.first(),c=new e.Model({bomEntry:b,vulnerabilities:this.vulnerabilityCollection}),f=new r({model:c});this.cvesHeader.show(f)},_refreshBomCollection:function(){this.skipVulnerabilitiesRefresh=!0,this.riskProfileModel.fetch(),this.bomsCollection.fetch()}})}),define("modules/versions-vuln/models/vulnerability-count",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({defaults:{value:0}})}),define("modules/versions-vuln/views/vulnerability-count",["require","exports","module","ironclad","backbone"],function(a,b,c){var d=a("ironclad"),e=a("backbone");c.exports=d.ItemView.extend({template:"#versions-vuln-vulnerability-count",className:"container-fluid",events:{click:"openSecurityTab"},openSecurityTab:function(){var a="#versions/id:"+this.model.get("versionId")+"/view:vulnerabilities";e.history.navigate(a,{trigger:!0})}})}),define("modules/versions-vuln/main",["require","backbone","ironclad","modules/link-nav/registry","./views/layout-kb","./views/layout-int","./models/vulnerability-count","./views/vulnerability-count","modules/projects/models/current-project","modules/versions/models/current-version"],function(a){var b=a("backbone"),c=a("ironclad"),d=c.MessageBus,e=a("modules/link-nav/registry"),f=a("./views/layout-kb"),g=a("./views/layout-int"),h=a("./models/vulnerability-count"),i=a("./views/vulnerability-count"),j=a("modules/projects/models/current-project"),k=a("modules/versions/models/current-version");d.reqres.setHandler("versions:views:content:vulnerabilities",function(){return j.get("kb")?f:g}),d.reqres.setHandler("versions:vulnerabilities:widget:count",function(){if(k.get("vulnerabilityCountsUrl")&&k.get("kb")){var a=h.extend({url:k.get("vulnerabilityCountsUrl")}),b=new i({model:new a({versionId:k.get("id")})});return b}return null}),d.commands.setHandler("link:bom:vulns:view",function(a,c){var d="#versions/id:"+a+"/view:vulnerabilities";c&&(d+="?@vuln=baseScore&offset@vuln=0&selectedItem@comp="+c),b.history.navigate(d,{trigger:!0})}),e.addMenuItem("versions:localnav","#versions-vuln-menu-link",{},300)}),define("modules/versions/views/modal-delete",["require","exports","module","underscore","ironclad","backbone","modules/modals/views/layout-view","modules/versions/models/version"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("backbone"),g=a("modules/modals/views/layout-view"),h=a("modules/versions/models/version");c.exports=g.extend({template:"#versions-modal-delete",hasErrorHandler:!0,initialize:function(a){g.prototype.initialize.apply(this,arguments),this.options.redirect=!1,this.model=new h({id:a.id,name:a.versionName})},ok:function(a){a.preventDefault(),this.trigger("state:waiting"),this.model.destroy().then(d.bind(function(){e.MessageBus.vent.trigger("deleted:project:version"),g.prototype.ok.call(this,a)},this))},success:function(){e.MessageBus.vent.trigger("deleted:project:version"),this.closeModal()},redirect:function(){f.history.navigate("projects/id:"+this.options.projectId,!0)},errorHandler:e.ItemView.prototype.errorHandler})}),define("modules/versions/views/header",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/common/mixins/hostname-parser"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/common/mixins/hostname-parser");c.exports=e.Layout.extend({template:"#versions-header",mixins:[h],regions:{projectOwner:"#projectOwnerLink"},initialize:function(){e.Layout.prototype.initialize.apply(this,arguments),this.listenTo(f.vent,"header:refresh",this.render)},onShow:function(){this.$el.find(".asset-meta-block").addClass("wrap")},templateHelpers:{getPhase:function(){var a=this.currentVersion.get("phase"),b=g.get("app.modules.common.phase."+a);return b},getDistribution:function(){var a=this.currentVersion.get("distribution"),b=g.get("app.modules.common.distribution."+a);return b}},onRender:function(){var a=this.model.get("project");if(!d.isUndefined(a.get("projectOwnerId"))){var b=f.reqres.request("links:user",a.get("projectOwnerId"));this.projectOwner.show(b)}}})}),define("modules/versions/main",["require","exports","module","underscore","ironclad","modules/asset/module","modules/projects/models/current-project","modules/session/controllers/route-controller","./models/current-version","./views/modal-delete","./views/header"],function(a,b,c){var d=a("underscore"),e=a("ironclad").MessageBus,f=a("modules/asset/module"),g=a("modules/projects/models/current-project"),h=a("modules/session/controllers/route-controller"),i=a("./models/current-version"),j=a("./views/modal-delete"),k=a("./views/header");e.commands.setHandler("assets:versions:data",function(a,b){if(i.clear(),a.href){var c=atob(a.href);a.id=c.match(/.*\/versions\/(.*)/)[1]}i.set({id:a.id}),i.fetch().success(function(){g.clear(),g.set({id:i.get("projectId")}),g.fetch().success(function(){var c=d.extend({version:i,project:g},a);b.set(c),b.trigger("loaded");var f={icon:g.get("kb")?"fa fa-cube":"fa fa-cubes"};g.get("logos").smallLogoUrl&&"../compiled/images/generic-external-32px.png"!==g.get("logos").smallLogoUrl&&"../compiled/images/generic-internal-32px.png"!==g.get("logos").smallLogoUrl&&(f={href:g.get("logos").smallLogoUrl});var h=g.get("name")+" "+i.get("version"),j="versions/id:"+i.get("id");e.commands.execute("recent-item:add",g.get("id"),h,j,f)})}).error(function(a){404===a.status&&(e.commands.execute("recent-item:remove",{url:"versions/id:"+i.id}),h.fourOhFour())})}),e.reqres.setHandler("versions:views:header",function(){return k}),e.reqres.setHandler("versions:views:modals:delete",function(){return j}),c.exports=new f({name:"versions",defaultParams:{view:"overview"}})}),define("modules/vulnerabilities/models/vulnerability",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({entityType:"VL",urlRoot:"/api/v1/vulnerabilities",parse:function(a){return a.title=a.title||a.id,a}})}),define("modules/vulnerabilities/views/header",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({template:"#vulnerabilities-header"})}),define("modules/vulnerabilities/models/affected-project",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({})}),define("modules/vulnerabilities/models/affected-projects",["require","exports","module","modules/common/models/pageable-collection","./affected-project"],function(a,b,c){var d=a("modules/common/models/pageable-collection"),e=a("./affected-project");c.exports=d.extend({model:e,initialize:function(a,b){d.prototype.initialize.apply(this,arguments),b&&(this.vulnId=b.vulnId||"")},url:function(){return"/api/v1/composite/vulnerability/"+this.vulnId},parseRecords:function(a){return a.items}})}),define("modules/vulnerabilities/controllers/remediation-cell",["require","exports","module","anglebrackets","underscore","./remediation-controller"],function(a,b,c){var d=a("anglebrackets"),e=a("underscore"),f=a("./remediation-controller");c.exports=d.TableCell.extend({template:"#vulnerabilities-remediation-cell",templateHelpers:{getStatusLabel:e.bind(f.getStatusLabel,f),getStatusLabelClass:e.bind(f.getStatusLabelClass,f)}})}),define("modules/vulnerabilities/controllers/affected-projects-selectable-headcell",["require","exports","module","underscore","modules/i18n/main","modules/common/controllers/selectable-headcell","./remediation-controller"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("modules/common/controllers/selectable-headcell"),g=a("./remediation-controller");c.exports=f.extend({extraOptions:[{attr:"remediationStatus",heading:e.get("app.modules.versions.vulnerabilities.remediation.status.label"),mapper:function(a){var b,c=a.get("remediation");return d.isUndefined(c)||(b=c.remediationStatus),this._constructCustomOptionObj(b||"NEEDS_REVIEW",g.getStatusLabel(b))}}]})}),define("modules/vulnerabilities/controllers/row-actions",["require","exports","module","ironclad","anglebrackets","modules/mixins/shared-data"],function(a,b,c){var d=a("ironclad"),e=a("anglebrackets"),f=a("modules/mixins/shared-data");c.exports=e.TableCell.extend({template:"#vulnerabilities-row-actions",ui:{$remediate:"li.remediate-vuln",$viewVulns:"li.view-vulns",$viewFiles:"li.view-files"},events:{"click li.remediate-vuln":"handleRemediateClick","click li.view-vulns":"handleViewVulnsClick","click li.view-files":"handleViewFilesClick"},setCurrentModelActive:function(){this.model.collection=this.model.collection.map(function(a){return a.selected=!1,a}),this.model.selected=!0},handleRemediateClick:function(){this.setCurrentModelActive(),d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"vulnerabilities",view:"bulk-remediation"},this.model)},handleViewVulnsClick:function(){this.setCurrentModelActive();var a=this.model.get("producerProject").id;null!==this.model.get("producerRelease")&&(a=this.model.get("producerRelease").id),d.MessageBus.commands.execute("link:bom:vulns:view",this.model.get("release").id,a)},handleViewFilesClick:function(){this.setCurrentModelActive();var a=f.constants.EntityTypes.PROJECT+"~"+this.model.get("producerProject").id;null!==this.model.get("producerRelease")&&(a=f.constants.EntityTypes.RELEASE+"~"+this.model.get("producerRelease").id),d.MessageBus.commands.execute("link:bom:files:view",this.model.get("release").id,a)}})}),define("modules/vulnerabilities/views/affected-projects",["require","exports","module","underscore","backbone","anglebrackets","modules/i18n/main","../controllers/remediation-cell","modules/common/controllers/selectable-cell","../controllers/affected-projects-selectable-headcell","../controllers/row-actions"],function(a,b,c){var d=a("underscore"),e=a("backbone"),f=a("anglebrackets"),g=a("modules/i18n/main"),h=a("../controllers/remediation-cell"),i=a("modules/common/controllers/selectable-cell"),j=a("../controllers/affected-projects-selectable-headcell");c.exports=f.Table.extend({options:{description:g.get("app.modules.vulns.affectedProjects.table.description"),paginationConfig:{enabled:!0},gridConfig:{className:"table backgrid",row:f.TableRow.extend({selectable:{multipleSelect:!0,stateChangeCondition:function(a){if(d.isUndefined(a))return!0;var b=$(a.target);return b.hasClass("selectable-cell")||b.closest(".selectable-cell").length>0}}}),columns:[{cell:i,headerCell:j,renderable:function(a){var b=a;return a instanceof e.Collection||(b=a.collection),b&&(b.canUpdate()||b.canDelete())},editable:!1,sortable:!1},{name:"project.name",label:g.get("app.modules.common.Project"),cell:f.TableCell,template:"#vulnerabilities-project-cell",editable:!1,sortable:!0},{name:"release.version",label:g.get("app.modules.common.Component"),cell:f.TableCell,template:"#vulnerabilities-component-cell",editable:!1,sortable:!0},{name:"remediation.remediationStatus",label:g.get("app.modules.versions.vulnerabilities.remediation.status.label"),cell:h,editable:!1,sortable:!0},{label:g.get("app.modules.versions.vulnerabilities.remediation.targetDate.label"),name:"remediation.targetAt",cell:f.TableCell,editable:!1,sortable:!1,template:"#common-format-date-cell"},{label:g.get("app.modules.versions.vulnerabilities.remediation.actualDate.label"),name:"remediation.actualAt",cell:f.TableCell,editable:!1,sortable:!1,template:"#common-format-date-cell"},{name:"rowActions",cell:a("../controllers/row-actions"),label:"",editable:!1,sortable:!1}]}}})}),define("modules/vulnerabilities/views/affected-projects-actions",["require","exports","module","ironclad","modules/i18n/main"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main");c.exports=d.ItemView.extend({template:"#vulnerabilities-affected-projects-actions",className:"btn-toolbar",ui:{$moreActionsBtn:".js-more-actions",$moreActionsContainer:".js-actions-btn-main-container",$editItemBtn:".js-btn-edit"},events:{"click @ui.$editItemBtn":"handleEditBtnClick"},templateHelpers:{i18n:e},initialize:function(){this.listenTo(this.collection,"table:row:deselected",this.handleTableItemInteraction),this.listenTo(this.collection,"table:row:selected",this.handleTableItemInteraction),this.listenTo(this.collection,"sync",this.resetToDefault)},onRender:function(){this.ui.$moreActionsBtn.length>0&&this.ui.$moreActionsBtn.tooltip({title:e.get("app.modules.common.table.bulkSelection")})},handleTableItemInteraction:function(a){
    var b=!0;a.selectedItems.length>0&&(b=!1),this.ui.$editItemBtn.prop("disabled",b)},handleMoreActionsBtnClick:function(){this.collection.trigger("hub:collection:select:all")},handleEditBtnClick:function(){d.MessageBus.vent.trigger("assets:actions:modal",{assetName:"vulnerabilities",view:"bulk-remediation"},null)},resetToDefault:function(){this.ui.$moreActionsContainer.addClass("show-default")}})}),define("modules/vulnerabilities/views/vulnerability-scores-chart",["require","exports","module","underscore","jquery","ironclad","d3"],function(a,b,c){var d=a("underscore"),e=a("jquery"),f=a("ironclad"),g=a("d3");c.exports=f.ItemView.extend({constructor:function(a){this.defaultOptions={baseHeight:350,breakpoints:{768:.9,420:.7},margin:{top:0,right:10,bottom:0,left:10},type:""},this.options=e.extend(!0,this.defaultOptions,a);var b=d.pairs(this.options.breakpoints);this.options.breakpoints=d.sortBy(b,function(a){return Number(a[0])}),this.formatNumber=g.format(".lf"),this.formatCommas=g.format(","),this.formatPercent=g.format("%"),f.ItemView.apply(this,arguments)},initialize:function(){this.$chartContainer=this.$el.parent(),this.collection?this.collection.on("sync",d.bind(this.render,this)):this.options.data&&(this.data=this.options.data),e(window).on("resize",d.debounce(d.bind(this.render,this),100))},render:function(){this.collection&&(this.data=this.getData()),d.defer(d.bind(function(){this.$el.empty(),this.getDimensions(),this.drawChart()},this))},getDimensions:function(){var a=e(window).width(),b=this.$el.width(),c=b-this.options.margin.left-this.options.margin.right,f=this.options.baseHeight-this.options.margin.bottom-this.options.margin.top;d.every(this.options.breakpoints,d.bind(function(b){var c=b[0];if(a<=c){var d=b[1];return f=(f-this.options.margin.bottom-this.options.margin.top)*d,!1}return!0},this));var g=f+this.options.margin.top+this.options.margin.bottom;this.$el.height(g);var h=Math.max(c,f);this.dimensions={width:h,height:h,wrapperWidth:h,wrapperHeight:h+this.options.margin.top+this.options.margin.bottom}},drawChart:function(){var a=this;this.$el.css("height",this.dimensions.height),this.$el.parent().css("height",this.dimensions.height),this.$el.parent().parent().css("height",this.dimensions.height),this.$el.parent().parent().parent().css("height",this.dimensions.height);var b=g.scale.category10(),c={radius:5,w:this.dimensions.width,h:this.dimensions.height,factor:1,factorLegend:.5,levels:5,maxValue:10,radians:2*Math.PI,opacityArea:.5,ToRight:5,TranslateX:20,TranslateY:30,ExtraWidthX:50,ExtraWidthY:0,color:function(c){switch(a.options.dataTypes[c]){case"NVD":return"#1f77b4";case"VULNDB":return"#ff7f0e"}return b(c)}},d=this.options.series;c.maxValue=Math.max(c.maxValue,g.max(d,function(a){return g.max(a.map(function(a){return a.value}))}));var e=d[0].map(function(a){return a.axis}),f=e.length,h=c.factor*Math.min(c.w/2,c.h/2);g.select(this.el).select("svg").remove();for(var i,j,k=g.select(this.el).append("svg").attr("width",c.w+c.ExtraWidthX).attr("height",c.h+c.ExtraWidthY).append("g").attr("transform","translate("+c.TranslateX+","+c.TranslateY+")"),l=0;l<c.levels-1;l++)j=c.factor*h*((l+1)/c.levels),k.selectAll(".levels").data(e).enter().append("svg:line").attr("x1",function(a,b){return j*(1-c.factor*Math.sin(b*c.radians/f))}).attr("y1",function(a,b){return j*(1-c.factor*Math.cos(b*c.radians/f))}).attr("x2",function(a,b){return j*(1-c.factor*Math.sin((b+1)*c.radians/f))}).attr("y2",function(a,b){return j*(1-c.factor*Math.cos((b+1)*c.radians/f))}).attr("class","line").style("stroke","grey").style("stroke-opacity","0.66").style("stroke-width","0.3px").attr("transform","translate("+(c.w/2-j)+", "+(c.h/2-j)+")");for(var m=function(a,b){return b*(1-a.factor*Math.sin(0))},n=function(a,b){return b*(1-a.factor*Math.cos(0))},o=0;o<c.levels;o++)j=c.factor*h*((o+1)/c.levels),k.selectAll(".levels").data([1]).enter().append("svg:text").attr("x",m(c,j)).attr("y",n(c,j)).attr("class","legend").style("font-family",'"Open Sans", sans-serif').style("font-size","11px").attr("transform","translate("+(c.w/2-j+c.ToRight)+", "+(c.h/2-j)+")").attr("fill","#737373").text((o+1)*c.maxValue/c.levels);var p=0,q=k.selectAll(".axis").data(e).enter().append("g").attr("class","axis");q.append("line").attr("x1",c.w/2).attr("y1",c.h/2).attr("x2",function(a,b){return c.w/2*(1-c.factor*Math.sin(b*c.radians/f))}).attr("y2",function(a,b){return c.h/2*(1-c.factor*Math.cos(b*c.radians/f))}).attr("class","line").style("stroke","grey").style("stroke-width","1px"),q.append("text").attr("class","legend").text(function(a){return a}).style("font-family",'"Open Sans", sans-serif').style("font-size","11px").attr("text-anchor","middle").attr("dy","1.5em").attr("transform",function(){return"translate(0, -10)"}).attr("x",function(a,b){return c.w/2*(1-c.factorLegend*Math.sin(b*c.radians/f))-60*Math.sin(b*c.radians/f)}).attr("y",function(a,b){return c.h/2*(1-Math.cos(b*c.radians/f))-20*Math.cos(b*c.radians/f)});var r;return d.forEach(function(a){r=[],k.selectAll(".nodes").data(a,function(a,b){r.push([c.w/2*(1-parseFloat(Math.max(a.value,0))/c.maxValue*c.factor*Math.sin(b*c.radians/f)),c.h/2*(1-parseFloat(Math.max(a.value,0))/c.maxValue*c.factor*Math.cos(b*c.radians/f))])}),k.selectAll(".area").data([r]).enter().append("polygon").attr("class","radar-chart-serie"+p).style("stroke-width","2px").style("stroke",c.color(p)).attr("points",function(a){for(var b="",c=0;c<a.length;c++)b=b+a[c][0]+","+a[c][1]+" ";return b}).style("fill",function(){return c.color(p)}).style("fill-opacity",c.opacityArea).on("mouseover",function(){var a="polygon."+g.select(this).attr("class");k.selectAll("polygon").transition(200).style("fill-opacity",.1),k.selectAll(a).transition(200).style("fill-opacity",.7)}).on("mouseout",function(){k.selectAll("polygon").transition(200).style("fill-opacity",c.opacityArea)}),p++}),p=0,d.forEach(function(a){k.selectAll(".nodes").data(a).enter().append("svg:circle").attr("class","radar-chart-serie"+p).attr("r",c.radius).attr("alt",function(a){return Math.max(a.value,0)}).attr("cx",function(a,b){return r.push([c.w/2*(1-parseFloat(Math.max(a.value,0))/c.maxValue*c.factor*Math.sin(b*c.radians/f)),c.h/2*(1-parseFloat(Math.max(a.value,0))/c.maxValue*c.factor*Math.cos(b*c.radians/f))]),c.w/2*(1-Math.max(a.value,0)/c.maxValue*c.factor*Math.sin(b*c.radians/f))}).attr("cy",function(a,b){return c.h/2*(1-Math.max(a.value,0)/c.maxValue*c.factor*Math.cos(b*c.radians/f))}).attr("data-id",function(a){return a.axis}).style("fill",c.color(p)).style("fill-opacity",.9).on("mouseover",function(a){var b=parseFloat(g.select(this).attr("cx"))-10,c=parseFloat(g.select(this).attr("cy"))-5;i.attr("x",b).attr("y",c).text(a.value).transition(200).style("opacity",1);var d="polygon."+g.select(this).attr("class");k.selectAll("polygon").transition(200).style("fill-opacity",.1),k.selectAll(d).transition(200).style("fill-opacity",.7)}).on("mouseout",function(){i.transition(200).style("opacity",0),k.selectAll("polygon").transition(200).style("fill-opacity",c.opacityArea)}).append("svg:title").text(function(a){return Math.max(a.value,0)}),p++}),i=k.append("text").style("opacity",0).style("font-family",'"Open Sans", sans-serif').style("font-size","13px"),this},getData:function(){return this.options.data.get("series")},d3:function(){return"undefined"!=typeof g}})}),define("modules/vulnerabilities/views/overview-classification",["require","exports","module","ironclad","underscore"],function(a,b,c){var d=a("ironclad"),e=a("underscore");c.exports=d.ItemView.extend({template:"#vulnerabilities-classification",className:"col-sm-4",onRender:function(){var a=this;e.defer(function(){var b=a.$el.find('[data-toggle="tooltip"]');b.length>0&&"function"==typeof b.tooltip&&b.tooltip()})}})}),define("modules/vulnerabilities/views/overview-classifications",["require","exports","module","underscore","ironclad","backbone","./overview-classification"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("backbone"),g=a("./overview-classification");c.exports=e.CompositeView.extend({getTemplate:function(){return this.model.get("classifications")?"#vulnerabilities-classifications":"#vulnerabilities-classifications-empty"},childView:g,childViewContainer:"#classifications-container",categories:[{name:"Location",key:"location_"},{name:"Attack Type",key:"attack_type_"},{name:"Impact",key:"impact_"},{name:"Exploit",key:"exploit_"},{name:"Solution",key:"solution_"},{name:"Disclosure",key:"disclosure_"},{name:"OSVDB",key:"vuln_"}],initialize:function(){e.CompositeView.prototype.initialize.apply(this,arguments),this.collection=this.parseCollection(this.model)},parseCollection:function(a){var b=new f.Collection,c=a.get("classifications");return d.each(this.categories,function(a){var e=d.filter(c,function(b){return 0===b.name.indexOf(a.key)});e.length>0&&b.add({category:a.name,classifications:e})}),b}})}),define("modules/vulnerabilities/views/related-vuln",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({className:"related-vuln clearfix",template:"#vulnerabilities-related-vuln"})}),define("modules/vulnerabilities/views/related-vulns",["require","exports","module","underscore","ironclad","./related-vuln","backbone"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./related-vuln"),g=a("backbone");c.exports=e.CompositeView.extend({getTemplate:function(){return d.isEmpty(this.collection.models)?"#vulnerabilities-related-empty":"#vulnerabilities-related-vulns"},childView:f,childViewContainer:"#related-vulns-container",initialize:function(){e.CompositeView.prototype.initialize.apply(this,arguments),this.collection=this.parseCollection(this.model)},parseCollection:function(a){var b=new g.Collection,c=a.get("relatedVulnerabilities");return d.each(c,function(a){b.add({id:a.id,title:a.id,type:a.vulnerabilitySource},{silent:!0})}),b}})}),define("modules/vulnerabilities/views/metrics",["require","exports","module","underscore","ironclad"],function(a,b,c){var d=a("underscore"),e=a("ironclad");c.exports=e.ItemView.extend({tagName:"table",className:"table table-hover table-condensed",template:"#vulnerabilities-metrics",templateHelpers:{getMetricData:function(){var a=[],b=this.source;if(a.push({source:this.source,accessVector:this.accessVector,accessComplexity:this.accessComplexity,authentication:this.authentication,confidentialityImpact:this.confidentialityImpact,integrityImpact:this.integrityImpact,availabilityImpact:this.availabilityImpact}),!d.isEmpty(this.relatedMetrics)){var c=d.find(this.relatedMetrics,function(a){return a.source!==b});void 0!==c&&a.push(c)}return a},getDiffClass:function(a,b){var c=d.unique(d.pluck(a,b)).length;return 1!==c?"diff":""}}})}),define("modules/vulnerabilities/views/overview",["require","exports","module","underscore","modules/i18n/main","ironclad","../models/affected-projects","./affected-projects","modules/vulnerabilities/views/affected-projects-actions","./vulnerability-scores-chart","./overview-classifications","./related-vulns","./metrics","modules/common/views/no-data"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=f.MessageBus,h=a("../models/affected-projects"),i=a("./affected-projects"),j=a("modules/vulnerabilities/views/affected-projects-actions"),k=a("./vulnerability-scores-chart"),l=a("./overview-classifications"),m=a("./related-vulns"),n=a("./metrics"),o=a("modules/common/views/no-data");c.exports=f.Layout.extend({template:"#vulnerabilities-overview",className:"vulnerabilities-overview clearfix",regions:{affectedProjectActions:"#js-affected-project-actions",affectedProjectTable:"#js-affected-project-table",classifications:"#js-vuln-classifications",metrics:"#js-vuln-metrics",vulnChart:"#vuln-chart",relatedVulns:"#related-vulnerabilities"},initialize:function(){var a=this;f.Layout.prototype.initialize.apply(this,arguments),this.affectedProjectsCollection=new h({vulnId:null}),g.reqres.setHandler("hub:vulnerability:selected:items",function(){var b=d.where(a.affectedProjectsCollection.models,{selected:!0});return new f.Collection(b)}),d.bindAll(this,"loadAffectedProjects","loadRelatedVulns","loadClassifications","loadMetrics","drawChart"),this.listenTo(g.vent,"vulnerabilities:remediation:updated",this.loadAffectedProjects)},onRender:function(){this.drawChart(),this.loadAffectedProjects(this.model.get("id")),this.loadClassifications(),this.loadRelatedVulns(),this.loadMetrics()},loadMetrics:function(){this.metrics.show(new n({model:this.model.get("vulnerability")}))},loadClassifications:function(){this.model.get("vulnerability").get("classifications")&&this.classifications.show(new l({model:this.model.get("vulnerability")}))},loadRelatedVulns:function(){this.model.get("vulnerability").get("relatedVulnerabilities")&&this.relatedVulns.show(new m({model:this.model.get("vulnerability")}))},loadAffectedProjects:function(){var a=this;this.affectedProjectsCollection=new h([],{vulnId:this.model.get("id")}),a.affectedProjectTable.show(new i({collection:a.affectedProjectsCollection})),this.affectedProjectsCollection.fetch().then(function(){a.affectedProjectsCollection.canUpdate()&&a.affectedProjectActions.show(new j({collection:a.affectedProjectsCollection}))})},drawChart:function(){var a=this.model.get("vulnerability"),b=[],c=[];a.get("baseScore")&&a.get("impactSubscore")&&a.get("exploitabilitySubscore")&&(b.push([{axis:e.get("app.modules.vulns.scores.base"),value:a.get("baseScore")},{axis:e.get("app.modules.vulns.scores.impact"),value:a.get("impactSubscore")},{axis:e.get("app.modules.vulns.scores.exploitability"),value:a.get("exploitabilitySubscore")}]),c.push(a.get("source")));var f=a.get("relatedMetrics"),g="VULNDB"===a.get("source")?"NVD":"VULNDB",h=d.findWhere(f,{source:g});h&&(b.push([{axis:e.get("app.modules.vulns.scores.base"),value:h.baseScore},{axis:e.get("app.modules.vulns.scores.impact"),value:h.impactSubscore},{axis:e.get("app.modules.vulns.scores.exploitability"),value:h.exploitabilitySubscore}]),c.push(h.source)),b.length?this.vulnChart.show(new k({series:b,dataTypes:c})):this.vulnChart.show(new o)}})}),define("modules/vulnerabilities/models/reference",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.Model.extend({protocolRegEx:new RegExp("^(ht|f)tp(s?)://","i"),hasURL:function(){var a=this.get("href");return this.protocolRegEx.test(a)}})}),define("modules/vulnerabilities/views/references-category",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.ItemView.extend({tagName:"a",className:"list-group-item",template:"#vulnerabilities-references-category",triggers:{click:"category:click"},modelEvents:{"change:active":"render"},onRender:function(){this.$el.toggleClass("active",!0===this.model.get("active"))}})}),define("modules/vulnerabilities/views/references-categories",["require","exports","module","underscore","ironclad","./references-category"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("./references-category");c.exports=e.CollectionView.extend({tagName:"div",className:"list-group left-nav",childView:f,childEvents:{"category:click":function(a,b){"ALL"===b.model.get("id")?this.showAll(b):this.show(b)}},showAll:function(a){d.each(this.collection.models,function(a){a.set({show:!0,active:!1})}),a.model.set({active:!0})},show:function(a){d.each(this.collection.models,function(a){a.set({active:!1,show:!1})}),a.model.set({active:!0,show:!0})}})}),define("modules/vulnerabilities/views/references-list",["require","exports","module","ironclad"],function(a,b,c){var d=a("ironclad");c.exports=d.CollectionView.extend({childView:d.ItemView.extend({template:"#vulnerabilities-references-group",modelEvents:{"change:show":"toggleVisibility"},toggleVisibility:function(a,b){b?this.$el.fadeIn():this.$el.hide()}})})}),define("modules/vulnerabilities/views/references",["require","exports","module","underscore","ironclad","backbone","../models/reference","./references-categories","./references-list","modules/i18n/main"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("backbone"),g=a("../models/reference"),h=a("./references-categories"),i=a("./references-list"),j=a("modules/i18n/main");c.exports=e.Layout.extend({template:"#vulnerabilities-references",className:"vulnerabilities-references",regions:{categories:".js-categories",references:".js-reference-list"},onRender:function(){var a=d.map(this.model.get("vulnerability").get("references"),function(a){return new g(a)}),b=this.getCollection(a),c=new h({collection:b});this.categories.show(c);var e=new i({collection:b});this.references.show(e)},getCollection:function(a){var b=d.groupBy(a,function(a){return a.get("source")}),c=d.sortBy(d.keys(b)),e=new f.Collection;return e.add({id:"ALL",name:j.get("common.all"),count:a.length,active:!0,show:!0}),d.each(c,function(a){e.add({id:a,name:a,references:b[a],count:b[a].length,active:!1,show:!0})}),e}})}),define("modules/vulnerabilities/views/bulk-target-item",["require","exports","module","underscore","ironclad","../controllers/remediation-controller"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=a("../controllers/remediation-controller");c.exports=e.ItemView.extend({template:"#vulnerabilities-bulk-target-item",tagName:"li",className:"well well-sm",ui:{$removeBtn:".remove-item"},events:{"click @ui.$removeBtn":"removeItem"},templateHelpers:{getStatusLabel:d.bind(f.getStatusLabel,f),getStatusLabelClass:d.bind(f.getStatusLabelClass,f)},removeItem:function(){var a=this;this.model.trigger("table:row:do:deselect"),this.$el.fadeOut("fast",function(){a.$el.remove()})}})}),define("modules/vulnerabilities/views/bulk-target-valid-items",["require","exports","module","ironclad","modules/i18n/main","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=a("modules/i18n/main"),f=a("./bulk-target-item");c.exports=d.CollectionView.extend({tagName:"ul",displayLimit:3,emptyView:d.MessageView.extend({message:e.get("app.modules.common.bulkNoItems"),className:"no-new text-center"}),childView:f})}),define("modules/vulnerabilities/views/bulk-target-invalid-items",["require","exports","module","ironclad","./bulk-target-item"],function(a,b,c){var d=a("ironclad"),e=a("./bulk-target-item");c.exports=d.CollectionView.extend({tagName:"ul",childView:e})}),define("modules/vulnerabilities/models/bulk-remediation-items",["require","exports","module","underscore","modules/common/models/generic-bulk-action-collection"],function(a,b,c){var d=a("underscore"),e=a("modules/common/models/generic-bulk-action-collection");c.exports=e.extend({url:function(){return"/api/v1/vulnerabilities"},saveAll:function(){return this.prepareCollectionForUpdate(),e.prototype.saveAll.apply(this,arguments)},prepareCollectionForUpdate:function(){this.each(function(a){var b=a.get("vulnerabilityIdPlaceholder");d.isUndefined(b)||(a.set("id",b),a.unset("vulnerabilityIdPlaceholder"))})}})});define("modules/vulnerabilities/views/bulk-remediation",["require","exports","module","underscore","ironclad","modules/i18n/main","modules/modals/views/bulk-action-view","./bulk-target-valid-items","./bulk-target-invalid-items","modules/vulnerabilities/models/bulk-remediation-items"],function(a,b,c){var d=a("underscore"),e=a("ironclad"),f=e.MessageBus,g=a("modules/i18n/main"),h=a("modules/modals/views/bulk-action-view"),i=a("./bulk-target-valid-items"),j=a("./bulk-target-invalid-items"),k=a("modules/vulnerabilities/models/bulk-remediation-items");c.exports=h.extend({getTemplate:function(){return 1===this.targetCollection.length?"#vulnerabilities-single-remediation":"#vulnerabilities-bulk-remediation"},hasErrorHandler:!0,errorHandler:e.ItemView.prototype.errorHandler,targetValidItemsCollectionView:i,targetInvalidItemsCollectionView:j,action:g.get("app.modules.versions.vulnerabilities.remediation.bulk.label"),generalDatepickerOptions:{useCurrent:!1,format:"L",defaultDate:null},ui:d.extend({},h.prototype.ui,{$targetDateDatepicker:".js-target-date",$targetDateInput:".js-target-date-input",$actualDateDatepicker:".js-actual-date",$actualDateInput:".js-actual-date-input",$remediationStatusSelect:".js-remediation-status",$commentContainer:".js-comment-container",$commentEditTextarea:"textarea.js-remediation-comment"}),initialize:function(){h.prototype.initialize.apply(this,arguments),this.collection=new k,this.listenTo(this.collection,"error",function(){this.trigger("state:active")})},onRender:function(){h.prototype.onRender.apply(this,arguments);var a=this,b=d.extend({},this.generalDatepickerOptions);this.ui.$targetDateDatepicker.datetimepicker(b),this.ui.$actualDateDatepicker.datetimepicker(b),this.ui.$remediationStatusSelect.selectize({openOnFocus:!1,highlight:!1}),this.ui.$remediationStatusSelect.on("change",function(){a.cleanFieldErrors()})},getSelectedItems:function(){return f.reqres.request("hub:vulnerability:selected:items")},ok:function(){if(!this.ui.$remediationStatusSelect.val())return void this.renderError("remediationStatus",g.get("app.modules.common.validation.required"));this.collection.reset(null);var a=this;this.collectionData.validItems.each(function(b){a.setModel(a.collection,b)}),this.trigger("state:waiting"),this.collection.saveAll().success(function(){f.vent.trigger("vulnerabilities:remediation:updated"),h.prototype.ok.apply(a)})},setModel:function(a,b){var c=this.options.extraData.mainModel.clone();c.set("producerChannelReleaseId",b.get("remediation").producerChannelReleaseId);var e=b.get("producerProject"),f=b.get("producerRelease"),g=e.id;d.isUndefined(f)||(g=f.id),this.isValidValue(g)&&c.set("producerReleaseId",g);var h=b.get("project"),i=b.get("release"),j=h.id;d.isUndefined(i)||(j=i.id),this.isValidValue(j)&&c.set("consumerReleaseId",j);var k=this.ui.$commentEditTextarea.val();this.isValidValue(k)&&c.set("comment",k);var l=this.ui.$remediationStatusSelect.val();this.isValidValue(l)&&c.set("remediationStatus",l);var m=this.ui.$targetDateDatepicker.data("DateTimePicker").date();null!==m?c.set("targetAt",m.valueOf()):c.unset("targetAt");var n=this.ui.$actualDateDatepicker.data("DateTimePicker").date();null!==n?c.set("actualAt",n.valueOf()):c.unset("actualAt");var o=c.get("id");c.set("vulnerabilityIdPlaceholder",o),c.unset("id"),a.add(c.toJSON())},isValidValue:function(a){return"number"==typeof a&&null!=a||!d.isUndefined(a)&&!d.isEmpty(a)},redirect:function(){return!1},onDestroy:function(){this.ui.$actualDateDatepicker.data("DateTimePicker").destroy(),this.ui.$targetDateDatepicker.data("DateTimePicker").destroy()}})});define("modules/vulnerabilities/main",["require","exports","module","underscore","modules/i18n/main","ironclad","modules/asset/module","modules/link-nav/registry","./models/vulnerability","./views/header","./views/overview","./views/references","./views/bulk-remediation"],function(a,b,c){var d=a("underscore"),e=a("modules/i18n/main"),f=a("ironclad"),g=f.MessageBus,h=a("modules/asset/module"),i=a("modules/link-nav/registry"),j=a("./models/vulnerability"),k=a("./views/header"),l=a("./views/overview"),m=a("./views/references"),n=a("./views/bulk-remediation"),o=new j;g.commands.setHandler("assets:vulnerabilities:data",function(a,b){o.clear({silent:!0}),o.set({id:a.id}),d.extend(f.templateHelpers,{currentVulnerability:o}),o.fetch().success(function(){var c=d.extend({vulnerability:o},a);b.set(c),b.trigger("loaded"),g.commands.execute("recent-item:add",o.get("id"),o.get("id"),"vulnerabilities/id:"+o.get("id"),{icon:"fa fa-bug"})}).error(function(c){if(0!==c.status){var f=c.responseJSON.errorMessage;"{core.rest.no_data_found}"===c.responseJSON.errorCode&&(f=e.get("app.modules.errors.no.data.found"));var g=d.extend(a,{view:"error",error:c,errorMessage:f});b.set(g),b.trigger("loaded")}})}),g.reqres.setHandler("vulnerabilities:views:content:overview",function(){return l}),g.reqres.setHandler("vulnerabilities:views:content:references",function(){return m}),g.reqres.setHandler("vulnerabilities:views:header",function(){return k}),g.reqres.setHandler("vulnerabilities:views:modals:bulk-remediation",function(){return n}),g.reqres.setHandler("vulnerabilities:views:modals:bulk-remediation:data",function(){return{mainModel:o}}),i.addMenuItem("vulnerabilities:localnav","#vulnerabilities-menu-link-overview",{},1),i.addMenuItem("vulnerabilities:localnav","#vulnerabilities-menu-link-references",{},10),c.exports=new h({name:"vulnerabilities",defaultParams:{view:"overview"}})})}();